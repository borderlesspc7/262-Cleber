function MC(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function VC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bg={exports:{}},vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function LC(){if(OE)return vu;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var m in i)m!=="key"&&(l[m]=i[m])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return vu.Fragment=e,vu.jsx=n,vu.jsxs=n,vu}var PE;function UC(){return PE||(PE=1,Bg.exports=LC()),Bg.exports}var d=UC(),qg={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function zC(){if(ME)return Ve;ME=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function O(V,J,me){this.props=V,this.context=J,this.refs=C,this.updater=me||S}O.prototype.isReactComponent={},O.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=O.prototype;function F(V,J,me){this.props=V,this.context=J,this.refs=C,this.updater=me||S}var X=F.prototype=new z;X.constructor=F,A(X,O.prototype),X.isPureReactComponent=!0;var re=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function D(V,J,me,pe,be,le){return me=le.ref,{$$typeof:t,type:V,key:J,ref:me!==void 0?me:null,props:le}}function R(V,J){return D(V.type,J,void 0,void 0,void 0,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return J[me]})}var k=/\/+/g;function b(V,J){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):J.toString(36)}function N(){}function te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function fe(V,J,me,pe,be){var le=typeof V;(le==="undefined"||le==="boolean")&&(V=null);var ie=!1;if(V===null)ie=!0;else switch(le){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(V.$$typeof){case t:case e:ie=!0;break;case v:return ie=V._init,fe(ie(V._payload),J,me,pe,be)}}if(ie)return be=be(V),ie=pe===""?"."+b(V,0):pe,re(be)?(me="",ie!=null&&(me=ie.replace(k,"$&/")+"/"),fe(be,J,me,"",function(Ue){return Ue})):be!=null&&(M(be)&&(be=R(be,me+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(k,"$&/")+"/")+ie)),J.push(be)),1;ie=0;var _e=pe===""?".":pe+":";if(re(V))for(var Ae=0;Ae<V.length;Ae++)pe=V[Ae],le=_e+b(pe,Ae),ie+=fe(pe,J,me,le,be);else if(Ae=w(V),typeof Ae=="function")for(V=Ae.call(V),Ae=0;!(pe=V.next()).done;)pe=pe.value,le=_e+b(pe,Ae++),ie+=fe(pe,J,me,le,be);else if(le==="object"){if(typeof V.then=="function")return fe(te(V),J,me,pe,be);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ie}function $(V,J,me){if(V==null)return V;var pe=[],be=0;return fe(V,pe,"","",function(le){return J.call(me,le,be++)}),pe}function G(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var se=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ye(){}return Ve.Children={map:$,forEach:function(V,J,me){$(V,function(){J.apply(this,arguments)},me)},count:function(V){var J=0;return $(V,function(){J++}),J},toArray:function(V){return $(V,function(J){return J})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=O,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=F,Ve.StrictMode=a,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return q.H.useMemoCache(V)}},Ve.cache=function(V){return function(){return V.apply(null,arguments)}},Ve.cloneElement=function(V,J,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=A({},V.props),be=V.key,le=void 0;if(J!=null)for(ie in J.ref!==void 0&&(le=void 0),J.key!==void 0&&(be=""+J.key),J)!Z.call(J,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&J.ref===void 0||(pe[ie]=J[ie]);var ie=arguments.length-2;if(ie===1)pe.children=me;else if(1<ie){for(var _e=Array(ie),Ae=0;Ae<ie;Ae++)_e[Ae]=arguments[Ae+2];pe.children=_e}return D(V.type,be,void 0,void 0,le,pe)},Ve.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ve.createElement=function(V,J,me){var pe,be={},le=null;if(J!=null)for(pe in J.key!==void 0&&(le=""+J.key),J)Z.call(J,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(be[pe]=J[pe]);var ie=arguments.length-2;if(ie===1)be.children=me;else if(1<ie){for(var _e=Array(ie),Ae=0;Ae<ie;Ae++)_e[Ae]=arguments[Ae+2];be.children=_e}if(V&&V.defaultProps)for(pe in ie=V.defaultProps,ie)be[pe]===void 0&&(be[pe]=ie[pe]);return D(V,le,void 0,void 0,null,be)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:m,render:V}},Ve.isValidElement=M,Ve.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:G}},Ve.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},Ve.startTransition=function(V){var J=q.T,me={};q.T=me;try{var pe=V(),be=q.S;be!==null&&be(me,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(ye,se)}catch(le){se(le)}finally{q.T=J}},Ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ve.use=function(V){return q.H.use(V)},Ve.useActionState=function(V,J,me){return q.H.useActionState(V,J,me)},Ve.useCallback=function(V,J){return q.H.useCallback(V,J)},Ve.useContext=function(V){return q.H.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V,J){return q.H.useDeferredValue(V,J)},Ve.useEffect=function(V,J,me){var pe=q.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(V,J)},Ve.useId=function(){return q.H.useId()},Ve.useImperativeHandle=function(V,J,me){return q.H.useImperativeHandle(V,J,me)},Ve.useInsertionEffect=function(V,J){return q.H.useInsertionEffect(V,J)},Ve.useLayoutEffect=function(V,J){return q.H.useLayoutEffect(V,J)},Ve.useMemo=function(V,J){return q.H.useMemo(V,J)},Ve.useOptimistic=function(V,J){return q.H.useOptimistic(V,J)},Ve.useReducer=function(V,J,me){return q.H.useReducer(V,J,me)},Ve.useRef=function(V){return q.H.useRef(V)},Ve.useState=function(V){return q.H.useState(V)},Ve.useSyncExternalStore=function(V,J,me){return q.H.useSyncExternalStore(V,J,me)},Ve.useTransition=function(){return q.H.useTransition()},Ve.version="19.1.1",Ve}var VE;function nv(){return VE||(VE=1,qg.exports=zC()),qg.exports}var j=nv();const Pu=VC(j),LE=MC({__proto__:null,default:Pu},[j]);var Fg={exports:{}},_u={},$g={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function BC(){return UE||(UE=1,(function(t){function e($,G){var se=$.length;$.push(G);e:for(;0<se;){var ye=se-1>>>1,V=$[ye];if(0<i(V,G))$[ye]=G,$[se]=V,se=ye;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var G=$[0],se=$.pop();if(se!==G){$[0]=se;e:for(var ye=0,V=$.length,J=V>>>1;ye<J;){var me=2*(ye+1)-1,pe=$[me],be=me+1,le=$[be];if(0>i(pe,se))be<V&&0>i(le,pe)?($[ye]=le,$[be]=se,ye=be):($[ye]=pe,$[me]=se,ye=me);else if(be<V&&0>i(le,se))$[ye]=le,$[be]=se,ye=be;else break e}}return G}function i($,G){var se=$.sortIndex-G.sortIndex;return se!==0?se:$.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var p=[],g=[],v=1,E=null,w=3,S=!1,A=!1,C=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function re($){for(var G=n(g);G!==null;){if(G.callback===null)a(g);else if(G.startTime<=$)a(g),G.sortIndex=G.expirationTime,e(p,G);else break;G=n(g)}}function q($){if(C=!1,re($),!A)if(n(p)!==null)A=!0,Z||(Z=!0,b());else{var G=n(g);G!==null&&fe(q,G.startTime-$)}}var Z=!1,D=-1,R=5,M=-1;function L(){return O?!0:!(t.unstable_now()-M<R)}function k(){if(O=!1,Z){var $=t.unstable_now();M=$;var G=!0;try{e:{A=!1,C&&(C=!1,F(D),D=-1),S=!0;var se=w;try{t:{for(re($),E=n(p);E!==null&&!(E.expirationTime>$&&L());){var ye=E.callback;if(typeof ye=="function"){E.callback=null,w=E.priorityLevel;var V=ye(E.expirationTime<=$);if($=t.unstable_now(),typeof V=="function"){E.callback=V,re($),G=!0;break t}E===n(p)&&a(p),re($)}else a(p);E=n(p)}if(E!==null)G=!0;else{var J=n(g);J!==null&&fe(q,J.startTime-$),G=!1}}break e}finally{E=null,w=se,S=!1}G=void 0}}finally{G?b():Z=!1}}}var b;if(typeof X=="function")b=function(){X(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,te=N.port2;N.port1.onmessage=k,b=function(){te.postMessage(null)}}else b=function(){z(k,0)};function fe($,G){D=z(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function($){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var se=w;w=G;try{return $()}finally{w=se}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=w;w=$;try{return G()}finally{w=se}},t.unstable_scheduleCallback=function($,G,se){var ye=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ye+se:ye):se=ye,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=se+V,$={id:v++,callback:G,priorityLevel:$,startTime:se,expirationTime:V,sortIndex:-1},se>ye?($.sortIndex=se,e(g,$),n(p)===null&&$===n(g)&&(C?(F(D),D=-1):C=!0,fe(q,se-ye))):($.sortIndex=V,e(p,$),A||S||(A=!0,Z||(Z=!0,b()))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var G=w;return function(){var se=w;w=G;try{return $.apply(this,arguments)}finally{w=se}}}})(Hg)),Hg}var zE;function qC(){return zE||(zE=1,$g.exports=BC()),$g.exports}var Gg={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function FC(){if(BE)return Cn;BE=1;var t=nv();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Cn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Cn.flushSync=function(p){var g=u.T,v=a.p;try{if(u.T=null,a.p=2,p)return p()}finally{u.T=g,a.p=v,a.d.f()}},Cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Cn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:S}):v==="script"&&a.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Cn.requestFormReset=function(p){a.d.r(p)},Cn.unstable_batchedUpdates=function(p,g){return p(g)},Cn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.1.1",Cn}var qE;function $C(){if(qE)return Gg.exports;qE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gg.exports=FC(),Gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function HC(){if(FE)return _u;FE=1;var t=qC(),e=nv(),n=$C();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(a(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),r;if(y===c)return m(f),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=y;else{for(var x=!1,I=f.child;I;){if(I===o){x=!0,o=f,c=y;break}if(I===c){x=!0,c=f,o=y;break}I=I.sibling}if(!x){for(I=y.child;I;){if(I===o){x=!0,o=y,c=f;break}if(I===c){x=!0,c=y,o=f;break}I=I.sibling}if(!x)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function b(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case X:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:te(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return te(r(s))}catch{}}return null}var fe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ye=[],V=-1;function J(r){return{current:r}}function me(r){0>V||(r.current=ye[V],ye[V]=null,V--)}function pe(r,s){V++,ye[V]=r.current,r.current=s}var be=J(null),le=J(null),ie=J(null),_e=J(null);function Ae(r,s){switch(pe(ie,s),pe(le,r),pe(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?lE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=lE(s),r=cE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(be),pe(be,r)}function Ue(){me(be),me(le),me(ie)}function rn(r){r.memoizedState!==null&&pe(_e,r);var s=be.current,o=cE(s,r.type);s!==o&&(pe(le,r),pe(be,o))}function xe(r){le.current===r&&(me(be),me(le)),_e.current===r&&(me(_e),fu._currentValue=se)}var ze=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,an=t.unstable_shouldYield,dr=t.unstable_requestPaint,gt=t.unstable_now,Ca=t.unstable_getCurrentPriorityLevel,Rt=t.unstable_ImmediatePriority,Lt=t.unstable_UserBlockingPriority,Ir=t.unstable_NormalPriority,mc=t.unstable_LowPriority,Ni=t.unstable_IdlePriority,$m=t.log,Ri=t.unstable_setDisableYieldValue,ms=null,xn=null;function hr(r){if(typeof $m=="function"&&Ri(r),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(ms,r)}catch{}}var On=Math.clz32?Math.clz32:Nd,Hm=Math.log,Cd=Math.LN2;function Nd(r){return r>>>=0,r===0?32:31-(Hm(r)/Cd|0)|0}var Yr=256,ps=4194304;function Dr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,y=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var I=c&134217727;return I!==0?(c=I&~y,c!==0?f=Dr(c):(x&=I,x!==0?f=Dr(x):o||(o=I&~r,o!==0&&(f=Dr(o))))):(I=c&~y,I!==0?f=Dr(I):x!==0?f=Dr(x):o||(o=c&~r,o!==0&&(f=Dr(o)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:f}function gs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Vo(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var r=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),r}function ys(){var r=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),r}function Lo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ut(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Rd(r,s,o,c,f,y){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(o=x&~o;0<o;){var oe=31-On(o),de=1<<oe;I[oe]=0,U[oe]=-1;var W=Q[oe];if(W!==null)for(Q[oe]=null,oe=0;oe<W.length;oe++){var ee=W[oe];ee!==null&&(ee.lane&=-536870913)}o&=~de}c!==0&&vs(r,c,0),y!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=y&~(x&~s))}function vs(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-On(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function _s(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-On(o),f=1<<c;f&s|r[c]&s&&(r[c]|=s),o&=~f}}function gc(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function yc(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Na(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:NE(r.type))}function Gm(r,s){var o=G.p;try{return G.p=r,s()}finally{G.p=o}}var Qr=Math.random().toString(36).slice(2),zt="__reactFiber$"+Qr,gn="__reactProps$"+Qr,Ra="__reactContainer$"+Qr,Ii="__reactEvents$"+Qr,Di="__reactListeners$"+Qr,Km="__reactHandles$"+Qr,jr="__reactResources$"+Qr,Es="__reactMarker$"+Qr;function Uo(r){delete r[zt],delete r[gn],delete r[Ii],delete r[Di],delete r[Km]}function Xr(r){var s=r[zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ra]||o[zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=fE(r);r!==null;){if(o=r[zt])return o;r=fE(r)}return s}r=o,o=r.parentNode}return null}function Wr(r){if(r=r[zt]||r[Ra]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function bs(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Ts(r){var s=r[jr];return s||(s=r[jr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(r){r[Es]=!0}var Id=new Set,ji={};function Zr(r,s){Jr(r,s),Jr(r+"Capture",s)}function Jr(r,s){for(ji[r]=s,r=0;r<s.length;r++)Id.add(s[r])}var ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},zo={};function Ym(r){return ze.call(zo,r)?!0:ze.call(ea,r)?!1:ki.test(r)?zo[r]=!0:(ea[r]=!0,!1)}function Oi(r,s,o){if(Ym(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Pi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function mr(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Mi,Bo;function Ia(r){if(Mi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Mi=s&&s[1]||"",Bo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+r+Bo}var qo=!1;function Fo(r,s){if(!r||qo)return"";qo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ee){var W=ee}Reflect.construct(r,[],de)}else{try{de.call()}catch(ee){W=ee}r.call(de.prototype)}}else{try{throw Error()}catch(ee){W=ee}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),x=y[0],I=y[1];if(x&&I){var U=x.split(`
`),Q=I.split(`
`);for(f=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(c===U.length||f===Q.length)for(c=U.length-1,f=Q.length-1;1<=c&&0<=f&&U[c]!==Q[f];)f--;for(;1<=c&&0<=f;c--,f--)if(U[c]!==Q[f]){if(c!==1||f!==1)do if(c--,f--,0>f||U[c]!==Q[f]){var oe=`
`+U[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ia(o):""}function Qm(r){switch(r.tag){case 26:case 27:case 5:return Ia(r.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Fo(r.type,!1);case 11:return Fo(r.type.render,!1);case 1:return Fo(r.type,!0);case 31:return Ia("Activity");default:return""}}function kr(r){try{var s="";do s+=Qm(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function At(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ws(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vi(r){var s=ws(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xs(r){r._valueTracker||(r._valueTracker=Vi(r))}function dt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=ws(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Li=/[\n"\\]/g;function dn(r){return r.replace(Li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vc(r,s,o,c,f,y,x,I){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+At(s)):r.value!==""+At(s)&&(r.value=""+At(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?Ec(r,x,At(s)):o!=null?Ec(r,x,At(o)):c!=null&&r.removeAttribute("value"),f==null&&y!=null&&(r.defaultChecked=!!y),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+At(I):r.removeAttribute("name")}function _c(r,s,o,c,f,y,x,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+At(o):"",s=s!=null?""+At(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=I?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function Ec(r,s,o){s==="number"&&Da(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ss(r,s,o,c){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+At(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Dd(r,s,o){if(s!=null&&(s=""+At(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+At(o):""}function jd(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(fe(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=At(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function pr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ja=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||ja.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Tc(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&bc(r,f,c)}else for(var y in s)s.hasOwnProperty(y)&&bc(r,y,s[y])}function $o(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(r){return Od.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var wc=null;function xc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var As=null,Pn=null;function Pd(r){var s=Wr(r);if(s&&(r=s.stateNode)){var o=r[gn]||null;e:switch(r=s.stateNode,s.type){case"input":if(vc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var f=c[gn]||null;if(!f)throw Error(a(90));vc(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&dt(c)}break e;case"textarea":Dd(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ss(r,!!o.multiple,s,!1)}}}var Ui=!1;function zi(r,s,o){if(Ui)return r(s,o);Ui=!0;try{var c=r(s);return c}finally{if(Ui=!1,(As!==null||Pn!==null)&&(xh(),As&&(s=As,r=Pn,Pn=As=null,Pd(s),r)))for(s=0;s<r.length;s++)Pd(r[s])}}function Cs(r,s){var o=r.stateNode;if(o===null)return null;var c=o[gn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(Mn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{ka=!1}var gr=null,vt=null,Ho=null;function Md(){if(Ho)return Ho;var r,s=vt,o=s.length,c,f="value"in gr?gr.value:gr.textContent,y=f.length;for(r=0;r<o&&s[r]===f[r];r++);var x=o-r;for(c=1;c<=x&&s[o-c]===f[y-c];c++);return Ho=f.slice(r,1<c?1-c:void 0)}function Bi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function qi(){return!0}function Sc(){return!1}function sn(r){function s(o,c,f,y,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qi:Sc,this.isPropagationStopped=Sc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),s}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=sn(Sn),$i=v({},Sn,{view:0,detail:0}),Hi=sn($i),Go,Gi,ta,Ki=v({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ta&&(ta&&r.type==="mousemove"?(Go=r.screenX-ta.screenX,Gi=r.screenY-ta.screenY):Gi=Go=0,ta=r),Go)},movementY:function(r){return"movementY"in r?r.movementY:Gi}}),Yi=sn(Ki),Xm=v({},Ki,{dataTransfer:0}),Vd=sn(Xm),Qi=v({},$i,{relatedTarget:0}),Ko=sn(Qi),Ld=v({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ac=sn(Ld),Cc=v({},Sn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ud=sn(Cc),Yo=v({},Sn,{data:0}),Nc=sn(Yo),zd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qd(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Bd[r])?!!s[r]:!1}function Qo(){return qd}var Fd=v({},$i,{key:function(r){if(r.key){var s=zd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Bi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Oa[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(r){return r.type==="keypress"?Bi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xo=sn(Fd),Vn=v({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=sn(Vn),$d=v({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Rs=sn($d),h=v({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=sn(h),T=v({},Ki,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),P=sn(T),Y=v({},Sn,{newState:0,oldState:0}),ne=sn(Y),ge=[9,13,27,32],Pe=Mn&&"CompositionEvent"in window,bt=null;Mn&&"documentMode"in document&&(bt=document.documentMode);var it=Mn&&"TextEvent"in window&&!bt,qt=Mn&&(!Pe||bt&&8<bt&&11>=bt),Yn=" ",na=!1;function Pr(r,s){switch(r){case"keyup":return ge.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vr=!1;function Ic(r,s){switch(r){case"compositionend":return Mr(s);case"keypress":return s.which!==32?null:(na=!0,Yn);case"textInput":return r=s.data,r===Yn&&na?null:r;default:return null}}function c2(r,s){if(Vr)return r==="compositionend"||!Pe&&Pr(r,s)?(r=Md(),Ho=vt=gr=null,Vr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qt&&s.locale!=="ko"?null:s.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!u2[r.type]:s==="textarea"}function w0(r,s,o,c){As?Pn?Pn.push(c):Pn=[c]:As=c,s=Ih(s,"onChange"),0<s.length&&(o=new Fi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Dc=null,jc=null;function d2(r){rE(r,0)}function Hd(r){var s=bs(r);if(dt(s))return r}function x0(r,s){if(r==="change")return s}var S0=!1;if(Mn){var Wm;if(Mn){var Zm="oninput"in document;if(!Zm){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),Zm=typeof A0.oninput=="function"}Wm=Zm}else Wm=!1;S0=Wm&&(!document.documentMode||9<document.documentMode)}function C0(){Dc&&(Dc.detachEvent("onpropertychange",N0),jc=Dc=null)}function N0(r){if(r.propertyName==="value"&&Hd(jc)){var s=[];w0(s,jc,r,xc(r)),zi(d2,s)}}function h2(r,s,o){r==="focusin"?(C0(),Dc=s,jc=o,Dc.attachEvent("onpropertychange",N0)):r==="focusout"&&C0()}function f2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hd(jc)}function m2(r,s){if(r==="click")return Hd(s)}function p2(r,s){if(r==="input"||r==="change")return Hd(s)}function g2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qn=typeof Object.is=="function"?Object.is:g2;function kc(r,s){if(Qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!ze.call(s,f)||!Qn(r[f],s[f]))return!1}return!0}function R0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function I0(r,s){var o=R0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=R0(o)}}function D0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?D0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function j0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Da(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Da(r.document)}return s}function Jm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var y2=Mn&&"documentMode"in document&&11>=document.documentMode,Wo=null,ep=null,Oc=null,tp=!1;function k0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tp||Wo==null||Wo!==Da(c)||(c=Wo,"selectionStart"in c&&Jm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oc&&kc(Oc,c)||(Oc=c,c=Ih(ep,"onSelect"),0<c.length&&(s=new Fi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Wo)))}function Xi(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Zo={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},np={},O0={};Mn&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Wi(r){if(np[r])return np[r];if(!Zo[r])return r;var s=Zo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in O0)return np[r]=s[o];return r}var P0=Wi("animationend"),M0=Wi("animationiteration"),V0=Wi("animationstart"),v2=Wi("transitionrun"),_2=Wi("transitionstart"),E2=Wi("transitioncancel"),L0=Wi("transitionend"),U0=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function Lr(r,s){U0.set(r,s),Zr(s,[r])}var z0=new WeakMap;function yr(r,s){if(typeof r=="object"&&r!==null){var o=z0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:kr(s)},z0.set(r,s),s)}return{value:r,source:s,stack:kr(s)}}var vr=[],Jo=0,ap=0;function Gd(){for(var r=Jo,s=ap=Jo=0;s<r;){var o=vr[s];vr[s++]=null;var c=vr[s];vr[s++]=null;var f=vr[s];vr[s++]=null;var y=vr[s];if(vr[s++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}y!==0&&B0(o,f,y)}}function Kd(r,s,o,c){vr[Jo++]=r,vr[Jo++]=s,vr[Jo++]=o,vr[Jo++]=c,ap|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function sp(r,s,o,c){return Kd(r,s,o,c),Yd(r)}function el(r,s){return Kd(r,null,null,s),Yd(r)}function B0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(f=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,f&&s!==null&&(f=31-On(o),r=y.hiddenUpdates,c=r[f],c===null?r[f]=[s]:c.push(s),s.lane=o|536870912),y):null}function Yd(r){if(50<su)throw su=0,dg=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var tl={};function b2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,s,o,c){return new b2(r,s,o,c)}function ip(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pa(r,s){var o=r.alternate;return o===null?(o=Xn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function q0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Qd(r,s,o,c,f,y){var x=0;if(c=r,typeof r=="function")ip(r)&&(x=1);else if(typeof r=="string")x=wC(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Xn(31,o,s,f),r.elementType=M,r.lanes=y,r;case A:return Zi(o.children,f,y,s);case C:x=8,f|=24;break;case O:return r=Xn(12,o,s,f|2),r.elementType=O,r.lanes=y,r;case q:return r=Xn(13,o,s,f),r.elementType=q,r.lanes=y,r;case Z:return r=Xn(19,o,s,f),r.elementType=Z,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:case X:x=10;break e;case F:x=9;break e;case re:x=11;break e;case D:x=14;break e;case R:x=16,c=null;break e}x=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Xn(x,o,s,f),s.elementType=r,s.type=c,s.lanes=y,s}function Zi(r,s,o,c){return r=Xn(7,r,c,s),r.lanes=o,r}function op(r,s,o){return r=Xn(6,r,null,s),r.lanes=o,r}function lp(r,s,o){return s=Xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var nl=[],rl=0,Xd=null,Wd=0,_r=[],Er=0,Ji=null,Ma=1,Va="";function eo(r,s){nl[rl++]=Wd,nl[rl++]=Xd,Xd=r,Wd=s}function F0(r,s,o){_r[Er++]=Ma,_r[Er++]=Va,_r[Er++]=Ji,Ji=r;var c=Ma;r=Va;var f=32-On(c)-1;c&=~(1<<f),o+=1;var y=32-On(s)+f;if(30<y){var x=f-f%5;y=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Ma=1<<32-On(s)+f|o<<f|c,Va=y+r}else Ma=1<<y|o<<f|c,Va=r}function cp(r){r.return!==null&&(eo(r,1),F0(r,1,0))}function up(r){for(;r===Xd;)Xd=nl[--rl],nl[rl]=null,Wd=nl[--rl],nl[rl]=null;for(;r===Ji;)Ji=_r[--Er],_r[Er]=null,Va=_r[--Er],_r[Er]=null,Ma=_r[--Er],_r[Er]=null}var Ln=null,It=null,nt=!1,to=null,ra=!1,dp=Error(a(519));function no(r){var s=Error(a(418,""));throw Vc(yr(s,r)),dp}function $0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[zt]=r,s[gn]=c,o){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(o=0;o<ou.length;o++)Fe(ou[o],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),_c(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),xs(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),jd(s,c.value,c.defaultValue,c.children),xs(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||oE(s.textContent,o)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=Dh),s=!0):s=!1,s||no(r)}function H0(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:Ln=Ln.return}}function Pc(r){if(r!==Ln)return!1;if(!nt)return H0(r),nt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Cg(r.type,r.memoizedProps)),o=!o),o&&It&&no(r),H0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){It=zr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}It=null}}else s===27?(s=It,Hs(r.type)?(r=Dg,Dg=null,It=r):It=s):It=Ln?zr(r.stateNode.nextSibling):null;return!0}function Mc(){It=Ln=null,nt=!1}function G0(){var r=to;return r!==null&&(Fn===null?Fn=r:Fn.push.apply(Fn,r),to=null),r}function Vc(r){to===null?to=[r]:to.push(r)}var hp=J(null),ro=null,La=null;function Is(r,s,o){pe(hp,s._currentValue),s._currentValue=o}function Ua(r){r._currentValue=hp.current,me(hp)}function fp(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function mp(r,s,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){var x=f.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=f;for(var U=0;U<s.length;U++)if(I.context===s[U]){y.lanes|=o,I=y.alternate,I!==null&&(I.lanes|=o),fp(y.return,o,r),c||(x=null);break e}y=I.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),fp(x,o,r),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===r){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Lc(r,s,o,c){r=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var I=f.type;Qn(f.pendingProps.value,x.value)||(r!==null?r.push(I):r=[I])}}else if(f===_e.current){if(x=f.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(fu):r=[fu])}f=f.return}r!==null&&mp(s,r,o,c),s.flags|=262144}function Zd(r){for(r=r.firstContext;r!==null;){if(!Qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ao(r){ro=r,La=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function An(r){return K0(ro,r)}function Jd(r,s){return ro===null&&ao(r),K0(r,s)}function K0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},La===null){if(r===null)throw Error(a(308));La=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else La=La.next=s;return o}var T2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},w2=t.unstable_scheduleCallback,x2=t.unstable_NormalPriority,on={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new T2,data:new Map,refCount:0}}function Uc(r){r.refCount--,r.refCount===0&&w2(x2,function(){r.controller.abort()})}var zc=null,gp=0,al=0,sl=null;function S2(r,s){if(zc===null){var o=zc=[];gp=0,al=vg(),sl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gp++,s.then(Y0,Y0),s}function Y0(){if(--gp===0&&zc!==null){sl!==null&&(sl.status="fulfilled");var r=zc;zc=null,al=0,sl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function A2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Q0=$.S;$.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&S2(r,s),Q0!==null&&Q0(r,s)};var so=J(null);function yp(){var r=so.current;return r!==null?r:_t.pooledCache}function eh(r,s){s===null?pe(so,so.current):pe(so,s.pool)}function X0(){var r=yp();return r===null?null:{parent:on._currentValue,pool:r}}var Bc=Error(a(460)),W0=Error(a(474)),th=Error(a(542)),vp={then:function(){}};function Z0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function nh(){}function J0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(nh,nh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,t_(r),r;default:if(typeof s.status=="string")s.then(nh,nh);else{if(r=_t,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,t_(r),r}throw qc=s,Bc}}var qc=null;function e_(){if(qc===null)throw Error(a(459));var r=qc;return qc=null,r}function t_(r){if(r===Bc||r===th)throw Error(a(483))}var Ds=!1;function _p(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function js(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ks(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Yd(r),B0(r,null,o),s}return Kd(r,c,s,o),Yd(r)}function Fc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,_s(r,o)}}function bp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?f=y=s:y=y.next=s}else f=y=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Tp=!1;function $c(){if(Tp){var r=sl;if(r!==null)throw r}}function Hc(r,s,o,c){Tp=!1;var f=r.updateQueue;Ds=!1;var y=f.firstBaseUpdate,x=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var U=I,Q=U.next;U.next=null,x===null?y=Q:x.next=Q,x=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==x&&(I===null?oe.firstBaseUpdate=Q:I.next=Q,oe.lastBaseUpdate=U))}if(y!==null){var de=f.baseState;x=0,oe=Q=U=null,I=y;do{var W=I.lane&-536870913,ee=W!==I.lane;if(ee?(We&W)===W:(c&W)===W){W!==0&&W===al&&(Tp=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ke=r,Re=I;W=s;var mt=o;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){de=ke.call(mt,de,W);break e}de=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,W=typeof ke=="function"?ke.call(mt,de,W):ke,W==null)break e;de=v({},de,W);break e;case 2:Ds=!0}}W=I.callback,W!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(Q=oe=ee,U=de):oe=oe.next=ee,x|=W;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;ee=I,I=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);oe===null&&(U=de),f.baseState=U,f.firstBaseUpdate=Q,f.lastBaseUpdate=oe,y===null&&(f.shared.lanes=0),Bs|=x,r.lanes=x,r.memoizedState=de}}function n_(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function r_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)n_(o[r],s)}var il=J(null),rh=J(0);function a_(r,s){r=Ga,pe(rh,r),pe(il,s),Ga=r|s.baseLanes}function wp(){pe(rh,Ga),pe(il,il.current)}function xp(){Ga=rh.current,me(il),me(rh)}var Os=0,Le=null,ht=null,Qt=null,ah=!1,ol=!1,io=!1,sh=0,Gc=0,ll=null,C2=0;function Ft(){throw Error(a(321))}function Sp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Qn(r[o],s[o]))return!1;return!0}function Ap(r,s,o,c,f,y){return Os=y,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?B_:q_,io=!1,y=o(c,f),io=!1,ol&&(y=i_(s,o,c,f)),s_(r),y}function s_(r){$.H=dh;var s=ht!==null&&ht.next!==null;if(Os=0,Qt=ht=Le=null,ah=!1,Gc=0,ll=null,s)throw Error(a(300));r===null||hn||(r=r.dependencies,r!==null&&Zd(r)&&(hn=!0))}function i_(r,s,o,c){Le=r;var f=0;do{if(ol&&(ll=null),Gc=0,ol=!1,25<=f)throw Error(a(301));if(f+=1,Qt=ht=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=O2,y=s(o,c)}while(ol);return y}function N2(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?Kc(s):s,r=r.useState()[0],(ht!==null?ht.memoizedState:null)!==r&&(Le.flags|=1024),s}function Cp(){var r=sh!==0;return sh=0,r}function Np(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Rp(r){if(ah){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ah=!1}Os=0,Qt=ht=Le=null,ol=!1,Gc=sh=0,ll=null}function Bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Le.memoizedState=Qt=r:Qt=Qt.next=r,Qt}function Xt(){if(ht===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ht.next;var s=Qt===null?Le.memoizedState:Qt.next;if(s!==null)Qt=s,ht=r;else{if(r===null)throw Le.alternate===null?Error(a(467)):Error(a(310));ht=r,r={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Qt===null?Le.memoizedState=Qt=r:Qt=Qt.next=r}return Qt}function Ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(r){var s=Gc;return Gc+=1,ll===null&&(ll=[]),r=J0(ll,r,s),s=Le,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?B_:q_),r}function ih(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Kc(r);if(r.$$typeof===X)return An(r)}throw Error(a(438,String(r)))}function Dp(r){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ip(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function za(r,s){return typeof s=="function"?s(r):s}function oh(r){var s=Xt();return jp(s,ht,r)}function jp(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=r.baseQueue,y=c.pending;if(y!==null){if(f!==null){var x=f.next;f.next=y.next,y.next=x}s.baseQueue=f=y,c.pending=null}if(y=r.baseState,f===null)r.memoizedState=y;else{s=f.next;var I=x=null,U=null,Q=s,oe=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(We&de)===de:(Os&de)===de){var W=Q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===al&&(oe=!0);else if((Os&W)===W){Q=Q.next,W===al&&(oe=!0);continue}else de={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(I=U=de,x=y):U=U.next=de,Le.lanes|=W,Bs|=W;de=Q.action,io&&o(y,de),y=Q.hasEagerState?Q.eagerState:o(y,de)}else W={lane:de,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(I=U=W,x=y):U=U.next=W,Le.lanes|=de,Bs|=de;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?x=y:U.next=I,!Qn(y,r.memoizedState)&&(hn=!0,oe&&(o=sl,o!==null)))throw o;r.memoizedState=y,r.baseState=x,r.baseQueue=U,c.lastRenderedState=y}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function kp(r){var s=Xt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,y=s.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do y=r(y,x.action),x=x.next;while(x!==f);Qn(y,s.memoizedState)||(hn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function o_(r,s,o){var c=Le,f=Xt(),y=nt;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var x=!Qn((ht||f).memoizedState,o);x&&(f.memoizedState=o,hn=!0),f=f.queue;var I=u_.bind(null,c,f,r);if(Yc(2048,8,I,[r]),f.getSnapshot!==s||x||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,cl(9,lh(),c_.bind(null,c,f,o,s),null),_t===null)throw Error(a(349));y||(Os&124)!==0||l_(c,s,o)}return o}function l_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=Ip(),Le.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function c_(r,s,o,c){s.value=o,s.getSnapshot=c,d_(s)&&h_(r)}function u_(r,s,o){return o(function(){d_(s)&&h_(r)})}function d_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Qn(r,o)}catch{return!0}}function h_(r){var s=el(r,2);s!==null&&tr(s,r,2)}function Op(r){var s=Bn();if(typeof r=="function"){var o=r;if(r=o(),io){hr(!0);try{o()}finally{hr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s}function f_(r,s,o,c){return r.baseState=o,jp(r,ht,typeof c=="function"?c:za)}function R2(r,s,o,c,f){if(uh(r))throw Error(a(485));if(r=s.action,r!==null){var y={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};$.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,m_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function m_(r,s){var o=s.action,c=s.payload,f=r.state;if(s.isTransition){var y=$.T,x={};$.T=x;try{var I=o(f,c),U=$.S;U!==null&&U(x,I),p_(r,s,I)}catch(Q){Pp(r,s,Q)}finally{$.T=y}}else try{y=o(f,c),p_(r,s,y)}catch(Q){Pp(r,s,Q)}}function p_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){g_(r,s,c)},function(c){return Pp(r,s,c)}):g_(r,s,o)}function g_(r,s,o){s.status="fulfilled",s.value=o,y_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,m_(r,o)))}function Pp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,y_(s),s=s.next;while(s!==c)}r.action=null}function y_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function v_(r,s){return s}function __(r,s){if(nt){var o=_t.formState;if(o!==null){e:{var c=Le;if(nt){if(It){t:{for(var f=It,y=ra;f.nodeType!==8;){if(!y){f=null;break t}if(f=zr(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){It=zr(f.nextSibling),c=f.data==="F!";break e}}no(c)}c=!1}c&&(s=o[0])}}return o=Bn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v_,lastRenderedState:s},o.queue=c,o=L_.bind(null,Le,c),c.dispatch=o,c=Op(!1),y=zp.bind(null,Le,!1,c.queue),c=Bn(),f={state:s,dispatch:null,action:r,pending:null},c.queue=f,o=R2.bind(null,Le,f,y,o),f.dispatch=o,c.memoizedState=r,[s,o,!1]}function E_(r){var s=Xt();return b_(s,ht,r)}function b_(r,s,o){if(s=jp(r,s,v_)[0],r=oh(za)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Kc(s)}catch(x){throw x===Bc?th:x}else c=s;s=Xt();var f=s.queue,y=f.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,cl(9,lh(),I2.bind(null,f,o),null)),[c,y,r]}function I2(r,s){r.action=s}function T_(r){var s=Xt(),o=ht;if(o!==null)return b_(s,o,r);Xt(),s=s.memoizedState,o=Xt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function cl(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Le.updateQueue,s===null&&(s=Ip(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function lh(){return{destroy:void 0,resource:void 0}}function w_(){return Xt().memoizedState}function ch(r,s,o,c){var f=Bn();c=c===void 0?null:c,Le.flags|=r,f.memoizedState=cl(1|s,lh(),o,c)}function Yc(r,s,o,c){var f=Xt();c=c===void 0?null:c;var y=f.memoizedState.inst;ht!==null&&c!==null&&Sp(c,ht.memoizedState.deps)?f.memoizedState=cl(s,y,o,c):(Le.flags|=r,f.memoizedState=cl(1|s,y,o,c))}function x_(r,s){ch(8390656,8,r,s)}function S_(r,s){Yc(2048,8,r,s)}function A_(r,s){return Yc(4,2,r,s)}function C_(r,s){return Yc(4,4,r,s)}function N_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function R_(r,s,o){o=o!=null?o.concat([r]):null,Yc(4,4,N_.bind(null,s,r),o)}function Mp(){}function I_(r,s){var o=Xt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Sp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function D_(r,s){var o=Xt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Sp(s,c[1]))return c[0];if(c=r(),io){hr(!0);try{r()}finally{hr(!1)}}return o.memoizedState=[c,s],c}function Vp(r,s,o){return o===void 0||(Os&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=O1(),Le.lanes|=r,Bs|=r,o)}function j_(r,s,o,c){return Qn(o,s)?o:il.current!==null?(r=Vp(r,o,c),Qn(r,s)||(hn=!0),r):(Os&42)===0?(hn=!0,r.memoizedState=o):(r=O1(),Le.lanes|=r,Bs|=r,s)}function k_(r,s,o,c,f){var y=G.p;G.p=y!==0&&8>y?y:8;var x=$.T,I={};$.T=I,zp(r,!1,s,o);try{var U=f(),Q=$.S;if(Q!==null&&Q(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=A2(U,c);Qc(r,s,oe,er(r))}else Qc(r,s,c,er(r))}catch(de){Qc(r,s,{then:function(){},status:"rejected",reason:de},er())}finally{G.p=y,$.T=x}}function D2(){}function Lp(r,s,o,c){if(r.tag!==5)throw Error(a(476));var f=O_(r).queue;k_(r,f,s,se,o===null?D2:function(){return P_(r),o(c)})}function O_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:se},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function P_(r){var s=O_(r).next.queue;Qc(r,s,{},er())}function Up(){return An(fu)}function M_(){return Xt().memoizedState}function V_(){return Xt().memoizedState}function j2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=er();r=js(o);var c=ks(s,r,o);c!==null&&(tr(c,s,o),Fc(c,s,o)),s={cache:pp()},r.payload=s;return}s=s.return}}function k2(r,s,o){var c=er();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},uh(r)?U_(s,o):(o=sp(r,s,o,c),o!==null&&(tr(o,r,c),z_(o,s,c)))}function L_(r,s,o){var c=er();Qc(r,s,o,c)}function Qc(r,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(uh(r))U_(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,I=y(x,o);if(f.hasEagerState=!0,f.eagerState=I,Qn(I,x))return Kd(r,s,f,0),_t===null&&Gd(),!1}catch{}finally{}if(o=sp(r,s,f,c),o!==null)return tr(o,r,c),z_(o,s,c),!0}return!1}function zp(r,s,o,c){if(c={lane:2,revertLane:vg(),action:c,hasEagerState:!1,eagerState:null,next:null},uh(r)){if(s)throw Error(a(479))}else s=sp(r,o,c,2),s!==null&&tr(s,r,2)}function uh(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function U_(r,s){ol=ah=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function z_(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,_s(r,o)}}var dh={readContext:An,use:ih,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},B_={readContext:An,use:ih,useCallback:function(r,s){return Bn().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:x_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ch(4194308,4,N_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ch(4194308,4,r,s)},useInsertionEffect:function(r,s){ch(4,2,r,s)},useMemo:function(r,s){var o=Bn();s=s===void 0?null:s;var c=r();if(io){hr(!0);try{r()}finally{hr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Bn();if(o!==void 0){var f=o(s);if(io){hr(!0);try{o(s)}finally{hr(!1)}}}else f=s;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=k2.bind(null,Le,r),[c.memoizedState,r]},useRef:function(r){var s=Bn();return r={current:r},s.memoizedState=r},useState:function(r){r=Op(r);var s=r.queue,o=L_.bind(null,Le,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Mp,useDeferredValue:function(r,s){var o=Bn();return Vp(o,r,s)},useTransition:function(){var r=Op(!1);return r=k_.bind(null,Le,r.queue,!0,!1),Bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Le,f=Bn();if(nt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),_t===null)throw Error(a(349));(We&124)!==0||l_(c,s,o)}f.memoizedState=o;var y={value:o,getSnapshot:s};return f.queue=y,x_(u_.bind(null,c,y,r),[r]),c.flags|=2048,cl(9,lh(),c_.bind(null,c,y,o,s),null),o},useId:function(){var r=Bn(),s=_t.identifierPrefix;if(nt){var o=Va,c=Ma;o=(c&~(1<<32-On(c)-1)).toString(32)+o,s=""+s+"R"+o,o=sh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=C2++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Up,useFormState:__,useActionState:__,useOptimistic:function(r){var s=Bn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zp.bind(null,Le,!0,o),o.dispatch=s,[r,s]},useMemoCache:Dp,useCacheRefresh:function(){return Bn().memoizedState=j2.bind(null,Le)}},q_={readContext:An,use:ih,useCallback:I_,useContext:An,useEffect:S_,useImperativeHandle:R_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:oh,useRef:w_,useState:function(){return oh(za)},useDebugValue:Mp,useDeferredValue:function(r,s){var o=Xt();return j_(o,ht.memoizedState,r,s)},useTransition:function(){var r=oh(za)[0],s=Xt().memoizedState;return[typeof r=="boolean"?r:Kc(r),s]},useSyncExternalStore:o_,useId:M_,useHostTransitionStatus:Up,useFormState:E_,useActionState:E_,useOptimistic:function(r,s){var o=Xt();return f_(o,ht,r,s)},useMemoCache:Dp,useCacheRefresh:V_},O2={readContext:An,use:ih,useCallback:I_,useContext:An,useEffect:S_,useImperativeHandle:R_,useInsertionEffect:A_,useLayoutEffect:C_,useMemo:D_,useReducer:kp,useRef:w_,useState:function(){return kp(za)},useDebugValue:Mp,useDeferredValue:function(r,s){var o=Xt();return ht===null?Vp(o,r,s):j_(o,ht.memoizedState,r,s)},useTransition:function(){var r=kp(za)[0],s=Xt().memoizedState;return[typeof r=="boolean"?r:Kc(r),s]},useSyncExternalStore:o_,useId:M_,useHostTransitionStatus:Up,useFormState:T_,useActionState:T_,useOptimistic:function(r,s){var o=Xt();return ht!==null?f_(o,ht,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:V_},ul=null,Xc=0;function hh(r){var s=Xc;return Xc+=1,ul===null&&(ul=[]),J0(ul,r,s)}function Wc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function fh(r,s){throw s.$$typeof===E?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function F_(r){var s=r._init;return s(r._payload)}function $_(r){function s(H,B){if(r){var K=H.deletions;K===null?(H.deletions=[B],H.flags|=16):K.push(B)}}function o(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Pa(H,B),H.index=0,H.sibling=null,H}function y(H,B,K){return H.index=K,r?(K=H.alternate,K!==null?(K=K.index,K<B?(H.flags|=67108866,B):K):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function x(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function I(H,B,K,ce){return B===null||B.tag!==6?(B=op(K,H.mode,ce),B.return=H,B):(B=f(B,K),B.return=H,B)}function U(H,B,K,ce){var we=K.type;return we===A?oe(H,B,K.props.children,ce,K.key):B!==null&&(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&F_(we)===B.type)?(B=f(B,K.props),Wc(B,K),B.return=H,B):(B=Qd(K.type,K.key,K.props,null,H.mode,ce),Wc(B,K),B.return=H,B)}function Q(H,B,K,ce){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=lp(K,H.mode,ce),B.return=H,B):(B=f(B,K.children||[]),B.return=H,B)}function oe(H,B,K,ce,we){return B===null||B.tag!==7?(B=Zi(K,H.mode,ce,we),B.return=H,B):(B=f(B,K),B.return=H,B)}function de(H,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=op(""+B,H.mode,K),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return K=Qd(B.type,B.key,B.props,null,H.mode,K),Wc(K,B),K.return=H,K;case S:return B=lp(B,H.mode,K),B.return=H,B;case R:var ce=B._init;return B=ce(B._payload),de(H,B,K)}if(fe(B)||b(B))return B=Zi(B,H.mode,K,null),B.return=H,B;if(typeof B.then=="function")return de(H,hh(B),K);if(B.$$typeof===X)return de(H,Jd(H,B),K);fh(H,B)}return null}function W(H,B,K,ce){var we=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:I(H,B,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===we?U(H,B,K,ce):null;case S:return K.key===we?Q(H,B,K,ce):null;case R:return we=K._init,K=we(K._payload),W(H,B,K,ce)}if(fe(K)||b(K))return we!==null?null:oe(H,B,K,ce,null);if(typeof K.then=="function")return W(H,B,hh(K),ce);if(K.$$typeof===X)return W(H,B,Jd(H,K),ce);fh(H,K)}return null}function ee(H,B,K,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return H=H.get(K)||null,I(B,H,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return H=H.get(ce.key===null?K:ce.key)||null,U(B,H,ce,we);case S:return H=H.get(ce.key===null?K:ce.key)||null,Q(B,H,ce,we);case R:var Be=ce._init;return ce=Be(ce._payload),ee(H,B,K,ce,we)}if(fe(ce)||b(ce))return H=H.get(K)||null,oe(B,H,ce,we,null);if(typeof ce.then=="function")return ee(H,B,K,hh(ce),we);if(ce.$$typeof===X)return ee(H,B,K,Jd(B,ce),we);fh(B,ce)}return null}function ke(H,B,K,ce){for(var we=null,Be=null,Se=B,Ie=B=0,mn=null;Se!==null&&Ie<K.length;Ie++){Se.index>Ie?(mn=Se,Se=null):mn=Se.sibling;var et=W(H,Se,K[Ie],ce);if(et===null){Se===null&&(Se=mn);break}r&&Se&&et.alternate===null&&s(H,Se),B=y(et,B,Ie),Be===null?we=et:Be.sibling=et,Be=et,Se=mn}if(Ie===K.length)return o(H,Se),nt&&eo(H,Ie),we;if(Se===null){for(;Ie<K.length;Ie++)Se=de(H,K[Ie],ce),Se!==null&&(B=y(Se,B,Ie),Be===null?we=Se:Be.sibling=Se,Be=Se);return nt&&eo(H,Ie),we}for(Se=c(Se);Ie<K.length;Ie++)mn=ee(Se,H,Ie,K[Ie],ce),mn!==null&&(r&&mn.alternate!==null&&Se.delete(mn.key===null?Ie:mn.key),B=y(mn,B,Ie),Be===null?we=mn:Be.sibling=mn,Be=mn);return r&&Se.forEach(function(Xs){return s(H,Xs)}),nt&&eo(H,Ie),we}function Re(H,B,K,ce){if(K==null)throw Error(a(151));for(var we=null,Be=null,Se=B,Ie=B=0,mn=null,et=K.next();Se!==null&&!et.done;Ie++,et=K.next()){Se.index>Ie?(mn=Se,Se=null):mn=Se.sibling;var Xs=W(H,Se,et.value,ce);if(Xs===null){Se===null&&(Se=mn);break}r&&Se&&Xs.alternate===null&&s(H,Se),B=y(Xs,B,Ie),Be===null?we=Xs:Be.sibling=Xs,Be=Xs,Se=mn}if(et.done)return o(H,Se),nt&&eo(H,Ie),we;if(Se===null){for(;!et.done;Ie++,et=K.next())et=de(H,et.value,ce),et!==null&&(B=y(et,B,Ie),Be===null?we=et:Be.sibling=et,Be=et);return nt&&eo(H,Ie),we}for(Se=c(Se);!et.done;Ie++,et=K.next())et=ee(Se,H,Ie,et.value,ce),et!==null&&(r&&et.alternate!==null&&Se.delete(et.key===null?Ie:et.key),B=y(et,B,Ie),Be===null?we=et:Be.sibling=et,Be=et);return r&&Se.forEach(function(PC){return s(H,PC)}),nt&&eo(H,Ie),we}function mt(H,B,K,ce){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var we=K.key;B!==null;){if(B.key===we){if(we=K.type,we===A){if(B.tag===7){o(H,B.sibling),ce=f(B,K.props.children),ce.return=H,H=ce;break e}}else if(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&F_(we)===B.type){o(H,B.sibling),ce=f(B,K.props),Wc(ce,K),ce.return=H,H=ce;break e}o(H,B);break}else s(H,B);B=B.sibling}K.type===A?(ce=Zi(K.props.children,H.mode,ce,K.key),ce.return=H,H=ce):(ce=Qd(K.type,K.key,K.props,null,H.mode,ce),Wc(ce,K),ce.return=H,H=ce)}return x(H);case S:e:{for(we=K.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(H,B.sibling),ce=f(B,K.children||[]),ce.return=H,H=ce;break e}else{o(H,B);break}else s(H,B);B=B.sibling}ce=lp(K,H.mode,ce),ce.return=H,H=ce}return x(H);case R:return we=K._init,K=we(K._payload),mt(H,B,K,ce)}if(fe(K))return ke(H,B,K,ce);if(b(K)){if(we=b(K),typeof we!="function")throw Error(a(150));return K=we.call(K),Re(H,B,K,ce)}if(typeof K.then=="function")return mt(H,B,hh(K),ce);if(K.$$typeof===X)return mt(H,B,Jd(H,K),ce);fh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(H,B.sibling),ce=f(B,K),ce.return=H,H=ce):(o(H,B),ce=op(K,H.mode,ce),ce.return=H,H=ce),x(H)):o(H,B)}return function(H,B,K,ce){try{Xc=0;var we=mt(H,B,K,ce);return ul=null,we}catch(Se){if(Se===Bc||Se===th)throw Se;var Be=Xn(29,Se,null,H.mode);return Be.lanes=ce,Be.return=H,Be}finally{}}}var dl=$_(!0),H_=$_(!1),br=J(null),aa=null;function Ps(r){var s=r.alternate;pe(ln,ln.current&1),pe(br,r),aa===null&&(s===null||il.current!==null||s.memoizedState!==null)&&(aa=r)}function G_(r){if(r.tag===22){if(pe(ln,ln.current),pe(br,r),aa===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(aa=r)}}else Ms()}function Ms(){pe(ln,ln.current),pe(br,br.current)}function Ba(r){me(br),aa===r&&(aa=null),me(ln)}var ln=J(0);function mh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ig(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var qp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=er(),f=js(c);f.payload=s,o!=null&&(f.callback=o),s=ks(r,f,c),s!==null&&(tr(s,r,c),Fc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=er(),f=js(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ks(r,f,c),s!==null&&(tr(s,r,c),Fc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=er(),c=js(o);c.tag=2,s!=null&&(c.callback=s),s=ks(r,c,o),s!==null&&(tr(s,r,o),Fc(s,r,o))}};function K_(r,s,o,c,f,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,x):s.prototype&&s.prototype.isPureReactComponent?!kc(o,c)||!kc(f,y):!0}function Y_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&qp.enqueueReplaceState(s,s.state,null)}function oo(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var ph=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Q_(r){ph(r)}function X_(r){console.error(r)}function W_(r){ph(r)}function gh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Z_(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fp(r,s,o){return o=js(o),o.tag=3,o.payload={element:null},o.callback=function(){gh(r,s)},o}function J_(r){return r=js(r),r.tag=3,r}function e1(r,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;r.payload=function(){return f(y)},r.callback=function(){Z_(s,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Z_(s,o,c),typeof f!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function P2(r,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Lc(s,o,f,!0),o=br.current,o!==null){switch(o.tag){case 13:return aa===null?fg():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===vp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),pg(r,c,f)),!1;case 22:return o.flags|=65536,c===vp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),pg(r,c,f)),!1}throw Error(a(435,o.tag))}return pg(r,c,f),fg(),!1}if(nt)return s=br.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==dp&&(r=Error(a(422),{cause:c}),Vc(yr(r,o)))):(c!==dp&&(s=Error(a(423),{cause:c}),Vc(yr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=yr(c,o),f=Fp(r.stateNode,c,f),bp(r,f),Dt!==4&&(Dt=2)),!1;var y=Error(a(520),{cause:c});if(y=yr(y,o),au===null?au=[y]:au.push(y),Dt!==4&&(Dt=2),s===null)return!0;c=yr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Fp(o.stateNode,c,r),bp(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qs===null||!qs.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=J_(f),e1(f,r,o,c),bp(o,f),!1}o=o.return}while(o!==null);return!1}var t1=Error(a(461)),hn=!1;function yn(r,s,o,c){s.child=r===null?H_(s,null,o,c):dl(s,r.child,o,c)}function n1(r,s,o,c,f){o=o.render;var y=s.ref;if("ref"in c){var x={};for(var I in c)I!=="ref"&&(x[I]=c[I])}else x=c;return ao(s),c=Ap(r,s,o,x,y,f),I=Cp(),r!==null&&!hn?(Np(r,s,f),qa(r,s,f)):(nt&&I&&cp(s),s.flags|=1,yn(r,s,c,f),s.child)}function r1(r,s,o,c,f){if(r===null){var y=o.type;return typeof y=="function"&&!ip(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,a1(r,s,y,c,f)):(r=Qd(o.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Wp(r,f)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:kc,o(x,c)&&r.ref===s.ref)return qa(r,s,f)}return s.flags|=1,r=Pa(y,c),r.ref=s.ref,r.return=s,s.child=r}function a1(r,s,o,c,f){if(r!==null){var y=r.memoizedProps;if(kc(y,c)&&r.ref===s.ref)if(hn=!1,s.pendingProps=c=y,Wp(r,f))(r.flags&131072)!==0&&(hn=!0);else return s.lanes=r.lanes,qa(r,s,f)}return $p(r,s,o,c,f)}function s1(r,s,o){var c=s.pendingProps,f=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(f=s.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return i1(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&eh(s,y!==null?y.cachePool:null),y!==null?a_(s,y):wp(),G_(s);else return s.lanes=s.childLanes=536870912,i1(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(eh(s,y.cachePool),a_(s,y),Ms(),s.memoizedState=null):(r!==null&&eh(s,null),wp(),Ms());return yn(r,s,f,o),s.child}function i1(r,s,o,c){var f=yp();return f=f===null?null:{parent:on._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&eh(s,null),wp(),G_(s),r!==null&&Lc(r,s,c,!0),null}function yh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function $p(r,s,o,c,f){return ao(s),o=Ap(r,s,o,c,void 0,f),c=Cp(),r!==null&&!hn?(Np(r,s,f),qa(r,s,f)):(nt&&c&&cp(s),s.flags|=1,yn(r,s,o,f),s.child)}function o1(r,s,o,c,f,y){return ao(s),s.updateQueue=null,o=i_(s,c,o,f),s_(r),c=Cp(),r!==null&&!hn?(Np(r,s,y),qa(r,s,y)):(nt&&c&&cp(s),s.flags|=1,yn(r,s,o,y),s.child)}function l1(r,s,o,c,f){if(ao(s),s.stateNode===null){var y=tl,x=o.contextType;typeof x=="object"&&x!==null&&(y=An(x)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=qp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},_p(s),x=o.contextType,y.context=typeof x=="object"&&x!==null?An(x):tl,y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Bp(s,o,x,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&qp.enqueueReplaceState(y,y.state,null),Hc(s,c,y,f),$c(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var I=s.memoizedProps,U=oo(o,I);y.props=U;var Q=y.context,oe=o.contextType;x=tl,typeof oe=="object"&&oe!==null&&(x=An(oe));var de=o.getDerivedStateFromProps;oe=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||Q!==x)&&Y_(s,y,c,x),Ds=!1;var W=s.memoizedState;y.state=W,Hc(s,c,y,f),$c(),Q=s.memoizedState,I||W!==Q||Ds?(typeof de=="function"&&(Bp(s,o,de,c),Q=s.memoizedState),(U=Ds||K_(s,o,U,c,W,Q,x))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),y.props=c,y.state=Q,y.context=x,c=U):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Ep(r,s),x=s.memoizedProps,oe=oo(o,x),y.props=oe,de=s.pendingProps,W=y.context,Q=o.contextType,U=tl,typeof Q=="object"&&Q!==null&&(U=An(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==de||W!==U)&&Y_(s,y,c,U),Ds=!1,W=s.memoizedState,y.state=W,Hc(s,c,y,f),$c();var ee=s.memoizedState;x!==de||W!==ee||Ds||r!==null&&r.dependencies!==null&&Zd(r.dependencies)?(typeof I=="function"&&(Bp(s,o,I,c),ee=s.memoizedState),(oe=Ds||K_(s,o,oe,c,W,ee,U)||r!==null&&r.dependencies!==null&&Zd(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,U)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=U,c=oe):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,yh(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=dl(s,r.child,null,f),s.child=dl(s,null,o,f)):yn(r,s,o,f),s.memoizedState=y.state,r=s.child):r=qa(r,s,f),r}function c1(r,s,o,c){return Mc(),s.flags|=256,yn(r,s,o,c),s.child}var Hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(r){return{baseLanes:r,cachePool:X0()}}function Kp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Tr),r}function u1(r,s,o){var c=s.pendingProps,f=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=r!==null&&r.memoizedState===null?!1:(ln.current&2)!==0),x&&(f=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(nt){if(f?Ps(s):Ms(),nt){var I=It,U;if(U=I){e:{for(U=I,I=ra;U.nodeType!==8;){if(!I){I=null;break e}if(U=zr(U.nextSibling),U===null){I=null;break e}}I=U}I!==null?(s.memoizedState={dehydrated:I,treeContext:Ji!==null?{id:Ma,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},U=Xn(18,null,null,0),U.stateNode=I,U.return=s,s.child=U,Ln=s,It=null,U=!0):U=!1}U||no(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Ig(I)?s.lanes=32:s.lanes=536870912,null;Ba(s)}return I=c.children,c=c.fallback,f?(Ms(),f=s.mode,I=vh({mode:"hidden",children:I},f),c=Zi(c,f,o,null),I.return=s,c.return=s,I.sibling=c,s.child=I,f=s.child,f.memoizedState=Gp(o),f.childLanes=Kp(r,x,o),s.memoizedState=Hp,c):(Ps(s),Yp(s,I))}if(U=r.memoizedState,U!==null&&(I=U.dehydrated,I!==null)){if(y)s.flags&256?(Ps(s),s.flags&=-257,s=Qp(r,s,o)):s.memoizedState!==null?(Ms(),s.child=r.child,s.flags|=128,s=null):(Ms(),f=c.fallback,I=s.mode,c=vh({mode:"visible",children:c.children},I),f=Zi(f,I,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,dl(s,r.child,null,o),c=s.child,c.memoizedState=Gp(o),c.childLanes=Kp(r,x,o),s.memoizedState=Hp,s=f);else if(Ps(s),Ig(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var Q=x.dgst;x=Q,c=Error(a(419)),c.stack="",c.digest=x,Vc({value:c,source:null,stack:null}),s=Qp(r,s,o)}else if(hn||Lc(r,s,o,!1),x=(o&r.childLanes)!==0,hn||x){if(x=_t,x!==null&&(c=o&-o,c=(c&42)!==0?1:gc(c),c=(c&(x.suspendedLanes|o))!==0?0:c,c!==0&&c!==U.retryLane))throw U.retryLane=c,el(r,c),tr(x,r,c),t1;I.data==="$?"||fg(),s=Qp(r,s,o)}else I.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,It=zr(I.nextSibling),Ln=s,nt=!0,to=null,ra=!1,r!==null&&(_r[Er++]=Ma,_r[Er++]=Va,_r[Er++]=Ji,Ma=r.id,Va=r.overflow,Ji=s),s=Yp(s,c.children),s.flags|=4096);return s}return f?(Ms(),f=c.fallback,I=s.mode,U=r.child,Q=U.sibling,c=Pa(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Q!==null?f=Pa(Q,f):(f=Zi(f,I,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,I=r.child.memoizedState,I===null?I=Gp(o):(U=I.cachePool,U!==null?(Q=on._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=X0(),I={baseLanes:I.baseLanes|o,cachePool:U}),f.memoizedState=I,f.childLanes=Kp(r,x,o),s.memoizedState=Hp,c):(Ps(s),o=r.child,r=o.sibling,o=Pa(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Yp(r,s){return s=vh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function vh(r,s){return r=Xn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Qp(r,s,o){return dl(s,r.child,null,o),r=Yp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function d1(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),fp(r.return,s,o)}function Xp(r,s,o,c,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=f)}function h1(r,s,o){var c=s.pendingProps,f=c.revealOrder,y=c.tail;if(yn(r,s,c.children,o),c=ln.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&d1(r,o,s);else if(r.tag===19)d1(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(pe(ln,c),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&mh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Xp(s,!1,f,o,y);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&mh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Xp(s,!0,o,null,y);break;case"together":Xp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qa(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Lc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=Pa(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Pa(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Wp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Zd(r)))}function M2(r,s,o){switch(s.tag){case 3:Ae(s,s.stateNode.containerInfo),Is(s,on,r.memoizedState.cache),Mc();break;case 27:case 5:rn(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:Is(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(s),s.flags|=128,null):(o&s.child.childLanes)!==0?u1(r,s,o):(Ps(s),r=qa(r,s,o),r!==null?r.sibling:null);Ps(s);break;case 19:var f=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Lc(r,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return h1(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pe(ln,ln.current),c)break;return null;case 22:case 23:return s.lanes=0,s1(r,s,o);case 24:Is(s,on,r.memoizedState.cache)}return qa(r,s,o)}function f1(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)hn=!0;else{if(!Wp(r,o)&&(s.flags&128)===0)return hn=!1,M2(r,s,o);hn=(r.flags&131072)!==0}else hn=!1,nt&&(s.flags&1048576)!==0&&F0(s,Wd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")ip(c)?(r=oo(c,r),s.tag=1,s=l1(null,s,c,r,o)):(s.tag=0,s=$p(null,s,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===re){s.tag=11,s=n1(null,s,c,r,o);break e}else if(f===D){s.tag=14,s=r1(null,s,c,r,o);break e}}throw s=te(c)||c,Error(a(306,s,""))}}return s;case 0:return $p(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=oo(c,s.pendingProps),l1(r,s,c,f,o);case 3:e:{if(Ae(s,s.stateNode.containerInfo),r===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;f=y.element,Ep(r,s),Hc(s,c,null,o);var x=s.memoizedState;if(c=x.cache,Is(s,on,c),c!==y.cache&&mp(s,[on],o,!0),$c(),c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=c1(r,s,c,o);break e}else if(c!==f){f=yr(Error(a(424)),s),Vc(f),s=c1(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(It=zr(r.firstChild),Ln=s,nt=!0,to=null,ra=!0,o=H_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Mc(),c===f){s=qa(r,s,o);break e}yn(r,s,c,o)}s=s.child}return s;case 26:return yh(r,s),r===null?(o=yE(s.type,null,s.pendingProps,null))?s.memoizedState=o:nt||(o=s.type,r=s.pendingProps,c=jh(ie.current).createElement(o),c[zt]=s,c[gn]=r,_n(c,o,r),Bt(c),s.stateNode=c):s.memoizedState=yE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return rn(s),r===null&&nt&&(c=s.stateNode=mE(s.type,s.pendingProps,ie.current),Ln=s,ra=!0,f=It,Hs(s.type)?(Dg=f,It=zr(c.firstChild)):It=f),yn(r,s,s.pendingProps.children,o),yh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&nt&&((f=c=It)&&(c=uC(c,s.type,s.pendingProps,ra),c!==null?(s.stateNode=c,Ln=s,It=zr(c.firstChild),ra=!1,f=!0):f=!1),f||no(s)),rn(s),f=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,c=y.children,Cg(f,y)?c=null:x!==null&&Cg(f,x)&&(s.flags|=32),s.memoizedState!==null&&(f=Ap(r,s,N2,null,null,o),fu._currentValue=f),yh(r,s),yn(r,s,c,o),s.child;case 6:return r===null&&nt&&((r=o=It)&&(o=dC(o,s.pendingProps,ra),o!==null?(s.stateNode=o,Ln=s,It=null,r=!0):r=!1),r||no(s)),null;case 13:return u1(r,s,o);case 4:return Ae(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=dl(s,null,c,o):yn(r,s,c,o),s.child;case 11:return n1(r,s,s.type,s.pendingProps,o);case 7:return yn(r,s,s.pendingProps,o),s.child;case 8:return yn(r,s,s.pendingProps.children,o),s.child;case 12:return yn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Is(s,s.type,c.value),yn(r,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,ao(s),f=An(f),c=c(f),s.flags|=1,yn(r,s,c,o),s.child;case 14:return r1(r,s,s.type,s.pendingProps,o);case 15:return a1(r,s,s.type,s.pendingProps,o);case 19:return h1(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=vh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Pa(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return s1(r,s,o);case 24:return ao(s),c=An(on),r===null?(f=yp(),f===null&&(f=_t,y=pp(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),s.memoizedState={parent:c,cache:f},_p(s),Is(s,on,f)):((r.lanes&o)!==0&&(Ep(r,s),Hc(s,null,null,o),$c()),f=r.memoizedState,y=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Is(s,on,c)):(c=y.cache,Is(s,on,c),c!==f.cache&&mp(s,[on],o,!0))),yn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Fa(r){r.flags|=4}function m1(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!TE(s)){if(s=br.current,s!==null&&((We&4194048)===We?aa!==null:(We&62914560)!==We&&(We&536870912)===0||s!==aa))throw qc=vp,W0;r.flags|=8192}}function _h(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ys():536870912,r.lanes|=s,pl|=s)}function Zc(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ct(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function V2(r,s,o){var c=s.pendingProps;switch(up(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ua(on),Ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Pc(s)?Fa(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,G0())),Ct(s),null;case 26:return o=s.memoizedState,r===null?(Fa(s),o!==null?(Ct(s),m1(s,o)):(Ct(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Fa(s),Ct(s),m1(s,o)):(Ct(s),s.flags&=-16777217):(r.memoizedProps!==c&&Fa(s),Ct(s),s.flags&=-16777217),null;case 27:xe(s),o=ie.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Fa(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return Ct(s),null}r=be.current,Pc(s)?$0(s):(r=mE(f,c,o),s.stateNode=r,Fa(s))}return Ct(s),null;case 5:if(xe(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Fa(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return Ct(s),null}if(r=be.current,Pc(s))$0(s);else{switch(f=jh(ie.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[zt]=s,r[gn]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(_n(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Fa(s)}}return Ct(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Fa(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=ie.current,Pc(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,f=Ln,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[zt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||oE(r.nodeValue,o)),r||no(s)}else r=jh(r).createTextNode(c),r[zt]=s,s.stateNode=r}return Ct(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Pc(s),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[zt]=s}else Mc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),f=!1}else f=G0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ba(s),s):(Ba(s),null)}if(Ba(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),_h(s,s.updateQueue),Ct(s),null;case 4:return Ue(),r===null&&Tg(s.stateNode.containerInfo),Ct(s),null;case 10:return Ua(s.type),Ct(s),null;case 19:if(me(ln),f=s.memoizedState,f===null)return Ct(s),null;if(c=(s.flags&128)!==0,y=f.rendering,y===null)if(c)Zc(f,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=mh(r),y!==null){for(s.flags|=128,Zc(f,!1),r=y.updateQueue,s.updateQueue=r,_h(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)q0(o,r),o=o.sibling;return pe(ln,ln.current&1|2),s.child}r=r.sibling}f.tail!==null&&gt()>Th&&(s.flags|=128,c=!0,Zc(f,!1),s.lanes=4194304)}else{if(!c)if(r=mh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,_h(s,r),Zc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!nt)return Ct(s),null}else 2*gt()-f.renderingStartTime>Th&&o!==536870912&&(s.flags|=128,c=!0,Zc(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(r=f.last,r!==null?r.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=gt(),s.sibling=null,r=ln.current,pe(ln,c?r&1|2:r&1),s):(Ct(s),null);case 22:case 23:return Ba(s),xp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),o=s.updateQueue,o!==null&&_h(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&me(so),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ua(on),Ct(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function L2(r,s){switch(up(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ua(on),Ue(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return xe(s),null;case 13:if(Ba(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Mc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return me(ln),null;case 4:return Ue(),null;case 10:return Ua(s.type),null;case 22:case 23:return Ba(s),xp(),r!==null&&me(so),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ua(on),null;case 25:return null;default:return null}}function p1(r,s){switch(up(s),s.tag){case 3:Ua(on),Ue();break;case 26:case 27:case 5:xe(s);break;case 4:Ue();break;case 13:Ba(s);break;case 19:me(ln);break;case 10:Ua(s.type);break;case 22:case 23:Ba(s),xp(),r!==null&&me(so);break;case 24:Ua(on)}}function Jc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var y=o.create,x=o.inst;c=y(),x.destroy=c}o=o.next}while(o!==f)}}catch(I){yt(s,s.return,I)}}function Vs(r,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){var x=c.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,f=s;var U=o,Q=I;try{Q()}catch(oe){yt(f,U,oe)}}}c=c.next}while(c!==y)}}catch(oe){yt(s,s.return,oe)}}function g1(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{r_(s,o)}catch(c){yt(r,r.return,c)}}}function y1(r,s,o){o.props=oo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){yt(r,s,c)}}function eu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){yt(r,s,f)}}function sa(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){yt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){yt(r,s,f)}else o.current=null}function v1(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){yt(r,r.return,f)}}function Zp(r,s,o){try{var c=r.stateNode;sC(c,r.type,o,s),c[gn]=s}catch(f){yt(r,r.return,f)}}function _1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Hs(r.type)||r.tag===4}function Jp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Hs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function eg(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Dh));else if(c!==4&&(c===27&&Hs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(eg(r,s,o),r=r.sibling;r!==null;)eg(r,s,o),r=r.sibling}function Eh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Hs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Eh(r,s,o),r=r.sibling;r!==null;)Eh(r,s,o),r=r.sibling}function E1(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);_n(s,c,o),s[zt]=r,s[gn]=o}catch(y){yt(r,r.return,y)}}var $a=!1,$t=!1,tg=!1,b1=typeof WeakSet=="function"?WeakSet:Set,fn=null;function U2(r,s){if(r=r.containerInfo,Sg=Lh,r=j0(r),Jm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,I=-1,U=-1,Q=0,oe=0,de=r,W=null;t:for(;;){for(var ee;de!==o||f!==0&&de.nodeType!==3||(I=x+f),de!==y||c!==0&&de.nodeType!==3||(U=x+c),de.nodeType===3&&(x+=de.nodeValue.length),(ee=de.firstChild)!==null;)W=de,de=ee;for(;;){if(de===r)break t;if(W===o&&++Q===f&&(I=x),W===y&&++oe===c&&(U=x),(ee=de.nextSibling)!==null)break;de=W,W=de.parentNode}de=ee}o=I===-1||U===-1?null:{start:I,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ag={focusedElem:r,selectionRange:o},Lh=!1,fn=s;fn!==null;)if(s=fn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,fn=r;else for(;fn!==null;){switch(s=fn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=oo(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Re){yt(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Rg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Rg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,fn=r;break}fn=s.return}}function T1(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ls(r,o),c&4&&Jc(5,o);break;case 1:if(Ls(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){yt(o,o.return,x)}else{var f=oo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){yt(o,o.return,x)}}c&64&&g1(o),c&512&&eu(o,o.return);break;case 3:if(Ls(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{r_(r,s)}catch(x){yt(o,o.return,x)}}break;case 27:s===null&&c&4&&E1(o);case 26:case 5:Ls(r,o),s===null&&c&4&&v1(o),c&512&&eu(o,o.return);break;case 12:Ls(r,o);break;case 13:Ls(r,o),c&4&&S1(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Y2.bind(null,o),hC(r,o))));break;case 22:if(c=o.memoizedState!==null||$a,!c){s=s!==null&&s.memoizedState!==null||$t,f=$a;var y=$t;$a=c,($t=s)&&!y?Us(r,o,(o.subtreeFlags&8772)!==0):Ls(r,o),$a=f,$t=y}break;case 30:break;default:Ls(r,o)}}function w1(r){var s=r.alternate;s!==null&&(r.alternate=null,w1(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Uo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tt=null,qn=!1;function Ha(r,s,o){for(o=o.child;o!==null;)x1(r,s,o),o=o.sibling}function x1(r,s,o){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(ms,o)}catch{}switch(o.tag){case 26:$t||sa(o,s),Ha(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||sa(o,s);var c=Tt,f=qn;Hs(o.type)&&(Tt=o.stateNode,qn=!1),Ha(r,s,o),cu(o.stateNode),Tt=c,qn=f;break;case 5:$t||sa(o,s);case 6:if(c=Tt,f=qn,Tt=null,Ha(r,s,o),Tt=c,qn=f,Tt!==null)if(qn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(y){yt(o,s,y)}else try{Tt.removeChild(o.stateNode)}catch(y){yt(o,s,y)}break;case 18:Tt!==null&&(qn?(r=Tt,hE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),yu(r)):hE(Tt,o.stateNode));break;case 4:c=Tt,f=qn,Tt=o.stateNode.containerInfo,qn=!0,Ha(r,s,o),Tt=c,qn=f;break;case 0:case 11:case 14:case 15:$t||Vs(2,o,s),$t||Vs(4,o,s),Ha(r,s,o);break;case 1:$t||(sa(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&y1(o,s,c)),Ha(r,s,o);break;case 21:Ha(r,s,o);break;case 22:$t=(c=$t)||o.memoizedState!==null,Ha(r,s,o),$t=c;break;default:Ha(r,s,o)}}function S1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{yu(r)}catch(o){yt(s,s.return,o)}}function z2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new b1),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new b1),s;default:throw Error(a(435,r.tag))}}function ng(r,s){var o=z2(r);s.forEach(function(c){var f=Q2.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function Wn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=r,x=s,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(Hs(I.type)){Tt=I.stateNode,qn=!1;break e}break;case 5:Tt=I.stateNode,qn=!1;break e;case 3:case 4:Tt=I.stateNode.containerInfo,qn=!0;break e}I=I.return}if(Tt===null)throw Error(a(160));x1(y,x,f),Tt=null,qn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)A1(s,r),s=s.sibling}var Ur=null;function A1(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wn(s,r),Zn(r),c&4&&(Vs(3,r,r.return),Jc(3,r),Vs(5,r,r.return));break;case 1:Wn(s,r),Zn(r),c&512&&($t||o===null||sa(o,o.return)),c&64&&$a&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Ur;if(Wn(s,r),Zn(r),c&512&&($t||o===null||sa(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Es]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),_n(y,c,o),y[zt]=r,Bt(y),c=y;break e;case"link":var x=EE("link","href",f).get(c+(o.href||""));if(x){for(var I=0;I<x.length;I++)if(y=x[I],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(I,1);break t}}y=f.createElement(c),_n(y,c,o),f.head.appendChild(y);break;case"meta":if(x=EE("meta","content",f).get(c+(o.content||""))){for(I=0;I<x.length;I++)if(y=x[I],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(I,1);break t}}y=f.createElement(c),_n(y,c,o),f.head.appendChild(y);break;default:throw Error(a(468,c))}y[zt]=r,Bt(y),c=y}r.stateNode=c}else bE(f,r.type,r.stateNode);else r.stateNode=_E(f,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?bE(f,r.type,r.stateNode):_E(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Zp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Wn(s,r),Zn(r),c&512&&($t||o===null||sa(o,o.return)),o!==null&&c&4&&Zp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Wn(s,r),Zn(r),c&512&&($t||o===null||sa(o,o.return)),r.flags&32){f=r.stateNode;try{pr(f,"")}catch(ee){yt(r,r.return,ee)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,Zp(r,f,o!==null?o.memoizedProps:f)),c&1024&&(tg=!0);break;case 6:if(Wn(s,r),Zn(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ee){yt(r,r.return,ee)}}break;case 3:if(Ph=null,f=Ur,Ur=kh(s.containerInfo),Wn(s,r),Ur=f,Zn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{yu(s.containerInfo)}catch(ee){yt(r,r.return,ee)}tg&&(tg=!1,C1(r));break;case 4:c=Ur,Ur=kh(r.stateNode.containerInfo),Wn(s,r),Zn(r),Ur=c;break;case 12:Wn(s,r),Zn(r);break;case 13:Wn(s,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lg=gt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ng(r,c)));break;case 22:f=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=$a,oe=$t;if($a=Q||f,$t=oe||U,Wn(s,r),$t=oe,$a=Q,Zn(r),c&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||U||$a||$t||lo(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(y=U.stateNode,f)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=U.stateNode;var de=U.memoizedProps.style,W=de!=null&&de.hasOwnProperty("display")?de.display:null;I.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ee){yt(U,U.return,ee)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(ee){yt(U,U.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ng(r,o))));break;case 19:Wn(s,r),Zn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ng(r,c)));break;case 30:break;case 21:break;default:Wn(s,r),Zn(r)}}function Zn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(_1(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,y=Jp(r);Eh(r,y,f);break;case 5:var x=o.stateNode;o.flags&32&&(pr(x,""),o.flags&=-33);var I=Jp(r);Eh(r,I,x);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=Jp(r);eg(r,Q,U);break;default:throw Error(a(161))}}catch(oe){yt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function C1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;C1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ls(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)T1(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Vs(4,s,s.return),lo(s);break;case 1:sa(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&y1(s,s.return,o),lo(s);break;case 27:cu(s.stateNode);case 26:case 5:sa(s,s.return),lo(s);break;case 22:s.memoizedState===null&&lo(s);break;case 30:lo(s);break;default:lo(s)}r=r.sibling}}function Us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=r,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:Us(f,y,o),Jc(4,y);break;case 1:if(Us(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){yt(c,c.return,Q)}if(c=y,f=c.updateQueue,f!==null){var I=c.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)n_(U[f],I)}catch(Q){yt(c,c.return,Q)}}o&&x&64&&g1(y),eu(y,y.return);break;case 27:E1(y);case 26:case 5:Us(f,y,o),o&&c===null&&x&4&&v1(y),eu(y,y.return);break;case 12:Us(f,y,o);break;case 13:Us(f,y,o),o&&x&4&&S1(f,y);break;case 22:y.memoizedState===null&&Us(f,y,o),eu(y,y.return);break;case 30:break;default:Us(f,y,o)}s=s.sibling}}function rg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Uc(o))}function ag(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Uc(r))}function ia(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)N1(r,s,o,c),s=s.sibling}function N1(r,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ia(r,s,o,c),f&2048&&Jc(9,s);break;case 1:ia(r,s,o,c);break;case 3:ia(r,s,o,c),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Uc(r)));break;case 12:if(f&2048){ia(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,x=y.id,I=y.onPostCommit;typeof I=="function"&&I(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){yt(s,s.return,U)}}else ia(r,s,o,c);break;case 13:ia(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?ia(r,s,o,c):tu(r,s):y._visibility&2?ia(r,s,o,c):(y._visibility|=2,hl(r,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&rg(x,s);break;case 24:ia(r,s,o,c),f&2048&&ag(s.alternate,s);break;default:ia(r,s,o,c)}}function hl(r,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,x=s,I=o,U=c,Q=x.flags;switch(x.tag){case 0:case 11:case 15:hl(y,x,I,U,f),Jc(8,x);break;case 23:break;case 22:var oe=x.stateNode;x.memoizedState!==null?oe._visibility&2?hl(y,x,I,U,f):tu(y,x):(oe._visibility|=2,hl(y,x,I,U,f)),f&&Q&2048&&rg(x.alternate,x);break;case 24:hl(y,x,I,U,f),f&&Q&2048&&ag(x.alternate,x);break;default:hl(y,x,I,U,f)}s=s.sibling}}function tu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,f=c.flags;switch(c.tag){case 22:tu(o,c),f&2048&&rg(c.alternate,c);break;case 24:tu(o,c),f&2048&&ag(c.alternate,c);break;default:tu(o,c)}s=s.sibling}}var nu=8192;function fl(r){if(r.subtreeFlags&nu)for(r=r.child;r!==null;)R1(r),r=r.sibling}function R1(r){switch(r.tag){case 26:fl(r),r.flags&nu&&r.memoizedState!==null&&SC(Ur,r.memoizedState,r.memoizedProps);break;case 5:fl(r);break;case 3:case 4:var s=Ur;Ur=kh(r.stateNode.containerInfo),fl(r),Ur=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=nu,nu=16777216,fl(r),nu=s):fl(r));break;default:fl(r)}}function I1(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ru(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];fn=c,j1(c,r)}I1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D1(r),r=r.sibling}function D1(r){switch(r.tag){case 0:case 11:case 15:ru(r),r.flags&2048&&Vs(9,r,r.return);break;case 3:ru(r);break;case 12:ru(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,bh(r)):ru(r);break;default:ru(r)}}function bh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];fn=c,j1(c,r)}I1(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Vs(8,s,s.return),bh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,bh(s));break;default:bh(s)}r=r.sibling}}function j1(r,s){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Uc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,fn=c;else e:for(o=r;fn!==null;){c=fn;var f=c.sibling,y=c.return;if(w1(c),c===o){fn=null;break e}if(f!==null){f.return=y,fn=f;break e}fn=y}}}var B2={getCacheForType:function(r){var s=An(on),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},q2=typeof WeakMap=="function"?WeakMap:Map,ot=0,_t=null,qe=null,We=0,lt=0,Jn=null,zs=!1,ml=!1,sg=!1,Ga=0,Dt=0,Bs=0,co=0,ig=0,Tr=0,pl=0,au=null,Fn=null,og=!1,lg=0,Th=1/0,wh=null,qs=null,vn=0,Fs=null,gl=null,yl=0,cg=0,ug=null,k1=null,su=0,dg=null;function er(){if((ot&2)!==0&&We!==0)return We&-We;if($.T!==null){var r=al;return r!==0?r:vg()}return Na()}function O1(){Tr===0&&(Tr=(We&536870912)===0||nt?pc():536870912);var r=br.current;return r!==null&&(r.flags|=32),Tr}function tr(r,s,o){(r===_t&&(lt===2||lt===9)||r.cancelPendingCommit!==null)&&(vl(r,0),$s(r,We,Tr,!1)),Ut(r,o),((ot&2)===0||r!==_t)&&(r===_t&&((ot&2)===0&&(co|=o),Dt===4&&$s(r,We,Tr,!1)),oa(r))}function P1(r,s,o){if((ot&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||gs(r,s),f=c?H2(r,s):mg(r,s,!0),y=c;do{if(f===0){ml&&!c&&$s(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!F2(o)){f=mg(r,s,!1),y=!1;continue}if(f===2){if(y=s,r.errorRecoveryDisabledLanes&y)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var I=r;f=au;var U=I.current.memoizedState.isDehydrated;if(U&&(vl(I,x).flags|=256),x=mg(I,x,!1),x!==2){if(sg&&!U){I.errorRecoveryDisabledLanes|=y,co|=y,f=4;break e}y=Fn,Fn=f,y!==null&&(Fn===null?Fn=y:Fn.push.apply(Fn,y))}f=x}if(y=!1,f!==2)continue}}if(f===1){vl(r,0),$s(r,s,0,!0);break}e:{switch(c=r,y=f,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:$s(c,s,Tr,!zs);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=lg+300-gt(),10<f)){if($s(c,s,Tr,!zs),fr(c,0,!0)!==0)break e;c.timeoutHandle=uE(M1.bind(null,c,o,Fn,wh,og,s,Tr,co,pl,zs,y,2,-0,0),f);break e}M1(c,o,Fn,wh,og,s,Tr,co,pl,zs,y,0,-0,0)}}break}while(!0);oa(r)}function M1(r,s,o,c,f,y,x,I,U,Q,oe,de,W,ee){if(r.timeoutHandle=-1,de=s.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:xC},R1(s),de=AC(),de!==null)){r.cancelPendingCommit=de(F1.bind(null,r,s,y,o,c,f,x,I,U,oe,1,W,ee)),$s(r,y,x,!Q);return}F1(r,s,y,o,c,f,x,I,U)}function F2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!Qn(y(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(r,s,o,c){s&=~ig,s&=~co,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var f=s;0<f;){var y=31-On(f),x=1<<y;c[y]=-1,f&=~x}o!==0&&vs(r,o,s)}function xh(){return(ot&6)===0?(iu(0),!1):!0}function hg(){if(qe!==null){if(lt===0)var r=qe.return;else r=qe,La=ro=null,Rp(r),ul=null,Xc=0,r=qe;for(;r!==null;)p1(r.alternate,r),r=r.return;qe=null}}function vl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,oC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),hg(),_t=r,qe=o=Pa(r.current,null),We=s,lt=0,Jn=null,zs=!1,ml=gs(r,s),sg=!1,pl=Tr=ig=co=Bs=Dt=0,Fn=au=null,og=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var f=31-On(c),y=1<<f;s|=r[f],c&=~y}return Ga=s,Gd(),o}function V1(r,s){Le=null,$.H=dh,s===Bc||s===th?(s=e_(),lt=3):s===W0?(s=e_(),lt=4):lt=s===t1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Jn=s,qe===null&&(Dt=1,gh(r,yr(s,r.current)))}function L1(){var r=$.H;return $.H=dh,r===null?dh:r}function U1(){var r=$.A;return $.A=B2,r}function fg(){Dt=4,zs||(We&4194048)!==We&&br.current!==null||(ml=!0),(Bs&134217727)===0&&(co&134217727)===0||_t===null||$s(_t,We,Tr,!1)}function mg(r,s,o){var c=ot;ot|=2;var f=L1(),y=U1();(_t!==r||We!==s)&&(wh=null,vl(r,s)),s=!1;var x=Dt;e:do try{if(lt!==0&&qe!==null){var I=qe,U=Jn;switch(lt){case 8:hg(),x=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(s=!0);var Q=lt;if(lt=0,Jn=null,_l(r,I,U,Q),o&&ml){x=0;break e}break;default:Q=lt,lt=0,Jn=null,_l(r,I,U,Q)}}$2(),x=Dt;break}catch(oe){V1(r,oe)}while(!0);return s&&r.shellSuspendCounter++,La=ro=null,ot=c,$.H=f,$.A=y,qe===null&&(_t=null,We=0,Gd()),x}function $2(){for(;qe!==null;)z1(qe)}function H2(r,s){var o=ot;ot|=2;var c=L1(),f=U1();_t!==r||We!==s?(wh=null,Th=gt()+500,vl(r,s)):ml=gs(r,s);e:do try{if(lt!==0&&qe!==null){s=qe;var y=Jn;t:switch(lt){case 1:lt=0,Jn=null,_l(r,s,y,1);break;case 2:case 9:if(Z0(y)){lt=0,Jn=null,B1(s);break}s=function(){lt!==2&&lt!==9||_t!==r||(lt=7),oa(r)},y.then(s,s);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Z0(y)?(lt=0,Jn=null,B1(s)):(lt=0,Jn=null,_l(r,s,y,7));break;case 5:var x=null;switch(qe.tag){case 26:x=qe.memoizedState;case 5:case 27:var I=qe;if(!x||TE(x)){lt=0,Jn=null;var U=I.sibling;if(U!==null)qe=U;else{var Q=I.return;Q!==null?(qe=Q,Sh(Q)):qe=null}break t}}lt=0,Jn=null,_l(r,s,y,5);break;case 6:lt=0,Jn=null,_l(r,s,y,6);break;case 8:hg(),Dt=6;break e;default:throw Error(a(462))}}G2();break}catch(oe){V1(r,oe)}while(!0);return La=ro=null,$.H=c,$.A=f,ot=o,qe!==null?0:(_t=null,We=0,Gd(),Dt)}function G2(){for(;qe!==null&&!an();)z1(qe)}function z1(r){var s=f1(r.alternate,r,Ga);r.memoizedProps=r.pendingProps,s===null?Sh(r):qe=s}function B1(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=o1(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=o1(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Rp(s);default:p1(o,s),s=qe=q0(s,Ga),s=f1(o,s,Ga)}r.memoizedProps=r.pendingProps,s===null?Sh(r):qe=s}function _l(r,s,o,c){La=ro=null,Rp(s),ul=null,Xc=0;var f=s.return;try{if(P2(r,f,s,o,We)){Dt=1,gh(r,yr(o,r.current)),qe=null;return}}catch(y){if(f!==null)throw qe=f,y;Dt=1,gh(r,yr(o,r.current)),qe=null;return}s.flags&32768?(nt||c===1?r=!0:ml||(We&536870912)!==0?r=!1:(zs=r=!0,(c===2||c===9||c===3||c===6)&&(c=br.current,c!==null&&c.tag===13&&(c.flags|=16384))),q1(s,r)):Sh(s)}function Sh(r){var s=r;do{if((s.flags&32768)!==0){q1(s,zs);return}r=s.return;var o=V2(s.alternate,s,Ga);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=r}while(s!==null);Dt===0&&(Dt=5)}function q1(r,s){do{var o=L2(r.alternate,r);if(o!==null){o.flags&=32767,qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){qe=r;return}qe=r=o}while(r!==null);Dt=6,qe=null}function F1(r,s,o,c,f,y,x,I,U){r.cancelPendingCommit=null;do Ah();while(vn!==0);if((ot&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=ap,Rd(r,o,y,x,I,U),r===_t&&(qe=_t=null,We=0),gl=s,Fs=r,yl=o,cg=y,ug=f,k1=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,X2(Ir,function(){return Y1(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,f=G.p,G.p=2,x=ot,ot|=4;try{U2(r,s,o)}finally{ot=x,G.p=f,$.T=c}}vn=1,$1(),H1(),G1()}}function $1(){if(vn===1){vn=0;var r=Fs,s=gl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=G.p;G.p=2;var f=ot;ot|=4;try{A1(s,r);var y=Ag,x=j0(r.containerInfo),I=y.focusedElem,U=y.selectionRange;if(x!==I&&I&&I.ownerDocument&&D0(I.ownerDocument.documentElement,I)){if(U!==null&&Jm(I)){var Q=U.start,oe=U.end;if(oe===void 0&&(oe=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(oe,I.value.length);else{var de=I.ownerDocument||document,W=de&&de.defaultView||window;if(W.getSelection){var ee=W.getSelection(),ke=I.textContent.length,Re=Math.min(U.start,ke),mt=U.end===void 0?Re:Math.min(U.end,ke);!ee.extend&&Re>mt&&(x=mt,mt=Re,Re=x);var H=I0(I,Re),B=I0(I,mt);if(H&&B&&(ee.rangeCount!==1||ee.anchorNode!==H.node||ee.anchorOffset!==H.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var K=de.createRange();K.setStart(H.node,H.offset),ee.removeAllRanges(),Re>mt?(ee.addRange(K),ee.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),ee.addRange(K))}}}}for(de=[],ee=I;ee=ee.parentNode;)ee.nodeType===1&&de.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<de.length;I++){var ce=de[I];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Lh=!!Sg,Ag=Sg=null}finally{ot=f,G.p=c,$.T=o}}r.current=s,vn=2}}function H1(){if(vn===2){vn=0;var r=Fs,s=gl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=G.p;G.p=2;var f=ot;ot|=4;try{T1(r,s.alternate,s)}finally{ot=f,G.p=c,$.T=o}}vn=3}}function G1(){if(vn===4||vn===3){vn=0,dr();var r=Fs,s=gl,o=yl,c=k1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,gl=Fs=null,K1(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(qs=null),yc(o),s=s.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(ms,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=$.T,f=G.p,G.p=2,$.T=null;try{for(var y=r.onRecoverableError,x=0;x<c.length;x++){var I=c[x];y(I.value,{componentStack:I.stack})}}finally{$.T=s,G.p=f}}(yl&3)!==0&&Ah(),oa(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===dg?su++:(su=0,dg=r):su=0,iu(0)}}function K1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Uc(s)))}function Ah(r){return $1(),H1(),G1(),Y1()}function Y1(){if(vn!==5)return!1;var r=Fs,s=cg;cg=0;var o=yc(yl),c=$.T,f=G.p;try{G.p=32>o?32:o,$.T=null,o=ug,ug=null;var y=Fs,x=yl;if(vn=0,gl=Fs=null,yl=0,(ot&6)!==0)throw Error(a(331));var I=ot;if(ot|=4,D1(y.current),N1(y,y.current,x,o),ot=I,iu(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(ms,y)}catch{}return!0}finally{G.p=f,$.T=c,K1(r,s)}}function Q1(r,s,o){s=yr(o,s),s=Fp(r.stateNode,s,2),r=ks(r,s,2),r!==null&&(Ut(r,2),oa(r))}function yt(r,s,o){if(r.tag===3)Q1(r,r,o);else for(;s!==null;){if(s.tag===3){Q1(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qs===null||!qs.has(c))){r=yr(o,r),o=J_(2),c=ks(s,o,2),c!==null&&(e1(o,c,s,r),Ut(c,2),oa(c));break}}s=s.return}}function pg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new q2;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(sg=!0,f.add(o),r=K2.bind(null,r,s,o),s.then(r,r))}function K2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,_t===r&&(We&o)===o&&(Dt===4||Dt===3&&(We&62914560)===We&&300>gt()-lg?(ot&2)===0&&vl(r,0):ig|=o,pl===We&&(pl=0)),oa(r)}function X1(r,s){s===0&&(s=ys()),r=el(r,s),r!==null&&(Ut(r,s),oa(r))}function Y2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),X1(r,o)}function Q2(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),X1(r,o)}function X2(r,s){return Je(r,s)}var Ch=null,El=null,gg=!1,Nh=!1,yg=!1,uo=0;function oa(r){r!==El&&r.next===null&&(El===null?Ch=El=r:El=El.next=r),Nh=!0,gg||(gg=!0,Z2())}function iu(r,s){if(!yg&&Nh){yg=!0;do for(var o=!1,c=Ch;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var x=c.suspendedLanes,I=c.pingedLanes;y=(1<<31-On(42|r)+1)-1,y&=f&~(x&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,eE(c,y))}else y=We,y=fr(c,c===_t?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||gs(c,y)||(o=!0,eE(c,y));c=c.next}while(o);yg=!1}}function W2(){W1()}function W1(){Nh=gg=!1;var r=0;uo!==0&&(iC()&&(r=uo),uo=0);for(var s=gt(),o=null,c=Ch;c!==null;){var f=c.next,y=Z1(c,s);y===0?(c.next=null,o===null?Ch=f:o.next=f,f===null&&(El=o)):(o=c,(r!==0||(y&3)!==0)&&(Nh=!0)),c=f}iu(r)}function Z1(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var x=31-On(y),I=1<<x,U=f[x];U===-1?((I&o)===0||(I&c)!==0)&&(f[x]=Vo(I,s)):U<=s&&(r.expiredLanes|=I),y&=~I}if(s=_t,o=We,o=fr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(lt===2||lt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&$e(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||gs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&$e(c),yc(o)){case 2:case 8:o=Lt;break;case 32:o=Ir;break;case 268435456:o=Ni;break;default:o=Ir}return c=J1.bind(null,r),o=Je(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&$e(c),r.callbackPriority=2,r.callbackNode=null,2}function J1(r,s){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ah()&&r.callbackNode!==o)return null;var c=We;return c=fr(r,r===_t?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(P1(r,c,s),Z1(r,gt()),r.callbackNode!=null&&r.callbackNode===o?J1.bind(null,r):null)}function eE(r,s){if(Ah())return null;P1(r,s,!0)}function Z2(){lC(function(){(ot&6)!==0?Je(Rt,W2):W1()})}function vg(){return uo===0&&(uo=pc()),uo}function tE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Or(""+r)}function nE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function J2(r,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var y=tE((f[gn]||null).action),x=c.submitter;x&&(s=(s=x[gn]||null)?tE(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var I=new Fi("action","action",null,c,f);r.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(uo!==0){var U=x?nE(f,x):new FormData(f);Lp(o,{pending:!0,data:U,method:f.method,action:y},null,U)}}else typeof y=="function"&&(I.preventDefault(),U=x?nE(f,x):new FormData(f),Lp(o,{pending:!0,data:U,method:f.method,action:y},y,U))},currentTarget:f}]})}}for(var _g=0;_g<rp.length;_g++){var Eg=rp[_g],eC=Eg.toLowerCase(),tC=Eg[0].toUpperCase()+Eg.slice(1);Lr(eC,"on"+tC)}Lr(P0,"onAnimationEnd"),Lr(M0,"onAnimationIteration"),Lr(V0,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(v2,"onTransitionRun"),Lr(_2,"onTransitionStart"),Lr(E2,"onTransitionCancel"),Lr(L0,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function rE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var x=c.length-1;0<=x;x--){var I=c[x],U=I.instance,Q=I.currentTarget;if(I=I.listener,U!==y&&f.isPropagationStopped())break e;y=I,f.currentTarget=Q;try{y(f)}catch(oe){ph(oe)}f.currentTarget=null,y=U}else for(x=0;x<c.length;x++){if(I=c[x],U=I.instance,Q=I.currentTarget,I=I.listener,U!==y&&f.isPropagationStopped())break e;y=I,f.currentTarget=Q;try{y(f)}catch(oe){ph(oe)}f.currentTarget=null,y=U}}}}function Fe(r,s){var o=s[Ii];o===void 0&&(o=s[Ii]=new Set);var c=r+"__bubble";o.has(c)||(aE(s,r,2,!1),o.add(c))}function bg(r,s,o){var c=0;s&&(c|=4),aE(o,r,c,s)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function Tg(r){if(!r[Rh]){r[Rh]=!0,Id.forEach(function(o){o!=="selectionchange"&&(nC.has(o)||bg(o,!1,r),bg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Rh]||(s[Rh]=!0,bg("selectionchange",!1,s))}}function aE(r,s,o,c){switch(NE(s)){case 2:var f=RC;break;case 8:f=IC;break;default:f=Mg}o=f.bind(null,s,o,r),f=void 0,!ka||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function wg(r,s,o,c,f){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var I=c.stateNode.containerInfo;if(I===f)break;if(x===4)for(x=c.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;I!==null;){if(x=Xr(I),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){c=y=x;continue e}I=I.parentNode}}c=c.return}zi(function(){var Q=y,oe=xc(o),de=[];e:{var W=U0.get(r);if(W!==void 0){var ee=Fi,ke=r;switch(r){case"keypress":if(Bi(o)===0)break e;case"keydown":case"keyup":ee=Xo;break;case"focusin":ke="focus",ee=Ko;break;case"focusout":ke="blur",ee=Ko;break;case"beforeblur":case"afterblur":ee=Ko;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Rs;break;case P0:case M0:case V0:ee=Ac;break;case L0:ee=_;break;case"scroll":case"scrollend":ee=Hi;break;case"wheel":ee=P;break;case"copy":case"cut":case"paste":ee=Ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Rc;break;case"toggle":case"beforetoggle":ee=ne}var Re=(s&4)!==0,mt=!Re&&(r==="scroll"||r==="scrollend"),H=Re?W!==null?W+"Capture":null:W;Re=[];for(var B=Q,K;B!==null;){var ce=B;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||H===null||(ce=Cs(B,H),ce!=null&&Re.push(lu(B,ce,K))),mt)break;B=B.return}0<Re.length&&(W=new ee(W,ke,null,o,oe),de.push({event:W,listeners:Re}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",W&&o!==wc&&(ke=o.relatedTarget||o.fromElement)&&(Xr(ke)||ke[Ra]))break e;if((ee||W)&&(W=oe.window===oe?oe:(W=oe.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(ke=o.relatedTarget||o.toElement,ee=Q,ke=ke?Xr(ke):null,ke!==null&&(mt=l(ke),Re=ke.tag,ke!==mt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(ee=null,ke=Q),ee!==ke)){if(Re=Yi,ce="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Rc,ce="onPointerLeave",H="onPointerEnter",B="pointer"),mt=ee==null?W:bs(ee),K=ke==null?W:bs(ke),W=new Re(ce,B+"leave",ee,o,oe),W.target=mt,W.relatedTarget=K,ce=null,Xr(oe)===Q&&(Re=new Re(H,B+"enter",ke,o,oe),Re.target=K,Re.relatedTarget=mt,ce=Re),mt=ce,ee&&ke)t:{for(Re=ee,H=ke,B=0,K=Re;K;K=bl(K))B++;for(K=0,ce=H;ce;ce=bl(ce))K++;for(;0<B-K;)Re=bl(Re),B--;for(;0<K-B;)H=bl(H),K--;for(;B--;){if(Re===H||H!==null&&Re===H.alternate)break t;Re=bl(Re),H=bl(H)}Re=null}else Re=null;ee!==null&&sE(de,W,ee,Re,!1),ke!==null&&mt!==null&&sE(de,mt,ke,Re,!0)}}e:{if(W=Q?bs(Q):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var we=x0;else if(T0(W))if(S0)we=p2;else{we=f2;var Be=h2}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&$o(Q.elementType)&&(we=x0):we=m2;if(we&&(we=we(r,Q))){w0(de,we,o,oe);break e}Be&&Be(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Ec(W,"number",W.value)}switch(Be=Q?bs(Q):window,r){case"focusin":(T0(Be)||Be.contentEditable==="true")&&(Wo=Be,ep=Q,Oc=null);break;case"focusout":Oc=ep=Wo=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,k0(de,o,oe);break;case"selectionchange":if(y2)break;case"keydown":case"keyup":k0(de,o,oe)}var Se;if(Pe)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Vr?Pr(r,o)&&(Ie="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&(qt&&o.locale!=="ko"&&(Vr||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Vr&&(Se=Md()):(gr=oe,vt="value"in gr?gr.value:gr.textContent,Vr=!0)),Be=Ih(Q,Ie),0<Be.length&&(Ie=new Nc(Ie,r,null,o,oe),de.push({event:Ie,listeners:Be}),Se?Ie.data=Se:(Se=Mr(o),Se!==null&&(Ie.data=Se)))),(Se=it?Ic(r,o):c2(r,o))&&(Ie=Ih(Q,"onBeforeInput"),0<Ie.length&&(Be=new Nc("onBeforeInput","beforeinput",null,o,oe),de.push({event:Be,listeners:Ie}),Be.data=Se)),J2(de,r,Q,o,oe)}rE(de,s)})}function lu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ih(r,s){for(var o=s+"Capture",c=[];r!==null;){var f=r,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Cs(r,o),f!=null&&c.unshift(lu(r,f,y)),f=Cs(r,s),f!=null&&c.push(lu(r,f,y))),r.tag===3)return c;r=r.return}return[]}function bl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sE(r,s,o,c,f){for(var y=s._reactName,x=[];o!==null&&o!==c;){var I=o,U=I.alternate,Q=I.stateNode;if(I=I.tag,U!==null&&U===c)break;I!==5&&I!==26&&I!==27||Q===null||(U=Q,f?(Q=Cs(o,y),Q!=null&&x.unshift(lu(o,Q,U))):f||(Q=Cs(o,y),Q!=null&&x.push(lu(o,Q,U)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var rC=/\r\n?/g,aC=/\u0000|\uFFFD/g;function iE(r){return(typeof r=="string"?r:""+r).replace(rC,`
`).replace(aC,"")}function oE(r,s){return s=iE(s),iE(r)===s}function Dh(){}function ft(r,s,o,c,f,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||pr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&pr(r,""+c);break;case"className":Pi(r,"class",c);break;case"tabIndex":Pi(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(r,o,c);break;case"style":Tc(r,c,y);break;case"data":if(s!=="object"){Pi(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Or(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&ft(r,s,"name",f.name,f,null),ft(r,s,"formEncType",f.formEncType,f,null),ft(r,s,"formMethod",f.formMethod,f,null),ft(r,s,"formTarget",f.formTarget,f,null)):(ft(r,s,"encType",f.encType,f,null),ft(r,s,"method",f.method,f,null),ft(r,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Or(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Dh);break;case"onScroll":c!=null&&Fe("scroll",r);break;case"onScrollEnd":c!=null&&Fe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Or(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Fe("beforetoggle",r),Fe("toggle",r),Oi(r,"popover",c);break;case"xlinkActuate":mr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":mr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":mr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":mr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":mr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":mr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":mr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":mr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":mr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Oi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kd.get(o)||o,Oi(r,o,c))}}function xg(r,s,o,c,f,y){switch(o){case"style":Tc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?pr(r,c):(typeof c=="number"||typeof c=="bigint")&&pr(r,""+c);break;case"onScroll":c!=null&&Fe("scroll",r);break;case"onScrollEnd":c!=null&&Fe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ji.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),y=r[gn]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Oi(r,o,c)}}}function _n(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",r),Fe("load",r);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ft(r,s,y,x,o,null)}}f&&ft(r,s,"srcSet",o.srcSet,o,null),c&&ft(r,s,"src",o.src,o,null);return;case"input":Fe("invalid",r);var I=y=x=f=null,U=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":x=oe;break;case"checked":U=oe;break;case"defaultChecked":Q=oe;break;case"value":y=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:ft(r,s,c,oe,o,null)}}_c(r,y,I,U,Q,x,f,!1),xs(r);return;case"select":Fe("invalid",r),c=x=y=null;for(f in o)if(o.hasOwnProperty(f)&&(I=o[f],I!=null))switch(f){case"value":y=I;break;case"defaultValue":x=I;break;case"multiple":c=I;default:ft(r,s,f,I,o,null)}s=y,o=x,r.multiple=!!c,s!=null?Ss(r,!!c,s,!1):o!=null&&Ss(r,!!c,o,!0);return;case"textarea":Fe("invalid",r),y=f=c=null;for(x in o)if(o.hasOwnProperty(x)&&(I=o[x],I!=null))switch(x){case"value":c=I;break;case"defaultValue":f=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:ft(r,s,x,I,o,null)}jd(r,c,f,y),xs(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(r,s,U,c,o,null)}return;case"dialog":Fe("beforetoggle",r),Fe("toggle",r),Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":Fe("load",r);break;case"video":case"audio":for(c=0;c<ou.length;c++)Fe(ou[c],r);break;case"image":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"embed":case"source":case"link":Fe("error",r),Fe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ft(r,s,Q,c,o,null)}return;default:if($o(s)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&xg(r,s,oe,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&ft(r,s,I,c,o,null))}function sC(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,x=null,I=null,U=null,Q=null,oe=null;for(ee in o){var de=o[ee];if(o.hasOwnProperty(ee)&&de!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=de;default:c.hasOwnProperty(ee)||ft(r,s,ee,null,c,de)}}for(var W in c){var ee=c[W];if(de=o[W],c.hasOwnProperty(W)&&(ee!=null||de!=null))switch(W){case"type":y=ee;break;case"name":f=ee;break;case"checked":Q=ee;break;case"defaultChecked":oe=ee;break;case"value":x=ee;break;case"defaultValue":I=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:ee!==de&&ft(r,s,W,ee,c,de)}}vc(r,x,I,U,Q,oe,y,f);return;case"select":ee=x=I=W=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":ee=U;default:c.hasOwnProperty(y)||ft(r,s,y,null,c,U)}for(f in c)if(y=c[f],U=o[f],c.hasOwnProperty(f)&&(y!=null||U!=null))switch(f){case"value":W=y;break;case"defaultValue":I=y;break;case"multiple":x=y;default:y!==U&&ft(r,s,f,y,c,U)}s=I,o=x,c=ee,W!=null?Ss(r,!!o,W,!1):!!c!=!!o&&(s!=null?Ss(r,!!o,s,!0):Ss(r,!!o,o?[]:"",!1));return;case"textarea":ee=W=null;for(I in o)if(f=o[I],o.hasOwnProperty(I)&&f!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ft(r,s,I,null,c,f)}for(x in c)if(f=c[x],y=o[x],c.hasOwnProperty(x)&&(f!=null||y!=null))switch(x){case"value":W=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==y&&ft(r,s,x,f,c,y)}Dd(r,W,ee);return;case"option":for(var ke in o)if(W=o[ke],o.hasOwnProperty(ke)&&W!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:ft(r,s,ke,null,c,W)}for(U in c)if(W=c[U],ee=o[U],c.hasOwnProperty(U)&&W!==ee&&(W!=null||ee!=null))switch(U){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ft(r,s,U,W,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)W=o[Re],o.hasOwnProperty(Re)&&W!=null&&!c.hasOwnProperty(Re)&&ft(r,s,Re,null,c,W);for(Q in c)if(W=c[Q],ee=o[Q],c.hasOwnProperty(Q)&&W!==ee&&(W!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,s));break;default:ft(r,s,Q,W,c,ee)}return;default:if($o(s)){for(var mt in o)W=o[mt],o.hasOwnProperty(mt)&&W!==void 0&&!c.hasOwnProperty(mt)&&xg(r,s,mt,void 0,c,W);for(oe in c)W=c[oe],ee=o[oe],!c.hasOwnProperty(oe)||W===ee||W===void 0&&ee===void 0||xg(r,s,oe,W,c,ee);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!c.hasOwnProperty(H)&&ft(r,s,H,null,c,W);for(de in c)W=c[de],ee=o[de],!c.hasOwnProperty(de)||W===ee||W==null&&ee==null||ft(r,s,de,W,c,ee)}var Sg=null,Ag=null;function jh(r){return r.nodeType===9?r:r.ownerDocument}function lE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Cg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ng=null;function iC(){var r=window.event;return r&&r.type==="popstate"?r===Ng?!1:(Ng=r,!0):(Ng=null,!1)}var uE=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(r){return dE.resolve(null).then(r).catch(cC)}:uE;function cC(r){setTimeout(function(){throw r})}function Hs(r){return r==="head"}function hE(r,s){var o=s,c=0,f=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var x=r.ownerDocument;if(o&1&&cu(x.documentElement),o&2&&cu(x.body),o&4)for(o=x.head,cu(o),x=o.firstChild;x;){var I=x.nextSibling,U=x.nodeName;x[Es]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=I}}if(f===0){r.removeChild(y),yu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);yu(s)}function Rg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rg(o),Uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function uC(r,s,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Es])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=zr(r.nextSibling),r===null)break}return null}function dC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=zr(r.nextSibling),r===null))return null;return r}function Ig(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function hC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Dg=null;function fE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function mE(r,s,o){switch(s=jh(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function cu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Uo(r)}var wr=new Map,pE=new Set;function kh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ka=G.d;G.d={f:fC,r:mC,D:pC,C:gC,L:yC,m:vC,X:EC,S:_C,M:bC};function fC(){var r=Ka.f(),s=xh();return r||s}function mC(r){var s=Wr(r);s!==null&&s.tag===5&&s.type==="form"?P_(s):Ka.r(r)}var Tl=typeof document>"u"?null:document;function gE(r,s,o){var c=Tl;if(c&&typeof s=="string"&&s){var f=dn(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),pE.has(f)||(pE.add(f),r={rel:r,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),_n(s,"link",r),Bt(s),c.head.appendChild(s)))}}function pC(r){Ka.D(r),gE("dns-prefetch",r,null)}function gC(r,s){Ka.C(r,s),gE("preconnect",r,s)}function yC(r,s,o){Ka.L(r,s,o);var c=Tl;if(c&&r&&s){var f='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+dn(o.imageSizes)+'"]')):f+='[href="'+dn(r)+'"]';var y=f;switch(s){case"style":y=wl(r);break;case"script":y=xl(r)}wr.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),wr.set(y,r),c.querySelector(f)!==null||s==="style"&&c.querySelector(uu(y))||s==="script"&&c.querySelector(du(y))||(s=c.createElement("link"),_n(s,"link",r),Bt(s),c.head.appendChild(s)))}}function vC(r,s){Ka.m(r,s);var o=Tl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+dn(c)+'"][href="'+dn(r)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xl(r)}if(!wr.has(y)&&(r=v({rel:"modulepreload",href:r},s),wr.set(y,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(y)))return}c=o.createElement("link"),_n(c,"link",r),Bt(c),o.head.appendChild(c)}}}function _C(r,s,o){Ka.S(r,s,o);var c=Tl;if(c&&r){var f=Ts(c).hoistableStyles,y=wl(r);s=s||"default";var x=f.get(y);if(!x){var I={loading:0,preload:null};if(x=c.querySelector(uu(y)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=wr.get(y))&&jg(r,o);var U=x=c.createElement("link");Bt(U),_n(U,"link",r),U._p=new Promise(function(Q,oe){U.onload=Q,U.onerror=oe}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Oh(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:I},f.set(y,x)}}}function EC(r,s){Ka.X(r,s);var o=Tl;if(o&&r){var c=Ts(o).hoistableScripts,f=xl(r),y=c.get(f);y||(y=o.querySelector(du(f)),y||(r=v({src:r,async:!0},s),(s=wr.get(f))&&kg(r,s),y=o.createElement("script"),Bt(y),_n(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function bC(r,s){Ka.M(r,s);var o=Tl;if(o&&r){var c=Ts(o).hoistableScripts,f=xl(r),y=c.get(f);y||(y=o.querySelector(du(f)),y||(r=v({src:r,async:!0,type:"module"},s),(s=wr.get(f))&&kg(r,s),y=o.createElement("script"),Bt(y),_n(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function yE(r,s,o,c){var f=(f=ie.current)?kh(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=wl(o.href),o=Ts(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=wl(o.href);var y=Ts(f).hoistableStyles,x=y.get(r);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,x),(y=f.querySelector(uu(r)))&&!y._p&&(x.instance=y,x.state.loading=5),wr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wr.set(r,o),y||TC(f,r,o,x.state))),s&&c===null)throw Error(a(528,""));return x}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xl(o),o=Ts(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function wl(r){return'href="'+dn(r)+'"'}function uu(r){return'link[rel="stylesheet"]['+r+"]"}function vE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function TC(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),_n(s,"link",o),Bt(s),r.head.appendChild(s))}function xl(r){return'[src="'+dn(r)+'"]'}function du(r){return"script[async]"+r}function _E(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+dn(o.href)+'"]');if(c)return s.instance=c,Bt(c),c;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Bt(c),_n(c,"style",f),Oh(c,o.precedence,r),s.instance=c;case"stylesheet":f=wl(o.href);var y=r.querySelector(uu(f));if(y)return s.state.loading|=4,s.instance=y,Bt(y),y;c=vE(o),(f=wr.get(f))&&jg(c,f),y=(r.ownerDocument||r).createElement("link"),Bt(y);var x=y;return x._p=new Promise(function(I,U){x.onload=I,x.onerror=U}),_n(y,"link",c),s.state.loading|=4,Oh(y,o.precedence,r),s.instance=y;case"script":return y=xl(o.src),(f=r.querySelector(du(y)))?(s.instance=f,Bt(f),f):(c=o,(f=wr.get(y))&&(c=v({},o),kg(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),Bt(f),_n(f,"link",c),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Oh(c,o.precedence,r));return s.instance}function Oh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,x=0;x<c.length;x++){var I=c[x];if(I.dataset.precedence===s)y=I;else if(y!==f)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function jg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function kg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ph=null;function EE(r,s,o){if(Ph===null){var c=new Map,f=Ph=new Map;f.set(o,c)}else f=Ph,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var y=o[f];if(!(y[Es]||y[zt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=r+x;var I=c.get(x);I?I.push(y):c.set(x,[y])}}return c}function bE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function wC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hu=null;function xC(){}function SC(r,s,o){if(hu===null)throw Error(a(475));var c=hu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=wl(o.href),y=r.querySelector(uu(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Mh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Bt(y);return}y=r.ownerDocument||r,o=vE(o),(f=wr.get(f))&&jg(o,f),y=y.createElement("link"),Bt(y);var x=y;x._p=new Promise(function(I,U){x.onload=I,x.onerror=U}),_n(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Mh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function AC(){if(hu===null)throw Error(a(475));var r=hu;return r.stylesheets&&r.count===0&&Og(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Og(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vh=null;function Og(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vh=new Map,s.forEach(CC,r),Vh=null,Mh.call(r))}function CC(r,s){if(!(s.state.loading&4)){var o=Vh.get(r);if(o)var c=o.get(null);else{o=new Map,Vh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var x=f[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}f=s.instance,x=f.getAttribute("data-precedence"),y=o.get(x)||c,y===c&&o.set(null,f),o.set(x,f),this.count++,c=Mh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var fu={$$typeof:X,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function NC(r,s,o,c,f,y,x,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.hiddenUpdates=Lo(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function wE(r,s,o,c,f,y,x,I,U,Q,oe,de){return r=new NC(r,s,o,x,I,U,Q,de),s=1,y===!0&&(s|=24),y=Xn(3,null,null,s),r.current=y,y.stateNode=r,s=pp(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},_p(y),r}function xE(r){return r?(r=tl,r):tl}function SE(r,s,o,c,f,y){f=xE(f),c.context===null?c.context=f:c.pendingContext=f,c=js(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ks(r,c,s),o!==null&&(tr(o,r,s),Fc(o,r,s))}function AE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Pg(r,s){AE(r,s),(r=r.alternate)&&AE(r,s)}function CE(r){if(r.tag===13){var s=el(r,67108864);s!==null&&tr(s,r,67108864),Pg(r,67108864)}}var Lh=!0;function RC(r,s,o,c){var f=$.T;$.T=null;var y=G.p;try{G.p=2,Mg(r,s,o,c)}finally{G.p=y,$.T=f}}function IC(r,s,o,c){var f=$.T;$.T=null;var y=G.p;try{G.p=8,Mg(r,s,o,c)}finally{G.p=y,$.T=f}}function Mg(r,s,o,c){if(Lh){var f=Vg(c);if(f===null)wg(r,s,c,Uh,o),RE(r,c);else if(jC(f,r,s,o,c))c.stopPropagation();else if(RE(r,c),s&4&&-1<DC.indexOf(r)){for(;f!==null;){var y=Wr(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Dr(y.pendingLanes);if(x!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var U=1<<31-On(x);I.entanglements[1]|=U,x&=~U}oa(y),(ot&6)===0&&(Th=gt()+500,iu(0))}}break;case 13:I=el(y,2),I!==null&&tr(I,y,2),xh(),Pg(y,2)}if(y=Vg(c),y===null&&wg(r,s,c,Uh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else wg(r,s,c,null,o)}}function Vg(r){return r=xc(r),Lg(r)}var Uh=null;function Lg(r){if(Uh=null,r=Xr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Uh=r,null}function NE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ca()){case Rt:return 2;case Lt:return 8;case Ir:case mc:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var Ug=!1,Gs=null,Ks=null,Ys=null,mu=new Map,pu=new Map,Qs=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(r,s){switch(r){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(s.pointerId)}}function gu(r,s,o,c,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Wr(s),s!==null&&CE(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function jC(r,s,o,c,f){switch(s){case"focusin":return Gs=gu(Gs,r,s,o,c,f),!0;case"dragenter":return Ks=gu(Ks,r,s,o,c,f),!0;case"mouseover":return Ys=gu(Ys,r,s,o,c,f),!0;case"pointerover":var y=f.pointerId;return mu.set(y,gu(mu.get(y)||null,r,s,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,pu.set(y,gu(pu.get(y)||null,r,s,o,c,f)),!0}return!1}function IE(r){var s=Xr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Gm(r.priority,function(){if(o.tag===13){var c=er();c=gc(c);var f=el(o,c);f!==null&&tr(f,o,c),Pg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function zh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Vg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);wc=c,o.target.dispatchEvent(c),wc=null}else return s=Wr(o),s!==null&&CE(s),r.blockedOn=o,!1;s.shift()}return!0}function DE(r,s,o){zh(r)&&o.delete(s)}function kC(){Ug=!1,Gs!==null&&zh(Gs)&&(Gs=null),Ks!==null&&zh(Ks)&&(Ks=null),Ys!==null&&zh(Ys)&&(Ys=null),mu.forEach(DE),pu.forEach(DE)}function Bh(r,s){r.blockedOn===s&&(r.blockedOn=null,Ug||(Ug=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kC)))}var qh=null;function jE(r){qh!==r&&(qh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qh===r&&(qh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],f=r[s+2];if(typeof c!="function"){if(Lg(c||o)===null)continue;break}var y=Wr(o);y!==null&&(r.splice(s,3),s-=3,Lp(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function yu(r){function s(U){return Bh(U,r)}Gs!==null&&Bh(Gs,r),Ks!==null&&Bh(Ks,r),Ys!==null&&Bh(Ys,r),mu.forEach(s),pu.forEach(s);for(var o=0;o<Qs.length;o++){var c=Qs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Qs.length&&(o=Qs[0],o.blockedOn===null);)IE(o),o.blockedOn===null&&Qs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],x=f[gn]||null;if(typeof y=="function")x||jE(o);else if(x){var I=null;if(y&&y.hasAttribute("formAction")){if(f=y,x=y[gn]||null)I=x.formAction;else if(Lg(f)!==null)continue}else I=x.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),jE(o)}}}function zg(r){this._internalRoot=r}Fh.prototype.render=zg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=er();SE(o,c,r,s,null,null)},Fh.prototype.unmount=zg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;SE(r.current,2,null,r,null,null),xh(),s[Ra]=null}};function Fh(r){this._internalRoot=r}Fh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Na();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Qs.length&&s!==0&&s<Qs[o].priority;o++);Qs.splice(o,0,r),o===0&&IE(r)}};var kE=e.version;if(kE!=="19.1.1")throw Error(a(527,kE,"19.1.1"));G.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var OC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ms=$h.inject(OC),xn=$h}catch{}}return _u.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",f=Q_,y=X_,x=W_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=wE(r,1,!1,null,null,o,c,f,y,x,I,null),r[Ra]=s.current,Tg(r),new zg(s)},_u.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,f="",y=Q_,x=X_,I=W_,U=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=wE(r,1,!0,s,o??null,c,f,y,x,I,U,Q),s.context=xE(null),o=s.current,c=er(),c=gc(c),f=js(c),f.callback=null,ks(o,f,c),o=c,s.current.lanes=o,Ut(s,o),oa(s),r[Ra]=s.current,Tg(r),new Fh(s)},_u.version="19.1.1",_u}var $E;function GC(){if($E)return Fg.exports;$E=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fg.exports=HC(),Fg.exports}var KC=GC();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HE="popstate";function YC(t={}){function e(a,i){let{pathname:l,search:u,hash:m}=a.location;return py("",{pathname:l,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:Hu(i)}return XC(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QC(){return Math.random().toString(36).substring(2,10)}function GE(t,e){return{usr:t.state,key:t.key,idx:e}}function py(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rc(e):e,state:n,key:e&&e.key||a||QC()}}function Hu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function XC(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,m="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function E(){m="POP";let O=v(),z=O==null?null:O-g;g=O,p&&p({action:m,location:C.location,delta:z})}function w(O,z){m="PUSH";let F=py(C.location,O,z);g=v()+1;let X=GE(F,g),re=C.createHref(F);try{u.pushState(X,"",re)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(re)}l&&p&&p({action:m,location:C.location,delta:1})}function S(O,z){m="REPLACE";let F=py(C.location,O,z);g=v();let X=GE(F,g),re=C.createHref(F);u.replaceState(X,"",re),l&&p&&p({action:m,location:C.location,delta:0})}function A(O){return WC(O)}let C={get action(){return m},get location(){return t(i,u)},listen(O){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(HE,E),p=O,()=>{i.removeEventListener(HE,E),p=null}},createHref(O){return e(i,O)},createURL:A,encodeLocation(O){let z=A(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(O){return u.go(O)}};return C}function WC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Hu(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function fw(t,e,n="/"){return ZC(t,e,n,!1)}function ZC(t,e,n,a){let i=typeof e=="string"?rc(e):e,l=ss(i.pathname||"/",n);if(l==null)return null;let u=mw(t);JC(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let g=uN(l);m=lN(u[p],g,a)}return m}function mw(t,e=[],n=[],a="",i=!1){let l=(u,m,p=i,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;St(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let E=ns([a,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),mw(u.children,e,w,E,p)),!(u.path==null&&!u.index)&&e.push({path:E,score:iN(E,u.index),routesMeta:w})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let p of pw(u.path))l(u,m,!0,p)}),e}function pw(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=pw(a.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),i&&m.push(...u),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function JC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oN(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var eN=/^:[\w-]+$/,tN=3,nN=2,rN=1,aN=10,sN=-2,KE=t=>t==="*";function iN(t,e){let n=t.split("/"),a=n.length;return n.some(KE)&&(a+=sN),e&&(a+=nN),n.filter(i=>!KE(i)).reduce((i,l)=>i+(eN.test(l)?tN:l===""?rN:aN),a)}function oN(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function lN(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!E&&g&&n&&!a[a.length-1].route.index&&(E=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(i,E.params),u.push({params:i,pathname:ns([l,E.pathname]),pathnameBase:mN(ns([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=ns([l,E.pathnameBase]))}return u}function Rf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=cN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:E},w)=>{if(v==="*"){let A=m[w]||"";u=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const S=m[w];return E&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function cN(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function uN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ss(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function dN(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?rc(t):t;return{pathname:n?n.startsWith("/")?n:hN(n,e):e,search:pN(a),hash:gN(i)}}function hN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kg(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rv(t){let e=fN(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function av(t,e,n,a=!1){let i;typeof t=="string"?i=rc(t):(i={...t},St(!i.pathname||!i.pathname.includes("?"),Kg("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Kg("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Kg("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,m;if(u==null)m=n;else{let E=e.length-1;if(!a&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),E-=1;i.pathname=w.join("/")}m=E>=0?e[E]:"/"}let p=dN(i,m),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ns=t=>t.join("/").replace(/\/\/+/g,"/"),mN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gw=["POST","PUT","PATCH","DELETE"];new Set(gw);var vN=["GET",...gw];new Set(vN);var ac=j.createContext(null);ac.displayName="DataRouter";var em=j.createContext(null);em.displayName="DataRouterState";j.createContext(!1);var yw=j.createContext({isTransitioning:!1});yw.displayName="ViewTransition";var _N=j.createContext(new Map);_N.displayName="Fetchers";var EN=j.createContext(null);EN.displayName="Await";var Gr=j.createContext(null);Gr.displayName="Navigation";var ld=j.createContext(null);ld.displayName="Location";var Sa=j.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var sv=j.createContext(null);sv.displayName="RouteError";function bN(t,{relative:e}={}){St(sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=j.useContext(Gr),{hash:i,pathname:l,search:u}=cd(t,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:ns([n,l])),a.createHref({pathname:m,search:u,hash:i})}function sc(){return j.useContext(ld)!=null}function Ei(){return St(sc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ld).location}var vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _w(t){j.useContext(Gr).static||j.useLayoutEffect(t)}function ic(){let{isDataRoute:t}=j.useContext(Sa);return t?ON():TN()}function TN(){St(sc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(ac),{basename:e,navigator:n}=j.useContext(Gr),{matches:a}=j.useContext(Sa),{pathname:i}=Ei(),l=JSON.stringify(rv(a)),u=j.useRef(!1);return _w(()=>{u.current=!0}),j.useCallback((p,g={})=>{if(qr(u.current,vw),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=av(p,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ns([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,i,t])}j.createContext(null);function cd(t,{relative:e}={}){let{matches:n}=j.useContext(Sa),{pathname:a}=Ei(),i=JSON.stringify(rv(n));return j.useMemo(()=>av(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function wN(t,e){return Ew(t,e)}function Ew(t,e,n,a,i){St(sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Gr),{matches:u}=j.useContext(Sa),m=u[u.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",E=m&&m.route;{let F=E&&E.path||"";bw(g,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Ei(),S;if(e){let F=typeof e=="string"?rc(e):e;St(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let A=S.pathname||"/",C=A;if(v!=="/"){let F=v.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=fw(t,{pathname:C});qr(E||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),qr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=NN(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:ns([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:ns([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,a,i);return e&&z?j.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function xN(){let t=kN(),e=yN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,u)}var SN=j.createElement(xN,null),AN=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(Sa.Provider,{value:this.props.routeContext},j.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CN({routeContext:t,match:e,children:n}){let a=j.useContext(ac);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Sa.Provider,{value:t},n)}function NN(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);St(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:E,errors:w}=n,S=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||S){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,E)=>{let w,S=!1,A=null,C=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,A=v.route.errorElement||SN,m&&(p<0&&E===0?(bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):p===E&&(S=!0,C=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,E+1)),z=()=>{let F;return w?F=A:S?F=C:v.route.Component?F=j.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=g,j.createElement(CN,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?j.createElement(AN,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:z(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:a}):z()},null)}function iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RN(t){let e=j.useContext(ac);return St(e,iv(t)),e}function IN(t){let e=j.useContext(em);return St(e,iv(t)),e}function DN(t){let e=j.useContext(Sa);return St(e,iv(t)),e}function ov(t){let e=DN(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jN(){return ov("useRouteId")}function kN(){let t=j.useContext(sv),e=IN("useRouteError"),n=ov("useRouteError");return t!==void 0?t:e.errors?.[n]}function ON(){let{router:t}=RN("useNavigate"),e=ov("useNavigate"),n=j.useRef(!1);return _w(()=>{n.current=!0}),j.useCallback(async(i,l={})=>{qr(n.current,vw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var YE={};function bw(t,e,n){!e&&!YE[t]&&(YE[t]=!0,qr(!1,n))}j.memo(PN);function PN({routes:t,future:e,state:n,unstable_onError:a}){return Ew(t,void 0,n,a,e)}function MN({to:t,replace:e,state:n,relative:a}){St(sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Gr);qr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Sa),{pathname:u}=Ei(),m=ic(),p=av(t,rv(l),u,a==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function Il(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VN({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){St(!sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=rc(n));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:w="default"}=n,S=j.useMemo(()=>{let A=ss(p,u);return A==null?null:{location:{pathname:A,search:g,hash:v,state:E,key:w},navigationType:a}},[u,p,g,v,E,w,a]);return qr(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(Gr.Provider,{value:m},j.createElement(ld.Provider,{children:e,value:S}))}function LN({children:t,location:e}){return wN(gy(t),e)}function gy(t,e=[]){let n=[];return j.Children.forEach(t,(a,i)=>{if(!j.isValidElement(a))return;let l=[...e,i];if(a.type===j.Fragment){n.push.apply(n,gy(a.props.children,l));return}St(a.type===Il,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=gy(a.props.children,l)),n.push(u)}),n}var df="get",hf="application/x-www-form-urlencoded";function tm(t){return t!=null&&typeof t.tagName=="string"}function UN(t){return tm(t)&&t.tagName.toLowerCase()==="button"}function zN(t){return tm(t)&&t.tagName.toLowerCase()==="form"}function BN(t){return tm(t)&&t.tagName.toLowerCase()==="input"}function qN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FN(t,e){return t.button===0&&(!e||e==="_self")&&!qN(t)}var Hh=null;function $N(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var HN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(t){return t!=null&&!HN.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):t}function GN(t,e){let n,a,i,l,u;if(zN(t)){let m=t.getAttribute("action");a=m?ss(m,e):null,n=t.getAttribute("method")||df,i=Yg(t.getAttribute("enctype"))||hf,l=new FormData(t)}else if(UN(t)||BN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(a=p?ss(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||df,i=Yg(t.getAttribute("formenctype"))||Yg(m.getAttribute("enctype"))||hf,l=new FormData(m,t),!$N()){let{name:g,type:v,value:E}=t;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,E)}}else{if(tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=df,a=null,i=hf,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KN(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&ss(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function YN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XN(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await YN(l,n);return u.links?u.links():[]}return[]}));return eR(a.flat(1).filter(QN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function QE(t,e,n,a,i,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function WN(t,e,{includeHydrateFallback:n}={}){return ZN(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function ZN(t){return[...new Set(t)]}function JN(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function eR(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(JN(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function Tw(){let t=j.useContext(ac);return lv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tR(){let t=j.useContext(em);return lv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cv=j.createContext(void 0);cv.displayName="FrameworkContext";function ww(){let t=j.useContext(cv);return lv(t,"You must render this element inside a <HydratedRouter> element"),t}function nR(t,e){let n=j.useContext(cv),[a,i]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,w=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=z=>{z.forEach(F=>{u(F.isIntersecting)})},O=new IntersectionObserver(C,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),j.useEffect(()=>{if(a){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[a]);let S=()=>{i(!0)},A=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Eu(m,S),onBlur:Eu(p,A),onMouseEnter:Eu(g,S),onMouseLeave:Eu(v,A),onTouchStart:Eu(E,S)}]:[!1,w,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rR({page:t,...e}){let{router:n}=Tw(),a=j.useMemo(()=>fw(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?j.createElement(sR,{page:t,matches:a,...e}):null}function aR(t){let{manifest:e,routeModules:n}=ww(),[a,i]=j.useState([]);return j.useEffect(()=>{let l=!1;return XN(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function sR({page:t,matches:e,...n}){let a=Ei(),{manifest:i,routeModules:l}=ww(),{basename:u}=Tw(),{loaderData:m,matches:p}=tR(),g=j.useMemo(()=>QE(t,e,p,i,a,"data"),[t,e,p,i,a]),v=j.useMemo(()=>QE(t,e,p,i,a,"assets"),[t,e,p,i,a]),E=j.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let A=new Set,C=!1;if(e.forEach(z=>{let F=i.routes[z.route.id];!F||!F.hasLoader||(!g.some(X=>X.route.id===z.route.id)&&z.route.id in m&&l[z.route.id]?.shouldRevalidate||F.hasClientLoader?C=!0:A.add(z.route.id))}),A.size===0)return[];let O=KN(t,u,"data");return C&&A.size>0&&O.searchParams.set("_routes",e.filter(z=>A.has(z.route.id)).map(z=>z.route.id).join(",")),[O.pathname+O.search]},[u,m,a,i,g,e,t,l]),w=j.useMemo(()=>WN(v,i),[v,i]),S=aR(v);return j.createElement(j.Fragment,null,E.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),w.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:C})=>j.createElement("link",{key:A,nonce:n.nonce,...C})))}function iR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xw&&(window.__reactRouterVersion="7.9.2")}catch{}function oR({basename:t,children:e,window:n}){let a=j.useRef();a.current==null&&(a.current=YC({window:n,v5Compat:!0}));let i=a.current,[l,u]=j.useState({action:i.action,location:i.location}),m=j.useCallback(p=>{j.startTransition(()=>u(p))},[u]);return j.useLayoutEffect(()=>i.listen(m),[i,m]),j.createElement(VN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gl=j.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:m,target:p,to:g,preventScrollReset:v,viewTransition:E,...w},S){let{basename:A}=j.useContext(Gr),C=typeof g=="string"&&Sw.test(g),O,z=!1;if(typeof g=="string"&&C&&(O=g,xw))try{let M=new URL(window.location.href),L=g.startsWith("//")?new URL(M.protocol+g):new URL(g),k=ss(L.pathname,A);L.origin===M.origin&&k!=null?g=k+L.search+L.hash:z=!0}catch{qr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=bN(g,{relative:i}),[X,re,q]=nR(a,w),Z=dR(g,{replace:u,state:m,target:p,preventScrollReset:v,relative:i,viewTransition:E});function D(M){e&&e(M),M.defaultPrevented||Z(M)}let R=j.createElement("a",{...w,...q,href:O||F,onClick:z||l?e:D,ref:iR(S,re),target:p,"data-discover":!C&&n==="render"?"true":void 0});return X&&!C?j.createElement(j.Fragment,null,R,j.createElement(rR,{page:F})):R});Gl.displayName="Link";var lR=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:m,children:p,...g},v){let E=cd(u,{relative:g.relative}),w=Ei(),S=j.useContext(em),{navigator:A,basename:C}=j.useContext(Gr),O=S!=null&&gR(E)&&m===!0,z=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,F=w.pathname,X=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),X=X?X.toLowerCase():null,z=z.toLowerCase()),X&&C&&(X=ss(X,C)||X);const re=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let q=F===z||!i&&F.startsWith(z)&&F.charAt(re)==="/",Z=X!=null&&(X===z||!i&&X.startsWith(z)&&X.charAt(z.length)==="/"),D={isActive:q,isPending:Z,isTransitioning:O},R=q?e:void 0,M;typeof a=="function"?M=a(D):M=[a,q?"active":null,Z?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(D):l;return j.createElement(Gl,{...g,"aria-current":R,className:M,ref:v,style:L,to:u,viewTransition:m},typeof p=="function"?p(D):p)});lR.displayName="NavLink";var cR=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=df,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...w},S)=>{let A=mR(),C=pR(m,{relative:g}),O=u.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&Sw.test(m),F=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let re=X.nativeEvent.submitter,q=re?.getAttribute("formmethod")||u;A(re||X.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:i,state:l,relative:g,preventScrollReset:v,viewTransition:E})};return j.createElement("form",{ref:S,method:O,action:C,onSubmit:a?p:F,...w,"data-discover":!z&&t==="render"?"true":void 0})});cR.displayName="Form";function uR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(t){let e=j.useContext(ac);return St(e,uR(t)),e}function dR(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let m=ic(),p=Ei(),g=cd(t,{relative:l});return j.useCallback(v=>{if(FN(v,e)){v.preventDefault();let E=n!==void 0?n:Hu(p)===Hu(g);m(t,{replace:E,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[p,m,g,n,a,e,t,i,l,u])}var hR=0,fR=()=>`__${String(++hR)}__`;function mR(){let{router:t}=Aw("useSubmit"),{basename:e}=j.useContext(Gr),n=jN();return j.useCallback(async(a,i={})=>{let{action:l,method:u,encType:m,formData:p,body:g}=GN(a,e);if(i.navigate===!1){let v=i.fetcherKey||fR();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||m,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||m,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pR(t,{relative:e}={}){let{basename:n}=j.useContext(Gr),a=j.useContext(Sa);St(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...cd(t||".",{relative:e})},u=Ei();if(t==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ns([n,l.pathname])),Hu(l)}function gR(t,{relative:e}={}){let n=j.useContext(yw);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Aw("useViewTransitionState"),i=cd(t,{relative:e});if(!n.isTransitioning)return!1;let l=ss(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=ss(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Rf(i.pathname,u)!=null||Rf(i.pathname,l)!=null}const ar={home:"/",forgotPassword:"/forgot-password",login:"/login",register:"/register",dashboard:"/dashboard",cadastros:"/cadastros"},yR=()=>{};var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vR=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const i=t[n++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],m=t[n++],p=((i&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,m=u?t[i+1]:0,p=i+2<t.length,g=p?t[i+2]:0,v=l>>2,E=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,S=g&63;p||(S=64,u||(w=64)),a.push(n[v],n[E],n[w],n[S])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],m=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||m==null||g==null||E==null)throw new _R;const w=l<<2|m>>4;if(a.push(w),g!==64){const S=m<<4&240|g>>2;if(a.push(S),E!==64){const A=g<<6&192|E;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(t){const e=Cw(t);return Nw.encodeByteArray(e,!0)},If=function(t){return ER(t).replace(/\./g,"")},Rw=function(t){try{return Nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>bR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof XE>"u")return;const t=XE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rw(t[1]);return e&&JSON.parse(e)},nm=()=>{try{return yR()||TR()||wR()||xR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iw=t=>nm()?.emulatorHosts?.[t],Dw=t=>{const e=Iw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},jw=()=>nm()?.config,kw=t=>nm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[If(JSON.stringify(n)),If(JSON.stringify(u)),""].join(".")}const Mu={};function AR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?t.emulator.push(e):t.prod.push(e);return t}function CR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WE=!1;function dv(t,e){if(typeof window>"u"||typeof document>"u"||!bi(window.location.host)||Mu[t]===e||Mu[t]||WE)return;Mu[t]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",l=AR().prod.length>0;function u(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{WE=!0,u()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=CR(a),S=n("text"),A=document.getElementById(S)||document.createElement("span"),C=n("learnmore"),O=document.getElementById(C)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;m(X),v(O,C);const re=g();p(F,z),X.append(F,A,O,re),document.body.appendChild(X)}l?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function RR(){const t=nm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OR(){return!RR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class Aa extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=VR,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ud.prototype.create)}}class ud{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?LR(l,a):"Error",m=`${this.serviceName}: ${u} (${i}).`;return new Aa(i,m,a)}}function LR(t,e){return t.replace(UR,(n,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const UR=/\{\$([^}]+)}/g;function zR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const i of n){if(!a.includes(i))return!1;const l=t[i],u=e[i];if(ZE(l)&&ZE(u)){if(!bo(l,u))return!1}else if(l!==u)return!1}for(const i of a)if(!n.includes(i))return!1;return!0}function ZE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Cu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BR(t,e){const n=new qR(t,e);return n.subscribe.bind(n)}class qR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let i;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");FR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:a},i.next===void 0&&(i.next=Qg),i.error===void 0&&(i.error=Qg),i.complete===void 0&&(i.complete=Qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new SR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&u.resolve(i)}return i}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(a)??new Set;i.add(e),this.onInitCallbacks.set(a,i);const l=this.instances.get(a);return l&&e(l,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const i of a)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(t){return t===po?void 0:t}function GR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const YR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},QR=He.INFO,XR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},WR=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),i=XR[e];if(i)console[i](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const ZR=(t,e)=>e.some(n=>t instanceof n);let JE,eb;function JR(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,yy=new WeakMap,Mw=new WeakMap,Xg=new WeakMap,fv=new WeakMap;function tI(t){const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ii(t.result)),i()},u=()=>{a(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Pw.set(n,t)}).catch(()=>{}),fv.set(e,t),e}function nI(t){if(yy.has(t))return;const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});yy.set(t,e)}let vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rI(t){vy=t(vy)}function aI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(Wg(this),e,...n);return Mw.set(a,e.sort?e.sort():[e]),ii(a)}:eI().includes(t)?function(...e){return t.apply(Wg(this),e),ii(Pw.get(this))}:function(...e){return ii(t.apply(Wg(this),e))}}function sI(t){return typeof t=="function"?aI(t):(t instanceof IDBTransaction&&nI(t),ZR(t,JR())?new Proxy(t,vy):t)}function ii(t){if(t instanceof IDBRequest)return tI(t);if(Xg.has(t))return Xg.get(t);const e=sI(t);return e!==t&&(Xg.set(t,e),fv.set(e,t)),e}const Wg=t=>fv.get(t);function iI(t,e,{blocked:n,upgrade:a,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),m=ii(u);return a&&u.addEventListener("upgradeneeded",p=>{a(ii(u.result),p.oldVersion,p.newVersion,ii(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],Zg=new Map;function tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,i=lI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(i||oI.includes(n)))return;const l=async function(u,...m){const p=this.transaction(u,i?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),i&&p.done]))[0]};return Zg.set(e,l),l}rI(t=>({...t,get:(e,n,a)=>tb(e,n)||t.get(e,n,a),has:(e,n)=>!!tb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function uI(t){return t.getComponent()?.type==="VERSION"}const _y="@firebase/app",nb="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new hv("@firebase/app"),dI="@firebase/app-compat",hI="@firebase/analytics-compat",fI="@firebase/analytics",mI="@firebase/app-check-compat",pI="@firebase/app-check",gI="@firebase/auth",yI="@firebase/auth-compat",vI="@firebase/database",_I="@firebase/data-connect",EI="@firebase/database-compat",bI="@firebase/functions",TI="@firebase/functions-compat",wI="@firebase/installations",xI="@firebase/installations-compat",SI="@firebase/messaging",AI="@firebase/messaging-compat",CI="@firebase/performance",NI="@firebase/performance-compat",RI="@firebase/remote-config",II="@firebase/remote-config-compat",DI="@firebase/storage",jI="@firebase/storage-compat",kI="@firebase/firestore",OI="@firebase/ai",PI="@firebase/firestore-compat",MI="firebase",VI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="[DEFAULT]",LI={[_y]:"fire-core",[dI]:"fire-core-compat",[fI]:"fire-analytics",[hI]:"fire-analytics-compat",[pI]:"fire-app-check",[mI]:"fire-app-check-compat",[gI]:"fire-auth",[yI]:"fire-auth-compat",[vI]:"fire-rtdb",[_I]:"fire-data-connect",[EI]:"fire-rtdb-compat",[bI]:"fire-fn",[TI]:"fire-fn-compat",[wI]:"fire-iid",[xI]:"fire-iid-compat",[SI]:"fire-fcm",[AI]:"fire-fcm-compat",[CI]:"fire-perf",[NI]:"fire-perf-compat",[RI]:"fire-rc",[II]:"fire-rc-compat",[DI]:"fire-gcs",[jI]:"fire-gcs-compat",[kI]:"fire-fst",[PI]:"fire-fst-compat",[OI]:"fire-vertex","fire-js":"fire-js",[MI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,UI=new Map,by=new Map;function rb(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(by.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,t);for(const n of Df.values())rb(n,t);for(const n of UI.values())rb(n,t);return!0}function rm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new ud("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=VI;function Vw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a={name:Ey,automaticDataCollectionEnabled:!0,...e},i=a.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=jw()),!n)throw oi.create("no-options");const l=Df.get(i);if(l){if(bo(n,l.options)&&bo(a,l.config))return l;throw oi.create("duplicate-app",{appName:i})}const u=new KR(i);for(const p of by.values())u.addComponent(p);const m=new BI(n,a,u);return Df.set(i,m),m}function mv(t=Ey){const e=Df.get(t);if(!e&&t===Ey&&jw())return Vw();if(!e)throw oi.create("no-app",{appName:t});return e}function ga(t,e,n){let a=LI[t]??t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const u=[`Unable to register library "${a}" with version "${e}":`];i&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(u.join(" "));return}To(new di(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",FI=1,Gu="firebase-heartbeat-store";let Jg=null;function Lw(){return Jg||(Jg=iI(qI,FI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Jg}async function $I(t){try{const n=(await Lw()).transaction(Gu),a=await n.objectStore(Gu).get(Uw(t));return await n.done,a}catch(e){if(e instanceof Aa)is.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e?.message});is.warn(n.message)}}}async function ab(t,e){try{const a=(await Lw()).transaction(Gu,"readwrite");await a.objectStore(Gu).put(e,Uw(t)),await a.done}catch(n){if(n instanceof Aa)is.warn(n.message);else{const a=oi.create("idb-set",{originalErrorMessage:n?.message});is.warn(a.message)}}}function Uw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1024,GI=30;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>GI){const i=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sb(),{heartbeatsToSend:n,unsentEntries:a}=YI(this._heartbeatsCache.heartbeats),i=If(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return is.warn(e),""}}}function sb(){return new Date().toISOString().substring(0,10)}function YI(t,e=HI){const n=[];let a=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),ib(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ib(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $I(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ib(t){return If(JSON.stringify({version:2,heartbeats:t})).length}function XI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){To(new di("platform-logger",e=>new cI(e),"PRIVATE")),To(new di("heartbeat",e=>new KI(e),"PRIVATE")),ga(_y,nb,t),ga(_y,nb,"esm2020"),ga("fire-js","")}WI("");var ZI="firebase",JI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ga(ZI,JI,"app");function zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eD=zw,Bw=new ud("auth","Firebase",zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new hv("@firebase/auth");function tD(t,...e){jf.logLevel<=He.WARN&&jf.warn(`Auth (${jo}): ${t}`,...e)}function ff(t,...e){jf.logLevel<=He.ERROR&&jf.error(`Auth (${jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw pv(t,...e)}function ya(t,...e){return pv(t,...e)}function qw(t,e,n){const a={...eD(),[e]:n};return new ud("auth","Firebase",a).create(e,{appName:t.name})}function rs(t){return qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return Bw.create(t,...e)}function De(t,e,...n){if(!t)throw pv(e,...n)}function Za(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function os(t,e){t||Za(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){return typeof self<"u"&&self.location?.href||""}function nD(){return ob()==="http:"||ob()==="https:"}function ob(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nD()||DR()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=NR()||jR()}get(){return rD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oD=new hd(3e4,6e4);function hs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,a,i={}){return $w(t,i,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const m=dd({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return IR()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&bi(t.emulatorConfig.host)&&(g.credentials="include"),Fw.fetch()(await Hw(t,t.config.apiHost,n,m),g)})}async function $w(t,e,n){t._canInitEmulator=!1;const a={...sD,...e};try{const i=new cD(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Gh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Gh(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Gh(t,"user-disabled",u);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qw(t,v,g);Fr(t,v)}}catch(i){if(i instanceof Aa)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function fd(t,e,n,a,i={}){const l=await fs(t,e,n,a,i);return"mfaPendingCredential"in l&&Fr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Hw(t,e,n,a){const i=`${e}${n}?${a}`,l=t,u=l.config.emulator?gv(t.config,i):`${t.config.apiScheme}://${i}`;return iD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function lD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ya(this.auth,"network-request-failed")),oD.get())})}}function Gh(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const i=ya(t,e,a);return i.customData._tokenResponse=n,i}function lb(t){return t!==void 0&&t.enterprise!==void 0}class uD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dD(t,e){return fs(t,"GET","/v2/recaptchaConfig",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function kf(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(t,e=!1){const n=Pt(t),a=await n.getIdToken(e),i=yv(a);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l?.sign_in_provider;return{claims:i,token:a,authTime:Vu(ey(i.auth_time)),issuedAtTime:Vu(ey(i.iat)),expirationTime:Vu(ey(i.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ey(t){return Number(t)*1e3}function yv(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rw(n);return i?JSON.parse(i):(ff("Failed to decode base64 JWT payload"),null)}catch(i){return ff("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cb(t){const e=yv(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Aa&&mD(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function mD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t){const e=t.auth,n=await t.getIdToken(),a=await Ku(t,kf(e,{idToken:n}));De(a?.users.length,e,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const l=i.providerUserInfo?.length?Gw(i.providerUserInfo):[],u=yD(t.providerData,l),m=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!u?.length,g=m?p:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function gD(t){const e=Pt(t);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yD(t,e){return[...t.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function Gw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){const n=await $w(t,{},async()=>{const a=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=await Hw(t,i,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return t.emulatorConfig&&bi(t.emulatorConfig.host)&&(p.credentials="include"),Fw.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _D(t,e){return fs(t,"POST","/v2/accounts:revokeToken",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=cb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:i,expiresIn:l}=await vD(e,n);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:i,expirationTime:l}=n,u=new Vl;return a&&(De(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),i&&(De(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(De(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor({uid:e,auth:n,stsTokenManager:a,...i}){this.providerId="firebase",this.proactiveRefresh=new pD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fD(this,e)}reload(){return gD(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Of(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Ku(this,hD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,i=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:S,providerData:A,stsTokenManager:C}=n;De(E&&C,e,"internal-error");const O=Vl.fromJSON(this.name,C);De(typeof E=="string",e,"internal-error"),Ws(a,e.name),Ws(i,e.name),De(typeof w=="boolean",e,"internal-error"),De(typeof S=="boolean",e,"internal-error"),Ws(l,e.name),Ws(u,e.name),Ws(m,e.name),Ws(p,e.name),Ws(g,e.name),Ws(v,e.name);const z=new Br({uid:E,auth:e,email:i,emailVerified:w,displayName:a,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:O,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(z.providerData=A.map(F=>({...F}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,n,a=!1){const i=new Vl;i.updateFromServerResponse(n);const l=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await Of(l),l}static async _fromGetAccountInfoResponse(e,n,a){const i=n.users[0];De(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?Gw(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!l?.length,m=new Vl;m.updateFromIdToken(a);const p=new Br({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;function Ja(t){os(t instanceof Function,"Expected a class definition");let e=ub.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ub.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kw.type="NONE";const db=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,l),this.fullPersistenceKey=mf("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kf(this.auth,{idToken:e}).catch(()=>{});return n?Br._fromGetAccountInfoResponse(this.auth,n,e):null}return Br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ll(Ja(db),e,a);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||Ja(db);const u=mf(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(u);if(v){let E;if(typeof v=="string"){const w=await kf(e,{idToken:v}).catch(()=>{});if(!w)break;E=await Br._fromGetAccountInfoResponse(e,w,v)}else E=Br._fromJSON(e,v);g!==l&&(m=E),l=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ll(l,e,a):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Ll(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jw(e))return"Blackberry";if(ex(e))return"Webos";if(Qw(e))return"Safari";if((e.includes("chrome/")||Xw(e))&&!e.includes("edge/"))return"Chrome";if(Zw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if(a?.length===2)return a[1]}return"Other"}function Yw(t=jn()){return/firefox\//i.test(t)}function Qw(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xw(t=jn()){return/crios\//i.test(t)}function Ww(t=jn()){return/iemobile/i.test(t)}function Zw(t=jn()){return/android/i.test(t)}function Jw(t=jn()){return/blackberry/i.test(t)}function ex(t=jn()){return/webos/i.test(t)}function vv(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ED(t=jn()){return vv(t)&&!!window.navigator?.standalone}function bD(){return kR()&&document.documentMode===10}function tx(t=jn()){return vv(t)||Zw(t)||ex(t)||Jw(t)||/windows phone/i.test(t)||Ww(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e=[]){let n;switch(t){case"Browser":n=hb(jn());break;case"Worker":n=`${hb(jn())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e={}){return fs(t,"GET","/v2/passwordPolicy",hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=6;class SD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,a,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ja(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kf(this,{idToken:e}),a=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(a=m.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(rs(this));const n=e?Pt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wD(this),n=new SD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ud("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await _D(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ja(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,i);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ti(t){return Pt(t)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CD(t){am=t}function rx(t){return am.loadJS(t)}function ND(){return am.recaptchaEnterpriseScript}function RD(){return am.gapiScript}function ID(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DD{constructor(){this.enterprise=new jD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kD="recaptcha-enterprise",ax="NO_RECAPTCHA";class OD{constructor(e){this.type=kD,this.auth=Ti(e)}async verify(e="verify",n=!1){async function a(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{dD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new uD(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{m(p)})})}function i(l,u,m){const p=window.grecaptcha;lb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(ax)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(m=>{if(!n&&lb(window.grecaptcha))i(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ND();p.length!==0&&(p+=m),rx(p).then(()=>{i(m,l,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function mb(t,e,n,a=!1,i=!1){const l=new OD(t);let u;if(i)u=ax;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Pf(t,e,n,a,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await mb(t,e,n,n==="getOobCode");return a(t,l)}else return a(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await mb(t,e,n,n==="getOobCode");return a(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){const n=rm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(bo(l,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function MD(t,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e?.popupRedirectResolver)}function VD(t,e,n){const a=Ti(t);De(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=sx(e),{host:u,port:m}=LD(e),p=m===null?"":`:${m}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){De(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),De(bo(g,a.config.emulator)&&bo(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,bi(u)?(uv(`${l}//${u}${p}`),dv("Auth",!0)):UD()}function sx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LD(t){const e=sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:pb(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:pb(u)}}}function pb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Za("not implemented")}_getIdTokenResponse(e){return Za("not implemented")}_linkToIdToken(e,n){return Za("not implemented")}_getReauthenticationResolver(e){return Za("not implemented")}}async function zD(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e){return fd(t,"POST","/v1/accounts:signInWithPassword",hs(t,e))}async function qD(t,e){return fs(t,"POST","/v1/accounts:sendOobCode",hs(t,e))}async function FD(t,e){return qD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return fd(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}async function HD(t,e){return fd(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends _v{constructor(e,n,a,i=null){super("password",a),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Yu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(e,n,"signInWithPassword",BD);case"emailLink":return $D(e,{email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(e,a,"signUpPassword",zD);case"emailLink":return HD(e,{idToken:n,email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e){return fd(t,"POST","/v1/accounts:signInWithIdp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="http://localhost";class wo extends _v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i,...l}=n;if(!a||!i)return null;const u=new wo(a,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ul(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:GD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YD(t){const e=Au(Cu(t)).link,n=e?Au(Cu(e)).deep_link_id:null,a=Au(Cu(t)).deep_link_id;return(a?Au(Cu(a)).link:null)||a||n||e||t}class Ev{constructor(e){const n=Au(Cu(e)),a=n.apiKey??null,i=n.oobCode??null,l=KD(n.mode??null);De(a&&i&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YD(e);try{return new Ev(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Ev.parseLink(n);return De(a,"argument-error"),Yu._fromEmailAndCode(e,a.code,a.tenantId)}}oc.PROVIDER_ID="password";oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends md{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Js.credential(n,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends md{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends md{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ti.credential(n,a)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e){return fd(t,"POST","/v1/accounts:signUp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,i=!1){const l=await Br._fromIdTokenResponse(e,a,i),u=gb(a);return new xo({user:l,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const i=gb(a);return new xo({user:e,providerId:i,_tokenResponse:a,operationType:n})}}function gb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Aa{constructor(e,n,a,i){super(n.code,n.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,i){return new Mf(e,n,a,i)}}function ox(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(t,l,e,a):l})}async function XD(t,e,n=!1){const a=await Ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e,n=!1){const{auth:a}=t;if(sr(a.app))return Promise.reject(rs(a));const i="reauthenticate";try{const l=await Ku(t,ox(a,i,e,t),n);De(l.idToken,a,"internal-error");const u=yv(l.idToken);De(u,a,"internal-error");const{sub:m}=u;return De(t.uid===m,a,"user-mismatch"),xo._forOperation(t,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Fr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t,e,n=!1){if(sr(t.app))return Promise.reject(rs(t));const a="signIn",i=await ox(t,a,e),l=await xo._fromIdTokenResponse(t,a,i);return n||await t._updateCurrentUser(l.user),l}async function ZD(t,e){return lx(Ti(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t){const e=Ti(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JD(t,e,n){const a=Ti(t);await Pf(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",FD)}async function ej(t,e,n){if(sr(t.app))return Promise.reject(rs(t));const a=Ti(t),u=await Pf(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&cx(t),p}),m=await xo._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(m.user),m}function tj(t,e,n){return sr(t.app)?Promise.reject(rs(t)):ZD(Pt(t),oc.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&cx(t),a})}function nj(t,e,n,a){return Pt(t).onIdTokenChanged(e,n,a)}function rj(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function aj(t,e,n,a){return Pt(t).onAuthStateChanged(e,n,a)}function sj(t){return Pt(t).signOut()}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=1e3,oj=10;class dx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),i=this.localCache[n];a!==i&&e(n,i,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);bD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oj):i()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dx.type="LOCAL";const lj=dx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hx.type="SESSION";const fx=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const a=new sm(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const m=Array.from(u).map(async g=>g(n.origin,l)),p=await cj(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const g=bv("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);u={messageChannel:i,onMessage(E){const w=E;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(){return window}function dj(t){va().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){return typeof va().WorkerGlobalScope<"u"&&typeof va().importScripts=="function"}async function hj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fj(){return navigator?.serviceWorker?.controller||null}function mj(){return mx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebaseLocalStorageDb",pj=1,Lf="firebaseLocalStorage",gx="fbase_key";class pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function im(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function gj(){const t=indexedDB.deleteDatabase(px);return new pd(t).toPromise()}function xy(){const t=indexedDB.open(px,pj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(Lf,{keyPath:gx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(Lf)?e(a):(a.close(),await gj(),e(await xy()))})})}async function yb(t,e,n){const a=im(t,!0).put({[gx]:e,value:n});return new pd(a).toPromise()}async function yj(t,e){const n=im(t,!1).get(e),a=await new pd(n).toPromise();return a===void 0?null:a.value}function vb(t,e){const n=im(t,!0).delete(e);return new pd(n).toPromise()}const vj=800,_j=3;class yx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>_j)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(mj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hj(),!this.activeServiceWorker)return;this.sender=new uj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await yb(e,Vf,"1"),await vb(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>yb(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>yj(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=im(i,!1).getAll();return new pd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yx.type="LOCAL";const Ej=yx;new hd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t,e){return e?Ja(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends _v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Tj(t){return lx(t.auth,new Tv(t),t.bypassAuthState)}function wj(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),WD(n,new Tv(t),t.bypassAuthState)}async function xj(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),XD(n,new Tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:i,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tj;case"linkViaPopup":case"linkViaRedirect":return xj;case"reauthViaPopup":case"reauthViaRedirect":return wj;default:Fr(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new hd(2e3,1e4);class Pl extends vx{constructor(e,n,a,i,l){super(e,n,i,l),this.provider=a,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sj.get())};e()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="pendingRedirect",pf=new Map;class Cj extends vx{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const a=await Nj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nj(t,e){const n=Dj(e),a=Ij(t);if(!await a._isAvailable())return!1;const i=await a._get(n)==="true";return await a._remove(n),i}function Rj(t,e){pf.set(t._key(),e)}function Ij(t){return Ja(t._redirectPersistence)}function Dj(t){return mf(Aj,t.config.apiKey,t.name)}async function jj(t,e,n=!1){if(sr(t.app))return Promise.reject(rs(t));const a=Ti(t),i=bj(a,e),u=await new Cj(a,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=600*1e3;class Oj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_x(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ya(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kj&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _x({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lj=/^https?/;async function Uj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mj(t);for(const n of e)try{if(zj(n))return}catch{}Fr(t,"unauthorized-domain")}function zj(t){const e=Ty(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!Lj.test(n))return!1;if(Vj.test(t))return a===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new hd(3e4,6e4);function Eb(){const t=va().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qj(t){return new Promise((e,n)=>{function a(){Eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(ya(t,"network-request-failed"))},timeout:Bj.get()})}if(va().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(va().gapi?.load)a();else{const i=ID("iframefcb");return va()[i]=()=>{gapi.load?a():n(ya(t,"network-request-failed"))},rx(`${RD()}?onload=${i}`).catch(l=>n(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function Fj(t){return gf=gf||qj(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new hd(5e3,15e3),Hj="__/auth/iframe",Gj="emulator/auth/iframe",Kj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qj(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gv(e,Gj):`https://${t.config.authDomain}/${Hj}`,a={apiKey:e.apiKey,appName:t.name,v:jo},i=Yj.get(t.config.apiHost);i&&(a.eid=i);const l=t._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${dd(a).slice(1)}`}async function Xj(t){const e=await Fj(t),n=va().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Qj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kj,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const u=ya(t,"network-request-failed"),m=va().setTimeout(()=>{l(u)},$j.get());function p(){va().clearTimeout(m),i(a)}a.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zj=500,Jj=600,ek="_blank",tk="http://localhost";class bb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nk(t,e,n,a=Zj,i=Jj){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...Wj,width:a.toString(),height:i.toString(),top:l,left:u},g=jn().toLowerCase();n&&(m=Xw(g)?ek:n),Yw(g)&&(e=e||tk,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[S,A])=>`${w}${S}=${A},`,"");if(ED(g)&&m!=="_self")return rk(e||"",m),new bb(null);const E=window.open(e||"",m,v);De(E,t,"popup-blocked");try{E.focus()}catch{}return new bb(E)}function rk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="__/auth/handler",sk="emulator/auth/handler",ik=encodeURIComponent("fac");async function Tb(t,e,n,a,i,l){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:jo,eventId:i};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",zR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof md){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await t._getAppCheckToken(),g=p?`#${ik}=${encodeURIComponent(p)}`:"";return`${ok(t)}?${dd(m).slice(1)}${g}`}function ok({config:t}){return t.emulator?gv(t,sk):`https://${t.authDomain}/${ak}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="webStorageSupport";class lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=jj,this._overrideRedirectResult=Rj}async _openPopup(e,n,a,i){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Tb(e,n,a,Ty(),i);return nk(e,l,bv())}async _openRedirect(e,n,a,i){await this._originValidation(e);const l=await Tb(e,n,a,Ty(),i);return dj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(os(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Xj(e),a=new Oj(e);return n.register("authEvent",i=>(De(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ty,{type:ty},i=>{const l=i?.[0]?.[ty];l!==void 0&&n(!!l),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tx()||Qw()||vv()}}const ck=lk;var wb="@firebase/auth",xb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hk(t){To(new di("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=a.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(t)},g=new AD(a,i,l,p);return MD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),To(new di("auth-internal",e=>{const n=Ti(e.getProvider("auth").getImmediate());return(a=>new uk(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ga(wb,xb,dk(t)),ga(wb,xb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=300,mk=kw("authIdTokenMaxAge")||fk;let Sb=null;const pk=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>mk)return;const i=n?.token;Sb!==i&&(Sb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gk(t=mv()){const e=rm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PD(t,{popupRedirectResolver:ck,persistence:[Ej,lj,fx]}),a=kw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=pk(l.toString());rj(n,u,()=>u(n.currentUser)),nj(n,m=>u(m))}}const i=Iw("auth");return i&&VD(n,`http://${i}`),n}function yk(){return document.getElementsByTagName("head")?.[0]??document}CD({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=i=>{const l=ya("internal-error");l.customData=i,n(l)},a.type="text/javascript",a.charset="UTF-8",yk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hk("Browser");var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,Ex;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function M(){}M.prototype=R.prototype,D.F=R.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(L,k,b){for(var N=Array(arguments.length-2),te=2;te<arguments.length;te++)N[te-2]=arguments[te];return R.prototype[k].apply(L,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,R,M){M||(M=0);const L=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)L[k]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(k=0;k<16;++k)L[k]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=D.g[0],M=D.g[1],k=D.g[2];let b=D.g[3],N;N=R+(b^M&(k^b))+L[0]+3614090360&4294967295,R=M+(N<<7&4294967295|N>>>25),N=b+(k^R&(M^k))+L[1]+3905402710&4294967295,b=R+(N<<12&4294967295|N>>>20),N=k+(M^b&(R^M))+L[2]+606105819&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(R^k&(b^R))+L[3]+3250441966&4294967295,M=k+(N<<22&4294967295|N>>>10),N=R+(b^M&(k^b))+L[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=b+(k^R&(M^k))+L[5]+1200080426&4294967295,b=R+(N<<12&4294967295|N>>>20),N=k+(M^b&(R^M))+L[6]+2821735955&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(R^k&(b^R))+L[7]+4249261313&4294967295,M=k+(N<<22&4294967295|N>>>10),N=R+(b^M&(k^b))+L[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=b+(k^R&(M^k))+L[9]+2336552879&4294967295,b=R+(N<<12&4294967295|N>>>20),N=k+(M^b&(R^M))+L[10]+4294925233&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(R^k&(b^R))+L[11]+2304563134&4294967295,M=k+(N<<22&4294967295|N>>>10),N=R+(b^M&(k^b))+L[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=b+(k^R&(M^k))+L[13]+4254626195&4294967295,b=R+(N<<12&4294967295|N>>>20),N=k+(M^b&(R^M))+L[14]+2792965006&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(R^k&(b^R))+L[15]+1236535329&4294967295,M=k+(N<<22&4294967295|N>>>10),N=R+(k^b&(M^k))+L[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(R^M))+L[6]+3225465664&4294967295,b=R+(N<<9&4294967295|N>>>23),N=k+(R^M&(b^R))+L[11]+643717713&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^R&(k^b))+L[0]+3921069994&4294967295,M=k+(N<<20&4294967295|N>>>12),N=R+(k^b&(M^k))+L[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(R^M))+L[10]+38016083&4294967295,b=R+(N<<9&4294967295|N>>>23),N=k+(R^M&(b^R))+L[15]+3634488961&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^R&(k^b))+L[4]+3889429448&4294967295,M=k+(N<<20&4294967295|N>>>12),N=R+(k^b&(M^k))+L[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(R^M))+L[14]+3275163606&4294967295,b=R+(N<<9&4294967295|N>>>23),N=k+(R^M&(b^R))+L[3]+4107603335&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^R&(k^b))+L[8]+1163531501&4294967295,M=k+(N<<20&4294967295|N>>>12),N=R+(k^b&(M^k))+L[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(R^M))+L[2]+4243563512&4294967295,b=R+(N<<9&4294967295|N>>>23),N=k+(R^M&(b^R))+L[7]+1735328473&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^R&(k^b))+L[12]+2368359562&4294967295,M=k+(N<<20&4294967295|N>>>12),N=R+(M^k^b)+L[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=b+(R^M^k)+L[8]+2272392833&4294967295,b=R+(N<<11&4294967295|N>>>21),N=k+(b^R^M)+L[11]+1839030562&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^R)+L[14]+4259657740&4294967295,M=k+(N<<23&4294967295|N>>>9),N=R+(M^k^b)+L[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=b+(R^M^k)+L[4]+1272893353&4294967295,b=R+(N<<11&4294967295|N>>>21),N=k+(b^R^M)+L[7]+4139469664&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^R)+L[10]+3200236656&4294967295,M=k+(N<<23&4294967295|N>>>9),N=R+(M^k^b)+L[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=b+(R^M^k)+L[0]+3936430074&4294967295,b=R+(N<<11&4294967295|N>>>21),N=k+(b^R^M)+L[3]+3572445317&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^R)+L[6]+76029189&4294967295,M=k+(N<<23&4294967295|N>>>9),N=R+(M^k^b)+L[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=b+(R^M^k)+L[12]+3873151461&4294967295,b=R+(N<<11&4294967295|N>>>21),N=k+(b^R^M)+L[15]+530742520&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^R)+L[2]+3299628645&4294967295,M=k+(N<<23&4294967295|N>>>9),N=R+(k^(M|~b))+L[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=b+(M^(R|~k))+L[7]+1126891415&4294967295,b=R+(N<<10&4294967295|N>>>22),N=k+(R^(b|~M))+L[14]+2878612391&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~R))+L[5]+4237533241&4294967295,M=k+(N<<21&4294967295|N>>>11),N=R+(k^(M|~b))+L[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=b+(M^(R|~k))+L[3]+2399980690&4294967295,b=R+(N<<10&4294967295|N>>>22),N=k+(R^(b|~M))+L[10]+4293915773&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~R))+L[1]+2240044497&4294967295,M=k+(N<<21&4294967295|N>>>11),N=R+(k^(M|~b))+L[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=b+(M^(R|~k))+L[15]+4264355552&4294967295,b=R+(N<<10&4294967295|N>>>22),N=k+(R^(b|~M))+L[6]+2734768916&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~R))+L[13]+1309151649&4294967295,M=k+(N<<21&4294967295|N>>>11),N=R+(k^(M|~b))+L[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=b+(M^(R|~k))+L[11]+3174756917&4294967295,b=R+(N<<10&4294967295|N>>>22),N=k+(R^(b|~M))+L[2]+718787259&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~R))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+b&4294967295}a.prototype.v=function(D,R){R===void 0&&(R=D.length);const M=R-this.blockSize,L=this.C;let k=this.h,b=0;for(;b<R;){if(k==0)for(;b<=M;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<R;)if(L[k++]=D.charCodeAt(b++),k==this.blockSize){i(this,L),k=0;break}}else for(;b<R;)if(L[k++]=D[b++],k==this.blockSize){i(this,L),k=0;break}}this.h=k,this.o+=R},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)D[R++]=this.g[M]>>>L&255;return D};function l(D,R){var M=m;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=R(D)}function u(D,R){this.h=R;const M=[];let L=!0;for(let k=D.length-1;k>=0;k--){const b=D[k]|0;L&&b==R||(M[k]=b,L=!1)}this.g=M}var m={};function p(D){return-128<=D&&D<128?l(D,function(R){return new u([R|0],R<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(D<0)return O(g(-D));const R=[];let M=1;for(let L=0;D>=M;L++)R[L]=D/M|0,M*=4294967296;return new u(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return O(v(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(R,8));let L=E;for(let b=0;b<D.length;b+=8){var k=Math.min(8,D.length-b);const N=parseInt(D.substring(b,b+k),R);k<8?(k=g(Math.pow(R,k)),L=L.j(k).add(g(N))):(L=L.j(M),L=L.add(g(N)))}return L}var E=p(0),w=p(1),S=p(16777216);t=u.prototype,t.m=function(){if(C(this))return-O(this).m();let D=0,R=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);D+=(L>=0?L:4294967296+L)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(C(this))return"-"+O(this).toString(D);const R=g(Math.pow(D,6));var M=this;let L="";for(;;){const k=re(M,R).g;M=z(M,k.j(R));let b=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=k,A(M))return b+L;for(;b.length<6;)b="0"+b;L=b+L}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function C(D){return D.h==-1}t.l=function(D){return D=z(this,D),C(D)?-1:A(D)?0:1};function O(D){const R=D.g.length,M=[];for(let L=0;L<R;L++)M[L]=~D.g[L];return new u(M,~D.h).add(w)}t.abs=function(){return C(this)?O(this):this},t.add=function(D){const R=Math.max(this.g.length,D.g.length),M=[];let L=0;for(let k=0;k<=R;k++){let b=L+(this.i(k)&65535)+(D.i(k)&65535),N=(b>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);L=N>>>16,b&=65535,N&=65535,M[k]=N<<16|b}return new u(M,M[M.length-1]&-2147483648?-1:0)};function z(D,R){return D.add(O(R))}t.j=function(D){if(A(this)||A(D))return E;if(C(this))return C(D)?O(this).j(O(D)):O(O(this).j(D));if(C(D))return O(this.j(O(D)));if(this.l(S)<0&&D.l(S)<0)return g(this.m()*D.m());const R=this.g.length+D.g.length,M=[];for(var L=0;L<2*R;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<D.g.length;k++){const b=this.i(L)>>>16,N=this.i(L)&65535,te=D.i(k)>>>16,fe=D.i(k)&65535;M[2*L+2*k]+=N*fe,F(M,2*L+2*k),M[2*L+2*k+1]+=b*fe,F(M,2*L+2*k+1),M[2*L+2*k+1]+=N*te,F(M,2*L+2*k+1),M[2*L+2*k+2]+=b*te,F(M,2*L+2*k+2)}for(D=0;D<R;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=R;D<2*R;D++)M[D]=0;return new u(M,0)};function F(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function X(D,R){this.g=D,this.h=R}function re(D,R){if(A(R))throw Error("division by zero");if(A(D))return new X(E,E);if(C(D))return R=re(O(D),R),new X(O(R.g),O(R.h));if(C(R))return R=re(D,O(R)),new X(O(R.g),R.h);if(D.g.length>30){if(C(D)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var M=w,L=R;L.l(D)<=0;)M=q(M),L=q(L);var k=Z(M,1),b=Z(L,1);for(L=Z(L,2),M=Z(M,2);!A(L);){var N=b.add(L);N.l(D)<=0&&(k=k.add(M),b=N),L=Z(L,1),M=Z(M,1)}return R=z(D,k.j(R)),new X(k,R)}for(k=E;D.l(R)>=0;){for(M=Math.max(1,Math.floor(D.m()/R.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),b=g(M),N=b.j(R);C(N)||N.l(D)>0;)M-=L,b=g(M),N=b.j(R);A(b)&&(b=w),k=k.add(b),D=z(D,N)}return new X(k,D)}t.B=function(D){return re(this,D).h},t.and=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)&D.i(L);return new u(M,this.h&D.h)},t.or=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)|D.i(L);return new u(M,this.h|D.h)},t.xor=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)^D.i(L);return new u(M,this.h^D.h)};function q(D){const R=D.g.length+1,M=[];for(let L=0;L<R;L++)M[L]=D.i(L)<<1|D.i(L-1)>>>31;return new u(M,D.h)}function Z(D,R){const M=R>>5;R%=32;const L=D.g.length-M,k=[];for(let b=0;b<L;b++)k[b]=R>0?D.i(b+M)>>>R|D.i(b+M+1)<<32-R:D.i(b+M);return new u(k,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Ex=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,li=u}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bx,Nu,Tx,yf,Sy,wx,xx,Sx;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function i(h,_){if(_)e:{var T=a;h=h.split(".");for(var P=0;P<h.length-1;P++){var Y=h[P];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],P=T[h],_=_(P),_!=P&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var T=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&T.push([P,_[P]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=p,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function E(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(P,Y,ne){for(var ge=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ge[Pe-2]=arguments[Pe];return _.prototype[Y].apply(P,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let P=0;P<_;P++)T[P]=h[P];return T}return[]}function A(h,_){for(let P=1;P<arguments.length;P++){const Y=arguments[P];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=h.length||0;const ne=Y.length||0;h.length=T+ne;for(let ge=0;ge<ne;ge++)h[T+ge]=Y[ge]}else h.push(Y)}}class C{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(h){u.setTimeout(()=>{throw h},0)}function z(){var h=D;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const P=X.get();P.set(_,T),this.h?this.h.next=P:this.g=P,this.h=P}}var X=new C(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let q,Z=!1,D=new F,R=()=>{const h=Promise.resolve(void 0);q=()=>{h.then(M)}};function M(){for(var h;h=z();){try{h.h.call(h.g)}catch(T){O(T)}var _=X;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}Z=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function te(h,_){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(te,k),te.prototype.init=function(h,_){const T=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),$=0;function G(h,_,T,P,Y){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!P,this.ha=Y,this.key=++$,this.da=this.fa=!1}function se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,_,T){for(const P in h)_.call(T,h[P],P,h)}function V(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function J(h){const _={};for(const T in h)_[T]=h[T];return _}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(h,_){let T,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(T in P)h[T]=P[T];for(let ne=0;ne<me.length;ne++)T=me[ne],Object.prototype.hasOwnProperty.call(P,T)&&(h[T]=P[T])}}function be(h){this.src=h,this.g={},this.h=0}be.prototype.add=function(h,_,T,P,Y){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const ge=ie(h,_,P,Y);return ge>-1?(_=h[ge],T||(_.fa=!1)):(_=new G(_,this.src,ne,!!P,Y),_.fa=T,h.push(_)),_};function le(h,_){const T=_.type;if(T in h.g){var P=h.g[T],Y=Array.prototype.indexOf.call(P,_,void 0),ne;(ne=Y>=0)&&Array.prototype.splice.call(P,Y,1),ne&&(se(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ie(h,_,T,P){for(let Y=0;Y<h.length;++Y){const ne=h[Y];if(!ne.da&&ne.listener==_&&ne.capture==!!T&&ne.ha==P)return Y}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Ae={};function Ue(h,_,T,P,Y){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)Ue(h,_[ne],T,P,Y);return null}return T=Ca(T),h&&h[fe]?h.J(_,T,m(P)?!!P.capture:!1,Y):rn(h,_,T,!1,P,Y)}function rn(h,_,T,P,Y,ne){if(!_)throw Error("Invalid event type");const ge=m(Y)?!!Y.capture:!!Y;let Pe=dr(h);if(Pe||(h[_e]=Pe=new be(h)),T=Pe.add(_,T,P,ge,ne),T.proxy)return T;if(P=xe(),T.proxy=P,P.src=h,P.listener=T,h.addEventListener)b||(Y=ge),Y===void 0&&(Y=!1),h.addEventListener(_.toString(),P,Y);else if(h.attachEvent)h.attachEvent($e(_.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function xe(){function h(T){return _.call(h.src,h.listener,T)}const _=an;return h}function ze(h,_,T,P,Y){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)ze(h,_[ne],T,P,Y);else P=m(P)?!!P.capture:!!P,T=Ca(T),h&&h[fe]?(h=h.i,ne=String(_).toString(),ne in h.g&&(_=h.g[ne],T=ie(_,T,P,Y),T>-1&&(se(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[ne],h.h--)))):h&&(h=dr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ie(_,T,P,Y)),(T=h>-1?_[h]:null)&&Je(T))}function Je(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[fe])le(_.i,h);else{var T=h.type,P=h.proxy;_.removeEventListener?_.removeEventListener(T,P,h.capture):_.detachEvent?_.detachEvent($e(T),P):_.addListener&&_.removeListener&&_.removeListener(P),(T=dr(_))?(le(T,h),T.h==0&&(T.src=null,_[_e]=null)):se(h)}}}function $e(h){return h in Ae?Ae[h]:Ae[h]="on"+h}function an(h,_){if(h.da)h=!0;else{_=new te(_,this);const T=h.listener,P=h.ha||h.src;h.fa&&Je(h),h=T.call(P,_)}return h}function dr(h){return h=h[_e],h instanceof be?h:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ca(h){return typeof h=="function"?h:(h[gt]||(h[gt]=function(_){return h.handleEvent(_)}),h[gt])}function Rt(){L.call(this),this.i=new be(this),this.M=this,this.G=null}E(Rt,L),Rt.prototype[fe]=!0,Rt.prototype.removeEventListener=function(h,_,T,P){ze(this,h,_,T,P)};function Lt(h,_){var T,P=h.G;if(P)for(T=[];P;P=P.G)T.push(P);if(h=h.M,P=_.type||_,typeof _=="string")_=new k(_,h);else if(_ instanceof k)_.target=_.target||h;else{var Y=_;_=new k(P,h),pe(_,Y)}Y=!0;let ne,ge;if(T)for(ge=T.length-1;ge>=0;ge--)ne=_.g=T[ge],Y=Ir(ne,P,!0,_)&&Y;if(ne=_.g=h,Y=Ir(ne,P,!0,_)&&Y,Y=Ir(ne,P,!1,_)&&Y,T)for(ge=0;ge<T.length;ge++)ne=_.g=T[ge],Y=Ir(ne,P,!1,_)&&Y}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let P=0;P<T.length;P++)se(T[P]);delete h.g[_],h.h--}}this.G=null},Rt.prototype.J=function(h,_,T,P){return this.i.add(String(h),_,!1,T,P)},Rt.prototype.K=function(h,_,T,P){return this.i.add(String(h),_,!0,T,P)};function Ir(h,_,T,P){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let ne=0;ne<_.length;++ne){const ge=_[ne];if(ge&&!ge.da&&ge.capture==T){const Pe=ge.listener,bt=ge.ha||ge.src;ge.fa&&le(h.i,ge),Y=Pe.call(bt,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function mc(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Ni(h){h.g=mc(()=>{h.g=null,h.i&&(h.i=!1,Ni(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class $m extends L{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(h){L.call(this),this.h=h,this.g={}}E(Ri,L);var ms=[];function xn(h){ye(h.g,function(_,T){this.g.hasOwnProperty(T)&&Je(_)},h),h.g={}}Ri.prototype.N=function(){Ri.Z.N.call(this),xn(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=u.JSON.stringify,On=u.JSON.parse,Hm=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Cd(){}function Nd(){}var Yr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ps(){k.call(this,"d")}E(ps,k);function Dr(){k.call(this,"c")}E(Dr,k);var fr={},gs=null;function Vo(){return gs=gs||new Rt}fr.Ia="serverreachability";function pc(h){k.call(this,fr.Ia,h)}E(pc,k);function ys(h){const _=Vo();Lt(_,new pc(_))}fr.STAT_EVENT="statevent";function Lo(h,_){k.call(this,fr.STAT_EVENT,h),this.stat=_}E(Lo,k);function Ut(h){const _=Vo();Lt(_,new Lo(_,h))}fr.Ja="timingevent";function Rd(h,_){k.call(this,fr.Ja,h),this.size=_}E(Rd,k);function vs(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function _s(){this.g=!0}_s.prototype.ua=function(){this.g=!1};function gc(h,_,T,P,Y,ne){h.info(function(){if(h.g)if(ne){var ge="",Pe=ne.split("&");for(let it=0;it<Pe.length;it++){var bt=Pe[it].split("=");if(bt.length>1){const qt=bt[0];bt=bt[1];const Yn=qt.split("_");ge=Yn.length>=2&&Yn[1]=="type"?ge+(qt+"="+bt+"&"):ge+(qt+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+_+`
`+T+`
`+ge})}function yc(h,_,T,P,Y,ne,ge){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+_+`
`+T+`
`+ne+" "+ge})}function Na(h,_,T,P){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qr(h,T)+(P?" "+P:"")})}function Gm(h,_){h.info(function(){return"TIMEOUT: "+_})}_s.prototype.info=function(){};function Qr(h,_){if(!h.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var T=ne[h];if(!(T.length<2)){var P=T[1];if(Array.isArray(P)&&!(P.length<1)){var Y=P[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<P.length;ge++)P[ge]=""}}}}return hr(ne)}catch{return _}}var zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ra;function Ii(){}E(Ii,Cd),Ii.prototype.g=function(){return new XMLHttpRequest},Ra=new Ii;function Di(h){return encodeURIComponent(String(h))}function Km(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function jr(h,_,T,P){this.j=h,this.i=_,this.l=T,this.S=P||1,this.V=new Ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Es}function Es(){this.i=null,this.g="",this.h=!1}var Uo={},Xr={};function Wr(h,_,T){h.M=1,h.A=Da(At(_)),h.u=T,h.R=!0,bs(h,null)}function bs(h,_){h.F=Date.now(),ji(h),h.B=At(h.A);var T=h.B,P=h.S;Array.isArray(P)||(P=[String(P)]),kd(T.i,"t",P),h.C=0,T=h.j.L,h.h=new Es,h.g=Qo(h.j,T?_:null,!h.u),h.P>0&&(h.O=new $m(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,P=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ms[0]=Y.toString()),Y=ms);for(let ne=0;ne<Y.length;ne++){const ge=Ue(T,Y[ne],P||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.J?J(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),ys(),gc(h.i,h.v,h.B,h.l,h.S,h.u)}jr.prototype.ba=function(h){h=h.target;const _=this.O;_&&Sn(h)==3?_.j():this.Y(h)},jr.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Sn(this.g),bt=this.g.ya(),it=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Fi(this.g)))){this.K||Pe!=4||bt==7||(bt==8||it<=0?ys(3):ys(2)),Jr(this);var _=this.g.ca();this.X=_;var T=Ts(this);if(this.o=_==200,yc(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,Y=this.g;if((P=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(P)){var ne=P;break t}}ne=null}if(h=ne)Na(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zo(this,h);else{this.o=!1,this.m=3,Ut(12),ea(this),ki(this);break e}}if(this.R){h=!0;let qt;for(;!this.K&&this.C<T.length;)if(qt=Id(this,T),qt==Xr){Pe==4&&(this.m=4,Ut(14),h=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Uo){this.m=4,Ut(15),Na(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Na(this.i,this.l,qt,null),zo(this,qt);if(Bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||T.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)Na(this.i,this.l,T,"[Invalid Chunked Response]"),ea(this),ki(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Cc(ge),ge.P=!0,Ut(11))}}else Na(this.i,this.l,T,null),zo(this,T);Pe==4&&ea(this),this.o&&!this.K&&(Pe==4?Nc(this.j,this):(this.o=!1,ji(this)))}else $i(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),ea(this),ki(this)}}}catch{}finally{}};function Ts(h){if(!Bt(h))return h.g.la();const _=Fi(h.g);if(_==="")return"";let T="";const P=_.length,Y=Sn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ea(h),ki(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<P;ne++)h.h.h=!0,T+=h.h.i.decode(_[ne],{stream:!(Y&&ne==P-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Bt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Id(h,_){var T=h.C,P=_.indexOf(`
`,T);return P==-1?Xr:(T=Number(_.substring(T,P)),isNaN(T)?Uo:(P+=1,P+T>_.length?Xr:(_=_.slice(P,P+T),h.C=P+T,_)))}jr.prototype.cancel=function(){this.K=!0,ea(this)};function ji(h){h.T=Date.now()+h.H,Zr(h,h.H)}function Zr(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vs(g(h.aa,h),_)}function Jr(h){h.D&&(u.clearTimeout(h.D),h.D=null)}jr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Gm(this.i,this.B),this.M!=2&&(ys(),Ut(17)),ea(this),this.m=2,ki(this)):Zr(this,this.T-h)};function ki(h){h.j.I==0||h.K||Nc(h.j,h)}function ea(h){Jr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,xn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function zo(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Mi(T.h,h))){if(!h.L&&Mi(T.h,h)&&T.I==3){try{var P=T.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Yo(T),ta(T);else break e;Ac(T),Ut(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=vs(g(T.Va,T),6e3));mr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Oa(T,11)}else if((h.L||T.g==h)&&Yo(T),!N(_))for(Y=T.Ba.g.parse(_),_=0;_<Y.length;_++){let it=Y[_];const qt=it[0];if(!(qt<=T.K))if(T.K=qt,it=it[1],T.I==2)if(it[0]=="c"){T.M=it[1],T.ba=it[2];const Yn=it[3];Yn!=null&&(T.ka=Yn,T.j.info("VER="+T.ka));const na=it[4];na!=null&&(T.za=na,T.j.info("SVER="+T.za));const Pr=it[5];Pr!=null&&typeof Pr=="number"&&Pr>0&&(P=1.5*Pr,T.O=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Mr=h.g;if(Mr){const Vr=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var ne=P.h;ne.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Bo(ne,ne.h),ne.h=null))}if(P.G){const Ic=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(P.wa=Ic,dt(P.J,P.G,Ic))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),P=T;var ge=h;if(P.na=qd(P,P.L?P.ba:null,P.W),ge.L){Ia(P.h,ge);var Pe=ge,bt=P.O;bt&&(Pe.H=bt),Pe.D&&(Jr(Pe),ji(Pe)),P.g=ge}else Ld(P);T.i.length>0&&Yi(T)}else it[0]!="stop"&&it[0]!="close"||Oa(T,7);else T.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Oa(T,7):Gi(T):it[0]!="noop"&&T.l&&T.l.qa(it),T.A=0)}}ys(4)}catch{}}var Ym=class{constructor(h,_){this.g=h,this.map=_}};function Oi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function mr(h){return h.h?1:h.g?h.g.size:0}function Mi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Bo(h,_){h.g?h.g.add(_):h.h=_}function Ia(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Oi.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function qo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qm(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const P=h[T].indexOf("=");let Y,ne=null;P>=0?(Y=h[T].substring(0,P),ne=h[T].substring(P+1)):Y=h[T],_(Y,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function kr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof kr?(this.l=h.l,ws(this,h.j),this.o=h.o,this.g=h.g,Vi(this,h.u),this.h=h.h,xs(this,Od(h.i)),this.m=h.m):h&&(_=String(h).match(Fo))?(this.l=!1,ws(this,_[1]||"",!0),this.o=Li(_[2]||""),this.g=Li(_[3]||"",!0),Vi(this,_[4]),this.h=Li(_[5]||"",!0),xs(this,_[6]||"",!0),this.m=Li(_[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}kr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(dn(_,_c,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(dn(_,_c,!0),"@"),h.push(Di(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(dn(T,T.charAt(0)=="/"?Ss:Ec,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",dn(T,jd)),h.join("")},kr.prototype.resolve=function(h){const _=At(this);let T=!!h.j;T?ws(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var P=h.h;if(T)Vi(_,h.u);else if(T=!!h.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(P=_.h.slice(0,Y+1)+P)}if(Y=P,Y==".."||Y==".")P="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){P=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ne=[];for(let ge=0;ge<Y.length;){const Pe=Y[ge++];Pe=="."?P&&ge==Y.length&&ne.push(""):Pe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),P&&ge==Y.length&&ne.push("")):(ne.push(Pe),P=!0)}P=ne.join("/")}else P=Y}return T?_.h=P:T=h.i.toString()!=="",T?xs(_,Od(h.i)):T=!!h.m,T&&(_.m=h.m),_};function At(h){return new kr(h)}function ws(h,_,T){h.j=T?Li(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Vi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function xs(h,_,T){_ instanceof pr?(h.i=_,wc(h.i,h.l)):(T||(_=dn(_,Dd)),h.i=new pr(_,h.l))}function dt(h,_,T){h.i.set(_,T)}function Da(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function dn(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,vc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _c=/[#\/\?@]/g,Ec=/[#\?:]/g,Ss=/[#\?]/g,Dd=/[#\?@]/g,jd=/#/g;function pr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function ja(h){h.g||(h.g=new Map,h.h=0,h.i&&Qm(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=pr.prototype,t.add=function(h,_){ja(this),this.i=null,h=Or(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function bc(h,_){ja(h),_=Or(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Tc(h,_){return ja(h),_=Or(h,_),h.g.has(_)}t.forEach=function(h,_){ja(this),this.g.forEach(function(T,P){T.forEach(function(Y){h.call(_,Y,P,this)},this)},this)};function $o(h,_){ja(h);let T=[];if(typeof _=="string")Tc(h,_)&&(T=T.concat(h.g.get(Or(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return ja(this),this.i=null,h=Or(this,h),Tc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=$o(this,h),h.length>0?String(h[0]):_):_};function kd(h,_,T){bc(h,_),T.length>0&&(h.i=null,h.g.set(Or(h,_),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var T=_[P];const Y=Di(T);T=$o(this,T);for(let ne=0;ne<T.length;ne++){let ge=Y;T[ne]!==""&&(ge+="="+Di(T[ne])),h.push(ge)}}return this.i=h.join("&")};function Od(h){const _=new pr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Or(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function wc(h,_){_&&!h.j&&(ja(h),h.i=null,h.g.forEach(function(T,P){const Y=P.toLowerCase();P!=Y&&(bc(this,P),kd(this,Y,T))},h)),h.j=_}function xc(h,_){const T=new _s;if(u.Image){const P=new Image;P.onload=v(Pn,T,"TestLoadImage: loaded",!0,_,P),P.onerror=v(Pn,T,"TestLoadImage: error",!1,_,P),P.onabort=v(Pn,T,"TestLoadImage: abort",!1,_,P),P.ontimeout=v(Pn,T,"TestLoadImage: timeout",!1,_,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else _(!1)}function As(h,_){const T=new _s,P=new AbortController,Y=setTimeout(()=>{P.abort(),Pn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:P.signal}).then(ne=>{clearTimeout(Y),ne.ok?Pn(T,"TestPingServer: ok",!0,_):Pn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Pn(T,"TestPingServer: error",!1,_)})}function Pn(h,_,T,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(T)}catch{}}function Pd(){this.g=new Hm}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ui,Cd),Ui.prototype.g=function(){return new zi(this.i,this.h)};function zi(h,_){Rt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(zi,Rt),t=zi.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ka(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cs(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cs(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Mn(this):ka(this),this.readyState==3&&Cs(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Mn(this))},t.Na=function(h){this.g&&(this.response=h,Mn(this))},t.ga=function(){this.g&&Mn(this)};function Mn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ka(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function ka(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ns(h){let _="";return ye(h,function(T,P){_+=P,_+=":",_+=T,_+=`\r
`}),_}function gr(h,_,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Ns(T),typeof h=="string"?T!=null&&Di(T):dt(h,_,T))}function vt(h){Rt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(vt,Rt);var Ho=/^https?$/i,Md=["POST","PUT"];t=vt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ra.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){Bi(this,ne);return}if(h=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)T.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())T.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Md,_,void 0)>=0)||P||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of T)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){Bi(this,ne)}};function Bi(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,qi(h),sn(h)}function qi(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),sn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sc(this):this.Xa())},t.Xa=function(){Sc(this)};function Sc(h){if(h.h&&typeof l<"u"){if(h.v&&Sn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),Sn(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var P;if(P=ne===0){let ge=String(h.D).match(Fo)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),P=!Ho.test(ge?ge.toLowerCase():"")}T=P}if(T)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var Y=Sn(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",qi(h)}}finally{sn(h)}}}}function sn(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Lt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sn(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),On(_)}};function Fi(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const _={};h=(h.g&&Sn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(N(h[P]))continue;var T=Km(h[P]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=_[Y]||[];_[Y]=ne,ne.push(T)}V(_,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Go(h){this.za=0,this.i=[],this.j=new _s,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Oi(h&&h.concurrentRequestLimit),this.Ba=new Pd,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Go.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,P){Ut(0),this.W=h,this.H=_||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.J=qd(this,null,this.W),Yi(this)};function Gi(h){if(Ki(h),h.I==3){var _=h.V++,T=At(h.J);if(dt(T,"SID",h.M),dt(T,"RID",_),dt(T,"TYPE","terminate"),Qi(h,T),_=new jr(h,h.j,_),_.M=2,_.A=Da(At(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=Qo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ji(_)}Bd(h)}function ta(h){h.g&&(Cc(h),h.g.cancel(),h.g=null)}function Ki(h){ta(h),h.v&&(u.clearTimeout(h.v),h.v=null),Yo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Yi(h){if(!Pi(h.h)&&!h.m){h.m=!0;var _=h.Ea;q||R(),Z||(q(),Z=!0),D.add(_,h),h.D=0}}function Xm(h,_){return mr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vs(g(h.Ea,h,_),zd(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new jr(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=J(ne),pe(ne,this.U)):ne=this.U),this.u!==null||this.R||(Y.J=ne,ne=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Ko(this,Y,_),T=At(this.J),dt(T,"RID",h),dt(T,"CVER",22),this.G&&dt(T,"X-HTTP-Session-Id",this.G),Qi(this,T),ne&&(this.R?_="headers="+Di(Ns(ne))+"&"+_:this.u&&gr(T,this.u,ne)),Bo(this.h,Y),this.Ra&&dt(T,"TYPE","init"),this.S?(dt(T,"$req",_),dt(T,"SID","null"),Y.U=!0,Wr(Y,T,null)):Wr(Y,T,_),this.I=2}}else this.I==3&&(h?Vd(this,h):this.i.length==0||Pi(this.h)||Vd(this))};function Vd(h,_){var T;_?T=_.l:T=h.V++;const P=At(h.J);dt(P,"SID",h.M),dt(P,"RID",T),dt(P,"AID",h.K),Qi(h,P),h.u&&h.o&&gr(P,h.u,h.o),T=new jr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Ko(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bo(h.h,T),Wr(T,P,_)}function Qi(h,_){h.H&&ye(h.H,function(T,P){dt(_,P,T)}),h.l&&ye({},function(T,P){dt(_,P,T)})}function Ko(h,_,T){T=Math.min(h.i.length,T);const P=h.l?g(h.l.Ka,h.l,h):null;e:{var Y=h.i;let Pe=-1;for(;;){const bt=["count="+T];Pe==-1?T>0?(Pe=Y[0].g,bt.push("ofs="+Pe)):Pe=0:bt.push("ofs="+Pe);let it=!0;for(let qt=0;qt<T;qt++){var ne=Y[qt].g;const Yn=Y[qt].map;if(ne-=Pe,ne<0)Pe=Math.max(0,Y[qt].g-100),it=!1;else try{ne="req"+ne+"_"||"";try{var ge=Yn instanceof Map?Yn:Object.entries(Yn);for(const[na,Pr]of ge){let Mr=Pr;m(Pr)&&(Mr=hr(Pr)),bt.push(ne+na+"="+encodeURIComponent(Mr))}}catch(na){throw bt.push(ne+"type="+encodeURIComponent("_badmap")),na}}catch{P&&P(Yn)}}if(it){ge=bt.join("&");break e}}ge=void 0}return h=h.i.splice(0,T),_.G=h,ge}function Ld(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;q||R(),Z||(q(),Z=!0),D.add(_,h),h.A=0}}function Ac(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vs(g(h.Da,h),zd(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Ud(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vs(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),ta(this),Ud(this))};function Cc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Ud(h){h.g=new jr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=At(h.na);dt(_,"RID","rpc"),dt(_,"SID",h.M),dt(_,"AID",h.K),dt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(_,"TO",h.ia),dt(_,"TYPE","xmlhttp"),Qi(h,_),h.u&&h.o&&gr(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Da(At(_)),T.u=null,T.R=!0,bs(T,h)}t.Va=function(){this.C!=null&&(this.C=null,ta(this),Ac(this),Ut(19))};function Yo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Nc(h,_){var T=null;if(h.g==_){Yo(h),Cc(h),h.g=null;var P=2}else if(Mi(h.h,_))T=_.G,Ia(h.h,_),P=1;else return;if(h.I!=0){if(_.o)if(P==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Y=h.D;P=Vo(),Lt(P,new Rd(P,T)),Yi(h)}else Ld(h);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(P==1&&Xm(h,_)||P==2&&Ac(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),Y){case 1:Oa(h,5);break;case 4:Oa(h,10);break;case 3:Oa(h,6);break;default:Oa(h,2)}}}function zd(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Oa(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),P=h.Ua;const Y=!P;P=new kr(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ws(P,"https"),Da(P),Y?xc(P.toString(),T):As(P.toString(),T)}else Ut(2);h.I=0,h.l&&h.l.pa(_),Bd(h),Ki(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Bd(h){if(h.I=0,h.ja=[],h.l){const _=qo(h.h);(_.length!=0||h.i.length!=0)&&(A(h.ja,_),A(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function qd(h,_,T){var P=T instanceof kr?At(T):new kr(T);if(P.g!="")_&&(P.g=_+"."+P.g),Vi(P,P.u);else{var Y=u.location;P=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const ne=new kr(null);P&&ws(ne,P),_&&(ne.g=_),Y&&Vi(ne,Y),T&&(ne.h=T),P=ne}return T=h.G,_=h.wa,T&&_&&dt(P,T,_),dt(P,"VER",h.ka),Qi(h,P),P}function Qo(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new vt(new Ui({ab:T})):new vt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fd(){}t=Fd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xo(){}Xo.prototype.g=function(h,_){return new Vn(h,_)};function Vn(h,_){Rt.call(this),this.g=new Go(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Rs(this)}E(Vn,Rt),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Gi(this.g)},Vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=hr(h),h=T);_.i.push(new Ym(_.Ya++,h)),_.I==3&&Yi(_)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Gi(this.g),delete this.g,Vn.Z.N.call(this)};function Rc(h){ps.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(Rc,ps);function $d(){Dr.call(this),this.status=1}E($d,Dr);function Rs(h){this.g=h}E(Rs,Fd),Rs.prototype.ra=function(){Lt(this.g,"a")},Rs.prototype.qa=function(h){Lt(this.g,new Rc(h))},Rs.prototype.pa=function(h){Lt(this.g,new $d)},Rs.prototype.oa=function(){Lt(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Sx=function(){return new Xo},xx=function(){return Vo()},wx=fr,Sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,yf=zt,gn.COMPLETE="complete",Tx=gn,Nd.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Nu=Nd,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,bx=vt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const Cb="@firebase/firestore",Nb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new hv("@firebase/firestore");function Dl(){return So.logLevel}function Ee(t,...e){if(So.logLevel<=He.DEBUG){const n=e.map(wv);So.debug(`Firestore (${lc}): ${t}`,...n)}}function ls(t,...e){if(So.logLevel<=He.ERROR){const n=e.map(wv);So.error(`Firestore (${lc}): ${t}`,...n)}}function Kl(t,...e){if(So.logLevel<=He.WARN){const n=e.map(wv);So.warn(`Firestore (${lc}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Ax(t,a,n)}function Ax(t,e,n){let a=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ls(a),new Error(a)}function st(t,e,n,a){let i="Unexpected state";typeof n=="string"?i=n:a=n,t||Ax(e,i,a)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class _k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ek{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let l=new as;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new as,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new as)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new Cx(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class bk{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tk{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new bk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const a=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const i=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=xk(40);for(let l=0;l<i.length;++l)a.length<20&&i[l]<n&&(a+=e.charAt(i[l]%62))}return a}}function Ge(t,e){return t<e?-1:t>e?1:0}function Ay(t,e){const n=Math.min(t.length,e.length);for(let a=0;a<n;a++){const i=t.charAt(a),l=e.charAt(a);if(i!==l)return ny(i)===ny(l)?Ge(i,l):ny(i)?1:-1}return Ge(t.length,e.length)}const Sk=55296,Ak=57343;function ny(t){const e=t.charCodeAt(0);return e>=Sk&&e<=Ak}function Yl(t,e,n){return t.length===e.length&&t.every(((a,i)=>n(a,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="__name__";class ca{constructor(e,n,a){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&je(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ca?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let i=0;i<a;i++){const l=ca.compareSegments(e.get(i),n.get(i));if(l!==0)return l}return Ge(e.length,n.length)}static compareSegments(e,n){const a=ca.isNumericId(e),i=ca.isNumericId(n);return a&&!i?-1:!a&&i?1:a&&i?ca.extractNumericId(e).compare(ca.extractNumericId(n)):Ay(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Et extends ca{construct(e,n,a){return new Et(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(ue.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((i=>i.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const Ck=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ca{construct(e,n,a){return new Tn(e,n,a)}static isValidIdentifier(e){return Ck.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ib}static keyField(){return new Tn([Ib])}static fromServerFormat(e){const n=[];let a="",i=0;const l=()=>{if(a.length===0)throw new ve(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let u=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new ve(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else m==="`"?(u=!u,i++):m!=="."||u?(a+=m,i++):(l(),i++)}if(l(),u)throw new ve(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Et.fromString(e))}static fromName(e){return new Ce(Et.fromString(e).popFirst(5))}static empty(){return new Ce(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e,n){if(!n)throw new ve(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nk(t,e,n,a){if(e===!0&&a===!0)throw new ve(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Db(t){if(!Ce.isDocumentKey(t))throw new ve(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jb(t){if(Ce.isDocumentKey(t))throw new ve(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=om(t);throw new ve(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gd(t,e){if(!Rx(t))throw new ve(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const i=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in t)){n=`JSON missing required field: '${a}'`;break}const u=t[a];if(i&&typeof u!==i){n=`JSON field '${a}' must be a ${i}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${a}' field to equal '${l.value}'`;break}}if(n)throw new ve(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=-62135596800,Ob=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Ob);return new Qe(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kb)throw new ve(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ob}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gd(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:tn("string",Qe._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Qe(0,0))}static max(){return new Oe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function Rk(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(a===1e9?new Qe(n+1,0):new Qe(n,a));return new hi(i,Ce.empty(),e)}function Ik(t){return new hi(t.readTime,t.key,Qu)}class hi{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new hi(Oe.min(),Ce.empty(),Qu)}static max(){return new hi(Oe.max(),Ce.empty(),Qu)}}function Dk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==jk)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((a,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,a)=>{n(e)}))}static reject(e){return new he(((n,a)=>{a(e)}))}static waitFor(e){return new he(((n,a)=>{let i=0,l=0,u=!1;e.forEach((m=>{++i,m.next((()=>{++l,u&&l===i&&n()}),(p=>a(p)))})),u=!0,l===i&&n()}))}static or(e){let n=he.resolve(!1);for(const a of e)n=n.next((i=>i?he.resolve(i):a()));return n}static forEach(e,n){const a=[];return e.forEach(((i,l)=>{a.push(n.call(this,i,l))})),this.waitFor(a)}static mapArray(e,n){return new he(((a,i)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((v=>{u[g]=v,++m,m===l&&a(u)}),(v=>i(v)))}}))}static doWhile(e,n){return new he(((a,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):a()};l()}))}}function Ok(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function cm(t){return t==null}function Uf(t){return t===0&&1/t==-1/0}function Pk(t){return typeof t=="number"&&Number.isInteger(t)&&!Uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="";function Mk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Pb(e)),e=Vk(t.get(n),e);return Pb(e)}function Vk(t,e){let n=e;const a=t.length;for(let i=0;i<a;i++){const l=t.charAt(i);switch(l){case"\0":n+="";break;case Ix:n+="";break;default:n+=l}}return n}function Pb(t){return t+Ix+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return n+a.left.size;i<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,n,a,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,a,i,l){this.key=e,this.value=n,this.color=a??En.RED,this.left=i??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,i,l){return new En(e??this.key,n??this.value,a??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let i=this;const l=a(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,a),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,a,i,l){return this}insert(e,n,a){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=a.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new or([])}unionWith(e){let n=new un(Tn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jx("Invalid base64 string: "+l):l}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const Lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=Lk.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mi(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="server_timestamp",Ox="__type__",Px="__previous_value__",Mx="__local_write_time__";function Av(t){return(t?.mapValue?.fields||{})[Ox]?.stringValue===kx}function um(t){const e=t.mapValue.fields[Px];return Av(e)?um(e):e}function Xu(t){const e=fi(t.mapValue.fields[Mx].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,a,i,l,u,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const zf="(default)";class Wu{constructor(e,n){this.projectId=e,this.database=n||zf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__type__",zk="__max__",Qh={mapValue:{}},Lx="__vector__",Bf="value";function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Av(t)?4:qk(t)?9007199254740991:Bk(t)?10:11:je(28295,{value:t})}function xa(t,e){if(t===e)return!0;const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const u=fi(i.timestampValue),m=fi(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return mi(i.bytesValue).isEqual(mi(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Ht(i.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Ht(i.integerValue)===Ht(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const u=Ht(i.doubleValue),m=Ht(l.doubleValue);return u===m?Uf(u)===Uf(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:case 11:return(function(i,l){const u=i.mapValue.fields||{},m=l.mapValue.fields||{};if(Mb(u)!==Mb(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!xa(u[p],m[p])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find((n=>xa(n,e)))!==void 0}function Ql(t,e){if(t===e)return 0;const n=pi(t),a=pi(e);if(n!==a)return Ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Ht(l.integerValue||l.doubleValue),p=Ht(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(t,e);case 3:return Lb(t.timestampValue,e.timestampValue);case 4:return Lb(Xu(t),Xu(e));case 5:return Ay(t.stringValue,e.stringValue);case 6:return(function(l,u){const m=mi(l),p=mi(u);return m.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),p=u.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ge(m[g],p[g]);if(v!==0)return v}return Ge(m.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=Ge(Ht(l.latitude),Ht(u.latitude));return m!==0?m:Ge(Ht(l.longitude),Ht(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ub(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},p=u.fields||{},g=m[Bf]?.arrayValue,v=p[Bf]?.arrayValue,E=Ge(g?.values?.length||0,v?.values?.length||0);return E!==0?E:Ub(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Qh.mapValue&&u===Qh.mapValue)return 0;if(l===Qh.mapValue)return 1;if(u===Qh.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const w=Ay(p[E],v[E]);if(w!==0)return w;const S=Ql(m[p[E]],g[v[E]]);if(S!==0)return S}return Ge(p.length,v.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function Lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=fi(t),a=fi(e),i=Ge(n.seconds,a.seconds);return i!==0?i:Ge(n.nanos,a.nanos)}function Ub(t,e){const n=t.values||[],a=e.values||[];for(let i=0;i<n.length&&i<a.length;++i){const l=Ql(n[i],a[i]);if(l)return l}return Ge(n.length,a.length)}function Xl(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const a=fi(n);return`time(${a.seconds},${a.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return mi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let a="[",i=!0;for(const l of n.values||[])i?i=!1:a+=",",a+=Cy(l);return a+"]"})(t.arrayValue):"mapValue"in t?(function(n){const a=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const u of a)l?l=!1:i+=",",i+=`${u}:${Cy(n.fields[u])}`;return i+"}"})(t.mapValue):je(61005,{value:t})}function vf(t){switch(pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+vf(e):16;case 5:return 2*t.stringValue.length;case 6:return mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((i,l)=>i+vf(l)),0)})(t.arrayValue);case 10:case 11:return(function(a){let i=0;return wi(a.fields,((l,u)=>{i+=l.length+vf(u)})),i})(t.mapValue);default:throw je(13486,{value:t})}}function zb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ny(t){return!!t&&"integerValue"in t}function Cv(t){return!!t&&"arrayValue"in t}function Bb(t){return!!t&&"nullValue"in t}function qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function Bk(t){return(t?.mapValue?.fields||{})[Vx]?.stringValue===Lx}function Lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wi(t.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Lu(a))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return{...t}}function qk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=Tn.emptyPath(),a={},i=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,i),a={},i=[],n=m.popLast()}u?a[m.lastSegment()]=Lu(u):i.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,i)}delete(e){const n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=n.mapValue.fields[e.get(a)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,a){wi(n,((i,l)=>e[i]=l));for(const i of a)delete e[i]}clone(){return new Hn(Lu(this.value))}}function Ux(t){const e=[];return wi(t.fields,((n,a)=>{const i=new Tn([n]);if(_f(a)){const l=Ux(a.mapValue).fields;if(l.length===0)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,a,i,l,u,m){this.key=e,this.documentType=n,this.version=a,this.readTime=i,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Dn(e,0,Oe.min(),Oe.min(),Oe.min(),Hn.empty(),0)}static newFoundDocument(e,n,a,i){return new Dn(e,1,n,Oe.min(),a,i,0)}static newNoDocument(e,n){return new Dn(e,2,n,Oe.min(),Oe.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Oe.min(),Oe.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.position=e,this.inclusive=n}}function Fb(t,e,n){let a=0;for(let i=0;i<t.position.length;i++){const l=e[i],u=t.position[i];if(l.field.isKeyField()?a=Ce.comparator(Ce.fromName(u.referenceValue),n.key):a=Ql(u,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function $b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class en extends zx{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new Hk(e,n,a):n==="array-contains"?new Yk(e,a):n==="in"?new Qk(e,a):n==="not-in"?new Xk(e,a):n==="array-contains-any"?new Wk(e,a):new en(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new Gk(e,a):new Kk(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ql(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends zx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hr(e,n)}matches(e){return Bx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bx(t){return t.op==="and"}function qx(t){return $k(t)&&Bx(t)}function $k(t){for(const e of t.filters)if(e instanceof Hr)return!1;return!0}function Ry(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(qx(t))return t.filters.map((e=>Ry(e))).join(",");{const e=t.filters.map((n=>Ry(n))).join(",");return`${t.op}(${e})`}}function Fx(t,e){return t instanceof en?(function(a,i){return i instanceof en&&a.op===i.op&&a.field.isEqual(i.field)&&xa(a.value,i.value)})(t,e):t instanceof Hr?(function(a,i){return i instanceof Hr&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce(((l,u,m)=>l&&Fx(u,i.filters[m])),!0):!1})(t,e):void je(19439)}function $x(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`})(t):t instanceof Hr?(function(n){return n.op.toString()+" {"+n.getFilters().map($x).join(" ,")+"}"})(t):"Filter"}class Hk extends en{constructor(e,n,a){super(e,n,a),this.key=Ce.fromName(a.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gk extends en{constructor(e,n){super(e,"in",n),this.keys=Hx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Kk extends en{constructor(e,n){super(e,"not-in",n),this.keys=Hx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Hx(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class Yk extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cv(n)&&Zu(n.arrayValue,this.value)}}class Qk extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class Xk extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class Wk extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Zu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n=null,a=[],i=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=i,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function Hb(t,e=null,n=[],a=[],i=null,l=null,u=null){return new Zk(t,e,n,a,i,l,u)}function Nv(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Ry(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Xl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Xl(a))).join(",")),e.Te=n}return e.Te}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$b(t.startAt,e.startAt)&&$b(t.endAt,e.endAt)}function Iy(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n=null,a=[],i=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=i,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Jk(t,e,n,a,i,l,u,m){return new dc(t,e,n,a,i,l,u,m)}function Iv(t){return new dc(t)}function Gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gx(t){return t.collectionGroup!==null}function Uu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new un(Tn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ju(l,a))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Ju(Tn.keyField(),a))}return e.Ie}function _a(t){const e=Me(t);return e.Ee||(e.Ee=eO(e,Uu(t))),e.Ee}function eO(t,e){if(t.limitType==="F")return Hb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Ju(i.field,l)}));const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return Hb(t.path,t.collectionGroup,e,t.filters,t.limit,n,a)}}function Dy(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ff(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return Rv(_a(t),_a(e))&&t.limitType===e.limitType}function Kx(t){return`${Nv(_a(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((i=>$x(i))).join(", ")}]`),cm(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((i=>Xl(i))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((i=>Xl(i))).join(",")),`Target(${a})`})(_a(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&(function(a,i){const l=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Ce.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(t,e)&&(function(a,i){for(const l of Uu(a))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(a,i){for(const l of a.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(a,i){return!(a.startAt&&!(function(u,m,p){const g=Fb(u,m,p);return u.inclusive?g<=0:g<0})(a.startAt,Uu(a),i)||a.endAt&&!(function(u,m,p){const g=Fb(u,m,p);return u.inclusive?g>=0:g>0})(a.endAt,Uu(a),i))})(t,e)}function tO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yx(t){return(e,n)=>{let a=!1;for(const i of Uu(t)){const l=nO(i,e,n);if(l!==0)return l;a=a||i.field.isKeyField()}return 0}}function nO(t,e,n){const a=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,u,m){const p=u.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Ql(p,g):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[i,l]of a)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[n]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wi(this.inner,((n,a)=>{for(const[i,l]of a)e(i,l)}))}isEmpty(){return Dx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Nt(Ce.comparator);function cs(){return rO}const Qx=new Nt(Ce.comparator);function Ru(...t){let e=Qx;for(const n of t)e=e.insert(n.key,n);return e}function Xx(t){let e=Qx;return t.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function go(){return zu()}function Wx(){return zu()}function zu(){return new ko((t=>t.toString()),((t,e)=>t.isEqual(e)))}const aO=new Nt(Ce.comparator),sO=new un(Ce.comparator);function Ye(...t){let e=sO;for(const n of t)e=e.add(n);return e}const iO=new un(Ge);function oO(){return iO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function Zx(t){return{integerValue:""+t}}function lO(t,e){return Pk(e)?Zx(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this._=void 0}}function cO(t,e,n){return t instanceof ed?(function(i,l){const u={fields:{[Ox]:{stringValue:kx},[Mx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Av(l)&&(l=um(l)),l&&(u.fields[Px]=l),{mapValue:u}})(n,e):t instanceof td?eS(t,e):t instanceof nd?tS(t,e):(function(i,l){const u=Jx(i,l),m=Kb(u)+Kb(i.Ae);return Ny(u)&&Ny(i.Ae)?Zx(m):Dv(i.serializer,m)})(t,e)}function uO(t,e,n){return t instanceof td?eS(t,e):t instanceof nd?tS(t,e):n}function Jx(t,e){return t instanceof $f?(function(a){return Ny(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class ed extends fm{}class td extends fm{constructor(e){super(),this.elements=e}}function eS(t,e){const n=nS(e);for(const a of t.elements)n.some((i=>xa(i,a)))||n.push(a);return{arrayValue:{values:n}}}class nd extends fm{constructor(e){super(),this.elements=e}}function tS(t,e){let n=nS(e);for(const a of t.elements)n=n.filter((i=>!xa(i,a)));return{arrayValue:{values:n}}}class $f extends fm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kb(t){return Ht(t.integerValue||t.doubleValue)}function nS(t){return Cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.field=e,this.transform=n}}function hO(t,e){return t.field.isEqual(e.field)&&(function(a,i){return a instanceof td&&i instanceof td||a instanceof nd&&i instanceof nd?Yl(a.elements,i.elements,xa):a instanceof $f&&i instanceof $f?xa(a.Ae,i.Ae):a instanceof ed&&i instanceof ed})(t.transform,e.transform)}class fO{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function rS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,Ar.none()):new yd(t.key,t.data,Ar.none());{const n=t.data,a=Hn.empty();let i=new un(Tn.comparator);for(let l of e.fields)if(!i.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?a.delete(l):a.set(l,u),i=i.add(l)}return new xi(t.key,a,new or(i.toArray()),Ar.none())}}function mO(t,e,n){t instanceof yd?(function(i,l,u){const m=i.value.clone(),p=Qb(i.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof xi?(function(i,l,u){if(!Ef(i.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Qb(i.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(aS(i)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(i,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Bu(t,e,n,a){return t instanceof yd?(function(l,u,m,p){if(!Ef(l.precondition,u))return m;const g=l.value.clone(),v=Xb(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,a):t instanceof xi?(function(l,u,m,p){if(!Ef(l.precondition,u))return m;const g=Xb(l.fieldTransforms,p,u),v=u.data;return v.setAll(aS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,a):(function(l,u,m){return Ef(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function pO(t,e){let n=null;for(const a of t.fieldTransforms){const i=e.data.field(a.field),l=Jx(a.transform,i||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(a.field,l))}return n||null}function Yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Yl(a,i,((l,u)=>hO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yd extends mm{constructor(e,n,a,i=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xi extends mm{constructor(e,n,a,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}})),e}function Qb(t,e,n){const a=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const l=t[i],u=l.transform,m=e.data.field(l.field);a.set(l.field,uO(u,m,n[i]))}return a}function Xb(t,e,n){const a=new Map;for(const i of t){const l=i.transform,u=n.data.field(i.field);a.set(i.field,cO(l,u,e))}return a}class jv extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gO extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,a,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&mO(l,e,a[i])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Bu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Bu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Wx();return this.mutations.forEach((i=>{const l=e.get(i.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=n.has(i.key)?null:m;const p=rS(u,m);p!==null&&a.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,((n,a)=>Yb(n,a)))&&Yl(this.baseMutations,e.baseMutations,((n,a)=>Yb(n,a)))}}class kv{constructor(e,n,a,i){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=i}static from(e,n,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let i=(function(){return aO})();const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,a[u].version);return new kv(e,n,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ze;function EO(t){switch(t){case ue.OK:return je(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function sS(t){if(t===void 0)return ls("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Wt.OK:return ue.OK;case Wt.CANCELLED:return ue.CANCELLED;case Wt.UNKNOWN:return ue.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ue.INTERNAL;case Wt.UNAVAILABLE:return ue.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ue.NOT_FOUND;case Wt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Wt.ABORTED:return ue.ABORTED;case Wt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Wt.DATA_LOSS:return ue.DATA_LOSS;default:return je(39323,{code:t})}}(Ze=Wt||(Wt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new li([4294967295,4294967295],0);function Wb(t){const e=bO().encode(t),n=new Ex;return n.update(e),new Uint8Array(n.digest())}function Zb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new li([n,a],0),new li([i,l],0)]}class Ov{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(a<0)throw new Iu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,a){let i=e.add(n.multiply(li.fromNumber(a)));return i.compare(TO)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wb(e),[a,i]=Zb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,i,l);if(!this.we(u))return!1}return!0}static create(e,n,a){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ov(l,i,n);return a.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=Wb(e),[a,i]=Zb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,i,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,a,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const i=new Map;return i.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new pm(Oe.min(),i,new Nt(Ge),cs(),Ye())}}class vd{constructor(e,n,a,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new vd(a,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,a,i){this.be=e,this.removedTargetIds=n,this.key=a,this.De=i}}class iS{constructor(e,n){this.targetId=e,this.Ce=n}}class oS{constructor(e,n,a=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=i}}class Jb{constructor(){this.ve=0,this.Fe=eT(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),a=Ye();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:a=a.add(i);break;default:je(38017,{changeType:l})}})),new vd(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=eT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wO{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=Xh(),this.He=Xh(),this.Ye=new Nt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,a=e.Ce.count,i=this.ot(n);if(i){const l=i.target;if(Iy(l))if(a===0){const u=new Ce(l.path);this.et(n,u,Dn.newNoDocument(u,Oe.min()))}else st(a===1,20013,{expectedCount:a});else{const u=this._t(n);if(u!==a){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:l=0}=n;let u,m;try{u=mi(a).toUint8Array()}catch(p){if(p instanceof jx)return Kl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ov(u,i,l)}catch(p){return Kl(p instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let i=0;return a.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&Iy(m.target)){const p=new Ce(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Dn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let a=Ye();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const i=new pm(e,n,this.Ye,this.je,a);return this.je=cs(),this.Je=Xh(),this.He=Xh(),this.Ye=new Nt(Ge),i}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Jb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xh(){return new Nt(Ce.comparator)}function eT(){return new Nt(Ce.comparator)}const xO={asc:"ASCENDING",desc:"DESCENDING"},SO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AO={and:"AND",or:"OR"};class CO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jy(t,e){return t.useProto3Json||cm(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NO(t,e){return Hf(t,e.toTimestamp())}function Ea(t){return st(!!t,49232),Oe.fromTimestamp((function(n){const a=fi(n);return new Qe(a.seconds,a.nanos)})(t))}function Pv(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cS(t){const e=Et.fromString(t);return st(mS(e),10190,{key:e.toString()}),e}function Oy(t,e){return Pv(t.databaseId,e.path)}function ry(t,e){const n=cS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(dS(n))}function uS(t,e){return Pv(t.databaseId,e)}function RO(t){const e=cS(t);return e.length===4?Et.emptyPath():dS(e)}function Py(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dS(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tT(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function IO(t,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:je(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(st(v===void 0||typeof v=="string",58123),wn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),wn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const v=g.code===void 0?ue.UNKNOWN:sS(g.code);return new ve(v,g.message||"")})(u);n=new oS(a,i,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=ry(t,a.document.name),l=Ea(a.document.updateTime),u=a.document.createTime?Ea(a.document.createTime):Oe.min(),m=new Hn({mapValue:{fields:a.document.fields}}),p=Dn.newFoundDocument(i,l,u,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new bf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=ry(t,a.document),l=a.readTime?Ea(a.readTime):Oe.min(),u=Dn.newNoDocument(i,l),m=a.removedTargetIds||[];n=new bf([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=ry(t,a.document),l=a.removedTargetIds||[];n=new bf([],l,i,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:l}=a,u=new _O(i,l),m=a.targetId;n=new iS(m,u)}}return n}function DO(t,e){let n;if(e instanceof yd)n={update:tT(t,e.key,e.value)};else if(e instanceof jv)n={delete:Oy(t,e.key)};else if(e instanceof xi)n={update:tT(t,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof gO))return je(16599,{Vt:e.type});n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,u){const m=u.transform;if(m instanceof ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof td)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $f)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw je(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:NO(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)})(t,e.precondition)),n}function jO(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(i,l){let u=i.updateTime?Ea(i.updateTime):Ea(l);return u.isEqual(Oe.min())&&(u=Ea(l)),new fO(u,i.transformResults||[])})(n,e)))):[]}function kO(t,e){return{documents:[uS(t,e.path)]}}function OO(t,e){const n={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=uS(t,i);const l=(function(g){if(g.length!==0)return fS(Hr.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:kl(w.field),direction:VO(w.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=jy(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function PO(t){let e=RO(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let i=null;if(a>0){st(a===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(E){const w=hS(E);return w instanceof Hr&&qx(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((w=>(function(A){return new Ju(Ol(A.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let w;return w=typeof E=="object"?E.value:E,cm(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(E){const w=!!E.before,S=E.values||[];return new qf(S,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const w=!E.before,S=E.values||[];return new qf(S,w)})(n.endAt)),Jk(e,i,u,l,m,"F",p,g)}function MO(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ol(n.unaryFilter.field);return en.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=Ol(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ol(n.unaryFilter.field);return en.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ol(n.unaryFilter.field);return en.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(Ol(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Hr.create(n.compositeFilter.filters.map((a=>hS(a))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function VO(t){return xO[t]}function LO(t){return SO[t]}function UO(t){return AO[t]}function kl(t){return{fieldPath:t.canonicalString()}}function Ol(t){return Tn.fromServerFormat(t.fieldPath)}function fS(t){return t instanceof en?(function(n){if(n.op==="=="){if(qb(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qb(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:LO(n.op),value:n.value}}})(t):t instanceof Hr?(function(n){const a=n.getFilters().map((i=>fS(i)));return a.length===1?a[0]:{compositeFilter:{op:UO(n.op),filters:a}}})(t):je(54877,{filter:t})}function zO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,a,i,l=Oe.min(),u=Oe.min(),m=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.yt=e}}function qO(t){const e=PO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.Cn=new $O}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(hi.min())}updateCollectionGroup(e,n,a){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class $O{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n]||new un(Et.comparator),l=!i.has(a);return this.index[n]=i.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n];return i&&i.has(a)}getEntries(e){return(this.index[e]||new un(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(pS,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",HO=1048576;function aT([t,e],[n,a]){const i=Ge(t,n);return i===0?Ge(e,a):i}class GO{constructor(e){this.Ir=e,this.buffer=new un(aT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();aT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KO{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?Ee(rT,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Vr(3e5)}))}}class YO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(lm.ce);const a=new GO(n);return this.mr.forEachTarget(e,(i=>a.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>a.Ar(i))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(nT)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,i,l,u,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,u=Date.now(),this.nthSequenceNumber(e,i)))).next((E=>(a=E,m=Date.now(),this.removeTargets(e,a,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),Dl()<=He.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:E}))))}}function QO(t,e){return new YO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.changes=new ko((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?he.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,a,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(a=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(a!==null&&Bu(a.mutation,i,or.empty(),Qe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ye()){const i=go();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,a).next((l=>{let u=Ru();return l.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const a=go();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ye())))}populateOverlays(e,n,a){const i=[];return a.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,a,i){let l=cs();const u=zu(),m=(function(){return zu()})();return n.forEach(((p,g)=>{const v=a.get(g.key);i.has(g.key)&&(v===void 0||v.mutation instanceof xi)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Bu(v.mutation,g,v.mutation.getFieldMask(),Qe.now())):u.set(g.key,or.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>m.set(g,new WO(v,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=zu();let i=new Nt(((u,m)=>u-m)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||or.empty();v=m.applyToLocalView(g,v),a.set(p,v);const E=(i.get(m.batchId)||Ye()).add(p);i=i.insert(m.batchId,E)}))})).next((()=>{const u=[],m=i.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=Wx();v.forEach((w=>{if(!l.has(w)){const S=rS(n.get(w),a.get(w));S!==null&&E.set(w,S),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return he.waitFor(u)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,i){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,i):this.getDocumentsMatchingCollectionQuery(e,n,a,i)}getNextDocuments(e,n,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,i).next((l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,i-l.size):he.resolve(go());let m=Qu,p=l;return u.next((g=>he.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ye()))).next((v=>({batchId:m,changes:Xx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((a=>{let i=Ru();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,i){const l=n.collectionGroup;let u=Ru();return this.indexManager.getCollectionParents(e,l).next((m=>he.forEach(m,(p=>{const g=(function(E,w){return new dc(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,i).next((v=>{v.forEach(((E,w)=>{u=u.insert(E,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,a,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,i)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Dn.newInvalidDocument(v)))}));let m=Ru();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Bu(v.mutation,g,or.empty(),Qe.now()),hm(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ea(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:qO(i.bundledQuery),readTime:Ea(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.overlays=new Nt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const a=go();return he.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&a.set(i,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((i,l)=>{this.St(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,a){const i=this.qr.get(a);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(a)),he.resolve()}getOverlaysForCollection(e,n,a){const i=go(),l=n.length+1,u=new Ce(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&i.set(p.getKey(),p)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,a,i){let l=new Nt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=go(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=go(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=i)););return he.resolve(m)}St(e,n,a){const i=this.overlays.get(a.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(a.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new vO(n,a));let l=this.qr.get(n);l===void 0&&(l=Ye(),this.qr.set(n,l)),this.qr.set(n,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Qr=new un(pn.$r),this.Ur=new un(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new pn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new pn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Ce(new Et([])),a=new pn(n,e),i=new pn(n,e+1),l=[];return this.Ur.forEachInRange([a,i],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new Et([])),a=new pn(n,e),i=new pn(n,e+1);let l=Ye();return this.Ur.forEachInRange([a,i],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new pn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(pn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,i){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new yO(l,n,a,i);this.mutationQueue.push(u);for(const m of i)this.Zr=this.Zr.add(new pn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,i=this.ei(a),l=i<0?0:i;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Sv:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new pn(n,0),i=new pn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,i],(u=>{const m=this.Xr(u.Yr);l.push(m)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new un(Ge);return n.forEach((i=>{const l=new pn(i,0),u=new pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{a=a.add(m.Yr)}))})),he.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,i=a.length+1;let l=a;Ce.isDocumentKey(l)||(l=l.child(""));const u=new pn(new Ce(l),0);let m=new un(Ge);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===i&&(m=m.add(p.Yr)),!0)}),u),he.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const i=this.Xr(a);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return he.forEach(n.mutations,(i=>{const l=new pn(i.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new pn(n,0),i=this.Zr.firstAfterOrEqual(a);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,i=this.docs.get(a),l=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return he.resolve(a?a.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let a=cs();return n.forEach((i=>{const l=this.docs.get(i);a=a.insert(i,l?l.document.mutableCopy():Dn.newInvalidDocument(i))})),he.resolve(a)}getDocumentsMatchingQuery(e,n,a,i){let l=cs();const u=n.path,m=new Ce(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Dk(Ik(v),a)<=0||(i.has(v.key)||hm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,a,i){je(9500)}ii(e,n){return he.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new aP(this)}getSize(e){return he.resolve(this.size)}}class aP extends XO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(a)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.persistence=e,this.si=new ko((n=>Nv(n)),Rv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Mv,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,n){return this.si.forEach(((a,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,a){let i=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)})),he.waitFor(l).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return he.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),he.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((u=>{l.push(i.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return he.resolve(a)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.ui={},this.overlays={},this.ci=new lm(0),this.li=!1,this.li=!0,this.hi=new tP,this.referenceDelegate=e(this),this.Pi=new sP(this),this.indexManager=new FO,this.remoteDocumentCache=(function(i){return new rP(i)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new BO(n),this.Ii=new JO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new nP(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){Ee("MemoryPersistence","Starting transaction:",e);const i=new iP(this.ci.next());return this.referenceDelegate.Ei(),a(i).next((l=>this.referenceDelegate.di(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ai(e,n){return he.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class iP extends kk{constructor(e){super(),this.currentSequenceNumber=e}}class Vv{constructor(e){this.persistence=e,this.Ri=new Mv,this.Vi=null}static mi(e){return new Vv(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),he.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.fi.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(a=>{const i=Ce.fromPath(a);return this.gi(e,i).next((l=>{l||n.removeEntry(i,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gf{constructor(e,n){this.persistence=e,this.pi=new ko((a=>Mk(a.path)),((a,i)=>a.isEqual(i))),this.garbageCollector=QO(this,n)}static mi(e,n){return new Gf(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((i=>a+i))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((a,i)=>this.br(e,a,i).next((l=>l?he.resolve():n(i)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((m=>{m||(a++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),he.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vf(e.data.value)),n}br(e,n,a){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,a,i){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=i}static As(e,n){let a=Ye(),i=Ye();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Lv(e,n.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OR()?8:Ok(jn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,i){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,i,a).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new oP;return this.Ss(e,n,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>l.result))}bs(e,n,a,i){return a.documentReadCount<this.fs?(Dl()<=He.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Dl()<=He.DEBUG&&Ee("QueryEngine","Query:",jl(n),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.gs*i?(Dl()<=He.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_a(n))):he.resolve())}ys(e,n){if(Gb(n))return he.resolve(null);let a=_a(n);return this.indexManager.getIndexType(e,a).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ff(n,null,"F"),a=_a(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const u=Ye(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,u,p.readTime)?this.ys(e,Ff(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,i){return Gb(n)||i.isEqual(Oe.min())?he.resolve(null):this.ps.getDocuments(e,a).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,a,i)?he.resolve(null):(Dl()<=He.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jl(n)),this.vs(e,u,n,Rk(i,Qu)).next((m=>m)))}))}Ds(e,n){let a=new un(Yx(e));return n.forEach(((i,l)=>{hm(e,l)&&(a=a.add(l))})),a}Cs(e,n,a,i){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ss(e,n,a){return Dl()<=He.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",jl(n)),this.ps.getDocumentsMatchingQuery(e,n,hi.min(),a)}vs(e,n,a,i){return this.ps.getDocumentsMatchingQuery(e,a,i).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LocalStore",cP=3e8;class uP{constructor(e,n,a,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Nt(Ge),this.xs=new ko((l=>Nv(l)),Rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dP(t,e,n,a){return new uP(t,e,n,a)}async function yS(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let i;return n.mutationQueue.getAllMutationBatches(a).next((l=>(i=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const u=[],m=[];let p=Ye();for(const g of i){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function hP(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const i=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,w=E.keys();let S=he.resolve();return w.forEach((A=>{S=S.next((()=>v.getEntry(p,A))).next((C=>{const O=g.docVersions.get(A);st(O!==null,48541),C.version.compareTo(O)<0&&(E.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),v.addEntry(C)))}))})),S.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ye();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,i)))}))}function vS(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fP(t,e){const n=Me(t),a=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const m=[];e.targetChanges.forEach(((v,E)=>{const w=i.get(E);if(!w)return;m.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(wn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,a)),i=i.insert(E,S),(function(C,O,z){return C.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=cP?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,v)&&m.push(n.Pi.updateTargetData(l,S))}));let p=cs(),g=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(mP(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!a.isEqual(Oe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a)));m.push(v)}return he.waitFor(m).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=i,l)))}function mP(t,e,n){let a=Ye(),i=Ye();return n.forEach((l=>a=a.add(l))),e.getEntries(t,a).next((l=>{let u=cs();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):Ee(Uv,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:i}}))}function pP(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function gP(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let i;return n.Pi.getTargetData(a,e).next((l=>l?(i=l,he.resolve(i)):n.Pi.allocateTargetId(a).next((u=>(i=new ai(e,u,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,i).next((()=>i)))))))})).then((a=>{const i=n.Ms.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function My(t,e,n){const a=Me(t),i=a.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(u=>a.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!uc(u))throw u;Ee(Uv,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Ms=a.Ms.remove(e),a.xs.delete(i.target)}function sT(t,e,n){const a=Me(t);let i=Oe.min(),l=Ye();return a.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const E=Me(p),w=E.xs.get(v);return w!==void 0?he.resolve(E.Ms.get(w)):E.Pi.getTargetData(g,v)})(a,u,_a(e)).next((m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{l=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(u,e,n?i:Oe.min(),n?l:Ye()))).next((m=>(yP(a,tO(e),m),{documents:m,Qs:l})))))}function yP(t,e,n){let a=t.Os.get(e)||Oe.min();n.forEach(((i,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),t.Os.set(e,a)}class iT{constructor(){this.activeTargetIds=oO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vP{constructor(){this.Mo=new iT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iT,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="ConnectivityMonitor";class lT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(oT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(oT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function Vy(){return Wh===null?Wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="RestConnection",EP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${i}`,this.Wo=this.databaseId.database===zf?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Go(e,n,a,i,l){const u=Vy(),m=this.zo(e,n.toUriEncodedString());Ee(ay,`Sending RPC '${e}' ${u}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,l);const{host:g}=new URL(m),v=bi(g);return this.Jo(e,m,p,a,v).then((E=>(Ee(ay,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Kl(ay,`RPC '${e}' ${u} failed with error: `,E,"url: ",m,"request:",a),E}))}Ho(e,n,a,i,l,u){return this.Go(e,n,a,i,l)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,l)=>e[l]=i)),a&&a.headers.forEach(((i,l)=>e[l]=i))}zo(e,n){const a=EP[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class wP extends bP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,i,l){const u=Vy();return new Promise(((m,p)=>{const g=new bx;g.setWithCredentials(!0),g.listenOnce(Tx.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yf.NO_ERROR:const E=g.getResponseJson();Ee(Nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),m(E);break;case yf.TIMEOUT:Ee(Nn,`RPC '${e}' ${u} timed out`),p(new ve(ue.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const w=g.getStatus();if(Ee(Nn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const C=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(F)>=0?F:ue.UNKNOWN})(A.status);p(new ve(C,A.message))}else p(new ve(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(ue.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ee(Nn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(i);Ee(Nn,`RPC '${e}' ${u} sending request:`,i),g.send(n,"POST",v,a,15)}))}T_(e,n,a){const i=Vy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Sx(),m=xx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=l.join("");Ee(Nn,`Creating RPC '${e}' stream ${i}: ${v}`,p);const E=u.createWebChannel(v,p);this.I_(E);let w=!1,S=!1;const A=new TP({Yo:O=>{S?Ee(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(w||(Ee(Nn,`Opening RPC '${e}' stream ${i} transport.`),E.open(),w=!0),Ee(Nn,`RPC '${e}' stream ${i} sending:`,O),E.send(O))},Zo:()=>E.close()}),C=(O,z,F)=>{O.listen(z,(X=>{try{F(X)}catch(re){setTimeout((()=>{throw re}),0)}}))};return C(E,Nu.EventType.OPEN,(()=>{S||(Ee(Nn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),C(E,Nu.EventType.CLOSE,(()=>{S||(S=!0,Ee(Nn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(E))})),C(E,Nu.EventType.ERROR,(O=>{S||(S=!0,Kl(Nn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),A.a_(new ve(ue.UNAVAILABLE,"The operation could not be completed")))})),C(E,Nu.EventType.MESSAGE,(O=>{if(!S){const z=O.data[0];st(!!z,16349);const F=z,X=F?.error||F[0]?.error;if(X){Ee(Nn,`RPC '${e}' stream ${i} received error:`,X);const re=X.status;let q=(function(R){const M=Wt[R];if(M!==void 0)return sS(M)})(re),Z=X.message;q===void 0&&(q=ue.INTERNAL,Z="Unknown error status: "+re+" with message "+X.message),S=!0,A.a_(new ve(q,Z)),E.close()}else Ee(Nn,`RPC '${e}' stream ${i} received:`,z),A.u_(z)}})),C(m,wx.STAT_EVENT,(O=>{O.stat===Sy.PROXY?Ee(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Sy.NOPROXY&&Ee(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return new CO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,a=1e3,i=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=i,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-a);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class ES{constructor(e,n,a,i,l,u,m,p){this.Mi=e,this.S_=a,this.b_=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,i])=>{this.D_===n&&this.G_(a,i)}),(a=>{e((()=>{const i=new ve(ue.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(i)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{a((()=>this.z_(i)))})),this.stream.onMessage((i=>{a((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xP extends ES{constructor(e,n,a,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,i,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IO(this.serializer,e),a=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Ea(u.readTime):Oe.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Py(this.serializer),n.addTarget=(function(l,u){let m;const p=u.target;if(m=Iy(p)?{documents:kO(l,p)}:{query:OO(l,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=lS(l,u.resumeToken);const g=jy(l,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Hf(l,u.snapshotVersion.toTimestamp());const g=jy(l,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=MO(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.q_(n)}}class SP extends ES{constructor(e,n,a,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,i,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jO(e.writeResults,e.commitTime),a=Ea(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Py(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>DO(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{}class CP extends AP{constructor(e,n,a,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,ky(n,a),i,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ue.UNKNOWN,l.toString())}))}Ho(e,n,a,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,ky(n,a),i,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class RP{constructor(e,n,a,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{a.enqueueAndForget((async()=>{Oo(this)&&(Ee(Ao,"Restarting streams for network reachability change."),await(async function(p){const g=Me(p);g.Ea.add(4),await _d(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ym(g)})(this))}))})),this.Ra=new NP(a,i)}}async function ym(t){if(Oo(t))for(const e of t.da)await e(!0)}async function _d(t){for(const e of t.da)await e(!1)}function bS(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fv(n)?qv(n):hc(n).O_()&&Bv(n,e))}function zv(t,e){const n=Me(t),a=hc(n);n.Ia.delete(e),a.O_()&&TS(n,e),n.Ia.size===0&&(a.O_()?a.L_():Oo(n)&&n.Ra.set("Unknown"))}function Bv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Y_(e)}function TS(t,e){t.Va.Ue(e),hc(t).Z_(e)}function qv(t){t.Va=new wO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Ra.ua()}function Fv(t){return Oo(t)&&!hc(t).x_()&&t.Ia.size>0}function Oo(t){return Me(t).Ea.size===0}function wS(t){t.Va=void 0}async function IP(t){t.Ra.set("Online")}async function DP(t){t.Ia.forEach(((e,n)=>{Bv(t,e)}))}async function jP(t,e){wS(t),Fv(t)?(t.Ra.ha(e),qv(t)):t.Ra.set("Unknown")}async function kP(t,e,n){if(t.Ra.set("Online"),e instanceof oS&&e.state===2&&e.cause)try{await(async function(i,l){const u=l.cause;for(const m of l.targetIds)i.Ia.has(m)&&(await i.remoteSyncer.rejectListen(m,u),i.Ia.delete(m),i.Va.removeTarget(m))})(t,e)}catch(a){Ee(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Kf(t,a)}else if(e instanceof bf?t.Va.Ze(e):e instanceof iS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const a=await vS(t.localStore);n.compareTo(a)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(wn.EMPTY_BYTE_STRING,v.snapshotVersion)),TS(l,p);const E=new ai(v.target,p,g,v.sequenceNumber);Bv(l,E)})),l.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(a){Ee(Ao,"Failed to raise snapshot:",a),await Kf(t,a)}}async function Kf(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await _d(t),t.Ra.set("Offline"),n||(n=()=>vS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ym(t)}))}function xS(t,e){return e().catch((n=>Kf(t,n,e)))}async function vm(t){const e=Me(t),n=gi(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;OP(e);)try{const i=await pP(e.localStore,a);if(i===null){e.Ta.length===0&&n.L_();break}a=i.batchId,PP(e,i)}catch(i){await Kf(e,i)}SS(e)&&AS(e)}function OP(t){return Oo(t)&&t.Ta.length<10}function PP(t,e){t.Ta.push(e);const n=gi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SS(t){return Oo(t)&&!gi(t).x_()&&t.Ta.length>0}function AS(t){gi(t).start()}async function MP(t){gi(t).ra()}async function VP(t){const e=gi(t);for(const n of t.Ta)e.ea(n.mutations)}async function LP(t,e,n){const a=t.Ta.shift(),i=kv.from(a,e,n);await xS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await vm(t)}async function UP(t,e){e&&gi(t).X_&&await(async function(a,i){if((function(u){return EO(u)&&u!==ue.ABORTED})(i.code)){const l=a.Ta.shift();gi(a).B_(),await xS(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,i))),await vm(a)}})(t,e),SS(t)&&AS(t)}async function uT(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),Ee(Ao,"RemoteStore received new credentials");const a=Oo(n);n.Ea.add(3),await _d(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ym(n)}async function zP(t,e){const n=Me(t);e?(n.Ea.delete(2),await ym(n)):e||(n.Ea.add(2),await _d(n),n.Ra.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,a,i){const l=Me(n);return l.sa(),new xP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Xo:IP.bind(null,t),t_:DP.bind(null,t),r_:jP.bind(null,t),H_:kP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Fv(t)?qv(t):t.Ra.set("Unknown")):(await t.ma.stop(),wS(t))}))),t.ma}function gi(t){return t.fa||(t.fa=(function(n,a,i){const l=Me(n);return l.sa(),new SP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:MP.bind(null,t),r_:UP.bind(null,t),ta:VP.bind(null,t),na:LP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,a,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=i,this.removalCallback=l,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,i,l){const u=Date.now()+a,m=new $v(e,n,u,i,l);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(t,e){if(ls("AsyncQueue",`${e}: ${t}`),uc(t))return new ve(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ce.comparator(n.key,a.key):(n,a)=>Ce.comparator(n.key,a.key),this.keyedMap=Ru(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=a.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.ga=new Nt(Ce.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Zl{constructor(e,n,a,i,l,u,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,i,l){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Zl(e,n,zl.emptySet(n),u,a,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==a[i].type||!n[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qP{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const i=Me(n),l=i.queries;i.queries=hT(),l.forEach(((u,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ve(ue.ABORTED,"Firestore shutting down"))}}function hT(){return new ko((t=>Kx(t)),dm)}async function CS(t,e){const n=Me(t);let a=3;const i=e.query;let l=n.queries.get(i);l?!l.ba()&&e.Da()&&(a=2):(l=new BP,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await n.onListen(i,!0);break;case 1:l.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const m=Hv(u,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(m)}n.queries.set(i,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Gv(n)}async function NS(t,e){const n=Me(t),a=e.query;let i=3;const l=n.queries.get(a);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?i=e.Da()?0:1:!l.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function FP(t,e){const n=Me(t);let a=!1;for(const i of e){const l=i.query,u=n.queries.get(l);if(u){for(const m of u.Sa)m.Fa(i)&&(a=!0);u.wa=i}}a&&Gv(n)}function $P(t,e,n){const a=Me(t),i=a.queries.get(e);if(i)for(const l of i.Sa)l.onError(n);a.queries.delete(e)}function Gv(t){t.Ca.forEach((e=>{e.next()}))}var Ly,fT;(fT=Ly||(Ly={})).Ma="default",fT.Cache="cache";class RS{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new Zl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class HP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=Yx(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new dT,i=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=i,m=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,E)=>{const w=i.get(v),S=hm(this.query,E)?E:null,A=!!w&&this.mutatedKeys.has(w.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;w&&S?w.data.isEqual(S.data)?A!==C&&(a.track({type:3,doc:S}),O=!0):this.su(w,S)||(a.track({type:2,doc:S}),O=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(m=!0)):!w&&S?(a.track({type:0,doc:S}),O=!0):w&&!S&&(a.track({type:1,doc:w}),O=!0,(p||g)&&(m=!0)),O&&(S?(u=u.add(S),l=C?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{tu:u,iu:a,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(S,A){const C=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:O})}};return C(S)-C(A)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(a),i=i??!1;const m=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Zl(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new DS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new IS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kv="SyncEngine";class GP{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class KP{constructor(e){this.key=e,this.hu=!1}}class YP{constructor(e,n,a,i,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ko((m=>Kx(m)),dm),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ce.comparator),this.Au=new Map,this.Ru=new Mv,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QP(t,e,n=!0){const a=VS(t);let i;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await jS(a,e,n,!0),i}async function XP(t,e){const n=VS(t);await jS(n,e,!0,!1)}async function jS(t,e,n,a){const i=await gP(t.localStore,_a(e)),l=i.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let m;return a&&(m=await WP(t,e,l,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&bS(t.remoteStore,i),m}async function WP(t,e,n,a,i){t.pu=(E,w,S)=>(async function(C,O,z,F){let X=O.view.ru(z);X.Cs&&(X=await sT(C.localStore,O.query,!1).then((({documents:D})=>O.view.ru(D,X))));const re=F&&F.targetChanges.get(O.targetId),q=F&&F.targetMismatches.get(O.targetId)!=null,Z=O.view.applyChanges(X,C.isPrimaryClient,re,q);return pT(C,O.targetId,Z.au),Z.snapshot})(t,E,w,S);const l=await sT(t.localStore,e,!0),u=new HP(e,l.Qs),m=u.ru(l.documents),p=vd.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",i),g=u.applyChanges(m,t.isPrimaryClient,p);pT(t,n,g.au);const v=new GP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function ZP(t,e,n){const a=Me(t),i=a.Tu.get(e),l=a.Iu.get(i.targetId);if(l.length>1)return a.Iu.set(i.targetId,l.filter((u=>!dm(u,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await My(a.localStore,i.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(i.targetId),n&&zv(a.remoteStore,i.targetId),Uy(a,i.targetId)})).catch(cc)):(Uy(a,i.targetId),await My(a.localStore,i.targetId,!0))}async function JP(t,e){const n=Me(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),zv(n.remoteStore,a.targetId))}async function e4(t,e,n){const a=o4(t);try{const i=await(function(u,m){const p=Me(u),g=Qe.now(),v=m.reduce(((S,A)=>S.add(A.key)),Ye());let E,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=cs(),C=Ye();return p.Ns.getEntries(S,v).next((O=>{A=O,A.forEach(((z,F)=>{F.isValidDocument()||(C=C.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,A))).next((O=>{E=O;const z=[];for(const F of m){const X=pO(F,E.get(F.key).overlayedDocument);X!=null&&z.push(new xi(F.key,X,Ux(X.value.mapValue),Ar.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,z,m)})).next((O=>{w=O;const z=O.applyToLocalDocumentSet(E,C);return p.documentOverlayCache.saveOverlays(S,O.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:Xx(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),(function(u,m,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Nt(Ge)),g=g.insert(m,p),u.Vu[u.currentUser.toKey()]=g})(a,i.batchId,n),await Ed(a,i.changes),await vm(a.remoteStore)}catch(i){const l=Hv(i,"Failed to persist write");n.reject(l)}}async function kS(t,e){const n=Me(t);try{const a=await fP(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const u=n.Au.get(l);u&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?st(u.hu,14607):i.removedDocuments.size>0&&(st(u.hu,42227),u.hu=!1))})),await Ed(n,a,e)}catch(a){await cc(a)}}function mT(t,e,n){const a=Me(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const i=[];a.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&i.push(m.snapshot)})),(function(u,m){const p=Me(u);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const w of E.Sa)w.va(m)&&(g=!0)})),g&&Gv(p)})(a.eventManager,e),i.length&&a.Pu.H_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function t4(t,e,n){const a=Me(t);a.sharedClientState.updateQueryState(e,"rejected",n);const i=a.Au.get(e),l=i&&i.key;if(l){let u=new Nt(Ce.comparator);u=u.insert(l,Dn.newNoDocument(l,Oe.min()));const m=Ye().add(l),p=new pm(Oe.min(),new Map,new Nt(Ge),u,m);await kS(a,p),a.du=a.du.remove(l),a.Au.delete(e),Yv(a)}else await My(a.localStore,e,!1).then((()=>Uy(a,e,n))).catch(cc)}async function n4(t,e){const n=Me(t),a=e.batch.batchId;try{const i=await hP(n.localStore,e);PS(n,a,null),OS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Ed(n,i)}catch(i){await cc(i)}}async function r4(t,e,n){const a=Me(t);try{const i=await(function(u,m){const p=Me(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(st(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(a.localStore,e);PS(a,e,n),OS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Ed(a,i)}catch(i){await cc(i)}}function OS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function PS(t,e,n){const a=Me(t);let i=a.Vu[a.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),a.Vu[a.currentUser.toKey()]=i}}function Uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.Iu.get(e))t.Tu.delete(a),n&&t.Pu.yu(a,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((a=>{t.Ru.containsKey(a)||MS(t,a)}))}function MS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Yv(t))}function pT(t,e,n){for(const a of n)a instanceof IS?(t.Ru.addReference(a.key,e),a4(t,a)):a instanceof DS?(Ee(Kv,"Document no longer in limbo: "+a.key),t.Ru.removeReference(a.key,e),t.Ru.containsKey(a.key)||MS(t,a.key)):je(19791,{wu:a})}function a4(t,e){const n=e.key,a=n.path.canonicalString();t.du.get(n)||t.Eu.has(a)||(Ee(Kv,"New document in limbo: "+n),t.Eu.add(a),Yv(t))}function Yv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(Et.fromString(e)),a=t.fu.next();t.Au.set(a,new KP(n)),t.du=t.du.insert(n,a),bS(t.remoteStore,new ai(_a(Iv(n.path)),a,"TargetPurposeLimboResolution",lm.ce))}}async function Ed(t,e,n){const a=Me(t),i=[],l=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{u.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){i.push(g);const v=Lv.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),a.Pu.H_(i),await(async function(p,g){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>he.forEach(g,(w=>he.forEach(w.Es,(S=>v.persistence.referenceDelegate.addReference(E,w.targetId,S))).next((()=>he.forEach(w.ds,(S=>v.persistence.referenceDelegate.removeReference(E,w.targetId,S)))))))))}catch(E){if(!uc(E))throw E;Ee(Uv,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const S=v.Ms.get(w),A=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(A);v.Ms=v.Ms.insert(w,C)}}})(a.localStore,l))}async function s4(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){Ee(Kv,"User change. New user:",e.toKey());const a=await yS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new ve(ue.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ed(n,a.Ls)}}function i4(t,e){const n=Me(t),a=n.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let i=Ye();const l=n.Iu.get(e);if(!l)return i;for(const u of l){const m=n.Tu.get(u);i=i.unionWith(m.view.nu)}return i}}function VS(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t4.bind(null,e),e.Pu.H_=FP.bind(null,e.eventManager),e.Pu.yu=$P.bind(null,e.eventManager),e}function o4(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dP(this.persistence,new lP,e.initialUser,this.serializer)}Cu(e){return new gS(Vv.mi,this.serializer)}Du(e){return new vP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class l4 extends Yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Gf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new KO(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new gS((a=>Gf.mi(a,n)),this.serializer)}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>mT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=s4.bind(null,this.syncEngine),await zP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qP})()}createDatastore(e){const n=gm(e.databaseInfo.databaseId),a=(function(l){return new wP(l)})(e.databaseInfo);return(function(l,u,m,p){return new CP(l,u,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,i,l,u,m){return new RP(a,i,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mT(this.syncEngine,n,0)),(function(){return lT.v()?new lT:new _P})())}createSyncEngine(e,n){return(function(i,l,u,m,p,g,v){const E=new YP(i,l,u,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Me(n);Ee(Ao,"RemoteStore shutting down."),a.Ea.add(5),await _d(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zy.provider={build:()=>new zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="FirestoreClient";class c4{constructor(e,n,a,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async u=>{Ee(yi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(a,(u=>(Ee(yi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Hv(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function iy(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(yi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener((async i=>{a.isEqual(i)||(await yS(e.localStore,i),a=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u4(t);Ee(yi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((a=>uT(e.remoteStore,a))),t.setAppCheckTokenChangeListener(((a,i)=>uT(e.remoteStore,i))),t._onlineComponents=e}async function u4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(yi,"Using user provided OfflineComponentProvider");try{await iy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Kl("Error using user provided cache. Falling back to memory cache: "+n),await iy(t,new Yf)}}else Ee(yi,"Using default OfflineComponentProvider"),await iy(t,new l4(void 0));return t._offlineComponents}async function US(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(yi,"Using user provided OnlineComponentProvider"),await gT(t,t._uninitializedComponentsProvider._online)):(Ee(yi,"Using default OnlineComponentProvider"),await gT(t,new zy))),t._onlineComponents}function d4(t){return US(t).then((e=>e.syncEngine))}async function zS(t){const e=await US(t),n=e.eventManager;return n.onListen=QP.bind(null,e.syncEngine),n.onUnlisten=ZP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JP.bind(null,e.syncEngine),n}function h4(t,e,n={}){const a=new as;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new LS({next:w=>{v.Nu(),u.enqueueAndForget((()=>NS(l,E)));const S=w.docs.has(m);!S&&w.fromCache?g.reject(new ve(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?g.reject(new ve(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new RS(Iv(m.path),v,{includeMetadataChanges:!0,qa:!0});return CS(l,E)})(await zS(t),t.asyncQueue,e,n,a))),a.promise}function f4(t,e,n={}){const a=new as;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new LS({next:w=>{v.Nu(),u.enqueueAndForget((()=>NS(l,E))),w.fromCache&&p.source==="server"?g.reject(new ve(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new RS(m,v,{includeMetadataChanges:!0,qa:!0});return CS(l,E)})(await zS(t),t.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",vT=!0;class _T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HO)throw new ve(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,i){return a.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,n,a,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vk;switch(a.type){case"firstParty":return new Tk(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=yT.get(n);a&&(Ee("ComponentProvider","Removing Datastore"),yT.delete(n),a.terminate())})(this),Promise.resolve()}}function m4(t,e,n,a={}){t=$r(t,_m);const i=bi(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;i&&(uv(`https://${m}`),dv("Firestore",!0)),l.host!==qS&&l.host!==m&&Kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:i,emulatorOptions:a};if(!bo(p,u)&&(t._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=In.MOCK_USER;else{g=Ow(a.mockUserToken,t._app?.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new ve(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new In(E)}t._authCredentials=new _k(new Cx(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class Gt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(gd(n,Gt._jsonSchema))return new Gt(e,a||null,new Ce(Et.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:tn("string",Gt._jsonSchemaVersion),referencePath:tn("string")};class ci extends Si{constructor(e,n,a){super(e,n,Iv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Ce(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function tt(t,e,...n){if(t=Pt(t),Nx("collection","path",e),t instanceof _m){const a=Et.fromString(e,...n);return jb(a),new ci(t,null,a)}{if(!(t instanceof Gt||t instanceof ci))throw new ve(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(Et.fromString(e,...n));return jb(a),new ci(t.firestore,null,a)}}function Xe(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=xv.newId()),Nx("doc","path",e),t instanceof _m){const a=Et.fromString(e,...n);return Db(a),new Gt(t,null,new Ce(a))}{if(!(t instanceof Gt||t instanceof ci))throw new ve(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(Et.fromString(e,...n));return Db(a),new Gt(t.firestore,t instanceof ci?t.converter:null,new Ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class bT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _S(this,"async_queue_retry"),this._c=()=>{const a=sy();a&&Ee(ET,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;Ee(ET,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",TT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=$v.createAndSchedule(this,e,n,a,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&je(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Po extends _m{constructor(e,n,a,i){super(e,n,a,i),this.type="firestore",this._queue=new bT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bT(e),this._firestoreClient=void 0,await e}}}function p4(t,e){const n=typeof t=="object"?t:mv(),a=typeof t=="string"?t:zf,i=rm(n,"firestore").getImmediate({identifier:a});if(!i._initialized){const l=Dw("firestore");l&&m4(i,...l)}return i}function Qv(t){if(t._terminated)throw new ve(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||g4(t),t._firestoreClient}function g4(t){const e=t._freezeSettings(),n=(function(i,l,u,m){return new Uk(i,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,BS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new c4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const l=i?._online.build();return{_offline:i?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(wn.fromBase64String(e))}catch(n){throw new ve(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gd(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:tn("string",Sr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ba._jsonSchemaVersion}}static fromJSON(e){if(gd(e,ba._jsonSchema))return new ba(e.latitude,e.longitude)}}ba._jsonSchemaVersion="firestore/geoPoint/1.0",ba._jsonSchema={type:tn("string",ba._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,i){if(a.length!==i.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gd(e,Ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ta(e.vectorValues);throw new ve(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:tn("string",Ta._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=/^__.*__$/;class v4{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yd(e,this.data,n,this.fieldTransforms)}}class FS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $S(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class Xv{constructor(e,n,a,i,l,u){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=i,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($S(this.Ac)&&y4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _4{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||gm(e)}Cc(e,n,a,i=!1){return new Xv({Ac:e,methodName:n,Dc:a,path:Tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(t){const e=t._freezeSettings(),n=gm(t._databaseId);return new _4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HS(t,e,n,a,i,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,i);Zv("Data must be an object, but it was:",u,a);const m=GS(a,u);let p,g;if(l.merge)p=new or(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const w=By(e,E,n);if(!u.contains(w))throw new ve(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);YS(v,w)||v.push(w)}p=new or(v),g=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=u.fieldTransforms;return new v4(new Hn(m),p,g)}class wm extends bm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class Wv extends bm{_toFieldTransform(e){return new dO(e.path,new ed)}isEqual(e){return e instanceof Wv}}function E4(t,e,n,a){const i=t.Cc(1,e,n);Zv("Data must be an object, but it was:",i,a);const l=[],u=Hn.empty();wi(a,((p,g)=>{const v=Jv(e,p,n);g=Pt(g);const E=i.yc(v);if(g instanceof wm)l.push(v);else{const w=bd(g,E);w!=null&&(l.push(v),u.set(v,w))}}));const m=new or(l);return new FS(u,m,i.fieldTransforms)}function b4(t,e,n,a,i,l){const u=t.Cc(1,e,n),m=[By(e,a,n)],p=[i];if(l.length%2!=0)throw new ve(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)m.push(By(e,l[w])),p.push(l[w+1]);const g=[],v=Hn.empty();for(let w=m.length-1;w>=0;--w)if(!YS(g,m[w])){const S=m[w];let A=p[w];A=Pt(A);const C=u.yc(S);if(A instanceof wm)g.push(S);else{const O=bd(A,C);O!=null&&(g.push(S),v.set(S,O))}}const E=new or(g);return new FS(v,E,u.fieldTransforms)}function T4(t,e,n,a=!1){return bd(n,t.Cc(a?4:3,e))}function bd(t,e){if(KS(t=Pt(t)))return Zv("Unsupported field value:",e,t),GS(t,e);if(t instanceof bm)return(function(a,i){if(!$S(i.Ac))throw i.Sc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,i){const l=[];let u=0;for(const m of a){let p=bd(m,i.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(a,i){if((a=Pt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lO(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Qe.fromDate(a);return{timestampValue:Hf(i.serializer,l)}}if(a instanceof Qe){const l=new Qe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,l)}}if(a instanceof ba)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Sr)return{bytesValue:lS(i.serializer,a._byteString)};if(a instanceof Gt){const l=i.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pv(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof Ta)return(function(u,m){return{mapValue:{fields:{[Vx]:{stringValue:Lx},[Bf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Dv(m.serializer,g)}))}}}}}})(a,i);throw i.Sc(`Unsupported field value: ${om(a)}`)})(t,e)}function GS(t,e){const n={};return Dx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wi(t,((a,i)=>{const l=bd(i,e.mc(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function KS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof ba||t instanceof Sr||t instanceof Gt||t instanceof bm||t instanceof Ta)}function Zv(t,e,n){if(!KS(n)||!Rx(n)){const a=om(n);throw a==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+a)}}function By(t,e,n){if((e=Pt(e))instanceof Em)return e._internalPath;if(typeof e=="string")return Jv(t,e);throw Qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const w4=new RegExp("[~\\*/\\[\\]]");function Jv(t,e,n){if(e.search(w4)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Em(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qf(t,e,n,a,i){const l=a&&!a.isEmpty(),u=i!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${a}`),u&&(p+=` in document ${i}`),p+=")"),new ve(ue.INVALID_ARGUMENT,m+t+p)}function YS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,a,i,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x4 extends QS{data(){return super.data()}}function xm(t,e){return typeof e=="string"?Jv(t,e):e instanceof Em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class t0 extends e0{}function nn(t,e,...n){let a=[];e instanceof e0&&a.push(e),a=a.concat(n),(function(l){const u=l.filter((p=>p instanceof n0)).length,m=l.filter((p=>p instanceof Sm)).length;if(u>1||u>0&&m>0)throw new ve(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const i of a)t=i._apply(t);return t}class Sm extends t0{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Sm(e,n,a)}_apply(e){const n=this._parse(e);return XS(e._query,n),new Si(e.firestore,e.converter,Dy(e._query,n))}_parse(e){const n=Tm(e.firestore);return(function(l,u,m,p,g,v,E){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){xT(E,v);const A=[];for(const C of E)A.push(wT(p,l,C));w={arrayValue:{values:A}}}else w=wT(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||xT(E,v),w=T4(m,u,E,v==="in"||v==="not-in");return en.create(g,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ot(t,e,n){const a=e,i=xm("where",t);return Sm._create(i,a,n)}class n0 extends e0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let u=i;const m=l.getFlattenedFilters();for(const p of m)XS(u,p),u=Dy(u,p)})(e._query,n),new Si(e.firestore,e.converter,Dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class r0 extends t0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new r0(e,n)}_apply(e){const n=(function(i,l,u){if(i.startAt!==null)throw new ve(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ju(l,u)})(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,(function(i,l){const u=i.explicitOrderBy.concat([l]);return new dc(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Cr(t,e="asc"){const n=e,a=xm("orderBy",t);return r0._create(a,n)}class a0 extends t0{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new a0(e,n,a)}_apply(e){return new Si(e.firestore,e.converter,Ff(e._query,this._limit,this._limitType))}}function A4(t){return a0._create("limit",t,"F")}function wT(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ve(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(e)&&n.indexOf("/")!==-1)throw new ve(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Et.fromString(n));if(!Ce.isDocumentKey(a))throw new ve(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return zb(t,new Ce(a))}if(n instanceof Gt)return zb(t,n._key);throw new ve(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(n)}.`)}function xT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XS(t,e){const n=(function(i,l){for(const u of i)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class C4{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return wi(e,((i,l)=>{a[i]=this.convertValue(l,n)})),a}convertVectorValue(e){const n=e.fields?.[Bf].arrayValue?.values?.map((a=>Ht(a.doubleValue)));return new Ta(n)}convertGeoPoint(e){return new ba(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=um(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=fi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Et.fromString(e);st(mS(a),9688,{name:e});const i=new Wu(a.get(1),a.get(3)),l=new Ce(a.popFirst(5));return i.isEqual(n)||ls(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e,n){let a;return a=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,a}class Du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vo extends QS{constructor(e,n,a,i,l,u){super(e,n,a,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(xm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",vo._jsonSchema={type:tn("string",vo._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Tf extends vo{data(e={}){return super.data(e)}}class Bl{constructor(e,n,a,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Du(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Tf(this._firestore,this._userDataWriter,a.key,a,new Du(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((m=>{const p=new Tf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Du(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new Tf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Du(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:N4(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){t=$r(t,Gt);const e=$r(t.firestore,Po);return h4(Qv(e),t._key).then((n=>R4(e,t,n)))}Bl._jsonSchemaVersion="firestore/querySnapshot/1.0",Bl._jsonSchema={type:tn("string",Bl._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class ZS extends C4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Kt(t){t=$r(t,Si);const e=$r(t.firestore,Po),n=Qv(e),a=new ZS(e);return S4(t._query),f4(n,t._query).then((i=>new Bl(e,a,t,i)))}function qy(t,e,n){t=$r(t,Gt);const a=$r(t.firestore,Po),i=WS(t.converter,e,n);return Am(a,[HS(Tm(a),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ar.none())])}function zn(t,e,n,...a){t=$r(t,Gt);const i=$r(t.firestore,Po),l=Tm(i);let u;return u=typeof(e=Pt(e))=="string"||e instanceof Em?b4(l,"updateDoc",t._key,e,n,a):E4(l,"updateDoc",t._key,e),Am(i,[u.toMutation(t._key,Ar.exists(!0))])}function Gn(t){return Am($r(t.firestore,Po),[new jv(t._key,Ar.none())])}function Kr(t,e){const n=$r(t.firestore,Po),a=Xe(t),i=WS(t.converter,e);return Am(n,[HS(Tm(t.firestore),"addDoc",a._key,i,t.converter!==null,{}).toMutation(a._key,Ar.exists(!1))]).then((()=>a))}function Am(t,e){return(function(a,i){const l=new as;return a.asyncQueue.enqueueAndForget((async()=>e4(await d4(a),i,l))),l.promise})(Qv(t),e)}function R4(t,e,n){const a=n.docs.get(e._key),i=new ZS(t);return new vo(t,i,e._key,a,new Du(n.hasPendingWrites,n.fromCache),e.converter)}function xt(){return new Wv("serverTimestamp")}(function(e,n=!0){(function(i){lc=i})(jo),To(new di("firestore",((a,{instanceIdentifier:i,options:l})=>{const u=a.getProvider("app").getImmediate(),m=new Po(new Ek(a.getProvider("auth-internal")),new wk(u,a.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(g.options.projectId,v)})(u,i),u);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),ga(Cb,Nb,e),ga(Cb,Nb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebasestorage.googleapis.com",eA="storageBucket",I4=120*1e3,D4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Aa{constructor(e,n,a=0){super(oy(e),`Firebase Storage: ${n} (${oy(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return oy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function oy(t){return"storage/"+t}function s0(){const t="An unknown error occurred, please check the error payload for server response.";return new Vt(Mt.UNKNOWN,t)}function j4(t){return new Vt(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function k4(t){return new Vt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function O4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Mt.UNAUTHENTICATED,t)}function P4(){return new Vt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function M4(t){return new Vt(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function V4(){return new Vt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L4(){return new Vt(Mt.CANCELED,"User canceled the upload/download.")}function U4(t){return new Vt(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function z4(t){return new Vt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function B4(){return new Vt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eA+"' property when initializing the app?")}function q4(){return new Vt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function F4(){return new Vt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $4(t){return new Vt(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fy(t){return new Vt(Mt.INVALID_ARGUMENT,t)}function tA(){return new Vt(Mt.APP_DELETED,"The Firebase app was deleted.")}function H4(t){return new Vt(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qu(t,e){return new Vt(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bu(t){throw new Vt(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=lr.makeFromUrl(e,n)}catch{return new lr(e,"")}if(a.path==="")return a;throw z4(e)}static makeFromUrl(e,n){let a=null;const i="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${E}/${v}/b/${i}/o${w}`,"i"),A={bucket:1,path:3},C=n===JS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",z=new RegExp(`^https?://${C}/${i}/${O}`,"i"),X=[{regex:m,indices:p,postModify:l},{regex:S,indices:A,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<X.length;re++){const q=X[re],Z=q.regex.exec(e);if(Z){const D=Z[q.indices.bucket];let R=Z[q.indices.path];R||(R=""),a=new lr(D,R),q.postModify(a);break}}if(a==null)throw U4(e);return a}}class G4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t,e,n){let a=1,i=null,l=null,u=!1,m=0;function p(){return m===2}let g=!1;function v(...O){g||(g=!0,e.apply(null,O))}function E(O){i=setTimeout(()=>{i=null,t(S,p())},O)}function w(){l&&clearTimeout(l)}function S(O,...z){if(g){w();return}if(O){w(),v.call(null,O,...z);return}if(p()||u){w(),v.call(null,O,...z);return}a<64&&(a*=2);let X;m===1?(m=2,X=0):X=(a+Math.random())*1e3,E(X)}let A=!1;function C(O){A||(A=!0,w(),!g&&(i!==null?(O||(m=2),clearTimeout(i),E(0)):O||(m=1)))}return E(0),l=setTimeout(()=>{u=!0,C(!0)},n),C}function Y4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){return t!==void 0}function X4(t){return typeof t=="object"&&!Array.isArray(t)}function i0(t){return typeof t=="string"||t instanceof String}function ST(t){return o0()&&t instanceof Blob}function o0(){return typeof Blob<"u"}function AT(t,e,n,a){if(a<e)throw Fy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(a>n)throw Fy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${t}`}function nA(t){const e=encodeURIComponent;let n="?";for(const a in t)if(t.hasOwnProperty(a)){const i=e(a)+"="+e(t[a]);n=n+i+"&"}return n=n.slice(0,-1),n}var _o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_o||(_o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||i||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,a,i,l,u,m,p,g,v,E,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=i,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,C)=>{this.resolve_=A,this.reject_=C,this.start_()})}start_(){const e=(a,i)=>{if(i){a(!1,new Zh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===_o.NO_ERROR,p=l.getStatus();if(!m||W4(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===_o.ABORT;a(!1,new Zh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new Zh(g,l))})},n=(a,i)=>{const l=this.resolve_,u=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Q4(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=s0();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(i.canceled){const p=this.appDelete_?tA():L4();u(p)}else{const p=V4();u(p)}};this.canceled_?n(!1,new Zh(!1,null,!0)):this.backoffId_=K4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function J4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rM(t,e,n,a,i,l,u=!0,m=!1){const p=nA(t.urlParams),g=t.url+p,v=Object.assign({},t.headers);return tM(v,e),J4(v,n),eM(v,l),nM(v,a),new Z4(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sM(...t){const e=aM();if(e!==void 0){const n=new e;for(let a=0;a<t.length;a++)n.append(t[a]);return n.getBlob()}else{if(o0())return new Blob(t);throw new Vt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){if(typeof atob>"u")throw $4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ly{constructor(e,n){this.data=e,this.contentType=n||null}}function lM(t,e){switch(t){case ha.RAW:return new ly(rA(e));case ha.BASE64:case ha.BASE64URL:return new ly(aA(t,e));case ha.DATA_URL:return new ly(uM(e),dM(e))}throw s0()}function rA(t){const e=[];for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,u=t.charCodeAt(++n);a=65536|(l&1023)<<10|u&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function cM(t){let e;try{e=decodeURIComponent(t)}catch{throw qu(ha.DATA_URL,"Malformed data URL.")}return rA(e)}function aA(t,e){switch(t){case ha.BASE64:{const i=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(i||l)throw qu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ha.BASE64URL:{const i=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(i||l)throw qu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oM(e)}catch(i){throw i.message.includes("polyfill")?i:qu(t,"Invalid character found")}const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a}class sA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw qu(ha.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=hM(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function uM(t){const e=new sA(t);return e.base64?aA(ha.BASE64,e.rest):cM(e.rest)}function dM(t){return new sA(t).contentType}function hM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){let a=0,i="";ST(e)?(this.data_=e,a=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ST(this.data_)){const a=this.data_,i=iM(a,e,n);return i===null?null:new ni(i)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new ni(a,!0)}}static getBlob(...e){if(o0()){const n=e.map(a=>a instanceof ni?a.data_:a);return new ni(sM.apply(null,n))}else{const n=e.map(u=>i0(u)?lM(ha.RAW,u).data:u.data_);let a=0;n.forEach(u=>{a+=u.byteLength});const i=new Uint8Array(a);let l=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)i[l++]=u[m]}),new ni(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){let e;try{e=JSON.parse(t)}catch{return null}return X4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mM(t,e){const n=e.split("/").filter(a=>a.length>0).join("/");return t.length===0?n:t+"/"+n}function oA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e){return e}class Un{constructor(e,n,a,i){this.server=e,this.local=n||e,this.writable=!!a,this.xform=i||pM}}let Jh=null;function gM(t){return!i0(t)||t.length<2?t:oA(t)}function lA(){if(Jh)return Jh;const t=[];t.push(new Un("bucket")),t.push(new Un("generation")),t.push(new Un("metageneration")),t.push(new Un("name","fullPath",!0));function e(l,u){return gM(u)}const n=new Un("name");n.xform=e,t.push(n);function a(l,u){return u!==void 0?Number(u):u}const i=new Un("size");return i.xform=a,t.push(i),t.push(new Un("timeCreated")),t.push(new Un("updated")),t.push(new Un("md5Hash",null,!0)),t.push(new Un("cacheControl",null,!0)),t.push(new Un("contentDisposition",null,!0)),t.push(new Un("contentEncoding",null,!0)),t.push(new Un("contentLanguage",null,!0)),t.push(new Un("contentType",null,!0)),t.push(new Un("metadata","customMetadata",!0)),Jh=t,Jh}function yM(t,e){function n(){const a=t.bucket,i=t.fullPath,l=new lr(a,i);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function vM(t,e,n){const a={};a.type="file";const i=n.length;for(let l=0;l<i;l++){const u=n[l];a[u.local]=u.xform(a,e[u.server])}return yM(a,t),a}function cA(t,e,n){const a=iA(e);return a===null?null:vM(t,a,n)}function _M(t,e,n,a){const i=iA(e);if(i===null||!i0(i.downloadTokens))return null;const l=i.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,E=t.fullPath,w="/b/"+u(v)+"/o/"+u(E),S=l0(w,n,a),A=nA({alt:"media",token:g});return S+A})[0]}function EM(t,e){const n={},a=e.length;for(let i=0;i<a;i++){const l=e[i];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class uA{constructor(e,n,a,i){this.url=e,this.method=n,this.handler=a,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){if(!t)throw s0()}function bM(t,e){function n(a,i){const l=cA(t,i,e);return dA(l!==null),l}return n}function TM(t,e){function n(a,i){const l=cA(t,i,e);return dA(l!==null),_M(l,i,t.host,t._protocol)}return n}function hA(t){function e(n,a){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=P4():i=O4():n.getStatus()===402?i=k4(t.bucket):n.getStatus()===403?i=M4(t.path):i=a,i.status=n.getStatus(),i.serverResponse=a.serverResponse,i}return e}function wM(t){const e=hA(t);function n(a,i){let l=e(a,i);return a.getStatus()===404&&(l=j4(t.path)),l.serverResponse=i.serverResponse,l}return n}function xM(t,e,n){const a=e.fullServerUrl(),i=l0(a,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,m=new uA(i,l,TM(t,n),u);return m.errorHandler=wM(e),m}function SM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AM(t,e,n){const a=Object.assign({},n);return a.fullPath=t.path,a.size=e.size(),a.contentType||(a.contentType=SM(null,e)),a}function CM(t,e,n,a,i){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let re=0;re<2;re++)X=X+Math.random().toString().slice(2);return X}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const g=AM(e,a,i),v=EM(g,n),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",S=ni.getBlob(E,a,w);if(S===null)throw q4();const A={name:g.fullPath},C=l0(l,t.host,t._protocol),O="POST",z=t.maxUploadRetryTime,F=new uA(C,O,bM(t,n),z);return F.urlParams=A,F.headers=u,F.body=S.uploadData(),F.errorHandler=hA(e),F}class NM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,i,l){if(this.sent_)throw bu("cannot .send() more than once");if(bi(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class RM extends NM{initXhr(){this.xhr_.responseType="text"}}function fA(){return new RM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this._service=e,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Co(e,n)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oA(this._location.path)}get storage(){return this._service}get parent(){const e=fM(this._location.path);if(e===null)return null;const n=new lr(this._location.bucket,e);return new Co(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw H4(e)}}function IM(t,e,n){t._throwIfRoot("uploadBytes");const a=CM(t.storage,t._location,lA(),new ni(e,!0),n);return t.storage.makeRequestWithTokens(a,fA).then(i=>({metadata:i,ref:t}))}function DM(t){t._throwIfRoot("getDownloadURL");const e=xM(t.storage,t._location,lA());return t.storage.makeRequestWithTokens(e,fA).then(n=>{if(n===null)throw F4();return n})}function jM(t,e){const n=mM(t._location.path,e),a=new lr(t._location.bucket,n);return new Co(t.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return/^[A-Za-z]+:\/\//.test(t)}function OM(t,e){return new Co(t,e)}function mA(t,e){if(t instanceof c0){const n=t;if(n._bucket==null)throw B4();const a=new Co(n,n._bucket);return e!=null?mA(a,e):a}else return e!==void 0?jM(t,e):t}function PM(t,e){if(e&&kM(e)){if(t instanceof c0)return OM(t,e);throw Fy("To use ref(service, url), the first argument must be a Storage instance.")}else return mA(t,e)}function CT(t,e){const n=e?.[eA];return n==null?null:lr.makeFromBucketSpec(n,t)}function MM(t,e,n,a={}){t.host=`${e}:${n}`;const i=bi(e);i&&(uv(`https://${t.host}/b`),dv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:l}=a;l&&(t._overrideAuthToken=typeof l=="string"?l:Ow(l,t.app.options.projectId))}class c0{constructor(e,n,a,i,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=i,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=JS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I4,this._maxUploadRetryTime=D4,this._requests=new Set,i!=null?this._bucket=lr.makeFromBucketSpec(i,this._host):this._bucket=CT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=CT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Co(this,e)}_makeRequest(e,n,a,i,l=!0){if(this._deleted)return new G4(tA());{const u=rM(e,this._appId,a,i,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,i).getPromise()}}const NT="@firebase/storage",RT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="storage";function VM(t,e,n){return t=Pt(t),IM(t,e,n)}function LM(t){return t=Pt(t),DM(t)}function UM(t,e){return t=Pt(t),PM(t,e)}function zM(t=mv(),e){t=Pt(t);const a=rm(t,pA).getImmediate({identifier:e}),i=Dw("storage");return i&&BM(a,...i),a}function BM(t,e,n,a={}){MM(t,e,n,a)}function qM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new c0(n,a,i,e,jo)}function FM(){To(new di(pA,qM,"PUBLIC").setMultipleInstances(!0)),ga(NT,RT,""),ga(NT,RT,"esm2020")}FM();const $M={apiKey:"AIzaSyDMjPxIn42jeTVD0qksgZjoM9JR7nxLTxo",authDomain:"cleber-9a012.firebaseapp.com",projectId:"cleber-9a012",storageBucket:"cleber-9a012.firebasestorage.app",messagingSenderId:"174918177595",appId:"1:174918177595:web:341eabeb3c8d8144a75d1e"},u0=Vw($M),Tu=gk(u0),Te=p4(u0),HM=zM(u0);function si(t){if(typeof t=="string")return t;const e=t?.code||"",n=t?.message||"";if(n.toLowerCase().includes("user-not-found")||n.toLowerCase().includes("there is no user record"))return"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.";switch(e){case"auth/user-not-found":return"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato do email.";case"auth/invalid-credential":return n.toLowerCase().includes("user")||n.toLowerCase().includes("email")?"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.":"Email ou senha incorretos. Verifique suas credenciais.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return n&&(n.toLowerCase().includes("user-not-found")||n.toLowerCase().includes("no user record"))?"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.":"Erro ao fazer login. Verifique suas credenciais e tente novamente."}}const Fu={async logOut(){try{await sj(Tu)}catch(t){const e=si(t);throw new Error(e)}},async login(t){try{const n=(await tj(Tu,t.email,t.password)).user,a=await ql(Xe(Te,"users",n.uid));if(!a.exists())throw new Error("No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.");const l={...a.data(),lastLogin:new Date};return await qy(Xe(Te,"users",n.uid),l),l}catch(e){const n=si(e);throw new Error(n)}},async register(t){try{if(!t.email||!t.password||!t.name)throw new Error("Todos os campos so obrigatrios");if(t.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await ej(Tu,t.email,t.password)).user,a={uid:n.uid,email:t.email,name:t.name,createdAt:new Date,updatedAt:new Date,role:t.role||"user"};return await qy(Xe(Te,"users",n.uid),a),a}catch(e){const n=si(e);throw new Error(n)}},async resetPassword(t){try{await JD(Tu,t)}catch(e){const n=si(e);throw new Error(n)}},observeAuthState(t){try{return aj(Tu,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const n=await ql(Xe(Te,"users",e.uid));if(n.exists()){const a=n.data();console.log(" Usurio autenticado:",a),t(a)}else console.log(" Usurio no encontrado no Firestore"),t(null)}catch(n){console.error(" Erro ao buscar dados do usurio:",n),t(null)}else console.log(" Usurio deslogado"),t(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}};let GM={data:""},KM=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||GM},YM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QM=/\/\*[^]*?\*\/|  +/g,IT=/\n+/g,ri=(t,e)=>{let n="",a="",i="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":a+=l[1]=="f"?ri(u,l):l+"{"+ri(u,l[1]=="k"?"":e)+"}":typeof u=="object"?a+=ri(u,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ri.p?ri.p(l,u):l+":"+u+";")}return n+(e&&i?e+"{"+i+"}":i)+a},Ya={},gA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gA(t[n]);return e}return t},XM=(t,e,n,a,i)=>{let l=gA(t),u=Ya[l]||(Ya[l]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(l));if(!Ya[u]){let p=l!==t?t:(g=>{let v,E,w=[{}];for(;v=YM.exec(g.replace(QM,""));)v[4]?w.shift():v[3]?(E=v[3].replace(IT," ").trim(),w.unshift(w[0][E]=w[0][E]||{})):w[0][v[1]]=v[2].replace(IT," ").trim();return w[0]})(t);Ya[u]=ri(i?{["@keyframes "+u]:p}:p,n?"":"."+u)}let m=n&&Ya.g?Ya.g:null;return n&&(Ya.g=Ya[u]),((p,g,v,E)=>{E?g.data=g.data.replace(E,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(Ya[u],e,a,m),u},WM=(t,e,n)=>t.reduce((a,i,l)=>{let u=e[l];if(u&&u.call){let m=u(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":ri(m,""):m===!1?"":m}return a+i+(u??"")},"");function Cm(t){let e=this||{},n=t.call?t(e.p):t;return XM(n.unshift?n.raw?WM(n,[].slice.call(arguments,1),e.p):n.reduce((a,i)=>Object.assign(a,i&&i.call?i(e.p):i),{}):n,KM(e.target),e.g,e.o,e.k)}let yA,$y,Hy;Cm.bind({g:1});let us=Cm.bind({k:1});function ZM(t,e,n,a){ri.p=e,yA=t,$y=n,Hy=a}function Ai(t,e){let n=this||{};return function(){let a=arguments;function i(l,u){let m=Object.assign({},l),p=m.className||i.className;n.p=Object.assign({theme:$y&&$y()},m),n.o=/ *go\d+/.test(p),m.className=Cm.apply(n,a)+(p?" "+p:"");let g=t;return t[0]&&(g=m.as||t,delete m.as),Hy&&g[0]&&Hy(m),yA(g,m)}return i}}var JM=t=>typeof t=="function",Xf=(t,e)=>JM(t)?t(e):t,e6=(()=>{let t=0;return()=>(++t).toString()})(),vA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),t6=20,d0="default",_A=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:a}=e;return _A(t,{type:t.toasts.find(u=>u.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},wf=[],EA={toasts:[],pausedAt:void 0,settings:{toastLimit:t6}},fa={},bA=(t,e=d0)=>{fa[e]=_A(fa[e]||EA,t),wf.forEach(([n,a])=>{n===e&&a(fa[e])})},TA=t=>Object.keys(fa).forEach(e=>bA(t,e)),n6=t=>Object.keys(fa).find(e=>fa[e].toasts.some(n=>n.id===t)),Nm=(t=d0)=>e=>{bA(e,t)},r6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},a6=(t={},e=d0)=>{let[n,a]=j.useState(fa[e]||EA),i=j.useRef(fa[e]);j.useEffect(()=>(i.current!==fa[e]&&a(fa[e]),wf.push([e,a]),()=>{let u=wf.findIndex(([m])=>m===e);u>-1&&wf.splice(u,1)}),[e]);let l=n.toasts.map(u=>{var m,p,g;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((m=t[u.type])==null?void 0:m.removeDelay)||t?.removeDelay,duration:u.duration||((p=t[u.type])==null?void 0:p.duration)||t?.duration||r6[u.type],style:{...t.style,...(g=t[u.type])==null?void 0:g.style,...u.style}}});return{...n,toasts:l}},s6=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||e6()}),Td=t=>(e,n)=>{let a=s6(e,t,n);return Nm(a.toasterId||n6(a.id))({type:2,toast:a}),a.id},Zt=(t,e)=>Td("blank")(t,e);Zt.error=Td("error");Zt.success=Td("success");Zt.loading=Td("loading");Zt.custom=Td("custom");Zt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Nm(e)(n):TA(n)};Zt.dismissAll=t=>Zt.dismiss(void 0,t);Zt.remove=(t,e)=>{let n={type:4,toastId:t};e?Nm(e)(n):TA(n)};Zt.removeAll=t=>Zt.remove(void 0,t);Zt.promise=(t,e,n)=>{let a=Zt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let l=e.success?Xf(e.success,i):void 0;return l?Zt.success(l,{id:a,...n,...n?.success}):Zt.dismiss(a),i}).catch(i=>{let l=e.error?Xf(e.error,i):void 0;l?Zt.error(l,{id:a,...n,...n?.error}):Zt.dismiss(a)}),t};var i6=1e3,o6=(t,e="default")=>{let{toasts:n,pausedAt:a}=a6(t,e),i=j.useRef(new Map).current,l=j.useCallback((E,w=i6)=>{if(i.has(E))return;let S=setTimeout(()=>{i.delete(E),u({type:4,toastId:E})},w);i.set(E,S)},[]);j.useEffect(()=>{if(a)return;let E=Date.now(),w=n.map(S=>{if(S.duration===1/0)return;let A=(S.duration||0)+S.pauseDuration-(E-S.createdAt);if(A<0){S.visible&&Zt.dismiss(S.id);return}return setTimeout(()=>Zt.dismiss(S.id,e),A)});return()=>{w.forEach(S=>S&&clearTimeout(S))}},[n,a,e]);let u=j.useCallback(Nm(e),[e]),m=j.useCallback(()=>{u({type:5,time:Date.now()})},[u]),p=j.useCallback((E,w)=>{u({type:1,toast:{id:E,height:w}})},[u]),g=j.useCallback(()=>{a&&u({type:6,time:Date.now()})},[a,u]),v=j.useCallback((E,w)=>{let{reverseOrder:S=!1,gutter:A=8,defaultPosition:C}=w||{},O=n.filter(X=>(X.position||C)===(E.position||C)&&X.height),z=O.findIndex(X=>X.id===E.id),F=O.filter((X,re)=>re<z&&X.visible).length;return O.filter(X=>X.visible).slice(...S?[F+1]:[0,F]).reduce((X,re)=>X+(re.height||0)+A,0)},[n]);return j.useEffect(()=>{n.forEach(E=>{if(E.dismissed)l(E.id,E.removeDelay);else{let w=i.get(E.id);w&&(clearTimeout(w),i.delete(E.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:v}}},l6=us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,c6=us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u6=us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,d6=Ai("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${c6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${u6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,h6=us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,f6=Ai("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${h6} 1s linear infinite;
`,m6=us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,p6=us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,g6=Ai("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${p6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,y6=Ai("div")`
  position: absolute;
`,v6=Ai("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_6=us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,E6=Ai("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,b6=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?j.createElement(E6,null,e):e:n==="blank"?null:j.createElement(v6,null,j.createElement(f6,{...a}),n!=="loading"&&j.createElement(y6,null,n==="error"?j.createElement(d6,{...a}):j.createElement(g6,{...a})))},T6=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,w6=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,x6="0%{opacity:0;} 100%{opacity:1;}",S6="0%{opacity:1;} 100%{opacity:0;}",A6=Ai("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,C6=Ai("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,N6=(t,e)=>{let n=t.includes("top")?1:-1,[a,i]=vA()?[x6,S6]:[T6(n),w6(n)];return{animation:e?`${us(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${us(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},R6=j.memo(({toast:t,position:e,style:n,children:a})=>{let i=t.height?N6(t.position||e||"top-center",t.visible):{opacity:0},l=j.createElement(b6,{toast:t}),u=j.createElement(C6,{...t.ariaProps},Xf(t.message,t));return j.createElement(A6,{className:t.className,style:{...i,...n,...t.style}},typeof a=="function"?a({icon:l,message:u}):j.createElement(j.Fragment,null,l,u))});ZM(j.createElement);var I6=({id:t,className:e,style:n,onHeightUpdate:a,children:i})=>{let l=j.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;a(t,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return j.createElement("div",{ref:l,className:e,style:n},i)},D6=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...i}},j6=Cm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ef=16,k6=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:i,toasterId:l,containerStyle:u,containerClassName:m})=>{let{toasts:p,handlers:g}=o6(n,l);return j.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:ef,left:ef,right:ef,bottom:ef,pointerEvents:"none",...u},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(v=>{let E=v.position||e,w=g.calculateOffset(v,{reverseOrder:t,gutter:a,defaultPosition:e}),S=D6(E,w);return j.createElement(I6,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?j6:"",style:S},v.type==="custom"?Xf(v.message,v):i?i(v):j.createElement(R6,{toast:v,position:E}))}))},Ke=Zt;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),DT=t=>{const e=P6(t);return e.charAt(0).toUpperCase()+e.slice(1)},wA=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),M6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...m},p)=>j.createElement("svg",{ref:p,...V6,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:wA("lucide",i),...!l&&!M6(m)&&{"aria-hidden":"true"},...m},[...u.map(([g,v])=>j.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=j.forwardRef(({className:a,...i},l)=>j.createElement(L6,{ref:l,iconNode:e,className:wA(`lucide-${O6(DT(t))}`,`lucide-${t}`,a),...i}));return n.displayName=DT(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jT=Ne("activity",U6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],B6=Ne("arrow-right",z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tf=Ne("bell",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Gy=Ne("building-2",F6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xA=Ne("calendar",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],SA=Ne("chart-column",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],K6=Ne("chart-pie",G6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cn=Ne("check",Y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wf=Ne("chevron-down",Q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rd=Ne("circle-alert",X6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nf=Ne("circle-check-big",W6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],J6=Ne("circle-dot",Z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],h0=Ne("clipboard-list",e3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],No=Ne("clock",t3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],r3=Ne("cog",n3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],s3=Ne("credit-card",a3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rm=Ne("dollar-sign",i3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AA=Ne("download",o3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],c3=Ne("factory",l3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],d3=Ne("file-text",u3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],f3=Ne("funnel",h3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],p3=Ne("git-branch",m3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kT=Ne("layers",g3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OT=Ne("layout-dashboard",y3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cy=Ne("loader-circle",v3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CA=Ne("log-out",_3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b3=Ne("mail",E3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NA=Ne("map-pin",T3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],x3=Ne("menu",w3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],vi=Ne("package",S3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],C3=Ne("palette",A3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],R3=Ne("pause",N3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],D3=Ne("pen",I3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],k3=Ne("pencil",j3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],P3=Ne("phone",O3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],V3=Ne("play",M3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ci=Ne("plus",L3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],z3=Ne("printer",U3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],q3=Ne("ruler",B3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$3=Ne("save",F3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ro=Ne("search",H3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],K3=Ne("shirt",G3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Q3=Ne("sparkles",Y3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],RA=Ne("square-pen",X3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Z3=Ne("tag",W3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mo=Ne("trash-2",J3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],t5=Ne("trending-down",e5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fl=Ne("trending-up",n5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IA=Ne("triangle-alert",r5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s5=Ne("upload",a5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],o5=Ne("user-check",i5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],c5=Ne("user-plus",l5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d5=Ne("user",u5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Io=Ne("users",h5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nr=Ne("x",f5),DA=j.createContext(void 0);function m5({children:t}){const[e,n]=j.useState(null),[a,i]=j.useState(!0),[l,u]=j.useState(null);j.useEffect(()=>{n(null),i(!1)},[]);const E={user:e,loading:a,error:l,login:async w=>{try{i(!0),u(null);const S=await Fu.login(w);n(S),i(!1),Ke.success(`Bem-vindo, ${S.name||S.email}!`,{icon:d.jsx(o5,{size:20})})}catch(S){const A=si(S);u(A),i(!1),n(null),Ke.error(A)}},register:async w=>{try{i(!0),u(null);const S=await Fu.register(w);n(S),i(!1),Ke.success("Conta criada com sucesso! Bem-vindo!",{icon:d.jsx(Q3,{size:20})})}catch(S){const A=si(S);u(A),i(!1),n(null),Ke.error(A)}},logout:async()=>{try{i(!0),u(null),await Fu.logOut(),n(null),i(!1),Ke.success("Logout realizado com sucesso!",{icon:d.jsx(CA,{size:20})})}catch(w){const S=si(w);u(S),i(!1),Ke.error(S)}},clearError:()=>{u(null)}};return d.jsx(DA.Provider,{value:E,children:t})}const kn=()=>{const t=j.useContext(DA);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},p5=({children:t})=>{const{user:e,loading:n}=kn();return n?d.jsx("div",{children:"Loading..."}):e?d.jsx(d.Fragment,{children:t}):d.jsx(MN,{to:ar.login,replace:!0})},PT=t=>t,g5=()=>{let t=PT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=PT}}},y5=g5();function Do(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(a=>n.searchParams.append("args[]",a)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Jl(t){if(typeof t!="string")throw new Error(Do(7));return t.charAt(0).toUpperCase()+t.slice(1)}function jA(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jA(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function kA(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jA(t))&&(a&&(a+=" "),a+=e);return a}function v5(t,e,n=void 0){const a={};for(const i in t){const l=t[i];let u="",m=!0;for(let p=0;p<l.length;p+=1){const g=l[p];g&&(u+=(m===!0?"":" ")+e(g),m=!1,n&&n[g]&&(u+=" "+n[g]))}a[i]=u}return a}var uy={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function _5(){if(MT)return pt;MT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function A(C){if(typeof C=="object"&&C!==null){var O=C.$$typeof;switch(O){case t:switch(C=C.type,C){case n:case i:case a:case p:case g:case w:return C;default:switch(C=C&&C.$$typeof,C){case u:case m:case E:case v:return C;case l:return C;default:return O}}case e:return O}}}return pt.ContextConsumer=l,pt.ContextProvider=u,pt.Element=t,pt.ForwardRef=m,pt.Fragment=n,pt.Lazy=E,pt.Memo=v,pt.Portal=e,pt.Profiler=i,pt.StrictMode=a,pt.Suspense=p,pt.SuspenseList=g,pt.isContextConsumer=function(C){return A(C)===l},pt.isContextProvider=function(C){return A(C)===u},pt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},pt.isForwardRef=function(C){return A(C)===m},pt.isFragment=function(C){return A(C)===n},pt.isLazy=function(C){return A(C)===E},pt.isMemo=function(C){return A(C)===v},pt.isPortal=function(C){return A(C)===e},pt.isProfiler=function(C){return A(C)===i},pt.isStrictMode=function(C){return A(C)===a},pt.isSuspense=function(C){return A(C)===p},pt.isSuspenseList=function(C){return A(C)===g},pt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===i||C===a||C===p||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===E||C.$$typeof===v||C.$$typeof===u||C.$$typeof===l||C.$$typeof===m||C.$$typeof===S||C.getModuleId!==void 0)},pt.typeOf=A,pt}var VT;function E5(){return VT||(VT=1,uy.exports=_5()),uy.exports}var OA=E5();function Wa(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function PA(t){if(j.isValidElement(t)||OA.isValidElementType(t)||!Wa(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=PA(t[n])}),e}function cr(t,e,n={clone:!0}){const a=n.clone?{...t}:t;return Wa(t)&&Wa(e)&&Object.keys(e).forEach(i=>{j.isValidElement(e[i])||OA.isValidElementType(e[i])?a[i]=e[i]:Wa(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Wa(t[i])?a[i]=cr(t[i],e[i],n):n.clone?a[i]=Wa(e[i])?PA(e[i]):e[i]:a[i]=e[i]}),a}function $u(t,e){return e?cr(t,e,{clone:!1}):t}function LT(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(a=>a.startsWith("@container")).sort((a,i)=>{const l=/min-width:\s*([0-9.]+)/;return+(a.match(l)?.[1]||0)-+(i.match(l)?.[1]||0)});return n.length?n.reduce((a,i)=>{const l=e[i];return delete a[i],a[i]=l,a},{...e}):e}function b5(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function T5(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,a,i]=n,l=Number.isNaN(+a)?a||0:+a;return t.containerQueries(i).up(l)}function w5(t){const e=(l,u)=>l.replace("@media",u?`@container ${u}`:"@container");function n(l,u){l.up=(...m)=>e(t.breakpoints.up(...m),u),l.down=(...m)=>e(t.breakpoints.down(...m),u),l.between=(...m)=>e(t.breakpoints.between(...m),u),l.only=(...m)=>e(t.breakpoints.only(...m),u),l.not=(...m)=>{const p=e(t.breakpoints.not(...m),u);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const a={},i=l=>(n(a,l),a);return n(i),{...t,containerQueries:i}}const Im={xs:0,sm:600,md:900,lg:1200,xl:1536},UT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Im[t]}px)`},x5={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Im[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ds(t,e,n){const a=t.theme||{};if(Array.isArray(e)){const l=a.breakpoints||UT;return e.reduce((u,m,p)=>(u[l.up(l.keys[p])]=n(e[p]),u),{})}if(typeof e=="object"){const l=a.breakpoints||UT;return Object.keys(e).reduce((u,m)=>{if(b5(l.keys,m)){const p=T5(a.containerQueries?a:x5,m);p&&(u[p]=n(e[m],m))}else if(Object.keys(l.values||Im).includes(m)){const p=l.up(m);u[p]=n(e[m],m)}else{const p=m;u[p]=e[p]}return u},{})}return n(e)}function S5(t={}){return t.keys?.reduce((n,a)=>{const i=t.up(a);return n[i]={},n},{})||{}}function zT(t,e){return t.reduce((n,a)=>{const i=n[a];return(!i||Object.keys(i).length===0)&&delete n[a],n},e)}function Dm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const a=`vars.${e}`.split(".").reduce((i,l)=>i&&i[l]?i[l]:null,t);if(a!=null)return a}return e.split(".").reduce((a,i)=>a&&a[i]!=null?a[i]:null,t)}function Zf(t,e,n,a=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||a:i=Dm(t,n)||a,e&&(i=e(i,a,t)),i}function Yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:i}=t,l=u=>{if(u[e]==null)return null;const m=u[e],p=u.theme,g=Dm(p,a)||{};return ds(u,m,E=>{let w=Zf(g,i,E);return E===w&&typeof E=="string"&&(w=Zf(g,i,`${e}${E==="default"?"":Jl(E)}`,E)),n===!1?w:{[n]:w}})};return l.propTypes={},l.filterProps=[e],l}function A5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const C5={m:"margin",p:"padding"},N5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},R5=A5(t=>{if(t.length>2)if(BT[t])t=BT[t];else return[t];const[e,n]=t.split(""),a=C5[e],i=N5[n]||"";return Array.isArray(i)?i.map(l=>a+l):[a+i]}),f0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],m0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...f0,...m0];function wd(t,e,n,a){const i=Dm(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?l=>typeof l=="string"?l:typeof i=="string"?i.startsWith("var(")&&l===0?0:i.startsWith("var(")&&l===1?i:`calc(${l} * ${i})`:i*l:Array.isArray(i)?l=>{if(typeof l=="string")return l;const u=Math.abs(l),m=i[u];return l>=0?m:typeof m=="number"?-m:typeof m=="string"&&m.startsWith("var(")?`calc(-1 * ${m})`:`-${m}`}:typeof i=="function"?i:()=>{}}function p0(t){return wd(t,"spacing",8)}function xd(t,e){return typeof e=="string"||e==null?e:t(e)}function I5(t,e){return n=>t.reduce((a,i)=>(a[i]=xd(e,n),a),{})}function D5(t,e,n,a){if(!e.includes(n))return null;const i=R5(n),l=I5(i,a),u=t[n];return ds(t,u,l)}function MA(t,e){const n=p0(t.theme);return Object.keys(t).map(a=>D5(t,e,a,n)).reduce($u,{})}function jt(t){return MA(t,f0)}jt.propTypes={};jt.filterProps=f0;function kt(t){return MA(t,m0)}kt.propTypes={};kt.filterProps=m0;function jm(...t){const e=t.reduce((a,i)=>(i.filterProps.forEach(l=>{a[l]=i}),a),{}),n=a=>Object.keys(a).reduce((i,l)=>e[l]?$u(i,e[l](a)):i,{});return n.propTypes={},n.filterProps=t.reduce((a,i)=>a.concat(i.filterProps),[]),n}function xr(t){return typeof t!="number"?t:`${t}px solid`}function Rr(t,e){return Yt({prop:t,themeKey:"borders",transform:e})}const j5=Rr("border",xr),k5=Rr("borderTop",xr),O5=Rr("borderRight",xr),P5=Rr("borderBottom",xr),M5=Rr("borderLeft",xr),V5=Rr("borderColor"),L5=Rr("borderTopColor"),U5=Rr("borderRightColor"),z5=Rr("borderBottomColor"),B5=Rr("borderLeftColor"),q5=Rr("outline",xr),F5=Rr("outlineColor"),km=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=wd(t.theme,"shape.borderRadius",4),n=a=>({borderRadius:xd(e,a)});return ds(t,t.borderRadius,n)}return null};km.propTypes={};km.filterProps=["borderRadius"];jm(j5,k5,O5,P5,M5,V5,L5,U5,z5,B5,km,q5,F5);const Om=t=>{if(t.gap!==void 0&&t.gap!==null){const e=wd(t.theme,"spacing",8),n=a=>({gap:xd(e,a)});return ds(t,t.gap,n)}return null};Om.propTypes={};Om.filterProps=["gap"];const Pm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=wd(t.theme,"spacing",8),n=a=>({columnGap:xd(e,a)});return ds(t,t.columnGap,n)}return null};Pm.propTypes={};Pm.filterProps=["columnGap"];const Mm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=wd(t.theme,"spacing",8),n=a=>({rowGap:xd(e,a)});return ds(t,t.rowGap,n)}return null};Mm.propTypes={};Mm.filterProps=["rowGap"];const $5=Yt({prop:"gridColumn"}),H5=Yt({prop:"gridRow"}),G5=Yt({prop:"gridAutoFlow"}),K5=Yt({prop:"gridAutoColumns"}),Y5=Yt({prop:"gridAutoRows"}),Q5=Yt({prop:"gridTemplateColumns"}),X5=Yt({prop:"gridTemplateRows"}),W5=Yt({prop:"gridTemplateAreas"}),Z5=Yt({prop:"gridArea"});jm(Om,Pm,Mm,$5,H5,G5,K5,Y5,Q5,X5,W5,Z5);function $l(t,e){return e==="grey"?e:t}const J5=Yt({prop:"color",themeKey:"palette",transform:$l}),eV=Yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$l}),tV=Yt({prop:"backgroundColor",themeKey:"palette",transform:$l});jm(J5,eV,tV);function ir(t){return t<=1&&t!==0?`${t*100}%`:t}const nV=Yt({prop:"width",transform:ir}),g0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const a=t.theme?.breakpoints?.values?.[n]||Im[n];return a?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${a}${t.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:ir(n)}};return ds(t,t.maxWidth,e)}return null};g0.filterProps=["maxWidth"];const rV=Yt({prop:"minWidth",transform:ir}),aV=Yt({prop:"height",transform:ir}),sV=Yt({prop:"maxHeight",transform:ir}),iV=Yt({prop:"minHeight",transform:ir});Yt({prop:"size",cssProperty:"width",transform:ir});Yt({prop:"size",cssProperty:"height",transform:ir});const oV=Yt({prop:"boxSizing"});jm(nV,g0,rV,aV,sV,iV,oV);const Vm={border:{themeKey:"borders",transform:xr},borderTop:{themeKey:"borders",transform:xr},borderRight:{themeKey:"borders",transform:xr},borderBottom:{themeKey:"borders",transform:xr},borderLeft:{themeKey:"borders",transform:xr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:km},color:{themeKey:"palette",transform:$l},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$l},backgroundColor:{themeKey:"palette",transform:$l},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Om},rowGap:{style:Mm},columnGap:{style:Pm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ir},maxWidth:{style:g0},minWidth:{transform:ir},height:{transform:ir},maxHeight:{transform:ir},minHeight:{transform:ir},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function lV(...t){const e=t.reduce((a,i)=>a.concat(Object.keys(i)),[]),n=new Set(e);return t.every(a=>n.size===Object.keys(a).length)}function cV(t,e){return typeof t=="function"?t(e):t}function uV(){function t(n,a,i,l){const u={[n]:a,theme:i},m=l[n];if(!m)return{[n]:a};const{cssProperty:p=n,themeKey:g,transform:v,style:E}=m;if(a==null)return null;if(g==="typography"&&a==="inherit")return{[n]:a};const w=Dm(i,g)||{};return E?E(u):ds(u,a,A=>{let C=Zf(w,v,A);return A===C&&typeof A=="string"&&(C=Zf(w,v,`${n}${A==="default"?"":Jl(A)}`,A)),p===!1?C:{[p]:C}})}function e(n){const{sx:a,theme:i={},nested:l}=n||{};if(!a)return null;const u=i.unstable_sxConfig??Vm;function m(p){let g=p;if(typeof p=="function")g=p(i);else if(typeof p!="object")return p;if(!g)return null;const v=S5(i.breakpoints),E=Object.keys(v);let w=v;return Object.keys(g).forEach(S=>{const A=cV(g[S],i);if(A!=null)if(typeof A=="object")if(u[S])w=$u(w,t(S,A,i,u));else{const C=ds({theme:i},A,O=>({[S]:O}));lV(C,A)?w[S]=e({sx:A,theme:i,nested:!0}):w=$u(w,C)}else w=$u(w,t(S,A,i,u))}),!l&&i.modularCssLayers?{"@layer sx":LT(i,zT(E,w))}:LT(i,zT(E,w))}return Array.isArray(a)?a.map(m):m(a)}return e}const ec=uV();ec.filterProps=["sx"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ky.apply(null,arguments)}function dV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function hV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var fV=(function(){function t(n){var a=this;this._insertTag=function(i){var l;a.tags.length===0?a.insertionPoint?l=a.insertionPoint.nextSibling:a.prepend?l=a.container.firstChild:l=a.before:l=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(i,l),a.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(a){a.forEach(this._insertTag)},e.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=dV(i);try{l.insertRule(a,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(a));this.ctr++},e.flush=function(){this.tags.forEach(function(a){var i;return(i=a.parentNode)==null?void 0:i.removeChild(a)}),this.tags=[],this.ctr=0},t})(),Rn="-ms-",Jf="-moz-",rt="-webkit-",VA="comm",y0="rule",v0="decl",mV="@import",LA="@keyframes",pV="@layer",gV=Math.abs,Lm=String.fromCharCode,yV=Object.assign;function vV(t,e){return bn(t,0)^45?(((e<<2^bn(t,0))<<2^bn(t,1))<<2^bn(t,2))<<2^bn(t,3):0}function UA(t){return t.trim()}function _V(t,e){return(t=e.exec(t))?t[0]:t}function at(t,e,n){return t.replace(e,n)}function Yy(t,e){return t.indexOf(e)}function bn(t,e){return t.charCodeAt(e)|0}function ad(t,e,n){return t.slice(e,n)}function ua(t){return t.length}function _0(t){return t.length}function rf(t,e){return e.push(t),t}function EV(t,e){return t.map(e).join("")}var Um=1,tc=1,zA=0,Kn=0,Jt=0,fc="";function zm(t,e,n,a,i,l,u){return{value:t,root:e,parent:n,type:a,props:i,children:l,line:Um,column:tc,length:u,return:""}}function wu(t,e){return yV(zm("",null,null,"",null,null,0),t,{length:-t.length},e)}function bV(){return Jt}function TV(){return Jt=Kn>0?bn(fc,--Kn):0,tc--,Jt===10&&(tc=1,Um--),Jt}function ur(){return Jt=Kn<zA?bn(fc,Kn++):0,tc++,Jt===10&&(tc=1,Um++),Jt}function wa(){return bn(fc,Kn)}function xf(){return Kn}function Sd(t,e){return ad(fc,t,e)}function sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BA(t){return Um=tc=1,zA=ua(fc=t),Kn=0,[]}function qA(t){return fc="",t}function Sf(t){return UA(Sd(Kn-1,Qy(t===91?t+2:t===40?t+1:t)))}function wV(t){for(;(Jt=wa())&&Jt<33;)ur();return sd(t)>2||sd(Jt)>3?"":" "}function xV(t,e){for(;--e&&ur()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Sd(t,xf()+(e<6&&wa()==32&&ur()==32))}function Qy(t){for(;ur();)switch(Jt){case t:return Kn;case 34:case 39:t!==34&&t!==39&&Qy(Jt);break;case 40:t===41&&Qy(t);break;case 92:ur();break}return Kn}function SV(t,e){for(;ur()&&t+Jt!==57;)if(t+Jt===84&&wa()===47)break;return"/*"+Sd(e,Kn-1)+"*"+Lm(t===47?t:ur())}function AV(t){for(;!sd(wa());)ur();return Sd(t,Kn)}function CV(t){return qA(Af("",null,null,null,[""],t=BA(t),0,[0],t))}function Af(t,e,n,a,i,l,u,m,p){for(var g=0,v=0,E=u,w=0,S=0,A=0,C=1,O=1,z=1,F=0,X="",re=i,q=l,Z=a,D=X;O;)switch(A=F,F=ur()){case 40:if(A!=108&&bn(D,E-1)==58){Yy(D+=at(Sf(F),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:D+=Sf(F);break;case 9:case 10:case 13:case 32:D+=wV(A);break;case 92:D+=xV(xf()-1,7);continue;case 47:switch(wa()){case 42:case 47:rf(NV(SV(ur(),xf()),e,n),p);break;default:D+="/"}break;case 123*C:m[g++]=ua(D)*z;case 125*C:case 59:case 0:switch(F){case 0:case 125:O=0;case 59+v:z==-1&&(D=at(D,/\f/g,"")),S>0&&ua(D)-E&&rf(S>32?FT(D+";",a,n,E-1):FT(at(D," ","")+";",a,n,E-2),p);break;case 59:D+=";";default:if(rf(Z=qT(D,e,n,g,v,i,m,X,re=[],q=[],E),l),F===123)if(v===0)Af(D,e,Z,Z,re,l,E,m,q);else switch(w===99&&bn(D,3)===110?100:w){case 100:case 108:case 109:case 115:Af(t,Z,Z,a&&rf(qT(t,Z,Z,0,0,i,m,X,i,re=[],E),q),i,q,E,m,a?re:q);break;default:Af(D,Z,Z,Z,[""],q,0,m,q)}}g=v=S=0,C=z=1,X=D="",E=u;break;case 58:E=1+ua(D),S=A;default:if(C<1){if(F==123)--C;else if(F==125&&C++==0&&TV()==125)continue}switch(D+=Lm(F),F*C){case 38:z=v>0?1:(D+="\f",-1);break;case 44:m[g++]=(ua(D)-1)*z,z=1;break;case 64:wa()===45&&(D+=Sf(ur())),w=wa(),v=E=ua(X=D+=AV(xf())),F++;break;case 45:A===45&&ua(D)==2&&(C=0)}}return l}function qT(t,e,n,a,i,l,u,m,p,g,v){for(var E=i-1,w=i===0?l:[""],S=_0(w),A=0,C=0,O=0;A<a;++A)for(var z=0,F=ad(t,E+1,E=gV(C=u[A])),X=t;z<S;++z)(X=UA(C>0?w[z]+" "+F:at(F,/&\f/g,w[z])))&&(p[O++]=X);return zm(t,e,n,i===0?y0:m,p,g,v)}function NV(t,e,n){return zm(t,e,n,VA,Lm(bV()),ad(t,2,-2),0)}function FT(t,e,n,a){return zm(t,e,n,v0,ad(t,0,a),ad(t,a+1,-1),a)}function Hl(t,e){for(var n="",a=_0(t),i=0;i<a;i++)n+=e(t[i],i,t,e)||"";return n}function RV(t,e,n,a){switch(t.type){case pV:if(t.children.length)break;case mV:case v0:return t.return=t.return||t.value;case VA:return"";case LA:return t.return=t.value+"{"+Hl(t.children,a)+"}";case y0:t.value=t.props.join(",")}return ua(n=Hl(t.children,a))?t.return=t.value+"{"+n+"}":""}function IV(t){var e=_0(t);return function(n,a,i,l){for(var u="",m=0;m<e;m++)u+=t[m](n,a,i,l)||"";return u}}function DV(t){return function(e){e.root||(e=e.return)&&t(e)}}function FA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var jV=function(e,n,a){for(var i=0,l=0;i=l,l=wa(),i===38&&l===12&&(n[a]=1),!sd(l);)ur();return Sd(e,Kn)},kV=function(e,n){var a=-1,i=44;do switch(sd(i)){case 0:i===38&&wa()===12&&(n[a]=1),e[a]+=jV(Kn-1,n,a);break;case 2:e[a]+=Sf(i);break;case 4:if(i===44){e[++a]=wa()===58?"&\f":"",n[a]=e[a].length;break}default:e[a]+=Lm(i)}while(i=ur());return e},OV=function(e,n){return qA(kV(BA(e),n))},$T=new WeakMap,PV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,a=e.parent,i=e.column===a.column&&e.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!$T.get(a))&&!i){$T.set(e,!0);for(var l=[],u=OV(n,l),m=a.props,p=0,g=0;p<u.length;p++)for(var v=0;v<m.length;v++,g++)e.props[g]=l[p]?u[p].replace(/&\f/g,m[v]):m[v]+" "+u[p]}}},MV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function $A(t,e){switch(vV(t,e)){case 5103:return rt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+t+Jf+t+Rn+t+t;case 6828:case 4268:return rt+t+Rn+t+t;case 6165:return rt+t+Rn+"flex-"+t+t;case 5187:return rt+t+at(t,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Rn+"flex-$1$2")+t;case 5443:return rt+t+Rn+"flex-item-"+at(t,/flex-|-self/,"")+t;case 4675:return rt+t+Rn+"flex-line-pack"+at(t,/align-content|flex-|-self/,"")+t;case 5548:return rt+t+Rn+at(t,"shrink","negative")+t;case 5292:return rt+t+Rn+at(t,"basis","preferred-size")+t;case 6060:return rt+"box-"+at(t,"-grow","")+rt+t+Rn+at(t,"grow","positive")+t;case 4554:return rt+at(t,/([^-])(transform)/g,"$1"+rt+"$2")+t;case 6187:return at(at(at(t,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),t,"")+t;case 5495:case 3959:return at(t,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return at(at(t,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Rn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+t+t;case 4095:case 3583:case 4068:case 2532:return at(t,/(.+)-inline(.+)/,rt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ua(t)-1-e>6)switch(bn(t,e+1)){case 109:if(bn(t,e+4)!==45)break;case 102:return at(t,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Jf+(bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yy(t,"stretch")?$A(at(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bn(t,e+1)!==115)break;case 6444:switch(bn(t,ua(t)-3-(~Yy(t,"!important")&&10))){case 107:return at(t,":",":"+rt)+t;case 101:return at(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(bn(t,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Rn+"$2box$3")+t}break;case 5936:switch(bn(t,e+11)){case 114:return rt+t+Rn+at(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rt+t+Rn+at(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rt+t+Rn+at(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rt+t+Rn+t+t}return t}var VV=function(e,n,a,i){if(e.length>-1&&!e.return)switch(e.type){case v0:e.return=$A(e.value,e.length);break;case LA:return Hl([wu(e,{value:at(e.value,"@","@"+rt)})],i);case y0:if(e.length)return EV(e.props,function(l){switch(_V(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hl([wu(e,{props:[at(l,/:(read-\w+)/,":"+Jf+"$1")]})],i);case"::placeholder":return Hl([wu(e,{props:[at(l,/:(plac\w+)/,":"+rt+"input-$1")]}),wu(e,{props:[at(l,/:(plac\w+)/,":"+Jf+"$1")]}),wu(e,{props:[at(l,/:(plac\w+)/,Rn+"input-$1")]})],i)}return""})}},LV=[VV],UV=function(e){var n=e.key;if(n==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(C){var O=C.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||LV,l={},u,m=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var O=C.getAttribute("data-emotion").split(" "),z=1;z<O.length;z++)l[O[z]]=!0;m.push(C)});var p,g=[PV,MV];{var v,E=[RV,DV(function(C){v.insert(C)})],w=IV(g.concat(i,E)),S=function(O){return Hl(CV(O),w)};p=function(O,z,F,X){v=F,S(O?O+"{"+z.styles+"}":z.styles),X&&(A.inserted[z.name]=!0)}}var A={key:n,sheet:new fV({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return A.sheet.hydrate(m),A},zV=!0;function BV(t,e,n){var a="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(a+=i+" ")}),a}var HA=function(e,n,a){var i=e.key+"-"+n.name;(a===!1||zV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},qV=function(e,n,a){HA(e,n,a);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var l=n;do e.insert(n===l?"."+i:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function FV(t){for(var e=0,n,a=0,i=t.length;i>=4;++a,i-=4)n=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(a+2)&255)<<16;case 2:e^=(t.charCodeAt(a+1)&255)<<8;case 1:e^=t.charCodeAt(a)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var $V={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},HV=/[A-Z]|^ms/g,GV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,GA=function(e){return e.charCodeAt(1)===45},HT=function(e){return e!=null&&typeof e!="boolean"},dy=FA(function(t){return GA(t)?t:t.replace(HV,"-$&").toLowerCase()}),GT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(GV,function(a,i,l){return da={name:i,styles:l,next:da},i})}return $V[e]!==1&&!GA(e)&&typeof n=="number"&&n!==0?n+"px":n};function id(t,e,n){if(n==null)return"";var a=n;if(a.__emotion_styles!==void 0)return a;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return da={name:i.name,styles:i.styles,next:da},i.name;var l=n;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)da={name:u.name,styles:u.styles,next:da},u=u.next;var m=l.styles+";";return m}return KV(t,e,n)}case"function":{if(t!==void 0){var p=da,g=n(t);return da=p,id(t,e,g)}break}}var v=n;if(e==null)return v;var E=e[v];return E!==void 0?E:v}function KV(t,e,n){var a="";if(Array.isArray(n))for(var i=0;i<n.length;i++)a+=id(t,e,n[i])+";";else for(var l in n){var u=n[l];if(typeof u!="object"){var m=u;e!=null&&e[m]!==void 0?a+=l+"{"+e[m]+"}":HT(m)&&(a+=dy(l)+":"+GT(l,m)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var p=0;p<u.length;p++)HT(u[p])&&(a+=dy(l)+":"+GT(l,u[p])+";");else{var g=id(t,e,u);switch(l){case"animation":case"animationName":{a+=dy(l)+":"+g+";";break}default:a+=l+"{"+g+"}"}}}return a}var KT=/label:\s*([^\s;{]+)\s*(;|$)/g,da;function KA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,i="";da=void 0;var l=t[0];if(l==null||l.raw===void 0)a=!1,i+=id(n,e,l);else{var u=l;i+=u[0]}for(var m=1;m<t.length;m++)if(i+=id(n,e,t[m]),a){var p=l;i+=p[m]}KT.lastIndex=0;for(var g="",v;(v=KT.exec(i))!==null;)g+="-"+v[1];var E=FV(i)+g;return{name:E,styles:i,next:da}}var YV=function(e){return e()},QV=LE.useInsertionEffect?LE.useInsertionEffect:!1,XV=QV||YV,YA=j.createContext(typeof HTMLElement<"u"?UV({key:"css"}):null);YA.Provider;var WV=function(e){return j.forwardRef(function(n,a){var i=j.useContext(YA);return e(n,i,a)})},ZV=j.createContext({}),JV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eL=FA(function(t){return JV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),tL=eL,nL=function(e){return e!=="theme"},YT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?tL:nL},QT=function(e,n,a){var i;if(n){var l=n.shouldForwardProp;i=e.__emotion_forwardProp&&l?function(u){return e.__emotion_forwardProp(u)&&l(u)}:l}return typeof i!="function"&&a&&(i=e.__emotion_forwardProp),i},rL=function(e){var n=e.cache,a=e.serialized,i=e.isStringTag;return HA(n,a,i),XV(function(){return qV(n,a,i)}),null},aL=function t(e,n){var a=e.__emotion_real===e,i=a&&e.__emotion_base||e,l,u;n!==void 0&&(l=n.label,u=n.target);var m=QT(e,n,a),p=m||YT(i),g=!p("as");return function(){var v=arguments,E=a&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&E.push("label:"+l+";"),v[0]==null||v[0].raw===void 0)E.push.apply(E,v);else{var w=v[0];E.push(w[0]);for(var S=v.length,A=1;A<S;A++)E.push(v[A],w[A])}var C=WV(function(O,z,F){var X=g&&O.as||i,re="",q=[],Z=O;if(O.theme==null){Z={};for(var D in O)Z[D]=O[D];Z.theme=j.useContext(ZV)}typeof O.className=="string"?re=BV(z.registered,q,O.className):O.className!=null&&(re=O.className+" ");var R=KA(E.concat(q),z.registered,Z);re+=z.key+"-"+R.name,u!==void 0&&(re+=" "+u);var M=g&&m===void 0?YT(X):p,L={};for(var k in O)g&&k==="as"||M(k)&&(L[k]=O[k]);return L.className=re,F&&(L.ref=F),j.createElement(j.Fragment,null,j.createElement(rL,{cache:z,serialized:R,isStringTag:typeof X=="string"}),j.createElement(X,L))});return C.displayName=l!==void 0?l:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=E,C.__emotion_forwardProp=m,Object.defineProperty(C,"toString",{value:function(){return"."+u}}),C.withComponent=function(O,z){var F=t(O,Ky({},n,z,{shouldForwardProp:QT(C,z,!0)}));return F.apply(void 0,E)},C}},sL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xy=aL.bind(null);sL.forEach(function(t){Xy[t]=Xy(t)});function iL(t,e){return Xy(t,e)}function oL(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const XT=[];function Eo(t){return XT[0]=t,KA(XT)}const lL=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,a)=>n.val-a.val),e.reduce((n,a)=>({...n,[a.key]:a.val}),{})};function cL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5,...i}=t,l=lL(e),u=Object.keys(l);function m(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${n})`}function p(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-a/100}${n})`}function g(w,S){const A=u.indexOf(S);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${n}) and (max-width:${(A!==-1&&typeof e[u[A]]=="number"?e[u[A]]:S)-a/100}${n})`}function v(w){return u.indexOf(w)+1<u.length?g(w,u[u.indexOf(w)+1]):m(w)}function E(w){const S=u.indexOf(w);return S===0?m(u[1]):S===u.length-1?p(u[S]):g(w,u[u.indexOf(w)+1]).replace("@media","@media not all and")}return{keys:u,values:l,up:m,down:p,between:g,only:v,not:E,unit:n,...i}}const uL={borderRadius:4};function QA(t=8,e=p0({spacing:t})){if(t.mui)return t;const n=(...a)=>(a.length===0?[1]:a).map(l=>{const u=e(l);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function dL(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function XA(t={},...e){const{breakpoints:n={},palette:a={},spacing:i,shape:l={},...u}=t,m=cL(n),p=QA(i);let g=cr({breakpoints:m,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:p,shape:{...uL,...l}},u);return g=w5(g),g.applyStyles=dL,g=e.reduce((v,E)=>cr(v,E),g),g.unstable_sxConfig={...Vm,...u?.unstable_sxConfig},g.unstable_sx=function(E){return ec({sx:E,theme:this})},g}const hL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function WA(t,e,n="Mui"){const a=hL[e];return a?`${n}-${a}`:`${y5.generate(t)}-${e}`}function fL(t,e,n="Mui"){const a={};return e.forEach(i=>{a[i]=WA(t,i,n)}),a}function ZA(t){const{variants:e,...n}=t,a={variants:e,style:Eo(n),isProcessed:!0};return a.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Eo(i.style))}),a}const mL=XA();function hy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function yo(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function pL(t){return t?(e,n)=>n[t]:null}function gL(t,e,n){t.theme=_L(t.theme)?n:t.theme[e]||t.theme}function Cf(t,e,n){const a=typeof e=="function"?e(t):e;if(Array.isArray(a))return a.flatMap(i=>Cf(t,i,n));if(Array.isArray(a?.variants)){let i;if(a.isProcessed)i=n?yo(a.style,n):a.style;else{const{variants:l,...u}=a;i=n?yo(Eo(u),n):u}return JA(t,a.variants,[i],n)}return a?.isProcessed?n?yo(Eo(a.style),n):a.style:n?yo(Eo(a),n):a}function JA(t,e,n=[],a=void 0){let i;e:for(let l=0;l<e.length;l+=1){const u=e[l];if(typeof u.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!u.props(i))continue}else for(const m in u.props)if(t[m]!==u.props[m]&&t.ownerState?.[m]!==u.props[m])continue e;typeof u.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(a?yo(Eo(u.style(i)),a):u.style(i))):n.push(a?yo(Eo(u.style),a):u.style)}return n}function yL(t={}){const{themeId:e,defaultTheme:n=mL,rootShouldForwardProp:a=hy,slotShouldForwardProp:i=hy}=t;function l(m){gL(m,e,n)}return(m,p={})=>{oL(m,Z=>Z.filter(D=>D!==ec));const{name:g,slot:v,skipVariantsResolver:E,skipSx:w,overridesResolver:S=pL(bL(v)),...A}=p,C=g&&g.startsWith("Mui")||v?"components":"custom",O=E!==void 0?E:v&&v!=="Root"&&v!=="root"||!1,z=w||!1;let F=hy;v==="Root"||v==="root"?F=a:v?F=i:EL(m)&&(F=void 0);const X=iL(m,{shouldForwardProp:F,label:vL(),...A}),re=Z=>{if(Z.__emotion_real===Z)return Z;if(typeof Z=="function")return function(R){return Cf(R,Z,R.theme.modularCssLayers?C:void 0)};if(Wa(Z)){const D=ZA(Z);return function(M){return D.variants?Cf(M,D,M.theme.modularCssLayers?C:void 0):M.theme.modularCssLayers?yo(D.style,C):D.style}}return Z},q=(...Z)=>{const D=[],R=Z.map(re),M=[];if(D.push(l),g&&S&&M.push(function(N){const fe=N.theme.components?.[g]?.styleOverrides;if(!fe)return null;const $={};for(const G in fe)$[G]=Cf(N,fe[G],N.theme.modularCssLayers?"theme":void 0);return S(N,$)}),g&&!O&&M.push(function(N){const fe=N.theme?.components?.[g]?.variants;return fe?JA(N,fe,[],N.theme.modularCssLayers?"theme":void 0):null}),z||M.push(ec),Array.isArray(R[0])){const b=R.shift(),N=new Array(D.length).fill(""),te=new Array(M.length).fill("");let fe;fe=[...N,...b,...te],fe.raw=[...N,...b.raw,...te],D.unshift(fe)}const L=[...D,...R,...M],k=X(...L);return m.muiName&&(k.muiName=m.muiName),k};return X.withConfig&&(q.withConfig=X.withConfig),q}}function vL(t,e){return void 0}function _L(t){for(const e in t)return!1;return!0}function EL(t){return typeof t=="string"&&t.charCodeAt(0)>96}function bL(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Wy(t,e,n=!1){const a={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=i;if(l==="components"||l==="slots")a[l]={...t[l],...a[l]};else if(l==="componentsProps"||l==="slotProps"){const u=t[l],m=e[l];if(!m)a[l]=u||{};else if(!u)a[l]=m;else{a[l]={...m};for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const g=p;a[l][g]=Wy(u[g],m[g],n)}}}else l==="className"&&n&&e.className?a.className=kA(t?.className,e?.className):l==="style"&&n&&e.style?a.style={...t?.style,...e?.style}:a[l]===void 0&&(a[l]=t[l])}return a}function TL(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function E0(t,e=0,n=1){return TL(t,e,n)}function wL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(a=>a+a)),n?`rgb${n.length===4?"a":""}(${n.map((a,i)=>i<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function _i(t){if(t.type)return t;if(t.charAt(0)==="#")return _i(wL(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Do(9,t));let a=t.substring(e+1,t.length-1),i;if(n==="color"){if(a=a.split(" "),i=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Do(10,i))}else a=a.split(",");return a=a.map(l=>parseFloat(l)),{type:n,values:a,colorSpace:i}}const xL=t=>{const e=_i(t);return e.values.slice(0,3).map((n,a)=>e.type.includes("hsl")&&a!==0?`${n}%`:n).join(" ")},ju=(t,e)=>{try{return xL(t)}catch{return t}};function Bm(t){const{type:e,colorSpace:n}=t;let{values:a}=t;return e.includes("rgb")?a=a.map((i,l)=>l<3?parseInt(i,10):i):e.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),e.includes("color")?a=`${n} ${a.join(" ")}`:a=`${a.join(", ")}`,`${e}(${a})`}function e2(t){t=_i(t);const{values:e}=t,n=e[0],a=e[1]/100,i=e[2]/100,l=a*Math.min(i,1-i),u=(g,v=(g+n/30)%12)=>i-l*Math.max(Math.min(v-3,9-v,1),-1);let m="rgb";const p=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(m+="a",p.push(e[3])),Bm({type:m,values:p})}function Zy(t){t=_i(t);let e=t.type==="hsl"||t.type==="hsla"?_i(e2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function SL(t,e){const n=Zy(t),a=Zy(e);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)}function t2(t,e){return t=_i(t),e=E0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bm(t)}function ho(t,e,n){try{return t2(t,e)}catch{return t}}function qm(t,e){if(t=_i(t),e=E0(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bm(t)}function ct(t,e,n){try{return qm(t,e)}catch{return t}}function Fm(t,e){if(t=_i(t),e=E0(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bm(t)}function ut(t,e,n){try{return Fm(t,e)}catch{return t}}function AL(t,e=.15){return Zy(t)>.5?qm(t,e):Fm(t,e)}function af(t,e,n){try{return AL(t,e)}catch{return t}}const CL=j.createContext(void 0);function NL(t){const{theme:e,name:n,props:a}=t;if(!e||!e.components||!e.components[n])return a;const i=e.components[n];return i.defaultProps?Wy(i.defaultProps,a,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?Wy(i,a,e.components.mergeClassNameAndStyle):a}function RL({props:t,name:e}){const n=j.useContext(CL);return NL({props:t,name:e,theme:{components:n}})}const WT={theme:void 0};function IL(t){let e,n;return function(i){let l=e;return(l===void 0||i.theme!==n)&&(WT.theme=i.theme,l=ZA(t(WT)),e=l,n=i.theme),l}}function DL(t=""){function e(...a){if(!a.length)return"";const i=a[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...a.slice(1))})`:`, ${i}`}return(a,...i)=>`var(--${t?`${t}-`:""}${a}${e(...i)})`}const ZT=(t,e,n,a=[])=>{let i=t;e.forEach((l,u)=>{u===e.length-1?Array.isArray(i)?i[Number(l)]=n:i&&typeof i=="object"&&(i[l]=n):i&&typeof i=="object"&&(i[l]||(i[l]=a.includes(l)?[]:{}),i=i[l])})},jL=(t,e,n)=>{function a(i,l=[],u=[]){Object.entries(i).forEach(([m,p])=>{(!n||n&&!n([...l,m]))&&p!=null&&(typeof p=="object"&&Object.keys(p).length>0?a(p,[...l,m],Array.isArray(p)?[...u,m]:u):e([...l,m],p,u))})}a(t)},kL=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>t.includes(a))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function fy(t,e){const{prefix:n,shouldSkipGeneratingVar:a}=e||{},i={},l={},u={};return jL(t,(m,p,g)=>{if((typeof p=="string"||typeof p=="number")&&(!a||!a(m,p))){const v=`--${n?`${n}-`:""}${m.join("-")}`,E=kL(m,p);Object.assign(i,{[v]:E}),ZT(l,m,`var(${v})`,g),ZT(u,m,`var(${v}, ${E})`,g)}},m=>m[0]==="vars"),{css:i,vars:l,varsWithDefaults:u}}function OL(t,e={}){const{getSelector:n=z,disableCssColorScheme:a,colorSchemeSelector:i,enableContrastVars:l}=e,{colorSchemes:u={},components:m,defaultColorScheme:p="light",...g}=t,{vars:v,css:E,varsWithDefaults:w}=fy(g,e);let S=w;const A={},{[p]:C,...O}=u;if(Object.entries(O||{}).forEach(([re,q])=>{const{vars:Z,css:D,varsWithDefaults:R}=fy(q,e);S=cr(S,R),A[re]={css:D,vars:Z}}),C){const{css:re,vars:q,varsWithDefaults:Z}=fy(C,e);S=cr(S,Z),A[p]={css:re,vars:q}}function z(re,q){let Z=i;if(i==="class"&&(Z=".%s"),i==="data"&&(Z="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(Z=`[${i}="%s"]`),re){if(Z==="media")return t.defaultColorScheme===re?":root":{[`@media (prefers-color-scheme: ${u[re]?.palette?.mode||re})`]:{":root":q}};if(Z)return t.defaultColorScheme===re?`:root, ${Z.replace("%s",String(re))}`:Z.replace("%s",String(re))}return":root"}return{vars:S,generateThemeVars:()=>{let re={...v};return Object.entries(A).forEach(([,{vars:q}])=>{re=cr(re,q)}),re},generateStyleSheets:()=>{const re=[],q=t.defaultColorScheme||"light";function Z(M,L){Object.keys(L).length&&re.push(typeof M=="string"?{[M]:{...L}}:M)}Z(n(void 0,{...E}),E);const{[q]:D,...R}=A;if(D){const{css:M}=D,L=u[q]?.palette?.mode,k=!a&&L?{colorScheme:L,...M}:{...M};Z(n(q,{...k}),k)}return Object.entries(R).forEach(([M,{css:L}])=>{const k=u[M]?.palette?.mode,b=!a&&k?{colorScheme:k,...L}:{...L};Z(n(M,{...b}),b)}),l&&re.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),re}}}function PL(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const od={black:"#000",white:"#fff"},ML={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Sl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Al={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},xu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Cl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Nl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Rl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function n2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:od.white,default:od.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const r2=n2();function a2(){return{text:{primary:od.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:od.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Jy=a2();function JT(t,e,n,a){const i=a.light||a,l=a.dark||a*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Fm(t.main,i):e==="dark"&&(t.dark=qm(t.main,l)))}function ew(t,e,n,a,i){const l=i.light||i,u=i.dark||i*1.5;e[n]||(e.hasOwnProperty(a)?e[n]=e[a]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(l*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function VL(t="light"){return t==="dark"?{main:Cl[200],light:Cl[50],dark:Cl[400]}:{main:Cl[700],light:Cl[400],dark:Cl[800]}}function LL(t="light"){return t==="dark"?{main:Sl[200],light:Sl[50],dark:Sl[400]}:{main:Sl[500],light:Sl[300],dark:Sl[700]}}function UL(t="light"){return t==="dark"?{main:Al[500],light:Al[300],dark:Al[700]}:{main:Al[700],light:Al[400],dark:Al[800]}}function zL(t="light"){return t==="dark"?{main:Nl[400],light:Nl[300],dark:Nl[700]}:{main:Nl[700],light:Nl[500],dark:Nl[900]}}function BL(t="light"){return t==="dark"?{main:Rl[400],light:Rl[300],dark:Rl[700]}:{main:Rl[800],light:Rl[500],dark:Rl[900]}}function qL(t="light"){return t==="dark"?{main:xu[400],light:xu[300],dark:xu[700]}:{main:"#ed6c02",light:xu[500],dark:xu[900]}}function FL(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function b0(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2,colorSpace:i,...l}=t,u=t.primary||VL(e),m=t.secondary||LL(e),p=t.error||UL(e),g=t.info||zL(e),v=t.success||BL(e),E=t.warning||qL(e);function w(O){return i?FL(O):SL(O,Jy.text.primary)>=n?Jy.text.primary:r2.text.primary}const S=({color:O,name:z,mainShade:F=500,lightShade:X=300,darkShade:re=700})=>{if(O={...O},!O.main&&O[F]&&(O.main=O[F]),!O.hasOwnProperty("main"))throw new Error(Do(11,z?` (${z})`:"",F));if(typeof O.main!="string")throw new Error(Do(12,z?` (${z})`:"",JSON.stringify(O.main)));return i?(ew(i,O,"light",X,a),ew(i,O,"dark",re,a)):(JT(O,"light",X,a),JT(O,"dark",re,a)),O.contrastText||(O.contrastText=w(O.main)),O};let A;return e==="light"?A=n2():e==="dark"&&(A=a2()),cr({common:{...od},mode:e,primary:S({color:u,name:"primary"}),secondary:S({color:m,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:p,name:"error"}),warning:S({color:E,name:"warning"}),info:S({color:g,name:"info"}),success:S({color:v,name:"success"}),grey:ML,contrastThreshold:n,getContrastText:w,augmentColor:S,tonalOffset:a,...A},l)}function $L(t){const e={};return Object.entries(t).forEach(a=>{const[i,l]=a;typeof l=="object"&&(e[i]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),e}function HL(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function GL(t){return Math.round(t*1e5)/1e5}const tw={textTransform:"uppercase"},nw='"Roboto", "Helvetica", "Arial", sans-serif';function KL(t,e){const{fontFamily:n=nw,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:m=700,htmlFontSize:p=16,allVariants:g,pxToRem:v,...E}=typeof e=="function"?e(t):e,w=a/14,S=v||(O=>`${O/p*w}rem`),A=(O,z,F,X,re)=>({fontFamily:n,fontWeight:O,fontSize:S(z),lineHeight:F,...n===nw?{letterSpacing:`${GL(X/z)}em`}:{},...re,...g}),C={h1:A(i,96,1.167,-1.5),h2:A(i,60,1.2,-.5),h3:A(l,48,1.167,0),h4:A(l,34,1.235,.25),h5:A(l,24,1.334,0),h6:A(u,20,1.6,.15),subtitle1:A(l,16,1.75,.15),subtitle2:A(u,14,1.57,.1),body1:A(l,16,1.5,.15),body2:A(l,14,1.43,.15),button:A(u,14,1.75,.4,tw),caption:A(l,12,1.66,.4),overline:A(l,12,2.66,1,tw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return cr({htmlFontSize:p,pxToRem:S,fontFamily:n,fontSize:a,fontWeightLight:i,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:m,...C},E,{clone:!1})}const YL=.2,QL=.14,XL=.12;function wt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${YL})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${QL})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${XL})`].join(",")}const WL=["none",wt(0,2,1,-1,0,1,1,0,0,1,3,0),wt(0,3,1,-2,0,2,2,0,0,1,5,0),wt(0,3,3,-2,0,3,4,0,0,1,8,0),wt(0,2,4,-1,0,4,5,0,0,1,10,0),wt(0,3,5,-1,0,5,8,0,0,1,14,0),wt(0,3,5,-1,0,6,10,0,0,1,18,0),wt(0,4,5,-2,0,7,10,1,0,2,16,1),wt(0,5,5,-3,0,8,10,1,0,3,14,2),wt(0,5,6,-3,0,9,12,1,0,3,16,2),wt(0,6,6,-3,0,10,14,1,0,4,18,3),wt(0,6,7,-4,0,11,15,1,0,4,20,3),wt(0,7,8,-4,0,12,17,2,0,5,22,4),wt(0,7,8,-4,0,13,19,2,0,5,24,4),wt(0,7,9,-4,0,14,21,2,0,5,26,4),wt(0,8,9,-5,0,15,22,2,0,6,28,5),wt(0,8,10,-5,0,16,24,2,0,6,30,5),wt(0,8,11,-5,0,17,26,2,0,6,32,5),wt(0,9,11,-5,0,18,28,2,0,7,34,6),wt(0,9,12,-6,0,19,29,2,0,7,36,6),wt(0,10,13,-6,0,20,31,3,0,8,38,7),wt(0,10,13,-6,0,21,33,3,0,8,40,7),wt(0,10,14,-6,0,22,35,3,0,8,42,7),wt(0,11,14,-7,0,23,36,3,0,9,44,8),wt(0,11,15,-7,0,24,38,3,0,9,46,8)],ZL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},JL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rw(t){return`${Math.round(t)}ms`}function e9(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function t9(t){const e={...ZL,...t.easing},n={...JL,...t.duration};return{getAutoHeightDuration:e9,create:(i=["all"],l={})=>{const{duration:u=n.standard,easing:m=e.easeInOut,delay:p=0,...g}=l;return(Array.isArray(i)?i:[i]).map(v=>`${v} ${typeof u=="string"?u:rw(u)} ${m} ${typeof p=="string"?p:rw(p)}`).join(",")},...t,easing:e,duration:n}}const n9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function r9(t){return Wa(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function s2(t={}){const e={...t};function n(a){const i=Object.entries(a);for(let l=0;l<i.length;l++){const[u,m]=i[l];!r9(m)||u.startsWith("unstable_")?delete a[u]:Wa(m)&&(a[u]={...m},n(a[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function aw(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const a9=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let a=0;a<e.length;a+=1)n+=+e[a];return n};function s9(t){Object.assign(t,{alpha(e,n){const a=this||t;return a.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:a.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:t2(e,a9(n))},lighten(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #fff ${aw(n)})`:Fm(e,n)},darken(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #000 ${aw(n)})`:qm(e,n)}})}function ev(t={},...e){const{breakpoints:n,mixins:a={},spacing:i,palette:l={},transitions:u={},typography:m={},shape:p,colorSpace:g,...v}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Do(20));const E=b0({...l,colorSpace:g}),w=XA(t);let S=cr(w,{mixins:HL(w.breakpoints,a),palette:E,shadows:WL.slice(),typography:KL(E,m),transitions:t9(u),zIndex:{...n9}});return S=cr(S,v),S=e.reduce((A,C)=>cr(A,C),S),S.unstable_sxConfig={...Vm,...v?.unstable_sxConfig},S.unstable_sx=function(C){return ec({sx:C,theme:this})},S.toRuntimeSource=s2,s9(S),S}function i9(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const o9=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=i9(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function i2(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function o2(t){return t==="dark"?o9:[]}function l9(t){const{palette:e={mode:"light"},opacity:n,overlays:a,colorSpace:i,...l}=t,u=b0({...e,colorSpace:i});return{palette:u,opacity:{...i2(u.mode),...n},overlays:a||o2(u.mode),...l}}function c9(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const u9=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],d9=t=>(e,n)=>{const a=t.rootSelector||":root",i=t.colorSchemeSelector;let l=i;if(i==="class"&&(l=".%s"),i==="data"&&(l="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(l=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return u9(t.cssVarPrefix).forEach(m=>{u[m]=n[m],delete n[m]}),l==="media"?{[a]:n,"@media (prefers-color-scheme: dark)":{[a]:u}}:l?{[l.replace("%s",e)]:u,[`${a}, ${l.replace("%s",e)}`]:n}:{[a]:{...n,...u}}}if(l&&l!=="media")return`${a}, ${l.replace("%s",String(e))}`}else if(e){if(l==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[a]:n}};if(l)return l.replace("%s",String(e))}return a};function h9(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ae(t,e,n){!t[e]&&n&&(t[e]=n)}function ku(t){return typeof t!="string"||!t.startsWith("hsl")?t:e2(t)}function Qa(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ju(ku(t[e])))}function f9(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const la=t=>{try{return t()}catch{}},m9=(t="mui")=>DL(t);function my(t,e,n,a,i){if(!n)return;n=n===!0?{}:n;const l=i==="dark"?"dark":"light";if(!a){e[i]=l9({...n,palette:{mode:l,...n?.palette},colorSpace:t});return}const{palette:u,...m}=ev({...a,palette:{mode:l,...n?.palette},colorSpace:t});return e[i]={...n,palette:u,opacity:{...i2(l),...n?.opacity},overlays:n?.overlays||o2(l)},m}function p9(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:a,disableCssColorScheme:i=!1,cssVarPrefix:l="mui",nativeColor:u=!1,shouldSkipGeneratingVar:m=c9,colorSchemeSelector:p=n.light&&n.dark?"media":void 0,rootSelector:g=":root",...v}=t,E=Object.keys(n)[0],w=a||(n.light&&E!=="light"?"light":E),S=m9(l),{[w]:A,light:C,dark:O,...z}=n,F={...z};let X=A;if((w==="dark"&&!("dark"in n)||w==="light"&&!("light"in n))&&(X=!0),!X)throw new Error(Do(21,w));let re;u&&(re="oklch");const q=my(re,F,X,v,w);C&&!F.light&&my(re,F,C,void 0,"light"),O&&!F.dark&&my(re,F,O,void 0,"dark");let Z={defaultColorScheme:w,...q,cssVarPrefix:l,colorSchemeSelector:p,rootSelector:g,getCssVar:S,colorSchemes:F,font:{...$L(q.typography),...q.font},spacing:f9(v.spacing)};Object.keys(Z.colorSchemes).forEach(k=>{const b=Z.colorSchemes[k].palette,N=fe=>{const $=fe.split("-"),G=$[1],se=$[2];return S(fe,b[G][se])};b.mode==="light"&&(ae(b.common,"background","#fff"),ae(b.common,"onBackground","#000")),b.mode==="dark"&&(ae(b.common,"background","#000"),ae(b.common,"onBackground","#fff"));function te(fe,$,G){if(re){let se;return fe===ho&&(se=`transparent ${((1-G)*100).toFixed(0)}%`),fe===ct&&(se=`#000 ${(G*100).toFixed(0)}%`),fe===ut&&(se=`#fff ${(G*100).toFixed(0)}%`),`color-mix(in ${re}, ${$}, ${se})`}return fe($,G)}if(h9(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ae(b.Alert,"errorColor",te(ct,b.error.light,.6)),ae(b.Alert,"infoColor",te(ct,b.info.light,.6)),ae(b.Alert,"successColor",te(ct,b.success.light,.6)),ae(b.Alert,"warningColor",te(ct,b.warning.light,.6)),ae(b.Alert,"errorFilledBg",N("palette-error-main")),ae(b.Alert,"infoFilledBg",N("palette-info-main")),ae(b.Alert,"successFilledBg",N("palette-success-main")),ae(b.Alert,"warningFilledBg",N("palette-warning-main")),ae(b.Alert,"errorFilledColor",la(()=>b.getContrastText(b.error.main))),ae(b.Alert,"infoFilledColor",la(()=>b.getContrastText(b.info.main))),ae(b.Alert,"successFilledColor",la(()=>b.getContrastText(b.success.main))),ae(b.Alert,"warningFilledColor",la(()=>b.getContrastText(b.warning.main))),ae(b.Alert,"errorStandardBg",te(ut,b.error.light,.9)),ae(b.Alert,"infoStandardBg",te(ut,b.info.light,.9)),ae(b.Alert,"successStandardBg",te(ut,b.success.light,.9)),ae(b.Alert,"warningStandardBg",te(ut,b.warning.light,.9)),ae(b.Alert,"errorIconColor",N("palette-error-main")),ae(b.Alert,"infoIconColor",N("palette-info-main")),ae(b.Alert,"successIconColor",N("palette-success-main")),ae(b.Alert,"warningIconColor",N("palette-warning-main")),ae(b.AppBar,"defaultBg",N("palette-grey-100")),ae(b.Avatar,"defaultBg",N("palette-grey-400")),ae(b.Button,"inheritContainedBg",N("palette-grey-300")),ae(b.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ae(b.Chip,"defaultBorder",N("palette-grey-400")),ae(b.Chip,"defaultAvatarColor",N("palette-grey-700")),ae(b.Chip,"defaultIconColor",N("palette-grey-700")),ae(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ae(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ae(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ae(b.LinearProgress,"primaryBg",te(ut,b.primary.main,.62)),ae(b.LinearProgress,"secondaryBg",te(ut,b.secondary.main,.62)),ae(b.LinearProgress,"errorBg",te(ut,b.error.main,.62)),ae(b.LinearProgress,"infoBg",te(ut,b.info.main,.62)),ae(b.LinearProgress,"successBg",te(ut,b.success.main,.62)),ae(b.LinearProgress,"warningBg",te(ut,b.warning.main,.62)),ae(b.Skeleton,"bg",re?te(ho,b.text.primary,.11):`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ae(b.Slider,"primaryTrack",te(ut,b.primary.main,.62)),ae(b.Slider,"secondaryTrack",te(ut,b.secondary.main,.62)),ae(b.Slider,"errorTrack",te(ut,b.error.main,.62)),ae(b.Slider,"infoTrack",te(ut,b.info.main,.62)),ae(b.Slider,"successTrack",te(ut,b.success.main,.62)),ae(b.Slider,"warningTrack",te(ut,b.warning.main,.62));const fe=re?te(ct,b.background.default,.6825):af(b.background.default,.8);ae(b.SnackbarContent,"bg",fe),ae(b.SnackbarContent,"color",la(()=>re?Jy.text.primary:b.getContrastText(fe))),ae(b.SpeedDialAction,"fabHoverBg",af(b.background.paper,.15)),ae(b.StepConnector,"border",N("palette-grey-400")),ae(b.StepContent,"border",N("palette-grey-400")),ae(b.Switch,"defaultColor",N("palette-common-white")),ae(b.Switch,"defaultDisabledColor",N("palette-grey-100")),ae(b.Switch,"primaryDisabledColor",te(ut,b.primary.main,.62)),ae(b.Switch,"secondaryDisabledColor",te(ut,b.secondary.main,.62)),ae(b.Switch,"errorDisabledColor",te(ut,b.error.main,.62)),ae(b.Switch,"infoDisabledColor",te(ut,b.info.main,.62)),ae(b.Switch,"successDisabledColor",te(ut,b.success.main,.62)),ae(b.Switch,"warningDisabledColor",te(ut,b.warning.main,.62)),ae(b.TableCell,"border",te(ut,te(ho,b.divider,1),.88)),ae(b.Tooltip,"bg",te(ho,b.grey[700],.92))}if(b.mode==="dark"){ae(b.Alert,"errorColor",te(ut,b.error.light,.6)),ae(b.Alert,"infoColor",te(ut,b.info.light,.6)),ae(b.Alert,"successColor",te(ut,b.success.light,.6)),ae(b.Alert,"warningColor",te(ut,b.warning.light,.6)),ae(b.Alert,"errorFilledBg",N("palette-error-dark")),ae(b.Alert,"infoFilledBg",N("palette-info-dark")),ae(b.Alert,"successFilledBg",N("palette-success-dark")),ae(b.Alert,"warningFilledBg",N("palette-warning-dark")),ae(b.Alert,"errorFilledColor",la(()=>b.getContrastText(b.error.dark))),ae(b.Alert,"infoFilledColor",la(()=>b.getContrastText(b.info.dark))),ae(b.Alert,"successFilledColor",la(()=>b.getContrastText(b.success.dark))),ae(b.Alert,"warningFilledColor",la(()=>b.getContrastText(b.warning.dark))),ae(b.Alert,"errorStandardBg",te(ct,b.error.light,.9)),ae(b.Alert,"infoStandardBg",te(ct,b.info.light,.9)),ae(b.Alert,"successStandardBg",te(ct,b.success.light,.9)),ae(b.Alert,"warningStandardBg",te(ct,b.warning.light,.9)),ae(b.Alert,"errorIconColor",N("palette-error-main")),ae(b.Alert,"infoIconColor",N("palette-info-main")),ae(b.Alert,"successIconColor",N("palette-success-main")),ae(b.Alert,"warningIconColor",N("palette-warning-main")),ae(b.AppBar,"defaultBg",N("palette-grey-900")),ae(b.AppBar,"darkBg",N("palette-background-paper")),ae(b.AppBar,"darkColor",N("palette-text-primary")),ae(b.Avatar,"defaultBg",N("palette-grey-600")),ae(b.Button,"inheritContainedBg",N("palette-grey-800")),ae(b.Button,"inheritContainedHoverBg",N("palette-grey-700")),ae(b.Chip,"defaultBorder",N("palette-grey-700")),ae(b.Chip,"defaultAvatarColor",N("palette-grey-300")),ae(b.Chip,"defaultIconColor",N("palette-grey-300")),ae(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ae(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ae(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ae(b.LinearProgress,"primaryBg",te(ct,b.primary.main,.5)),ae(b.LinearProgress,"secondaryBg",te(ct,b.secondary.main,.5)),ae(b.LinearProgress,"errorBg",te(ct,b.error.main,.5)),ae(b.LinearProgress,"infoBg",te(ct,b.info.main,.5)),ae(b.LinearProgress,"successBg",te(ct,b.success.main,.5)),ae(b.LinearProgress,"warningBg",te(ct,b.warning.main,.5)),ae(b.Skeleton,"bg",re?te(ho,b.text.primary,.13):`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ae(b.Slider,"primaryTrack",te(ct,b.primary.main,.5)),ae(b.Slider,"secondaryTrack",te(ct,b.secondary.main,.5)),ae(b.Slider,"errorTrack",te(ct,b.error.main,.5)),ae(b.Slider,"infoTrack",te(ct,b.info.main,.5)),ae(b.Slider,"successTrack",te(ct,b.success.main,.5)),ae(b.Slider,"warningTrack",te(ct,b.warning.main,.5));const fe=re?te(ut,b.background.default,.985):af(b.background.default,.98);ae(b.SnackbarContent,"bg",fe),ae(b.SnackbarContent,"color",la(()=>re?r2.text.primary:b.getContrastText(fe))),ae(b.SpeedDialAction,"fabHoverBg",af(b.background.paper,.15)),ae(b.StepConnector,"border",N("palette-grey-600")),ae(b.StepContent,"border",N("palette-grey-600")),ae(b.Switch,"defaultColor",N("palette-grey-300")),ae(b.Switch,"defaultDisabledColor",N("palette-grey-600")),ae(b.Switch,"primaryDisabledColor",te(ct,b.primary.main,.55)),ae(b.Switch,"secondaryDisabledColor",te(ct,b.secondary.main,.55)),ae(b.Switch,"errorDisabledColor",te(ct,b.error.main,.55)),ae(b.Switch,"infoDisabledColor",te(ct,b.info.main,.55)),ae(b.Switch,"successDisabledColor",te(ct,b.success.main,.55)),ae(b.Switch,"warningDisabledColor",te(ct,b.warning.main,.55)),ae(b.TableCell,"border",te(ct,te(ho,b.divider,1),.68)),ae(b.Tooltip,"bg",te(ho,b.grey[700],.92))}Qa(b.background,"default"),Qa(b.background,"paper"),Qa(b.common,"background"),Qa(b.common,"onBackground"),Qa(b,"divider"),Object.keys(b).forEach(fe=>{const $=b[fe];fe!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&ae(b[fe],"mainChannel",ju(ku($.main))),$.light&&ae(b[fe],"lightChannel",ju(ku($.light))),$.dark&&ae(b[fe],"darkChannel",ju(ku($.dark))),$.contrastText&&ae(b[fe],"contrastTextChannel",ju(ku($.contrastText))),fe==="text"&&(Qa(b[fe],"primary"),Qa(b[fe],"secondary")),fe==="action"&&($.active&&Qa(b[fe],"active"),$.selected&&Qa(b[fe],"selected")))})}),Z=e.reduce((k,b)=>cr(k,b),Z);const D={prefix:l,disableCssColorScheme:i,shouldSkipGeneratingVar:m,getSelector:d9(Z),enableContrastVars:u},{vars:R,generateThemeVars:M,generateStyleSheets:L}=OL(Z,D);return Z.vars=R,Object.entries(Z.colorSchemes[Z.defaultColorScheme]).forEach(([k,b])=>{Z[k]=b}),Z.generateThemeVars=M,Z.generateStyleSheets=L,Z.generateSpacing=function(){return QA(v.spacing,p0(this))},Z.getColorSchemeSelector=PL(p),Z.spacing=Z.generateSpacing(),Z.shouldSkipGeneratingVar=m,Z.unstable_sxConfig={...Vm,...v?.unstable_sxConfig},Z.unstable_sx=function(b){return ec({sx:b,theme:this})},Z.toRuntimeSource=s2,Z}function sw(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:b0({...n===!0?{}:n.palette,mode:e})})}function g9(t={},...e){const{palette:n,cssVariables:a=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:l=n?.mode,...u}=t,m=l||"light",p=i?.[m],g={...i,...n?{[m]:{...typeof p!="boolean"&&p,palette:n}}:void 0};if(a===!1){if(!("colorSchemes"in t))return ev(t,...e);let v=n;"palette"in t||g[m]&&(g[m]!==!0?v=g[m].palette:m==="dark"&&(v={mode:"dark"}));const E=ev({...t,palette:v},...e);return E.defaultColorScheme=m,E.colorSchemes=g,E.palette.mode==="light"&&(E.colorSchemes.light={...g.light!==!0&&g.light,palette:E.palette},sw(E,"dark",g.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...g.dark!==!0&&g.dark,palette:E.palette},sw(E,"light",g.light)),E}return!n&&!("light"in g)&&m==="light"&&(g.light=!0),p9({...u,colorSchemes:g,defaultColorScheme:m,...typeof a!="boolean"&&a},...e)}const y9=g9(),v9="$$material";function _9(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const E9=t=>_9(t)&&t!=="classes",b9=yL({themeId:v9,defaultTheme:y9,rootShouldForwardProp:E9}),T9=IL;function w9(t){return RL(t)}function x9(t){return WA("MuiSvgIcon",t)}fL("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const S9=t=>{const{color:e,fontSize:n,classes:a}=t,i={root:["root",e!=="inherit"&&`color${Jl(e)}`,`fontSize${Jl(n)}`]};return v5(i,x9,a)},A9=b9("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Jl(n.color)}`],e[`fontSize${Jl(n.fontSize)}`]]}})(T9(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),tv=j.forwardRef(function(e,n){const a=w9({props:e,name:"MuiSvgIcon"}),{children:i,className:l,color:u="inherit",component:m="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:v=!1,titleAccess:E,viewBox:w="0 0 24 24",...S}=a,A=j.isValidElement(i)&&i.type==="svg",C={...a,color:u,component:m,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:w,hasSvgAsChild:A},O={};v||(O.viewBox=w);const z=S9(C);return d.jsxs(A9,{as:m,className:kA(z.root,l),focusable:"false",color:g,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:n,...O,...S,...A&&i.props,ownerState:C,children:[A?i.props.children:i,E?d.jsx("title",{children:E}):null]})});tv.muiName="SvgIcon";function C9(t,e){function n(a,i){return d.jsx(tv,{"data-testid":void 0,ref:i,...a,children:t})}return n.muiName=tv.muiName,j.memo(j.forwardRef(n))}const N9=C9(d.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),nc=({variant:t="primary",size:e="md",isLoading:n=!1,children:a,className:i="",disabled:l,...u})=>{const p=`btn--${t}`,g=`btn--${e}`,v=`btn ${p} ${g} ${i}`.trim();return d.jsxs("button",{className:v,disabled:l||n,...u,children:[n&&d.jsxs("svg",{className:"btn__spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",opacity:"0.25"}),d.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",opacity:"0.75"})]}),a]})},iw=()=>{const[t,e]=j.useState({email:"",password:""}),[n,a]=j.useState(!1),{login:i,error:l,loading:u,clearError:m}=kn(),p=ic(),g=E=>{const{name:w,value:S}=E.target;e(A=>({...A,[w]:S})),l&&m()},v=async E=>{if(E.preventDefault(),!t.email||!t.password){alert("Por favor, preencha todos os campos");return}try{await i(t),p(ar.dashboard)}catch(w){console.error("Erro ao fazer login:",w)}};return d.jsx("div",{className:"login-container",children:d.jsx("div",{className:"login-form-container",children:d.jsxs("div",{className:"login-form-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("h2",{className:"login-title",children:"Entrar"}),d.jsx("p",{className:"login-subtitle",children:"Preencha os campos abaixo para entrar em sua conta"})]}),d.jsxs("form",{className:"login-form",onSubmit:v,children:[l&&d.jsxs("div",{className:"login-error",role:"alert",children:[d.jsx(N9,{className:"login-error-icon"}),d.jsx("span",{children:l})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{className:"login-label",htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:g,placeholder:"Digite seu email",className:"login-input"})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{className:"login-label",htmlFor:"password",children:"Senha"}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t.password,onChange:g,placeholder:"Digite sua senha",className:"login-input"})]}),d.jsxs("div",{className:"login-options",children:[d.jsxs("div",{className:"login-checkbox-container",children:[d.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:n,onChange:E=>a(E.target.checked),className:"login-checkbox"}),d.jsx("label",{className:"login-checkbox-label",htmlFor:"rememberMe",children:"Lembrar-me"})]}),d.jsx(Gl,{to:ar.forgotPassword,className:"login-link",children:"Esqueceu sua senha?"})," "]}),d.jsx("div",{className:"login-buttons",children:d.jsx(nc,{type:"submit",size:"lg",isLoading:u,disabled:!t.email||!t.password,className:"login-button",children:u?"Entrando...":"Entrar"})}),d.jsx("div",{className:"login-footer",children:d.jsxs("span",{className:"login-footer-text",children:["No tem uma conta?"," ",d.jsx(Gl,{to:ar.register,className:"login-footer-link",children:"Cadastrar"})]})})]})]})})})},l2=t=>{if(!t)return"";const n=t.replace(/\D/g,"").substring(0,11);return n.length<=10?n.replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):n.replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")},R9=t=>{if(!t)return 0;const e=t.replace(/\D/g,"");return Number(e)/100},I9=()=>{const[t,e]=j.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",role:"user"}),[n,a]=j.useState(!1),{register:i,error:l,loading:u,clearError:m}=kn(),p=ic(),g=w=>{const{name:S,value:A}=w.target,C=S==="phone"?l2(A):A;e(O=>({...O,[S]:C})),l&&m()},v=()=>!t.name||!t.email||!t.password||!t.confirmPassword?"Todos os campos so obrigatrios":t.password.length<6?"A senha deve ter pelo menos 6 caracteres":t.password!==t.confirmPassword?"As senhas no coincidem":n?null:"Voc deve aceitar os termos de uso",E=async w=>{w.preventDefault();const S=v();if(S){alert(S);return}try{await i(t),p(ar.dashboard)}catch(A){console.error("Erro ao registrar usurio:",A)}};return d.jsx("div",{className:"register-container",children:d.jsx("div",{className:"register-form-container",children:d.jsxs("div",{className:"register-form-card",children:[d.jsxs("div",{className:"register-header",children:[d.jsx("h2",{className:"register-title",children:"Criar Conta"}),d.jsx("p",{className:"register-subtitle",children:"Preencha os campos abaixo para criar sua conta"})]}),d.jsxs("form",{className:"register-form",onSubmit:E,children:[l&&d.jsx("div",{className:"register-error",children:l}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{className:"register-label",htmlFor:"name",children:"Nome"}),d.jsx("input",{required:!0,autoComplete:"name",className:"register-input",type:"text",id:"name",name:"name",value:t.name,onChange:g,placeholder:"Digite seu nome"})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{className:"register-label",htmlFor:"email",children:"Email"}),d.jsx("input",{required:!0,autoComplete:"email",className:"register-input",type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Digite seu email"})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{htmlFor:"phone",className:"register-label",children:"Telefone (Opcional)"}),d.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:t.phone,onChange:g,className:"register-input",placeholder:"(11) 99999-9999",maxLength:15})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{htmlFor:"password",className:"register-label",children:"Senha"}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:g,className:"register-input",placeholder:"Digite sua senha (mn. 6 caracteres)"})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"register-label",children:"Confirmar senha"}),d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:g,className:"register-input",placeholder:"Confirme sua senha"})]}),d.jsxs("div",{className:"register-checkbox-container",children:[d.jsx("input",{id:"accept-terms",name:"accept-terms",type:"checkbox",checked:n,onChange:w=>a(w.target.checked),className:"register-checkbox"}),d.jsxs("label",{htmlFor:"accept-terms",className:"register-checkbox-label",children:["Concordo com os"," ",d.jsx("a",{href:"#",className:"register-terms-link",children:"Termos de Uso"})," ","e"," ",d.jsx("a",{href:"#",className:"register-terms-link",children:"Poltica de Privacidade"})]})]}),d.jsx("div",{className:"register-buttons",children:d.jsx(nc,{type:"submit",variant:"primary",size:"lg",isLoading:u,disabled:!t.name||!t.email||!t.password||!t.confirmPassword||!n,className:"register-button",children:u?"Cadastrando...":"Cadastrar"})}),d.jsx("div",{className:"register-footer",children:d.jsxs("p",{className:"register-footer-text",children:["J tem uma conta?"," ",d.jsx(Gl,{to:ar.login,className:"register-footer-link",children:"Entrar"})]})})]})]})})})},ow="company_info",Nf={async getCompanyInfo(){try{const t=Xe(Te,"company",ow),e=await ql(t);return e.exists()?{id:e.id,...e.data()}:null}catch(t){throw console.error("Erro ao buscar informaes da empresa:",t),t}},async saveCompanyInfo(t){try{const e=Xe(Te,"company",ow);await qy(e,{...t,updatedAt:xt()},{merge:!0})}catch(e){throw console.error("Erro ao salvar informaes da empresa:",e),e}},async uploadLogo(t){try{const e=UM(HM,`company/logo_${Date.now()}_${t.name}`);return await VM(e,t),await LM(e)}catch(e){throw console.error("Erro ao fazer upload da logo:",e),e}}},Xa="notifications",rr={async createNotification(t){try{const e=new Date;return{id:(await Kr(tt(Te,Xa),{...t,read:!1,createdAt:Qe.fromDate(e)})).id,...t,read:!1,createdAt:e}}catch(e){throw console.error("Erro ao criar notificao:",e),new Error("Erro ao criar notificao")}},async getNotificationsByUser(t){try{const e=nn(tt(Te,Xa),Ot("userId","==",t),Cr("createdAt","desc"),A4(50)),n=await Kt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,userId:l.userId,type:l.type,title:l.title,message:l.message,read:l.read,link:l.link,metadata:l.metadata,createdAt:l.createdAt.toDate()})}),a}catch(e){throw console.error("Erro ao buscar notificaes:",e),new Error("Erro ao buscar notificaes")}},async getUnreadNotifications(t){try{const e=nn(tt(Te,Xa),Ot("userId","==",t),Ot("read","==",!1),Cr("createdAt","desc")),n=await Kt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,userId:l.userId,type:l.type,title:l.title,message:l.message,read:l.read,link:l.link,metadata:l.metadata,createdAt:l.createdAt.toDate()})}),a}catch(e){throw console.error("Erro ao buscar notificaes no lidas:",e),new Error("Erro ao buscar notificaes no lidas")}},async markAsRead(t){try{const e=Xe(Te,Xa,t);await zn(e,{read:!0})}catch(e){throw console.error("Erro ao marcar notificao como lida:",e),new Error("Erro ao marcar notificao como lida")}},async markAllAsRead(t){try{const e=nn(tt(Te,Xa),Ot("userId","==",t),Ot("read","==",!1)),n=await Kt(e),a=[];n.forEach(i=>{a.push(zn(Xe(Te,Xa,i.id),{read:!0}))}),await Promise.all(a)}catch(e){throw console.error("Erro ao marcar todas como lidas:",e),new Error("Erro ao marcar todas como lidas")}},async deleteNotification(t){try{await Gn(Xe(Te,Xa,t))}catch(e){throw console.error("Erro ao deletar notificao:",e),new Error("Erro ao deletar notificao")}},async deleteOldNotifications(t){try{const e=new Date;e.setDate(e.getDate()-30);const n=nn(tt(Te,Xa),Ot("userId","==",t)),a=await Kt(n),i=[];a.forEach(l=>{l.data().createdAt.toDate()<e&&i.push(Gn(Xe(Te,Xa,l.id)))}),await Promise.all(i)}catch(e){console.error("Erro ao deletar notificaes antigas:",e)}}},D9=t=>{const[e,n]=j.useState([]),[a,i]=j.useState(0),[l,u]=j.useState(!0),m=j.useCallback(async()=>{if(t)try{u(!0);const[E,w]=await Promise.all([rr.getNotificationsByUser(t),rr.getUnreadNotifications(t)]);n(E),i(w.length)}catch(E){console.error("Erro ao carregar notificaes:",E)}finally{u(!1)}},[t]);return j.useEffect(()=>{m(),t&&rr.deleteOldNotifications(t);const E=setInterval(()=>{t&&m()},3e4);return()=>clearInterval(E)},[m,t]),{notifications:e,unreadCount:a,loading:l,markAsRead:async E=>{try{await rr.markAsRead(E),await m()}catch(w){console.error("Erro ao marcar notificao como lida:",w)}},markAllAsRead:async()=>{if(t)try{await rr.markAllAsRead(t),await m()}catch(E){console.error("Erro ao marcar todas as notificaes como lidas:",E)}},deleteNotification:async E=>{try{await rr.deleteNotification(E),await m()}catch(w){console.error("Erro ao deletar notificao:",w)}},refresh:m}},j9=({onNavigate:t})=>{const{user:e}=kn(),{notifications:n,unreadCount:a,loading:i,markAsRead:l,markAllAsRead:u,deleteNotification:m}=D9(e?.uid||""),[p,g]=j.useState(!1),v=j.useRef(null);j.useEffect(()=>{const O=z=>{v.current&&!v.current.contains(z.target)&&g(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const E=O=>{switch(O){case"ordem_prazo":return d.jsx(No,{size:20,className:"notification-icon warning"});case"pagamento_vencendo":return d.jsx(Rm,{size:20,className:"notification-icon danger"});case"etapa_parada":return d.jsx(rd,{size:20,className:"notification-icon alert"});case"ordem_concluida":return d.jsx(vi,{size:20,className:"notification-icon success"});default:return d.jsx(tf,{size:20,className:"notification-icon info"})}},w=async O=>{O.read||await l(O.id),O.link&&t&&(t(O.link),g(!1))},S=async()=>{await u()},A=async(O,z)=>{O.stopPropagation(),await m(z)},C=O=>{const F=new Date().getTime()-O.getTime(),X=Math.floor(F/6e4),re=Math.floor(X/60),q=Math.floor(re/24);return X<1?"Agora":X<60?`${X}min atrs`:re<24?`${re}h atrs`:q===1?"Ontem":q<7?`${q} dias atrs`:O.toLocaleDateString("pt-BR")};return d.jsxs("div",{className:"notification-center",ref:v,children:[d.jsxs("button",{className:"notification-bell",onClick:()=>g(!p),"aria-label":"Notificaes",children:[d.jsx(tf,{size:20}),a>0&&d.jsx("span",{className:"notification-badge",children:a})]}),p&&d.jsxs("div",{className:"notification-dropdown",children:[d.jsxs("div",{className:"notification-header",children:[d.jsxs("div",{className:"notification-header-title",children:[d.jsx(tf,{size:20}),d.jsx("h3",{children:"Notificaes"}),a>0&&d.jsx("span",{className:"unread-count-badge",children:a})]}),d.jsxs("div",{className:"notification-header-actions",children:[a>0&&d.jsx("button",{className:"mark-all-read-btn",onClick:S,title:"Marcar todas como lidas",children:d.jsx(cn,{size:20})}),d.jsx("button",{className:"close-dropdown-btn",onClick:()=>g(!1),title:"Fechar",children:d.jsx(Nr,{size:20})})]})]}),d.jsx("div",{className:"notification-content",children:i?d.jsx("div",{className:"notification-loading",children:d.jsx("p",{children:"Carregando..."})}):n.length===0?d.jsxs("div",{className:"notification-empty",children:[d.jsx(tf,{size:48}),d.jsx("p",{children:"Nenhuma notificao"})]}):d.jsx("div",{className:"notification-list",children:n.map(O=>d.jsxs("div",{className:`notification-item ${O.read?"":"unread"}`,onClick:()=>w(O),children:[d.jsx("div",{className:"notification-item-icon",children:E(O.type)}),d.jsxs("div",{className:"notification-item-content",children:[d.jsx("h4",{className:"notification-item-title",children:O.title}),d.jsx("p",{className:"notification-item-message",children:O.message}),d.jsx("span",{className:"notification-item-time",children:C(O.createdAt)})]}),d.jsx("button",{className:"notification-item-delete",onClick:z=>A(z,O.id),title:"Remover",children:d.jsx(Mo,{size:14})})]},O.id))})})]})]})},k9=({children:t,activeTab:e="dashboard",onTabChange:n})=>{const[a,i]=Pu.useState(!1),[l,u]=Pu.useState(null),m=ic();Pu.useEffect(()=>{g();const A=()=>{g()};return window.addEventListener("companyInfoUpdated",A),()=>{window.removeEventListener("companyInfoUpdated",A)}},[]);const p=async()=>{try{await Fu.logOut(),m("/login")}catch(A){console.error("Erro ao deslogar:",A)}},g=async()=>{try{const A=await Nf.getCompanyInfo();u(A)}catch(A){console.error("Erro ao carregar informaes da empresa:",A)}},v=()=>{i(!a)},E=[{icon:OT,label:"Dashboard",key:"dashboard"},{icon:c5,label:"Cadastros",key:"cadastros"},{icon:c3,label:"Faces",key:"faccoes"},{icon:p3,label:"Etapas",key:"etapas"},{icon:vi,label:"Produto",key:"produto"},{icon:h0,label:"Ordem de Produes",key:"ordemProducoes"},{icon:r3,label:"Gesto de Produes",key:"gestaoProducoes"},{icon:Rm,label:"Financeiro",key:"financeiro"},{icon:SA,label:"Relatrios",key:"relatorios"}],w=A=>{n&&n(A)},S=A=>{n&&n(A)};return d.jsxs("div",{className:"layout-container",children:[d.jsxs("aside",{className:`sidebar ${a?"sidebar-open":""}`,children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsxs("div",{className:"sidebar-logo",children:[l?.logoUrl?d.jsx("img",{src:l.logoUrl,alt:l.nome||"Logo",className:"company-logo-img"}):d.jsx(OT,{className:"logo-icon"}),d.jsxs("div",{className:"company-info",children:[d.jsx("span",{className:"logo-text",children:l?.nome||"Nome da empresa"}),l?.endereco&&d.jsx("span",{className:"company-address",children:l.endereco})]})]}),d.jsx("button",{className:"sidebar-close-btn",onClick:v,children:d.jsx(Nr,{size:20})})]}),d.jsx("nav",{className:"sidebar-nav",children:d.jsx("ul",{className:"nav-list",children:E.map((A,C)=>d.jsx("li",{className:"nav-item",children:d.jsxs("button",{onClick:()=>w(A.key),className:`nav-link ${e===A.key?"nav-link-active":""}`,children:[d.jsx(A.icon,{size:20,className:"nav-icon"}),d.jsx("span",{className:"nav-label",children:A.label})]})},C))})}),d.jsx("div",{className:"sidebar-footer",children:d.jsxs("button",{className:"logout-btn",onClick:p,children:[d.jsx(CA,{size:20}),d.jsx("span",{children:"Sair"})]})})]}),d.jsxs("div",{className:"main-content",children:[d.jsxs("header",{className:"header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("button",{className:"menu-toggle",onClick:v,children:d.jsx(x3,{size:24})}),d.jsx("h1",{className:"header-title",children:"Sistema de Gesto de Produo Txtil"})]}),d.jsx("div",{className:"header-right",children:d.jsx(j9,{onNavigate:S})})]}),d.jsx("main",{className:"page-content",children:t})]}),a&&d.jsx("div",{className:"sidebar-overlay",onClick:v})]})},sf="ordensProducao",es={async getOrders(t){const e=nn(tt(Te,sf),Ot("userId","==",t),Cr("createdAt","desc"));return(await Kt(e)).docs.map(a=>{const i=a.data();return{id:a.id,codigo:i.codigo,produtoId:i.produtoId,produtoDescricao:i.produtoDescricao,produtoRef:i.produtoRef,prioridade:i.prioridade,status:i.status,dataInicio:i.dataInicio,dataPrevista:i.dataPrevista,responsavelId:i.responsavelId||void 0,responsavelNome:i.responsavelNome||void 0,createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId,grade:i.grade??[]}})},async createOrder(t,e,n,a){const i=e.grade.map(l=>({...l,total:Object.values(l.quantidades).reduce((u,m)=>u+m,0)}));await Kr(tt(Te,sf),{produtoId:e.produtoId,produtoDescricao:n.descricao,produtoRef:n.refCodigo,prioridade:e.prioridade,dataInicio:e.dataInicio,dataPrevista:e.dataPrevista,responsavelId:e.responsavelId||null,responsavelNome:a||null,grade:i,userId:t,status:"em_producao",codigo:`OP${Date.now()}`,createdAt:xt(),updatedAt:xt()})},async updateOrder(t,e,n,a){const i=e.grade.map(l=>({...l,total:Object.values(l.quantidades).reduce((u,m)=>u+m,0)}));await zn(Xe(Te,sf,t),{produtoId:e.produtoId,produtoDescricao:n.descricao,produtoRef:n.refCodigo,prioridade:e.prioridade,dataInicio:e.dataInicio,dataPrevista:e.dataPrevista,responsavelId:e.responsavelId||null,responsavelNome:a||null,grade:i,updatedAt:xt()})},async deleteOrder(t){await Gn(Xe(Te,sf,t))}},of={async getCategorias(t){try{const e=nn(tt(Te,"categorias"),Ot("userId","==",t),Cr("nome","asc"));return(await Kt(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar categorias:",e),e}},async createCategoria(t,e){try{return(await Kr(tt(Te,"categorias"),{...e,userId:t,ativo:!0,createdAt:xt()})).id}catch(n){throw console.error("Erro ao criar categoria:",n),n}},async updateCategoria(t,e){try{await zn(Xe(Te,"categorias",t),{...e,updatedAt:xt()})}catch(n){throw console.error("Erro ao atualizar categoria:",n),n}},async deleteCategoria(t){try{await Gn(Xe(Te,"categorias",t))}catch(e){throw console.error("Erro ao deletar categoria:",e),e}}},Ou={async getCores(t){try{const e=nn(tt(Te,"cores"),Ot("userId","==",t),Cr("nome","asc"));return(await Kt(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar cores:",e),e}},async createCor(t,e){try{return(await Kr(tt(Te,"cores"),{...e,userId:t,ativo:!0,createdAt:xt()})).id}catch(n){throw console.error("Erro ao criar cor:",n),n}},async updateCor(t,e){try{await zn(Xe(Te,"cores",t),{...e,updatedAt:xt()})}catch(n){throw console.error("Erro ao atualizar cor:",n),n}},async deleteCor(t){try{await Gn(Xe(Te,"cores",t))}catch(e){throw console.error("Erro ao deletar cor:",e),e}}},Ml={async getTamanhos(t){try{const e=nn(tt(Te,"tamanhos"),Ot("userId","==",t),Cr("ordem","asc"));return(await Kt(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar tamanhos:",e),e}},async createTamanho(t,e){try{return(await Kr(tt(Te,"tamanhos"),{...e,userId:t,ativo:!0,createdAt:xt()})).id}catch(n){throw console.error("Erro ao criar tamanho:",n),n}},async updateTamanho(t,e){try{await zn(Xe(Te,"tamanhos",t),{...e,updatedAt:xt()})}catch(n){throw console.error("Erro ao atualizar tamanho:",n),n}},async deleteTamanho(t){try{await Gn(Xe(Te,"tamanhos",t))}catch(e){throw console.error("Erro ao deletar tamanho:",e),e}}},ma={async getProdutos(t){try{const e=nn(tt(Te,"produtos"),Ot("userId","==",t));return(await Kt(e)).docs.map(i=>{const l=i.data();return{id:i.id,refCodigo:l.refCodigo||"",descricao:l.descricao||"",categoria:{id:"",nome:"",ativo:!0,createdAt:new Date},cores:[],tamanhos:[],etapasProducao:[],categoriaId:l.categoriaId||"",coresIds:l.coresIds||[],tamanhosIds:l.tamanhosIds||[],etapasProducaoIds:l.etapasProducaoIds||[],ativo:l.ativo!==!1,userId:l.userId,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((i,l)=>{const u=parseInt(i.refCodigo)||0,m=parseInt(l.refCodigo)||0;return u-m})}catch(e){throw console.error("Erro ao buscar produtos:",e),e}},async createProduto(t,e){try{return(await Kr(tt(Te,"produtos"),{refCodigo:e.refCodigo,descricao:e.descricao,categoriaId:e.categoriaId,coresIds:e.coresIds,tamanhosIds:e.tamanhosIds,etapasProducaoIds:e.etapasProducao||[],userId:t,ativo:!0,createdAt:xt(),updatedAt:xt()})).id}catch(n){throw console.error("Erro ao criar produto:",n),n}},async updateProduto(t,e){try{await zn(Xe(Te,"produtos",t),{refCodigo:e.refCodigo,descricao:e.descricao,categoriaId:e.categoriaId,coresIds:e.coresIds,tamanhosIds:e.tamanhosIds,etapasProducaoIds:e.etapasProducao||[],updatedAt:xt()})}catch(n){throw console.error("Erro ao atualizar produto:",n),n}},async deleteProduto(t){try{await Gn(Xe(Te,"produtos",t))}catch(e){throw console.error("Erro ao deletar produto:",e),e}}},lf="faccoes",pa={async createFaccao(t){try{return(await Kr(tt(Te,lf),{...t,createdAt:xt(),updatedAt:xt()})).id}catch(e){throw console.error("Erro ao criar faco:",e),e}},async getFaccoes(){try{const t=nn(tt(Te,lf),Cr("nome","asc"));return(await Kt(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Erro ao buscar faces:",t),t}},async updateFaccao(t,e){try{const n=Xe(Te,lf,t);await zn(n,{...e,updatedAt:xt()})}catch(n){throw console.error("Erro ao atualizar faco:",n),n}},async deleteFaccao(t){try{await Gn(Xe(Te,lf,t))}catch(e){throw console.error("Erro ao deletar faco:",e),e}}},O9=Object.freeze(Object.defineProperty({__proto__:null,faccaoService:pa},Symbol.toStringTag,{value:"Module"})),fo="producaoProgresso",cf=t=>{const e={};return e.etapaId=t.etapaId,e.etapaNome=t.etapaNome,e.ordem=t.ordem,e.finalizadas=t.finalizadas??0,e.defeituosas=t.defeituosas??0,e.status=t.status,t.responsavelId&&(e.responsavelId=t.responsavelId),t.responsavelNome&&(e.responsavelNome=t.responsavelNome),t.dataInicio&&(e.dataInicio=t.dataInicio),t.dataFim&&(e.dataFim=t.dataFim),t.observacoes&&t.observacoes.length>0&&(e.observacoes=t.observacoes),e},nr={async getProgressByOrderId(t){const e=nn(tt(Te,fo),Ot("ordemProducaoId","==",t)),n=await Kt(e);if(n.empty)return null;const a=n.docs[0],i=a.data();return{id:a.id,ordemProducaoId:i.ordemProducaoId,etapas:i.etapas??[],createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId}},async getAllProgress(t){const e=nn(tt(Te,fo),Ot("userId","==",t),Cr("updatedAt","desc"));return(await Kt(e)).docs.map(a=>{const i=a.data();return{id:a.id,ordemProducaoId:i.ordemProducaoId,etapas:i.etapas??[],createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId}})},async initializeProgress(t,e,n){if(await this.getProgressByOrderId(e))return;const l=n.sort((u,m)=>u.order-m.order).map((u,m)=>{const p={etapaId:u.id,etapaNome:u.name,ordem:u.order,finalizadas:0,defeituosas:0,status:m===0?"em_andamento":"pausada"};return m===0&&(p.dataInicio=new Date().toISOString().split("T")[0]),p}).map(u=>cf(u));await Kr(tt(Te,fo),{ordemProducaoId:e,etapas:l,userId:t,createdAt:xt(),updatedAt:xt()})},async updateStageProgress(t,e){const n=Xe(Te,fo,t),a=await ql(n);if(!a.exists())throw new Error("Progresso no encontrado");const l=a.data().etapas??[],u=l.findIndex(v=>v.etapaId===e.etapaId);if(u===-1)throw new Error("Etapa no encontrada no progresso");const m=l[u],p={};e.finalizadas!==void 0&&(p.finalizadas=e.finalizadas),e.defeituosas!==void 0&&(p.defeituosas=e.defeituosas),e.responsavelId!==void 0&&(p.responsavelId=e.responsavelId),e.status!==void 0&&(p.status=e.status),e.dataFim!==void 0&&(p.dataFim=e.dataFim),l[u]={etapaId:m.etapaId,etapaNome:m.etapaNome,ordem:m.ordem,finalizadas:p.finalizadas??m.finalizadas??0,defeituosas:p.defeituosas??m.defeituosas??0,status:p.status??m.status,...p},m.responsavelId&&(l[u].responsavelId=m.responsavelId),m.responsavelNome&&(l[u].responsavelNome=m.responsavelNome),m.dataInicio&&(l[u].dataInicio=m.dataInicio),m.observacoes&&m.observacoes.length>0&&(l[u].observacoes=m.observacoes);const g=l.map(v=>cf(v));await zn(n,{etapas:g,updatedAt:xt()})},async finalizeStage(t,e,n,a=0){await this.updateStageProgress(t,{etapaId:e,finalizadas:n,defeituosas:a,status:"finalizada",dataFim:new Date().toISOString().split("T")[0]})},async pauseStage(t,e){await this.updateStageProgress(t,{etapaId:e,status:"pausada"})},async resumeStage(t,e){await this.updateStageProgress(t,{etapaId:e,status:"em_andamento"})},async finalizeStageWithDetails(t,e,n,a,i){try{const l=Xe(Te,fo,t),u=await ql(l);if(!u.exists())throw new Error("Progresso no encontrado");const v=(u.data().etapas||[]).map(E=>{if(E.etapaId===e){const S={etapaId:E.etapaId,etapaNome:E.etapaNome,ordem:E.ordem,finalizadas:n,defeituosas:a,status:"finalizada",dataFim:new Date().toISOString().split("T")[0]};return E.responsavelId&&(S.responsavelId=E.responsavelId),E.responsavelNome&&(S.responsavelNome=E.responsavelNome),E.dataInicio&&(S.dataInicio=E.dataInicio),i?S.observacoes=[i]:E.observacoes&&E.observacoes.length>0&&(S.observacoes=E.observacoes),S}const w={etapaId:E.etapaId,etapaNome:E.etapaNome,ordem:E.ordem,finalizadas:E.finalizadas||0,defeituosas:E.defeituosas||0,status:E.status};return E.responsavelId&&(w.responsavelId=E.responsavelId),E.responsavelNome&&(w.responsavelNome=E.responsavelNome),E.dataInicio&&(w.dataInicio=E.dataInicio),E.dataFim&&(w.dataFim=E.dataFim),E.observacoes&&E.observacoes.length>0&&(w.observacoes=E.observacoes),w}).map(E=>cf(E));await zn(l,{etapas:v,updatedAt:xt()})}catch(l){throw console.error("Erro ao finalizar etapa:",l),l}},async startNextStage(t,e,n,a){try{const i=Xe(Te,fo,t),l=await ql(i);if(!l.exists())throw new Error("Progresso no encontrado");const g=(l.data().etapas||[]).map(v=>{if(v.etapaId===e)return{etapaId:v.etapaId,etapaNome:v.etapaNome,ordem:v.ordem,status:"em_andamento",responsavelId:n,responsavelNome:a,dataInicio:new Date().toISOString().split("T")[0],finalizadas:0,defeituosas:0};const E={etapaId:v.etapaId,etapaNome:v.etapaNome,ordem:v.ordem,finalizadas:v.finalizadas||0,defeituosas:v.defeituosas||0,status:v.status};return v.responsavelId&&(E.responsavelId=v.responsavelId),v.responsavelNome&&(E.responsavelNome=v.responsavelNome),v.dataInicio&&(E.dataInicio=v.dataInicio),v.dataFim&&(E.dataFim=v.dataFim),v.observacoes&&v.observacoes.length>0&&(E.observacoes=v.observacoes),E}).map(v=>cf(v));await zn(i,{etapas:g,updatedAt:xt()})}catch(i){throw console.error("Erro ao iniciar prxima etapa:",i),i}},async deleteProgress(t){try{await Gn(Xe(Te,fo,t))}catch(e){throw console.error("Erro ao deletar progresso:",e),e}}},mo="lancamentosFinanceiros",lw=t=>{const e={};return Object.keys(t).forEach(n=>{t[n]!==void 0&&(e[n]=t[n])}),e},ui={async createLancamento(t,e){try{const n=lw({...t,dataVencimento:Qe.fromDate(t.dataVencimento),status:"pendente",userId:e,createdAt:xt(),updatedAt:xt()});return(await Kr(tt(Te,mo),n)).id}catch(n){throw console.error("Erro ao criar lanamento financeiro:",n),n}},async getLancamentosByUser(t){try{const e=nn(tt(Te,mo),Ot("userId","==",t),Cr("dataVencimento","desc"));return(await Kt(e)).docs.map(a=>{const i=a.data();return{id:a.id,...i,dataVencimento:i.dataVencimento?.toDate()||new Date,dataPagamento:i.dataPagamento?.toDate(),createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Erro ao buscar lanamentos:",e),e}},async getLancamentosPendentes(t){try{const e=nn(tt(Te,mo),Ot("userId","==",t),Ot("status","in",["pendente","atrasado"]),Cr("dataVencimento","asc")),a=(await Kt(e)).docs.map(l=>{const u=l.data();return{id:l.id,...u,dataVencimento:u.dataVencimento?.toDate()||new Date,dataPagamento:u.dataPagamento?.toDate(),createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date}}),i=new Date;i.setHours(0,0,0,0);for(const l of a){const u=new Date(l.dataVencimento);u.setHours(0,0,0,0),l.status==="pendente"&&u<i&&(await this.updateLancamento(l.id,{status:"atrasado"}),l.status="atrasado")}return a}catch(e){throw console.error("Erro ao buscar lanamentos pendentes:",e),e}},async getLancamentosPagos(t){try{const e=nn(tt(Te,mo),Ot("userId","==",t),Ot("status","==","pago"),Cr("dataPagamento","desc"));return(await Kt(e)).docs.map(a=>{const i=a.data();return{id:a.id,...i,dataVencimento:i.dataVencimento?.toDate()||new Date,dataPagamento:i.dataPagamento?.toDate(),createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Erro ao buscar lanamentos pagos:",e),e}},async updateLancamento(t,e){try{const n=Xe(Te,mo,t),a=lw({...e,dataPagamento:e.dataPagamento?Qe.fromDate(e.dataPagamento):void 0,updatedAt:xt()});await zn(n,a)}catch(n){throw console.error("Erro ao atualizar lanamento:",n),n}},async marcarComoPago(t){try{await this.updateLancamento(t,{status:"pago",dataPagamento:new Date})}catch(e){throw console.error("Erro ao marcar lanamento como pago:",e),e}},async deleteLancamento(t){try{await Gn(Xe(Te,mo,t))}catch(e){throw console.error("Erro ao deletar lanamento:",e),e}},async deleteLancamentosByOrdem(t){try{const e=nn(tt(Te,mo),Ot("ordemProducaoId","==",t)),a=(await Kt(e)).docs.map(i=>Gn(i.ref));await Promise.all(a)}catch(e){throw console.error("Erro ao deletar lanamentos da ordem:",e),e}}},P9=async(t,e)=>{try{const n=new Date;n.setHours(0,0,0,0);const a=new Date(n);a.setDate(a.getDate()+5);const l=(await rr.getNotificationsByUser(e)).filter(u=>u.type==="ordem_prazo"&&!u.read);for(const u of t)if(u.status==="em_producao"){const m=new Date(u.dataPrevista);if(m.setHours(0,0,0,0),m>=n&&m<=a&&!l.some(g=>g.metadata?.ordemCodigo===u.codigo)){const g=Math.ceil((m.getTime()-n.getTime())/864e5);await rr.createNotification({userId:e,type:"ordem_prazo",title:" Ordem Prxima do Prazo",message:`${u.codigo} - ${u.produtoDescricao} vence em ${g} dia(s)`,link:"gestaoProducoes",metadata:{ordemId:u.id,ordemCodigo:u.codigo,dias:g}})}}}catch(n){console.error("Erro ao verificar prazos das ordens:",n)}},M9=async(t,e)=>{try{const n=new Date;n.setHours(0,0,0,0);const a=new Date(n);a.setDate(a.getDate()+7);const l=(await rr.getNotificationsByUser(e)).filter(u=>u.type==="pagamento_vencendo"&&!u.read);for(const u of t)if(u.status==="pendente"||u.status==="atrasado"){const m=new Date(u.dataVencimento);if(m.setHours(0,0,0,0),m>=n&&m<=a&&!l.some(g=>g.metadata?.lancamentoId===u.id)){const g=Math.ceil((m.getTime()-n.getTime())/864e5);await rr.createNotification({userId:e,type:"pagamento_vencendo",title:" Pagamento Vencendo",message:`${u.faccaoNome} - ${u.valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} vence em ${g} dia(s)`,link:"financeiro",metadata:{lancamentoId:u.id,valor:u.valor,dias:g}})}if(m<n&&u.status==="atrasado"&&!l.some(g=>g.metadata?.lancamentoId===u.id&&g.title.includes("Vencido"))){const g=Math.ceil((n.getTime()-m.getTime())/864e5);await rr.createNotification({userId:e,type:"pagamento_vencendo",title:" Pagamento Vencido",message:`${u.faccaoNome} - ${u.valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} est ${g} dia(s) atrasado`,link:"financeiro",metadata:{lancamentoId:u.id,valor:u.valor,dias:g}})}}}catch(n){console.error("Erro ao verificar pagamentos:",n)}},V9=async(t,e,n)=>{try{const a=new Date,l=(await rr.getNotificationsByUser(n)).filter(u=>u.type==="etapa_parada"&&!u.read);for(const u of t){const m=e.find(p=>p.id===u.ordemProducaoId);if(!(!m||m.status!=="em_producao")){for(const p of u.etapas)if(p.status==="pausada"&&p.dataInicio){const g=new Date(p.dataInicio),v=Math.ceil((a.getTime()-g.getTime())/(1e3*60*60*24));v>3&&(l.some(w=>w.metadata?.ordemCodigo===m.codigo&&w.message.includes(p.etapaNome))||await rr.createNotification({userId:n,type:"etapa_parada",title:" Etapa Parada",message:`${m.codigo} - Etapa "${p.etapaNome}" est parada h ${v} dia(s)`,link:"gestaoProducoes",metadata:{ordemId:m.id,ordemCodigo:m.codigo,dias:v}}))}}}}catch(a){console.error("Erro ao verificar etapas paradas:",a)}},L9=async(t,e)=>{try{await Promise.all([P9(e.orders,t),M9(e.lancamentos,t),V9(e.progressos,e.orders,t)])}catch(n){console.error("Erro ao executar verificaes de notificao:",n)}};class U9{intervalId=null;isRunning=!1;userId=null;start(e,n=5){if(this.isRunning){console.log("Monitoramento de notificaes j est em execuo");return}this.userId=e,this.isRunning=!0,console.log(` Iniciando monitoramento de notificaes (intervalo: ${n}min)`),this.runChecks();const a=n*60*1e3;this.intervalId=setInterval(()=>{this.runChecks()},a)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isRunning=!1,this.userId=null,console.log(" Monitoramento de notificaes parado")}async runChecks(){if(!this.userId){console.error("UserId no definido para monitoramento");return}try{console.log(" Executando verificaes de notificao...");const[e,n]=await Promise.all([es.getOrders(this.userId),nr.getAllProgress(this.userId)]),[a,i]=await Promise.all([ui.getLancamentosPendentes(this.userId),ui.getLancamentosPagos(this.userId)]),l=[...a,...i];await L9(this.userId,{orders:e,lancamentos:l,progressos:n}),console.log(" Verificaes de notificao concludas")}catch(e){console.error(" Erro ao executar verificaes de notificao:",e)}}async forceCheck(){await this.runChecks()}isActive(){return this.isRunning}}const uf=new U9,Su={async createTask(t,e){try{const n=new Date;return{id:(await Kr(tt(Te,"tasks"),{...e,completed:!1,userId:t,createdAt:Qe.fromDate(n),updatedAt:Qe.fromDate(n)})).id,...e,completed:!1,userId:t,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erro ao criar tarefa:",n),new Error("Erro ao criar tarefa")}},async getTasksByUser(t){try{const e=nn(tt(Te,"tasks"),Ot("userId","==",t)),n=await Kt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,description:l.description,time:l.time,priority:l.priority,completed:l.completed,userId:l.userId,createdAt:l.createdAt.toDate(),updatedAt:l.updatedAt.toDate()})}),a.sort((i,l)=>i.time.localeCompare(l.time))}catch(e){throw console.error("Erro ao buscar tarefas:",e),new Error("Erro ao buscar tarefas")}},async updateTask(t,e){try{const n=Xe(Te,"tasks",t);await zn(n,{...e,updatedAt:Qe.fromDate(new Date)})}catch(n){throw console.error("Erro ao atualizar tarefa:",n),new Error("Erro ao atualizar tarefa")}},async deleteTask(t){try{await Gn(Xe(Te,"tasks",t))}catch(e){throw console.error("Erro ao deletar tarefa:",e),new Error("Erro ao deletar tarefa")}},async toggleTaskCompletion(t,e){try{const n=Xe(Te,"tasks",t);await zn(n,{completed:e,updatedAt:Qe.fromDate(new Date)})}catch(n){throw console.error("Erro ao alterar status da tarefa:",n),new Error("Erro ao alterar status da tarefa")}},async deleteOldTasks(t){try{const e=new Date;e.setHours(0,0,0,0);const n=nn(tt(Te,"tasks"),Ot("userId","==",t)),a=await Kt(n),i=[];a.forEach(l=>{const m=l.data().createdAt.toDate();m.setHours(0,0,0,0),m.getTime()<e.getTime()&&i.push(Gn(Xe(Te,"tasks",l.id)))}),await Promise.all(i)}catch(e){throw console.error("Erro ao deletar tarefas antigas:",e),new Error("Erro ao deletar tarefas antigas")}}},z9=({isOpen:t,onClose:e,onSubmit:n,isLoading:a=!1})=>{const[i,l]=j.useState({description:"",time:"",priority:"media"}),u=g=>{const{name:v,value:E}=g.target;l(w=>({...w,[v]:E}))},m=async g=>{if(g.preventDefault(),!i.description.trim()||!i.time){alert("Por favor, preencha todos os campos obrigatrios");return}try{await n(i),l({description:"",time:"",priority:"media"}),e()}catch(v){console.error("Erro ao criar tarefa:",v)}},p=()=>{l({description:"",time:"",priority:"media"}),e()};return t?d.jsx("div",{className:"task-modal-overlay",onClick:p,children:d.jsxs("div",{className:"task-modal",onClick:g=>g.stopPropagation(),children:[d.jsxs("div",{className:"task-modal-header",children:[d.jsxs("div",{className:"task-modal-title-section",children:[d.jsx("h2",{className:"task-modal-title",children:"Nova Tarefa"}),d.jsx("p",{className:"task-modal-subtitle",children:"Adicione uma nova tarefa  sua agenda"})]}),d.jsx("button",{className:"task-modal-close",onClick:p,children:d.jsx(Nr,{size:20})})]}),d.jsxs("form",{className:"task-modal-form",onSubmit:m,children:[d.jsxs("div",{className:"task-modal-field",children:[d.jsx("label",{className:"task-modal-label",htmlFor:"description",children:"Descrio da Tarefa"}),d.jsx("input",{id:"description",name:"description",type:"text",value:i.description,onChange:u,placeholder:"Digite a descrio da tarefa",className:"task-modal-input",required:!0})]}),d.jsxs("div",{className:"task-modal-field",children:[d.jsx("label",{className:"task-modal-label",htmlFor:"time",children:"Horrio"}),d.jsxs("div",{className:"task-modal-time-container",children:[d.jsx("input",{id:"time",name:"time",type:"time",value:i.time,onChange:u,className:"task-modal-input task-modal-time-input",required:!0}),d.jsx(No,{className:"task-modal-time-icon",size:16})]})]}),d.jsxs("div",{className:"task-modal-field",children:[d.jsx("label",{className:"task-modal-label",htmlFor:"priority",children:"Prioridade"}),d.jsxs("select",{id:"priority",name:"priority",value:i.priority,onChange:u,className:"task-modal-select",children:[d.jsx("option",{value:"baixa",children:"Baixa"}),d.jsx("option",{value:"media",children:"Mdia"}),d.jsx("option",{value:"alta",children:"Alta"})]})]}),d.jsxs("div",{className:"task-modal-actions",children:[d.jsx(nc,{type:"button",variant:"outline",onClick:p,disabled:a,children:"Cancelar"}),d.jsx(nc,{type:"submit",variant:"primary",isLoading:a,disabled:!i.description.trim()||!i.time,children:"Adicionar"})]})]})]})}):null},B9=()=>{const{user:t}=kn(),[e,n]=j.useState([]),[a,i]=j.useState(!1),[l,u]=j.useState(!1),[m,p]=j.useState(!0),g=async()=>{if(t)try{p(!0);const C=await Su.getTasksByUser(t.uid),O=new Date;O.setHours(0,0,0,0);const z=new Date;z.setDate(z.getDate()+1);const F=C.filter(X=>{const re=new Date(X.createdAt);return re.setHours(0,0,0,0),re.getTime()===O.getTime()});n(F),await Su.deleteOldTasks(t.uid)}catch(C){console.error("Erro ao carregar tarefas:",C)}finally{p(!1)}};j.useEffect(()=>{g()},[t]);const v=async C=>{if(t)try{u(!0),await Su.createTask(t.uid,C),await g()}catch(O){throw console.error("Erro ao criar tarefa:",O),O}finally{u(!1)}},E=async(C,O)=>{try{await Su.toggleTaskCompletion(C,O),await g()}catch(z){console.error("Erro ao alterar status da tarefa:",z)}},w=async C=>{if(confirm("Tem certeza que deseja excluir esta tarefa?"))try{await Su.deleteTask(C),await g()}catch(O){console.error("Erro ao excluir tarefa:",O)}},S=C=>{switch(C){case"alta":return"task-priority-high";case"media":return"task-priority-medium";case"baixa":return"task-priority-low";default:return"task-priority-medium"}},A=C=>{switch(C){case"alta":return"Alta";case"media":return"Mdia";case"baixa":return"Baixa";default:return"Mdia"}};return d.jsxs("div",{className:"agenda-card",children:[d.jsxs("div",{className:"agenda-header",children:[d.jsxs("div",{className:"agenda-title-section",children:[d.jsxs("div",{className:"agenda-title",children:[d.jsx(No,{className:"agenda-icon",size:20}),d.jsx("h3",{children:"Agenda do Dia"})]}),d.jsx("p",{className:"agenda-subtitle",children:"Suas tarefas e compromissos de hoje"})]}),d.jsx("button",{className:"agenda-add-button",onClick:()=>i(!0),children:d.jsx(Ci,{className:"agenda-add-icon",size:20})})]}),d.jsx("div",{className:"agenda-content",children:m?d.jsx("div",{className:"agenda-loading",children:d.jsx("p",{children:"Carregando tarefas..."})}):e.length===0?d.jsxs("div",{className:"agenda-empty",children:[d.jsx("p",{children:"Nenhuma tarefa cadastrada"}),d.jsx("p",{className:"agenda-empty-subtitle",children:"Clique no boto + para adicionar uma nova tarefa"})]}):d.jsx("div",{className:"agenda-tasks",children:e.map(C=>d.jsx("div",{className:`agenda-task ${C.completed?"task-completed":""}`,children:d.jsxs("div",{className:"task-content",children:[d.jsxs("div",{className:"task-main",children:[d.jsx("h4",{className:"task-description",children:C.description}),d.jsxs("div",{className:"task-meta",children:[d.jsx("span",{className:`task-priority ${S(C.priority)}`,children:A(C.priority)}),d.jsx("span",{className:"task-time",children:C.time})]})]}),d.jsxs("div",{className:"task-actions",children:[d.jsx("button",{className:`task-action task-complete ${C.completed?"task-completed-icon":""}`,onClick:()=>E(C.id,!C.completed),title:C.completed?"Marcar como pendente":"Marcar como concluda",children:d.jsx(cn,{size:14})}),d.jsx("button",{className:"task-action task-edit",title:"Editar tarefa",children:d.jsx(RA,{size:14})}),d.jsx("button",{className:"task-action task-delete",onClick:()=>w(C.id),title:"Excluir tarefa",children:d.jsx(Mo,{size:14})})]})]})},C.id))})}),d.jsx(z9,{isOpen:a,onClose:()=>i(!1),onSubmit:v,isLoading:l})]})},cw=()=>{const{user:t}=kn(),[e,n]=j.useState([]),[a,i]=j.useState([]),[l,u]=j.useState([]),[m,p]=j.useState([]);j.useEffect(()=>((async()=>{if(t)try{const[w,S,A,C]=await Promise.all([es.getOrders(t.uid),ma.getProdutos(t.uid),pa.getFaccoes(),nr.getAllProgress(t.uid)]);n(w),i(S),u(A),p(C),uf.isActive()||uf.start(t.uid,5)}catch(w){console.error("Erro ao carregar dados:",w)}})(),()=>{uf.isActive()&&uf.stop()}),[t]);const g=E=>{const w=m.find(z=>z.ordemProducaoId===E);if(!w)return{etapa:"Planejamento",status:"No iniciada"};const S=w.etapas.find(z=>z.status==="em_andamento");if(S)return{etapa:S.etapaNome,status:"Em andamento"};const A=w.etapas.find(z=>z.status==="pausada");if(A)return{etapa:A.etapaNome,status:"Pausada"};if(w.etapas.every(z=>z.status==="finalizada")&&w.etapas.length>0)return{etapa:w.etapas[w.etapas.length-1].etapaNome,status:"Finalizada"};const O=[...w.etapas].reverse().find(z=>z.status==="finalizada");return O?{etapa:O.etapaNome,status:"Aguardando prxima"}:{etapa:"Planejamento",status:"No iniciada"}},v=[...e].sort((E,w)=>w.createdAt.getTime()-E.createdAt.getTime()).slice(0,4);return d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Dashboard"}),d.jsx("p",{className:"tab-subtitle",children:"Viso geral do sistema de gesto de produo txtil"})]}),d.jsxs("div",{className:"dashboard-grid",children:[d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Ordens Ativas"}),d.jsx("span",{className:"card-value",children:e.length}),d.jsx("p",{className:"card-subtitle",children:"Em produo"})]}),d.jsx("div",{className:"card-icon purple",children:d.jsx(d3,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend positive",children:[d.jsx(Fl,{size:12}),"+12%"]})})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Produtos Cadastrados"}),d.jsx("span",{className:"card-value",children:a.length}),d.jsx("p",{className:"card-subtitle",children:"Total de referncias"})]}),d.jsx("div",{className:"card-icon blue",children:d.jsx(vi,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend positive",children:[d.jsx(Fl,{size:12}),"+8%"]})})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Faces Ativas"}),d.jsx("span",{className:"card-value",children:l.length}),d.jsx("p",{className:"card-subtitle",children:"Tercerizados"})]}),d.jsx("div",{className:"card-icon green",children:d.jsx(Io,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend positive",children:[d.jsx(Fl,{size:12}),"+2"]})})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Pendncias Financeiras"}),d.jsx("span",{className:"card-value",children:"R$ 100,00"}),d.jsx("p",{className:"card-subtitle",children:"A pagar este ms"})]}),d.jsx("div",{className:"card-icon yellow",children:d.jsx(Rm,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend negative",children:[d.jsx(t5,{size:12}),"-5%"]})})]}),d.jsx(B9,{})]}),d.jsxs("div",{className:"recent-orders-section",children:[d.jsx("div",{className:"recent-orders-header",children:d.jsxs("div",{className:"recent-orders-title-wrapper",children:[d.jsx(h0,{size:24,className:"recent-orders-icon"}),d.jsxs("div",{children:[d.jsx("h2",{className:"recent-orders-title",children:"Ordens de Produo Recentes"}),d.jsx("p",{className:"recent-orders-subtitle",children:"Acompanhe o status das suas ordens em tempo real"})]})]})}),d.jsx("div",{className:"recent-orders-list",children:v.length===0?d.jsx("div",{className:"no-orders",children:d.jsx("p",{children:"Nenhuma ordem de produo cadastrada ainda."})}):v.map(E=>{const{etapa:w,status:S}=g(E.id);return d.jsxs("div",{className:"order-item",children:[d.jsxs("div",{className:"order-item-header",children:[d.jsxs("div",{className:"order-item-left",children:[d.jsx("span",{className:"order-code",children:E.codigo}),d.jsx("h3",{className:"order-product",children:E.produtoDescricao}),d.jsx("span",{className:`order-priority-badge ${E.prioridade}`,children:E.prioridade})]}),d.jsx("button",{className:"order-details-btn",onClick:()=>{const A=document.querySelectorAll(".tab-button"),C=Array.from(A).find(O=>O.textContent?.includes("Gesto de Produes"));C&&C.click()},children:"Ver Detalhes"})]}),d.jsxs("div",{className:"order-item-footer",children:[d.jsxs("span",{className:"order-stage",children:["Etapa: ",w]}),d.jsx("span",{className:"order-status-dot",children:""}),d.jsx("span",{className:"order-status",children:S})]})]},E.id)})})]})]})},ts={async getStepsCount(){try{return(await Kt(tt(Te,"productionSteps"))).size}catch(t){throw console.error("Erro ao buscar etapas:",t),new Error("Erro ao buscar etapas")}},async getAllSteps(){try{const t=nn(tt(Te,"productionSteps"),Cr("order","asc")),e=await Kt(t),n=[];return e.forEach(a=>{const i=a.data();n.push({id:a.id,name:i.name,description:i.description,order:i.order,userId:i.userId,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()})}),n}catch(t){throw console.error("Erro ao buscar etapas:",t),new Error("Erro ao buscar etapas")}},async createStep(t,e){try{const n=new Date;return{id:(await Kr(tt(Te,"productionSteps"),{...e,userId:t,createdAt:Qe.fromDate(n),updatedAt:Qe.fromDate(n)})).id,...e,userId:t,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erro ao criar etapa:",n),new Error("Erro ao criar etapa")}},async getStepsByUser(t){try{const e=nn(tt(Te,"productionSteps"),Ot("userId","==",t)),n=await Kt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,name:l.name,description:l.description,order:l.order,userId:l.userId,createdAt:l.createdAt.toDate(),updatedAt:l.updatedAt.toDate()})}),a.sort((i,l)=>i.order-l.order)}catch(e){throw console.error("Erro ao buscar etapas:",e),new Error("Erro ao buscar etapas")}},async updateStep(t,e){try{const n=Xe(Te,"productionSteps",t);await zn(n,{...e,updatedAt:Qe.fromDate(new Date)})}catch(n){throw console.error("Erro ao atualizar etapa:",n),new Error("Erro ao atualizar etapa")}},async deleteStep(t){try{await Gn(Xe(Te,"productionSteps",t))}catch(e){throw console.error("Erro ao deletar etapa:",e),new Error("Erro ao deletar etapa")}}},q9=()=>{const[t,e]=j.useState(!1),[n,a]=j.useState(!0),[i,l]=j.useState(!1),[u,m]=j.useState(null),[p,g]=j.useState({nome:"",endereco:"",logoUrl:""});j.useEffect(()=>{v()},[]);const v=async()=>{try{a(!0);const A=await Nf.getCompanyInfo();A&&g(A)}catch(A){console.error("Erro ao carregar informaes:",A),m({type:"error",text:"Erro ao carregar informaes da empresa"})}finally{a(!1)}},E=A=>{const{name:C,value:O}=A.target;g(z=>({...z,[C]:O}))},w=async A=>{const C=A.target.files?.[0];if(C){if(!C.type.startsWith("image/")){m({type:"error",text:"Por favor, selecione uma imagem vlida"});return}if(C.size>5*1024*1024){m({type:"error",text:"A imagem deve ter no mximo 5MB"});return}try{l(!0);const O=await Nf.uploadLogo(C);g(z=>({...z,logoUrl:O})),m({type:"success",text:"Logo enviada com sucesso!"})}catch(O){console.error("Erro ao fazer upload:",O),m({type:"error",text:"Erro ao fazer upload da logo"})}finally{l(!1)}}},S=async A=>{if(A.preventDefault(),!p.nome.trim()){m({type:"error",text:"O nome da empresa  obrigatrio"});return}try{e(!0),m(null),await Nf.saveCompanyInfo({nome:p.nome,endereco:p.endereco,logoUrl:p.logoUrl}),m({type:"success",text:"Informaes salvas com sucesso!"}),window.dispatchEvent(new CustomEvent("companyInfoUpdated"))}catch(C){console.error("Erro ao salvar:",C),m({type:"error",text:"Erro ao salvar informaes"})}finally{e(!1)}};return n?d.jsxs("div",{className:"company-form-loading",children:[d.jsx(cy,{className:"loading-spinner",size:32}),d.jsx("p",{children:"Carregando informaes..."})]}):d.jsxs("div",{className:"company-form-container",children:[d.jsxs("div",{className:"company-form-header",children:[d.jsx(Gy,{size:32}),d.jsxs("div",{children:[d.jsx("h2",{children:"Informaes da Empresa"}),d.jsx("p",{children:"Configure o nome, logo e endereo da sua empresa"})]})]}),d.jsxs("form",{onSubmit:S,className:"company-form",children:[d.jsxs("div",{className:"form-group logo-section",children:[d.jsx("label",{className:"form-label",children:"Logomarca"}),d.jsxs("div",{className:"logo-upload-area",children:[p.logoUrl&&d.jsx("div",{className:"logo-preview",children:d.jsx("img",{src:p.logoUrl,alt:"Logo da empresa"})}),d.jsxs("label",{className:"logo-upload-btn",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:w,disabled:i}),i?d.jsxs(d.Fragment,{children:[d.jsx(cy,{className:"upload-icon spinning",size:20}),d.jsx("span",{children:"Enviando..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(s5,{className:"upload-icon",size:20}),d.jsx("span",{children:p.logoUrl?"Alterar Logo":"Enviar Logo"})]})]}),d.jsx("p",{className:"logo-upload-hint",children:"Formatos aceitos: JPG, PNG, GIF (mx. 5MB)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"nome",className:"form-label",children:[d.jsx(Gy,{size:18}),"Nome da Empresa *"]}),d.jsx("input",{type:"text",id:"nome",name:"nome",value:p.nome,onChange:E,placeholder:"Digite o nome da empresa",className:"form-input",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"endereco",className:"form-label",children:[d.jsx(NA,{size:18}),"Endereo Completo"]}),d.jsx("textarea",{id:"endereco",name:"endereco",value:p.endereco,onChange:E,placeholder:"Rua, Nmero, Bairro, Cidade - Estado, CEP",className:"form-textarea",rows:3})]}),u&&d.jsx("div",{className:`form-message ${u.type}`,children:u.text}),d.jsx("button",{type:"submit",className:"form-submit-btn",disabled:t||i,children:t?d.jsxs(d.Fragment,{children:[d.jsx(cy,{className:"btn-icon spinning",size:20}),"Salvando..."]}):d.jsxs(d.Fragment,{children:[d.jsx($3,{className:"btn-icon",size:20}),"Salvar Informaes"]})})]})]})},F9=({onTabChange:t})=>{const[e,n]=Pu.useState(!1),{user:a}=kn(),[i,l]=j.useState(0),[u,m]=j.useState(0),[p,g]=j.useState(0),[v,E]=j.useState(!0);return j.useEffect(()=>{(async()=>{if(a)try{const[S,A,C]=await Promise.all([ma.getProdutos(a.uid),pa.getFaccoes(),ts.getStepsCount()]);l(S.length),m(A.length),g(C)}catch(S){console.error("Erro ao buscar dados:",S)}finally{E(!1)}})()},[a]),d.jsxs("div",{className:"cadastros-container",children:[d.jsxs("div",{className:"cadastros-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Informaes da Empresa"}),d.jsx("p",{className:"section-description",children:"Configure o nome, logomarca e endereo da sua empresa"})]}),e?d.jsxs("div",{style:{marginBottom:"2rem"},children:[d.jsx("button",{onClick:()=>n(!1),style:{marginBottom:"1rem",padding:"0.5rem 1rem",background:"#e5e7eb",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:" Voltar"}),d.jsx(q9,{})]}):d.jsx("div",{className:"cards-container",children:d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(Gy,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Dados da Empresa"}),d.jsx("p",{className:"card-description",children:"Configure nome, logo e endereo"})]}),d.jsx("button",{onClick:()=>n(!0),className:"card-button",children:"Configurar"})]})})]}),!e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"cadastros-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Cadastros"}),d.jsx("p",{className:"section-description",children:"Gerencie todas informaes bsicas do sistema"})]}),d.jsxs("div",{className:"cards-container",children:[d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(Io,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Faces / Terceirizados"}),d.jsx("p",{className:"card-description",children:"Gerencie seus parceiros de produo"}),d.jsxs("span",{className:"card-count",children:[v?"...":`${u} cadastrado${u===1?"":"s"}`," "]})]}),d.jsx("button",{onClick:()=>{t("faccoes")},className:"card-button",children:"Acessar"})]}),d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(kT,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Etapas de Produo"}),d.jsx("p",{className:"card-description",children:"Configure as etapas do processo produtivo"}),d.jsx("span",{className:"card-count",children:v?"...":`${p} etapa${p===1?"":"s"}`})]}),d.jsx("button",{onClick:()=>{t("etapas")},className:"card-button",children:"Acessar"})]}),d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(vi,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Produtos"}),d.jsx("p",{className:"card-description",children:"Catlogo de produtos e especificaes"}),d.jsx("span",{className:"card-count",children:v?"...":`${i} produto${i===1?"":"s"}`})]}),d.jsx("button",{onClick:()=>{t("produto")},className:"card-button",children:"Acessar"})]})]})]}),d.jsxs("div",{className:"acoes-rapidas-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Aes Rpidas"}),d.jsx("p",{className:"section-description",children:"Cadastre rapidamente novos itens no sistema"})]}),d.jsxs("div",{className:"botoes-container",children:[d.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("faccoes")},children:[d.jsx(Io,{size:20}),d.jsx("span",{children:" + Nova Faco"})]}),d.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("etapas")},children:[d.jsx(kT,{size:20}),d.jsx("span",{children:" + Nova Etapa"})]}),d.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("produto")},children:[d.jsx(vi,{size:20}),d.jsx("span",{children:" + Novo Produto"})]})]})]})]})]})},$9=({isOpen:t,onClose:e,onSave:n,faccaoToEdit:a})=>{const{user:i}=kn(),[l,u]=j.useState({nome:"",servicoPrestado:"",enderecoCompleto:"",telefone:"",email:"",ativo:!0}),[m,p]=j.useState(!1),[g,v]=j.useState(null),[E,w]=j.useState([]);j.useEffect(()=>{const A=async()=>{try{const C=await ts.getStepsByUser(i.uid);w(C)}catch(C){console.error("Erro ao buscar etapas:",C)}t&&A()};A()},[t,i]),j.useEffect(()=>{u(a?{nome:a.nome,servicoPrestado:a.servicoPrestado,enderecoCompleto:a.enderecoCompleto,telefone:a.telefone,email:a.email,ativo:a.ativo}:{nome:"",servicoPrestado:"",enderecoCompleto:"",telefone:"",email:"",ativo:!0}),v(null)},[a,t]);const S=async A=>{if(A.preventDefault(),v(null),!l.nome.trim()){v("Nome  obrigatrio");return}try{p(!0),await n(l),e()}catch(C){console.error("Erro ao salvar faco:",C),v("Erro ao salvar faco. Tente novamente.")}finally{p(!1)}};return t?d.jsx("div",{className:"faccao-modal-overlay",onClick:e,children:d.jsxs("div",{className:"faccao-modal",onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"faccao-modal-header",children:[d.jsxs("div",{className:"faccao-modal-title-section",children:[d.jsx("h2",{className:"faccao-modal-title",children:a?"Editar Faco":"Cadastrar Nova Faco"}),d.jsx("p",{className:"faccao-modal-subtitle",children:a?"Atualize as informaes do parceiro de produo":"Adicione um novo parceiro de produo ao sistema"})]}),d.jsx("button",{className:"faccao-modal-close",onClick:e,type:"button",children:d.jsx(Nr,{size:24})})]}),d.jsxs("form",{onSubmit:S,className:"faccao-modal-form",children:[d.jsxs("div",{className:"faccao-modal-row",children:[d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"nome",className:"faccao-modal-label",children:"Nome *"}),d.jsx("input",{type:"text",id:"nome",className:"faccao-modal-input",placeholder:"Nome da faco",value:l.nome,onChange:A=>u({...l,nome:A.target.value}),required:!0})]}),d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"servico",className:"faccao-modal-label",children:"Servio Prestado *"}),d.jsx("select",{id:"servico",className:"faccao-modal-select",value:l.servicoPrestado,onChange:A=>u({...l,servicoPrestado:A.target.value}),required:!0,children:E.length===0?d.jsx("option",{value:"",children:"Nenhuma etapa encontrada"}):E.map(A=>d.jsx("option",{value:A.name,children:A.name},A.id))})]})]}),d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"endereco",className:"faccao-modal-label",children:"Endereo Completo *"}),d.jsx("textarea",{id:"endereco",className:"faccao-modal-textarea",placeholder:"Rua, nmero, bairro, cidade, estado, CEP",value:l.enderecoCompleto,onChange:A=>u({...l,enderecoCompleto:A.target.value}),rows:3,required:!0})]}),d.jsxs("div",{className:"faccao-modal-row",children:[d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"telefone",className:"faccao-modal-label",children:"Telefone"}),d.jsx("input",{type:"tel",id:"telefone",className:"faccao-modal-input",placeholder:"(11) 99999-9999",value:l.telefone,onChange:A=>u({...l,telefone:l2(A.target.value)}),maxLength:15})]}),d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"email",className:"faccao-modal-label",children:"E-mail"}),d.jsx("input",{type:"email",id:"email",className:"faccao-modal-input",placeholder:"contato@faccao.com",value:l.email,onChange:A=>u({...l,email:A.target.value})})]})]}),g&&d.jsx("div",{className:"faccao-modal-error",children:g}),d.jsxs("div",{className:"faccao-modal-actions",children:[d.jsx("button",{type:"button",className:"faccao-btn-cancel",onClick:e,disabled:m,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"faccao-btn-save",disabled:m,children:m?"Salvando...":"Salvar Faco"})]})]})]})}):null},Ad=({isOpen:t,onClose:e,onConfirm:n,title:a,message:i,itemName:l,confirmText:u,cancelText:m,loading:p})=>{if(!t)return null;const g=async()=>{await n()};return d.jsx("div",{className:"delete-modal-overlay",onClick:e,children:d.jsxs("div",{className:"delete-modal",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"delete-modal-header",children:[d.jsx("div",{className:"delete-modal-icon-wrapper",children:d.jsx(IA,{size:24,className:"delete-modal-icon"})}),d.jsx("button",{className:"delete-modal-close",onClick:e,type:"button",disabled:p,children:d.jsx(Nr,{size:24})})]}),d.jsxs("div",{className:"delete-modal-content",children:[d.jsx("h2",{className:"delete-modal-title",children:a||"Confirmar Excluso"}),d.jsxs("p",{className:"delete-modal-message",children:[i,l&&d.jsxs("span",{className:"delete-modal-item-name",children:['"',l,'"']}),"?"]}),d.jsx("p",{className:"delete-modal-warning",children:"Esta ao no pode ser desfeita."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{type:"button",className:"delete-btn-cancel",onClick:e,disabled:p,children:m||"Cancelar"}),d.jsx("button",{className:"delete-btn-confirm",onClick:g,disabled:p,type:"button",children:p?"Excluindo...":u})]})]})})},H9=()=>{const[t,e]=j.useState([]),[n,a]=j.useState([]),[i,l]=j.useState(!0),[u,m]=j.useState(""),[p,g]=j.useState(!1),[v,E]=j.useState(null),[w,S]=j.useState(!1),[A,C]=j.useState(null),[O,z]=j.useState(!1),F=R=>{C(R),S(!0)},X=async()=>{if(A)try{z(!0),await pa.deleteFaccao(A),await re(),S(!1),C(null),Ke.success("Faco excluda com sucesso!",{icon:d.jsx(cn,{size:20})})}catch(R){console.error("Erro ao deletar faco:",R),Ke.error("Erro ao deletar faco. Tente novamente.")}finally{z(!1)}};j.useEffect(()=>{re()},[]),j.useEffect(()=>{if(u.trim()==="")a(t);else{const R=t.filter(M=>M.nome.toLowerCase().includes(u.toLowerCase())||M.servicoPrestado.toLowerCase().includes(u.toLowerCase()));a(R)}},[u,t]);const re=async()=>{try{l(!0);const R=await pa.getFaccoes();e(R),a(R)}catch(R){console.error("Erro ao carregar faces:",R)}finally{l(!1)}},q=async R=>{try{v?.id?(await pa.updateFaccao(v.id,R),Ke.success("Faco atualizada com sucesso!",{icon:d.jsx(cn,{size:20})})):(await pa.createFaccao(R),Ke.success("Faco criada com sucesso!",{icon:d.jsx(cn,{size:20})})),await re(),g(!1),E(null)}catch(M){console.error("Erro ao salvar faco:",M);const L=M instanceof Error?M.message:"Erro ao salvar faco. Tente novamente.";throw Ke.error(L),M}},Z=R=>{E(R),g(!0)},D=()=>{E(null),g(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"header-container",children:[d.jsx("h2",{className:"header-title-faccoes",children:"Faces / Terceirizados"}),d.jsx("p",{className:"header-subtitle-faccoes",children:"Gerencie seus parceiros de produo"})]}),d.jsxs("div",{className:"faccoes-container",children:[d.jsxs("div",{className:"faccoes-header",children:[d.jsxs("div",{className:"faccoes-title-section",children:[d.jsx("h1",{className:"faccoes-title",children:"Faces / Terceirizados"}),d.jsx("p",{className:"faccoes-subtitle",children:"Gerencie seus parceiros de produo"})]}),d.jsxs("button",{className:"faccoes-add-button",onClick:D,children:[d.jsx("span",{className:"faccoes-add-icon",children:"+"}),d.jsx("span",{className:"faccoes-add-text",children:"Nova Faco"})]})]}),d.jsx("div",{className:"faccoes-search-container",children:d.jsxs("div",{className:"faccoes-search-box",children:[d.jsx(Ro,{size:20,className:"faccoes-search-icon"}),d.jsx("input",{type:"text",className:"faccoes-search-input",placeholder:"Buscar por nome ou servio...",value:u,onChange:R=>m(R.target.value)})]})}),d.jsx("div",{className:"faccoes-content",children:i?d.jsx("div",{className:"faccoes-loading",children:d.jsx("p",{children:"Carregando faces..."})}):n.length===0?d.jsxs("div",{className:"faccoes-empty",children:[d.jsx(Io,{size:48}),d.jsx("p",{children:u?"Nenhuma faco encontrada com esse termo":"Nenhuma faco cadastrada"}),!u&&d.jsx("p",{className:"faccoes-empty-subtitle",children:'Clique em "Nova Faco" para adicionar um parceiro'})]}):d.jsx("div",{className:"faccoes-grid",children:n.map(R=>d.jsxs("div",{className:"faccao-card",children:[d.jsxs("div",{className:"faccao-card-header",children:[d.jsx("div",{className:"faccao-avatar",children:d.jsx(Io,{size:24})}),d.jsxs("div",{className:"faccao-header-info",children:[d.jsx("h3",{className:"faccao-name",children:R.nome}),R.ativo&&d.jsx("span",{className:"faccao-status",children:"Ativo"})]}),d.jsxs("div",{className:"faccao-actions",children:[d.jsx("button",{className:"faccao-action-btn faccao-edit-btn",onClick:()=>Z(R),title:"Editar",children:d.jsx(D3,{size:16})}),d.jsx("button",{className:"faccao-action-btn faccao-delete-btn",onClick:()=>R.id&&F(R.id),title:"Excluir",children:d.jsx(Mo,{size:16})})]})]}),d.jsxs("div",{className:"faccao-card-body",children:[d.jsxs("div",{className:"faccao-info-row",children:[d.jsx(NA,{size:16,className:"faccao-icon"}),d.jsx("span",{className:"faccao-info-text",children:R.enderecoCompleto})]}),d.jsxs("div",{className:"faccao-servicos",children:[d.jsx("span",{className:"faccao-servicos-label",children:"Servio:"}),d.jsx("span",{className:"faccao-servico-tag",children:R.servicoPrestado})]}),d.jsxs("div",{className:"faccao-contact",children:[R.telefone&&d.jsxs("div",{className:"faccao-contact-item",children:[d.jsx(P3,{size:14,className:"faccao-contact-icon"}),d.jsxs("span",{children:["Telefone: ",R.telefone]})]}),R.email&&d.jsxs("div",{className:"faccao-contact-item",children:[d.jsx(b3,{size:14,className:"faccao-contact-icon"}),d.jsxs("span",{children:["E-mail: ",R.email]})]})]})]})]},R.id))})}),d.jsx($9,{isOpen:p,onClose:()=>{g(!1),E(null)},onSave:q,faccaoToEdit:v}),d.jsx(Ad,{isOpen:w,onClose:()=>{S(!1),C(null)},onConfirm:X,itemName:t.find(R=>R.id===A)?.nome||"",loading:O,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta faco?",confirmText:"Excluir",cancelText:"Cancelar"})]})]})},G9=({isOpen:t,onClose:e,onSubmit:n,stepToEdit:a,isLoading:i=!1})=>{const[l,u]=j.useState({name:"",description:"",order:0});j.useEffect(()=>{u(a?{name:a.name,description:a.description,order:a.order}:{name:"",description:"",order:0})},[a,t]);const m=v=>{const{name:E,value:w}=v.target;u(S=>({...S,[E]:E==="order"?parseInt(w)||0:w}))},p=async v=>{if(v.preventDefault(),!l.name.trim()||!l.description.trim()){alert("Por favor, preencha todos os campos obrigatrios");return}try{await n(l),u({name:"",description:"",order:0}),e()}catch(E){console.error("Erro ao salvar etapa:",E)}},g=()=>{u({name:"",description:"",order:0}),e()};return t?d.jsx("div",{className:"step-modal-overlay",onClick:g,children:d.jsxs("div",{className:"step-modal",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"step-modal-header",children:[d.jsxs("div",{className:"step-modal-title-section",children:[d.jsx("h2",{className:"step-modal-title",children:a?"Editar Etapa":"Nova Etapa"}),d.jsx("p",{className:"step-modal-subtitle",children:a?"Atualize as informaes da etapa":"Configure uma etapa do processo produtivo"})]}),d.jsx("button",{className:"step-modal-close",onClick:g,children:d.jsx(Nr,{size:20})})]}),d.jsxs("form",{className:"step-modal-form",onSubmit:p,children:[d.jsxs("div",{className:"step-modal-field",children:[d.jsx("label",{className:"step-modal-label",htmlFor:"name",children:"Nome da Etapa"}),d.jsx("input",{id:"name",name:"name",type:"text",value:l.name,onChange:m,placeholder:"Ex: Corte, Costura, Silk...",className:"step-modal-input",required:!0})]}),d.jsxs("div",{className:"step-modal-field",children:[d.jsx("label",{className:"step-modal-label",htmlFor:"description",children:"Descrio"}),d.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:m,placeholder:"Descreva o que  feito nesta etapa",className:"step-modal-textarea",rows:4,required:!0})]}),d.jsxs("div",{className:"step-modal-field",children:[d.jsx("label",{className:"step-modal-label",htmlFor:"order",children:"Ordem de Execuo"}),d.jsx("input",{id:"order",name:"order",type:"number",min:"0",value:l.order,onChange:m,className:"step-modal-input",required:!0})]}),d.jsxs("div",{className:"step-modal-actions",children:[d.jsx(nc,{type:"button",variant:"outline",onClick:g,disabled:i,children:"Cancelar"}),d.jsx(nc,{type:"submit",variant:"primary",isLoading:i,disabled:!l.name.trim()||!l.description.trim(),children:a?"Salvar Alteraes":"Cadastrar"})]})]})]})}):null},K9=()=>{const{user:t}=kn(),[e,n]=j.useState([]),[a,i]=j.useState(!1),[l,u]=j.useState(null),[m,p]=j.useState(!1),[g,v]=j.useState(!0),[E,w]=j.useState(!1),[S,A]=j.useState(null),[C,O]=j.useState(!1),z=async()=>{if(t)try{v(!0);const D=await ts.getStepsByUser(t.uid);n(D)}catch(D){console.error("Erro ao carregar etapas:",D)}finally{v(!1)}};j.useEffect(()=>{z()},[t]);const F=async D=>{if(t)try{p(!0),l?(await ts.updateStep(l.id,D),Ke.success("Etapa atualizada com sucesso!",{icon:d.jsx(cn,{size:20})})):(await ts.createStep(t.uid,D),Ke.success("Etapa criada com sucesso!",{icon:d.jsx(cn,{size:20})})),await z(),u(null)}catch(R){console.error("Erro ao salvar etapa:",R);const M=R instanceof Error?R.message:"Erro ao salvar etapa. Tente novamente.";throw Ke.error(M),R}finally{p(!1)}},X=D=>{u(D),i(!0)},re=()=>{i(!1),u(null)},q=D=>{A(D),w(!0)},Z=async()=>{if(S)try{O(!0),await ts.deleteStep(S),await z(),w(!1),A(null),Ke.success("Etapa excluda com sucesso!",{icon:d.jsx(cn,{size:20})})}catch(D){console.error("Erro ao deletar etapa:",D),Ke.error("Erro ao deletar etapa. Tente novamente.")}finally{O(!1)}};return d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Etapas de Produo"}),d.jsx("p",{className:"tab-subtitle",children:"Configure as etapas do processo produtivo"})]}),d.jsx("div",{className:"tab-body",children:d.jsxs("div",{className:"etapas-container",children:[d.jsxs("div",{className:"etapas-header",children:[d.jsxs("div",{className:"etapas-title-section",children:[d.jsx("h3",{className:"etapas-title",children:"Etapas de Produo"}),d.jsx("p",{className:"etapas-subtitle",children:"Configure as etapas do processo produtivo"})]}),d.jsxs("button",{className:"etapas-add-button",onClick:()=>{u(null),i(!0)},children:[d.jsx(Ci,{className:"etapas-add-icon",size:16}),d.jsx("span",{className:"etapas-add-text",children:"Nova Etapa"})]})]}),d.jsx("div",{className:"etapas-content",children:g?d.jsx("div",{className:"etapas-loading",children:d.jsx("p",{children:"Carregando etapas..."})}):e.length===0?d.jsxs("div",{className:"etapas-empty",children:[d.jsx("p",{children:"Nenhuma etapa cadastrada"}),d.jsx("p",{className:"etapas-empty-subtitle",children:'Clique no boto "Nova Etapa" para adicionar uma etapa'})]}):d.jsx("div",{className:"etapas-table-container",children:d.jsxs("table",{className:"etapas-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ordem"}),d.jsx("th",{children:"Nome"}),d.jsx("th",{children:"Descrio"}),d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:e.map(D=>d.jsxs("tr",{children:[d.jsx("td",{className:"etapas-order",children:D.order}),d.jsx("td",{className:"etapas-name",children:D.name}),d.jsx("td",{className:"etapas-description",children:D.description}),d.jsxs("td",{className:"etapas-actions",children:[d.jsx("button",{className:"etapas-action etapas-edit",onClick:()=>X(D),title:"Editar etapa",children:d.jsx(RA,{size:14})}),d.jsx("button",{className:"etapas-action etapas-delete",onClick:()=>q(D.id),title:"Excluir etapa",children:d.jsx(Mo,{size:14})})]})]},D.id))})]})})})]})}),d.jsx(G9,{isOpen:a,onClose:re,onSubmit:F,stepToEdit:l,isLoading:m}),d.jsx(Ad,{isOpen:E,onClose:()=>{w(!1),A(null)},onConfirm:Z,itemName:e.find(D=>D.id===S)?.name||"",loading:C,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta etapa?",confirmText:"Excluir",cancelText:"Cancelar"})]})},Y9=({categorias:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=j.useState(!1),[u,m]=j.useState(null),[p,g]=j.useState({nome:"",descricao:""}),v=S=>{S.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",descricao:""}),l(!1),m(null))},E=S=>{g({nome:S.nome,descricao:S.descricao||""}),m(S.id),l(!0)},w=()=>{g({nome:"",descricao:""}),l(!1),m(null)};return d.jsxs("div",{className:"categoria-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Categorias de Produtos"}),d.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[d.jsx(Ci,{size:16}),"Adicionar Categoria"]})]}),i&&d.jsxs("form",{onSubmit:v,className:"form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nome",children:"Nome da Categoria"}),d.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:S=>g({...p,nome:S.target.value}),placeholder:"Ex: Blusa, Regata, Cala...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"descricao",children:"Descrio (Opcional)"}),d.jsx("textarea",{id:"descricao",value:p.descricao,onChange:S=>g({...p,descricao:S.target.value}),placeholder:"Descrio da categoria...",rows:3})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:w,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"categorias-list",children:t.map(S=>d.jsxs("div",{className:"categoria-item",children:[d.jsxs("div",{className:"categoria-info",children:[d.jsx("h4",{children:S.nome}),S.descricao&&d.jsx("p",{className:"descricao",children:S.descricao})]}),d.jsxs("div",{className:"categoria-actions",children:[d.jsx("button",{onClick:()=>E(S),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>a(S.id),className:"delete-button",children:d.jsx(Nr,{size:16})})]})]},S.id))})]})},Q9=({cores:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=j.useState(!1),[u,m]=j.useState(null),[p,g]=j.useState({nome:"",codigo:"#000000"}),v=S=>{S.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",codigo:"#000000"}),l(!1),m(null))},E=S=>{g({nome:S.nome,codigo:S.codigo}),m(S.id),l(!0)},w=()=>{g({nome:"",codigo:"#000000"}),l(!1),m(null)};return d.jsxs("div",{className:"cor-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Cores de Produtos"}),d.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[d.jsx(Ci,{size:16}),"Adicionar Cor"]})]}),i&&d.jsxs("form",{onSubmit:v,className:"form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nome",children:"Nome da Cor"}),d.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:S=>g({...p,nome:S.target.value}),placeholder:"Ex: Preto, Marinho, Branco...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"codigo",children:"Cdigo da Cor"}),d.jsxs("div",{className:"color-input-group",children:[d.jsx("input",{type:"color",id:"codigo",value:p.codigo,onChange:S=>g({...p,codigo:S.target.value}),className:"color-picker"}),d.jsx("input",{type:"text",value:p.codigo,onChange:S=>g({...p,codigo:S.target.value}),placeholder:"#000000",className:"color-code"})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:w,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"cores-list",children:t.map(S=>d.jsxs("div",{className:"cor-item",children:[d.jsxs("div",{className:"cor-info",children:[d.jsx("div",{className:"cor-preview",style:{backgroundColor:S.codigo}}),d.jsxs("div",{className:"cor-details",children:[d.jsx("h4",{children:S.nome}),d.jsx("p",{className:"codigo",children:S.codigo})]})]}),d.jsxs("div",{className:"cor-actions",children:[d.jsx("button",{onClick:()=>E(S),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>a(S.id),className:"delete-button",children:d.jsx(Nr,{size:16})})]})]},S.id))})]})},X9=({tamanhos:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=j.useState(!1),[u,m]=j.useState(null),[p,g]=j.useState({nome:"",ordem:1}),v=A=>{A.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",ordem:1}),l(!1),m(null))},E=A=>{g({nome:A.nome,ordem:A.ordem}),m(A.id),l(!0)},w=()=>{g({nome:"",ordem:1}),l(!1),m(null)},S=[...t].sort((A,C)=>A.ordem-C.ordem);return d.jsxs("div",{className:"tamanho-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Tamanhos de Produtos"}),d.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[d.jsx(Ci,{size:16}),"Adicionar Tamanho"]})]}),i&&d.jsxs("form",{onSubmit:v,className:"form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nome",children:"Nome do Tamanho"}),d.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:A=>g({...p,nome:A.target.value}),placeholder:"Ex: P, M, G, GG, XG...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"ordem",children:"Ordem de Exibio"}),d.jsx("input",{type:"number",id:"ordem",value:p.ordem,onChange:A=>g({...p,ordem:parseInt(A.target.value)||1}),min:"1",placeholder:"1"}),d.jsx("small",{children:"Menor nmero aparece primeiro"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:w,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"tamanhos-list",children:S.map(A=>d.jsxs("div",{className:"tamanho-item",children:[d.jsxs("div",{className:"tamanho-info",children:[d.jsx("div",{className:"tamanho-ordem",children:A.ordem}),d.jsx("h4",{children:A.nome})]}),d.jsxs("div",{className:"tamanho-actions",children:[d.jsx("button",{onClick:()=>E(A),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>a(A.id),className:"delete-button",children:d.jsx(Nr,{size:16})})]})]},A.id))})]})},W9=({produtos:t,categorias:e,cores:n,tamanhos:a,onAdd:i,onEdit:l,onDelete:u})=>{const[m,p]=j.useState(!1),[g,v]=j.useState(null),[E,w]=j.useState(!1),[S,A]=j.useState([]),[C,O]=j.useState({refCodigo:"",descricao:"",categoriaId:"",coresIds:[],tamanhosIds:[],etapasProducao:[]}),{user:z}=kn();j.useEffect(()=>{(async()=>{if(z)try{const b=await ts.getStepsByUser(z.uid);A(b)}catch(b){console.error("Erro ao carregar etapas:",b)}})()},[z]);const F=k=>{k.preventDefault(),!(!C.refCodigo.trim()||!C.descricao.trim()||!C.categoriaId)&&(g?l(g,C):i(C),X())},X=()=>{O({refCodigo:"",descricao:"",categoriaId:"",coresIds:[],tamanhosIds:[],etapasProducao:[]}),p(!1),v(null),w(!1)},re=k=>{O({refCodigo:k.refCodigo,descricao:k.descricao,categoriaId:k.categoria.id,coresIds:k.cores.map(b=>b.id),tamanhosIds:k.tamanhos.map(b=>b.id),etapasProducao:k.etapasProducao?.map(b=>({etapaId:b.etapa.id,custo:b.custo,ordem:b.ordem}))||[]}),v(k.id),p(!0)},q=k=>{O({...C,categoriaId:k})},Z=k=>{const b=C.coresIds.includes(k)?C.coresIds.filter(N=>N!==k):[...C.coresIds,k];O({...C,coresIds:b})},D=k=>{const b=C.tamanhosIds.includes(k)?C.tamanhosIds.filter(N=>N!==k):[...C.tamanhosIds,k];O({...C,tamanhosIds:b})},R=k=>{const b=C.etapasProducao||[];if(b.some(te=>te.etapaId===k))O({...C,etapasProducao:b.filter(te=>te.etapaId!==k)});else{const te=S.find(fe=>fe.id===k);te&&O({...C,etapasProducao:[...b,{etapaId:te.id,custo:0,ordem:te.order}]})}},M=(k,b)=>{const N=C.etapasProducao||[];O({...C,etapasProducao:N.map(te=>te.etapaId===k?{...te,custo:Math.max(0,b)}:te)})},L=e.find(k=>k.id===C.categoriaId);return d.jsxs("div",{className:"produto-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Produtos"}),d.jsxs("button",{type:"button",onClick:()=>p(!0),className:"add-button",children:[d.jsx(Ci,{size:16}),"Adicionar Produto"]})]}),m&&d.jsxs("form",{onSubmit:F,className:"form",children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"refCodigo",children:"REF/CD"}),d.jsx("input",{type:"text",id:"refCodigo",value:C.refCodigo,onChange:k=>O({...C,refCodigo:k.target.value}),placeholder:"Ex: BLU-001, REG-002...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"descricao",children:"Descrio"}),d.jsx("input",{type:"text",id:"descricao",value:C.descricao,onChange:k=>O({...C,descricao:k.target.value}),placeholder:"Descrio do produto...",required:!0})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Categoria"}),d.jsxs("div",{className:"dropdown",children:[d.jsxs("button",{type:"button",className:"dropdown-button",onClick:()=>w(!E),children:[L?L.nome:"Selecione uma categoria",d.jsx(Wf,{size:16})]}),E&&d.jsx("div",{className:"dropdown-menu",children:e.map(k=>d.jsx("button",{type:"button",onClick:()=>{q(k.id),w(!1)},className:"dropdown-item",children:k.nome},k.id))})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Cores"}),d.jsx("div",{className:"checkbox-grid",children:n.map(k=>d.jsxs("label",{className:"checkbox-item",children:[d.jsx("input",{type:"checkbox",checked:C.coresIds.includes(k.id),onChange:()=>Z(k.id)}),d.jsx("div",{className:"color-preview",style:{backgroundColor:k.codigo}}),d.jsx("span",{children:k.nome})]},k.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tamanhos"}),d.jsx("div",{className:"checkbox-grid",children:a.sort((k,b)=>k.ordem-b.ordem).map(k=>d.jsxs("label",{className:"checkbox-item",children:[d.jsx("input",{type:"checkbox",checked:C.tamanhosIds.includes(k.id),onChange:()=>D(k.id)}),d.jsx("span",{children:k.nome})]},k.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Etapas de Produo e Custos"}),d.jsx("div",{className:"etapas-container-simple",children:S.length>0?d.jsx("div",{className:"etapas-grid",children:S.map(k=>{const b=C.etapasProducao?.find(te=>te.etapaId===k.id),N=!!b;return d.jsxs("div",{className:`etapa-card ${N?"active":""}`,children:[d.jsx("div",{className:"etapa-card-header",children:d.jsxs("label",{className:"etapa-card-checkbox",children:[d.jsx("input",{type:"checkbox",checked:N,onChange:()=>R(k.id)}),d.jsxs("div",{className:"etapa-card-info",children:[d.jsx("span",{className:"etapa-card-nome",children:k.name}),k.description&&d.jsx("span",{className:"etapa-card-desc",children:k.description})]})]})}),N&&d.jsxs("div",{className:"etapa-card-custo",children:[d.jsx("label",{children:"Custo"}),d.jsxs("div",{className:"currency-input",children:[d.jsx("span",{className:"currency-symbol",children:"R$"}),d.jsx("input",{type:"text",value:b?.custo?b.custo.toFixed(2).replace(".",","):"0,00",onChange:te=>{const fe=te.target.value.replace(/\D/g,"").padStart(3,"0"),$=R9(fe);M(k.id,$)},placeholder:"0,00",maxLength:15})]})]})]},k.id)})}):d.jsxs("div",{className:"etapas-empty",children:[d.jsx("p",{children:"Nenhuma etapa cadastrada ainda."}),d.jsx("span",{children:'Cadastre etapas na aba "Etapas" primeiro.'})]})})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:g?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:X,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"produtos-list",children:t.map(k=>d.jsxs("div",{className:"produto-item",children:[d.jsxs("div",{className:"produto-info",children:[d.jsxs("div",{className:"produto-header",children:[d.jsx("h4",{children:k.refCodigo}),d.jsx("span",{className:"categoria",children:k.categoria.nome})]}),d.jsx("p",{className:"descricao",children:k.descricao}),d.jsxs("div",{className:"produto-details",children:[d.jsxs("div",{className:"cores",children:[d.jsx("strong",{children:"Cores:"})," ",k.cores.map(b=>b.nome).join(", ")]}),d.jsxs("div",{className:"tamanhos",children:[d.jsx("strong",{children:"Tamanhos:"})," ",k.tamanhos.map(b=>b.nome).join(", ")]})]})]}),d.jsxs("div",{className:"produto-actions",children:[d.jsx("button",{onClick:()=>re(k),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>u(k.id),className:"delete-button",children:d.jsx(Nr,{size:16})})]})]},k.id))})]})},Z9=()=>{const{user:t}=kn(),[e,n]=j.useState("produtos"),[a,i]=j.useState(!0),[l,u]=j.useState([]),[m,p]=j.useState([]),[g,v]=j.useState([]),[E,w]=j.useState([]),[S,A]=j.useState(!1),[C,O]=j.useState(null),[z,F]=j.useState(null),[X,re]=j.useState(!1),q=(V,J)=>{O(V),F(J),A(!0)},Z=async()=>{if(!(!C||!z))try{switch(re(!0),z){case"produto":await ma.deleteProduto(C),Ke.success("Produto excludo com sucesso!",{icon:d.jsx(cn,{size:20})});break;case"categoria":await of.deleteCategoria(C),Ke.success("Categoria excluda com sucesso!",{icon:d.jsx(cn,{size:20})});break;case"cor":await Ou.deleteCor(C),Ke.success("Cor excluda com sucesso!",{icon:d.jsx(cn,{size:20})});break;case"tamanho":await Ml.deleteTamanho(C),Ke.success("Tamanho excludo com sucesso!",{icon:d.jsx(cn,{size:20})});break}await M(),A(!1),O(null),F(null)}catch(V){console.error(`Erro ao deletar ${z}:`,V);const J=V instanceof Error?V.message:`Erro ao excluir ${z}. Tente novamente.`;Ke.error(J)}finally{re(!1)}},D=()=>{if(!(!C||!z))switch(z){case"produto":return E.find(V=>V.id===C)?.descricao||void 0;case"categoria":return l.find(V=>V.id===C)?.nome||void 0;case"cor":return m.find(V=>V.id===C)?.nome||void 0;case"tamanho":return g.find(V=>V.id===C)?.nome||void 0}},R=()=>{switch(z){case"produto":return"Tem certeza que deseja excluir este produto?";case"categoria":return"Tem certeza que deseja excluir esta categoria?";case"cor":return"Tem certeza que deseja excluir esta cor?";case"tamanho":return"Tem certeza que deseja excluir este tamanho?";default:return"Tem certeza que deseja excluir este item?"}};j.useEffect(()=>{t&&M()},[t]);const M=async()=>{if(t)try{i(!0);const[V,J,me,pe,be]=await Promise.all([of.getCategorias(t.uid),Ou.getCores(t.uid),Ml.getTamanhos(t.uid),ts.getStepsByUser(t.uid),ma.getProdutos(t.uid)]);u(V),p(J),v(me);const le=be.map(ie=>{const _e=V.find(xe=>xe.id===ie.categoriaId),Ae=J.filter(xe=>ie.coresIds?.includes(xe.id)),Ue=me.filter(xe=>ie.tamanhosIds?.includes(xe.id)),rn=(ie.etapasProducaoIds||[]).map(xe=>{const ze=pe.find(Je=>Je.id===xe.etapaId);return ze?{etapa:{id:ze.id,nome:ze.name,descricao:ze.description||void 0,custo:xe.custo,ativo:!0,createdAt:ze.createdAt},custo:xe.custo,ordem:xe.ordem}:null}).filter(xe=>xe!==null);return{...ie,categoria:_e||ie.categoria,cores:Ae.length>0?Ae:ie.cores||[],tamanhos:Ue.length>0?Ue:ie.tamanhos||[],etapasProducao:rn}});w(le)}catch(V){console.error("Erro ao carregar dados:",V)}finally{i(!1)}},L=async V=>{if(t)try{await of.createCategoria(t.uid,V),await M()}catch(J){console.error("Erro ao adicionar categoria:",J),alert("Erro ao adicionar categoria")}},k=async(V,J)=>{try{await of.updateCategoria(V,J),await M()}catch(me){console.error("Erro ao editar categoria:",me),alert("Erro ao editar categoria")}},b=async V=>{if(t)try{await Ou.createCor(t.uid,V),await M()}catch(J){console.error("Erro ao adicionar cor:",J),alert("Erro ao adicionar cor")}},N=async(V,J)=>{try{await Ou.updateCor(V,J),await M()}catch(me){console.error("Erro ao editar cor:",me),alert("Erro ao editar cor")}},te=async V=>{if(t)try{await Ml.createTamanho(t.uid,V),await M()}catch(J){console.error("Erro ao adicionar tamanho:",J),alert("Erro ao adicionar tamanho")}},fe=async(V,J)=>{try{await Ml.updateTamanho(V,J),await M()}catch(me){console.error("Erro ao editar tamanho:",me),alert("Erro ao editar tamanho")}},$=async V=>{if(t)try{await ma.createProduto(t.uid,V),await M(),Ke.success("Produto criado com sucesso!",{icon:d.jsx(cn,{size:20})})}catch(J){console.error("Erro ao adicionar produto:",J);const me=J instanceof Error?J.message:"Erro ao criar produto. Tente novamente.";Ke.error(me)}},G=async(V,J)=>{try{await ma.updateProduto(V,J),await M()}catch(me){console.error("Erro ao editar produto:",me),alert("Erro ao editar produto")}},se=[{key:"produtos",label:"Produtos",icon:vi},{key:"categorias",label:"Categorias",icon:Z3},{key:"cores",label:"Cores",icon:C3},{key:"tamanhos",label:"Tamanhos",icon:q3}],ye=()=>{switch(e){case"produtos":return d.jsx(W9,{produtos:E,categorias:l,cores:m,tamanhos:g,onAdd:$,onEdit:G,onDelete:V=>q(V,"produto")});case"categorias":return d.jsx(Y9,{categorias:l,onAdd:L,onEdit:k,onDelete:V=>q(V,"categoria")});case"cores":return d.jsx(Q9,{cores:m,onAdd:b,onEdit:N,onDelete:V=>q(V,"cor")});case"tamanhos":return d.jsx(X9,{tamanhos:g,onAdd:te,onEdit:fe,onDelete:V=>q(V,"tamanho")});default:return null}};return d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Produtos"}),d.jsx("p",{className:"tab-subtitle",children:"Gerencie produtos, categorias, cores e tamanhos"})]}),a?d.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:d.jsx("p",{children:"Carregando dados..."})}):d.jsxs("div",{className:"product-tabs",children:[d.jsx("div",{className:"product-tab-nav",children:se.map(V=>d.jsxs("button",{onClick:()=>n(V.key),className:`product-tab-button ${e===V.key?"active":""}`,children:[d.jsx(V.icon,{size:16}),V.label]},V.key))}),d.jsx("div",{className:"product-tab-content",children:ye()})]}),d.jsx(Ad,{isOpen:S,onClose:()=>{A(!1),O(null),F(null)},onConfirm:Z,itemName:D()||"",message:R(),loading:X,title:"Confirmar Excluso",confirmText:"Excluir",cancelText:"Cancelar"})]})},J9="modulepreload",eU=function(t){return"/"+t},uw={},tU=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let g=function(v){return Promise.all(v.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");i=g(n.map(v=>{if(v=eU(v),v in uw)return;uw[v]=!0;const E=v.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":J9,E||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),E)return new Promise((A,C)=>{S.addEventListener("load",A),S.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return i.then(m=>{for(const p of m||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},nU=[{label:"Alta",value:"alta"},{label:"Mdia",value:"media"},{label:"Baixa",value:"baixa"}],rU=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:a,orderToEdit:i})=>{const{user:l}=kn(),[u,m]=j.useState([]),[p,g]=j.useState([]),[v,E]=j.useState([]),[w,S]=j.useState(""),[A,C]=j.useState({produtoId:"",prioridade:"",dataInicio:"",dataPrevista:"",responsavelId:""}),[O,z]=j.useState([]),[F,X]=j.useState(""),[re,q]=j.useState(!1),Z=j.useRef(null);j.useEffect(()=>{!l||!t||(async()=>{const[G,se,ye,V]=await Promise.all([ma.getProdutos(l.uid),Ou.getCores(l.uid),Ml.getTamanhos(l.uid),pa.getFaccoes()]);g(se),E(V.filter(me=>me.ativo)),S(se[0]?.id||"");const J=G.map(me=>{const pe=ye.filter(be=>me.tamanhosIds?.includes(be.id||""));return{...me,tamanhos:pe.length>0?pe:[]}});m(J)})()},[l,t]),j.useEffect(()=>{t||(C({produtoId:"",prioridade:"",dataInicio:"",dataPrevista:"",responsavelId:""}),z([]),X(""),q(!1))},[t]),j.useEffect(()=>{if(t&&i){C({produtoId:i.produtoId,prioridade:i.prioridade,dataInicio:i.dataInicio,dataPrevista:i.dataPrevista,responsavelId:i.responsavelId||""});const G=u.find(ye=>ye.id===i.produtoId);G&&X(G.refCodigo);const se=i.grade.map(ye=>{if(ye.quantidades)return{corId:ye.corId,quantidades:ye.quantidades};{const V=u.find(J=>J.id===i.produtoId);if(V&&V.tamanhos){const J={},me=[...V.tamanhos].sort((be,le)=>be.ordem-le.ordem),pe=["pp","p","m","g","gg"];return me.forEach((be,le)=>{if(le<pe.length){const ie=pe[le],_e=ye;J[be.id]=_e[ie]||0}}),{corId:ye.corId,quantidades:J}}return{corId:ye.corId,quantidades:{}}}});z(se)}},[t,i,u]);const D=j.useMemo(()=>u.find(G=>G.id===A.produtoId),[u,A.produtoId]),R=j.useMemo(()=>!D||!D.tamanhosIds?[]:[...D.tamanhos].sort((G,se)=>G.ordem-se.ordem),[D]),M=j.useMemo(()=>{if(!F.trim())return u;const G=F.toLowerCase();return u.filter(se=>se.refCodigo.toLowerCase().includes(G)||se.descricao.toLowerCase().includes(G))},[u,F]),L=j.useMemo(()=>`1.5 fr repeat(${R.length}, 0.8fr) 1fr 0.4fr`,[R]);j.useEffect(()=>{const G=se=>{Z.current&&!Z.current.contains(se.target)&&q(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),j.useEffect(()=>{X(D?D.refCodigo:"")},[D]);const k=()=>{if(!w||O.some(se=>se.corId===w))return;const G={};R.forEach(se=>{G[se.id]=0}),z(se=>[...se,{corId:w,quantidades:G}])},b=G=>{z(se=>se.filter(ye=>ye.corId!==G))},N=(G,se,ye)=>{z(V=>V.map(J=>J.corId===G?{...J,quantidades:{...J.quantidades,[se]:Number.isNaN(ye)?0:Math.max(0,Math.floor(ye))}}:J))},te=G=>Object.values(G.quantidades).reduce((se,ye)=>se+ye,0),fe=O.reduce((G,se)=>G+te(se),0),$=async G=>{if(G.preventDefault(),!D||!A.prioridade||!A.dataInicio||!A.dataPrevista||O.length===0)return;const se={produtoId:D.id,prioridade:A.prioridade,dataInicio:A.dataInicio,dataPrevista:A.dataPrevista,responsavelId:A.responsavelId||void 0,grade:O.map(ye=>{const V=p.find(J=>J.id===ye.corId);return{corId:ye.corId,corNome:V?.nome??"Cor removida",quantidades:ye.quantidades}})};await n(se)};return t?d.jsx("div",{className:"order-modal-overlay",children:d.jsxs("div",{className:"order-modal",children:[d.jsxs("header",{className:"order-modal__header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:i?"Editar Ordem de Produo":"Nova Ordem de Produo"}),d.jsx("p",{children:i?"Edite os dados da ordem de produo.":"Crie uma nova ordem com todas as especificaes."})]}),d.jsx("button",{className:"order-modal__close",onClick:e,children:d.jsx(Nr,{size:18})})]}),d.jsxs("form",{className:"order-modal__form",onSubmit:$,children:[d.jsxs("div",{className:"order-modal__grid",children:[d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Produto*"}),d.jsxs("div",{ref:Z,className:"order-modal__product-search",children:[d.jsxs("div",{className:"order-modal__product-input-wrapper",children:[d.jsx(Ro,{size:18,className:"order-modal__search-icon"}),d.jsx("input",{type:"text",value:F,onChange:G=>{X(G.target.value),q(!0),G.target.value||C(se=>({...se,produtoId:""}))},onFocus:()=>q(!0),placeholder:"Pesquisar por REF..."})]}),re&&F.trim()&&!D&&d.jsx("div",{className:"order-modal__product-dropdown",children:M.length>0?M.map(G=>d.jsxs("button",{type:"button",className:"order-modal__product-option",onClick:()=>{C(se=>({...se,produtoId:G.id})),X(G.refCodigo),q(!1)},children:[d.jsx("div",{className:"order-modal__product-option-ref",children:G.refCodigo}),d.jsx("div",{className:"order-modal__product-option-desc",children:G.descricao})]},G.id)):d.jsx("div",{className:"order-modal__product-empty",children:"Nenhum produto encontrado"})}),D&&d.jsxs("div",{className:"order-modal__product-selected",children:[d.jsx("span",{className:"order-modal__product-selected-label",children:"Descrio:"}),d.jsx("span",{className:"order-modal__product-selected-value",children:D.descricao})]})]})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Prioridade*"}),d.jsxs("select",{value:A.prioridade,onChange:G=>C(se=>({...se,prioridade:G.target.value})),required:!0,children:[d.jsx("option",{value:"",children:"Selecione uma prioridade"}),nU.map(G=>d.jsx("option",{value:G.value,children:G.label},G.value))]})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Responsvel (Faco)"}),d.jsxs("select",{value:A.responsavelId,onChange:G=>C(se=>({...se,responsavelId:G.target.value})),children:[d.jsx("option",{value:"",children:"Nenhum responsvel"}),v.map(G=>d.jsx("option",{value:G.id,children:G.nome},G.id))]})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Data de Incio"}),d.jsx("input",{type:"date",value:A.dataInicio,onChange:G=>C(se=>({...se,dataInicio:G.target.value}))})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Data Prevista"}),d.jsx("input",{type:"date",value:A.dataPrevista,onChange:G=>C(se=>({...se,dataPrevista:G.target.value}))})]})]}),d.jsxs("section",{className:"order-modal__grade",children:[d.jsxs("div",{className:"order-modal__grade-header",children:[d.jsx("h3",{children:"Grade de Produo"}),d.jsxs("div",{className:"order-modal__grade-actions",children:[d.jsx("select",{value:w,onChange:G=>S(G.target.value),children:p.map(G=>d.jsx("option",{value:G.id,children:G.nome},G.id))}),d.jsx("button",{type:"button",className:"order-modal__grade-add",onClick:k,disabled:!w,children:d.jsx(Ci,{size:18})})]})]}),d.jsxs("div",{className:"order-modal__grade-table",children:[d.jsxs("div",{className:"order-modal__grade-header-row",style:{gridTemplateColumns:L},children:[d.jsx("span",{children:"Cor"}),R.map(G=>d.jsx("span",{children:G.nome},G.id)),d.jsx("span",{children:"Total"}),d.jsx("span",{})]}),O.map(G=>{const se=p.find(ye=>ye.id===G.corId);return d.jsxs("div",{className:"order-modal__grade-row",style:{gridTemplateColumns:L},children:[d.jsx("span",{children:se?.nome??"Cor removida"}),R.map(ye=>d.jsx("input",{type:"number",min:0,value:G.quantidades[ye.id]||0,onChange:V=>N(G.corId,ye.id,Number(V.target.value))},ye.id)),d.jsx("span",{className:"order-modal__grade-total",children:te(G)}),d.jsx("button",{type:"button",className:"order-modal__grade-remove",onClick:()=>b(G.corId),children:d.jsx(Mo,{size:18})})]},G.corId)}),O.length===0&&d.jsx("div",{className:"order-modal__grade-empty",children:"Nenhuma cor adicionado ainda"})]}),d.jsxs("footer",{className:"order-modal__grade-footer",children:[d.jsx("span",{children:"Total de peas:"}),d.jsx("strong",{children:fe})]})]}),d.jsxs("footer",{className:"order-modal__footer",children:[d.jsx("button",{type:"button",disabled:a,className:"order-modal__btn outline",onClick:e,children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:a,className:"order-modal__btn primary",children:a?i?"Atualizando...":"Criando...":i?"Atualizar Ordem":"Criar Ordem"})]})]})]})}):null},dw={alta:{label:"Alta",className:"badge priority-high"},media:{label:"Mdia",className:"badge priority-medium"},baixa:{label:"Baixa",className:"badge priority-low"}},hw={planejada:{label:"Planejada",className:"badge status-gray"},em_producao:{label:"Em Produo",className:"badge status-warning"},concluida:{label:"Concluda",className:"badge status-success"}},aU=()=>{const{user:t}=kn(),[e,n]=j.useState([]),[a,i]=j.useState([]),[l,u]=j.useState([]),[m,p]=j.useState(""),[g,v]=j.useState(!1),[E,w]=j.useState(!1),[S,A]=j.useState(null),[C,O]=j.useState(!1),[z,F]=j.useState(null),[X,re]=j.useState(!1),q=N=>{F(N),O(!0)},Z=async()=>{if(z)try{try{const N=await nr.getProgressByOrderId(z);N&&await nr.deleteProgress(N.id)}catch(N){console.error("Erro ao deletar progresso:",N)}try{await ui.deleteLancamentosByOrdem(z)}catch(N){console.error("Erro ao deletar lanamentos financeiros:",N)}await es.deleteOrder(z),await D(),O(!1),F(null),Ke.success("Ordem de produo excluda com sucesso!",{icon:d.jsx(cn,{size:20})})}catch(N){console.error("Erro ao deletar ordem de produo:",N),Ke.error("Erro ao deletar ordem de produo. Tente novamente.")}finally{re(!1)}},D=async()=>{if(!t)return;const[N,te,fe]=await Promise.all([es.getOrders(t.uid),ma.getProdutos(t.uid),Ml.getTamanhos(t.uid)]),$=te.map(G=>{const se=fe.filter(ye=>G.tamanhosIds?.includes(ye.id));return{...G,tamanhos:se.length>0?se:G.tamanhos||[]}});n(N),i($),u(fe)};j.useEffect(()=>{D()},[t]);const R=j.useMemo(()=>{const N=m.trim().toLowerCase();return N?e.filter(te=>{const fe=a.find($=>$.id===te.produtoId);return te.codigo.toLowerCase().includes(N)||fe?.descricao.toLowerCase().includes(N)||fe?.refCodigo.toLowerCase().includes(N)}):e},[e,a,m]),M=N=>N.grade.reduce((te,fe)=>te+fe.total,0),L=async N=>{if(!t)return;const te=a.find(fe=>fe.id===N.produtoId);if(!te){Ke.error("Produto no encontrado");return}try{w(!0);let fe;if(N.responsavelId){const{faccaoService:$}=await tU(async()=>{const{faccaoService:ye}=await Promise.resolve().then(()=>O9);return{faccaoService:ye}},[]);fe=(await $.getFaccoes()).find(ye=>ye.id===N.responsavelId)?.nome}S?(await es.updateOrder(S.id,N,{descricao:te.descricao,refCodigo:te.refCodigo},fe),Ke.success("Ordem de produo atualizada com sucesso!",{icon:d.jsx(cn,{size:20})})):(await es.createOrder(t.uid,N,{descricao:te.descricao,refCodigo:te.refCodigo},fe),Ke.success("Ordem de produo criada com sucesso!",{icon:d.jsx(cn,{size:20})})),await D(),v(!1),A(null)}catch(fe){console.error("Erro ao criar ordem de produo:",fe);const $=fe instanceof Error?fe.message:"Erro ao criar ordem de produo. Tente novamente.";Ke.error($)}finally{w(!1)}},k=N=>{A(N),v(!0)},b=()=>{A(null),v(!0)};return d.jsxs("div",{className:"ordens-container",children:[d.jsxs("header",{className:"ordens-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Ordens de Produo"}),d.jsx("p",{children:"Programe e gerencie suas ordens de produo"})]}),d.jsxs("button",{className:"ordens-new-btn",onClick:b,children:[d.jsx(Ci,{size:20}),"Nova Ordem"]})]}),d.jsxs("div",{className:"ordens-search",children:[d.jsx(Ro,{size:18}),d.jsx("input",{type:"text",placeholder:"Buscar por nmero da OP, produto ou referncia...",value:m,onChange:N=>p(N.target.value)})]}),d.jsxs("section",{className:"ordens-list",children:[R.map(N=>{const te=a.find($=>$.id===N.produtoId);let fe=te?.tamanhos?[...te.tamanhos].sort(($,G)=>$.ordem-G.ordem):[];if(fe.length===0&&N.grade.length>0){const $=N.grade[0];if($.quantidades){const G=Object.keys($.quantidades);fe=l.filter(se=>G.includes(se.id)).sort((se,ye)=>se.ordem-ye.ordem)}}return d.jsxs("article",{className:"ordem-card",children:[d.jsxs("div",{className:"ordem-card__header",children:[d.jsxs("div",{className:"ordem-card__header-left",children:[d.jsx("div",{className:"ordem-card__icon",children:d.jsx(h0,{size:24})}),d.jsxs("div",{className:"ordem-card__info-main",children:[d.jsx("div",{className:"ordem-card__code",children:N.codigo}),d.jsx("h3",{className:"ordem-card__title",children:te?.descricao??"Produto removido"}),d.jsxs("div",{className:"ordem-card__meta",children:[d.jsxs("div",{className:"ordem-card__meta-item",children:[d.jsx("span",{children:"REF:"}),d.jsx("strong",{children:te?.refCodigo??"--"})]}),d.jsx("span",{className:"badge badge-neutral",children:te?.categoria?.nome??"Categoria"})]})]})]}),d.jsxs("div",{className:"ordem-card__header-right",children:[d.jsxs("div",{className:"ordem-card__status",children:[d.jsx("span",{className:dw[N.prioridade].className,children:dw[N.prioridade].label}),d.jsx("span",{className:hw[N.status].className,children:hw[N.status].label})]}),d.jsxs("div",{className:"ordem-card__actions",children:[d.jsx("button",{className:"icon-button",children:d.jsx(z3,{size:16})}),d.jsx("button",{className:"icon-button",onClick:()=>k(N),children:d.jsx(k3,{size:16})}),d.jsx("button",{className:"icon-button icon-button-danger",onClick:()=>q(N.id),title:"Excluir ordem",children:d.jsx(Mo,{size:16})})]})]})]}),d.jsxs("div",{className:"ordem-card__body",children:[d.jsxs("div",{className:"ordem-card__dates",children:[d.jsxs("div",{className:"ordem-card__date-item",children:[d.jsx("div",{className:"ordem-card__date-icon",children:d.jsx(No,{size:18})}),d.jsxs("div",{className:"ordem-card__date-content",children:[d.jsx("span",{className:"ordem-card__date-label",children:"Incio"}),d.jsx("span",{className:"ordem-card__date-value",children:N.dataInicio||"--"})]})]}),d.jsxs("div",{className:"ordem-card__date-item",children:[d.jsx("div",{className:"ordem-card__date-icon",children:d.jsx(xA,{size:18})}),d.jsxs("div",{className:"ordem-card__date-content",children:[d.jsx("span",{className:"ordem-card__date-label",children:"Previso"}),d.jsx("span",{className:"ordem-card__date-value",children:N.dataPrevista||"--"})]})]}),d.jsxs("div",{className:"ordem-card__date-item",children:[d.jsx("div",{className:"ordem-card__date-icon",children:d.jsx(J6,{size:18})}),d.jsxs("div",{className:"ordem-card__date-content",children:[d.jsx("span",{className:"ordem-card__date-label",children:"Total"}),d.jsxs("span",{className:"ordem-card__date-value",children:[M(N)," peas"]})]})]})]}),d.jsxs("div",{className:"ordem-card__grade-section",children:[d.jsx("h4",{className:"ordem-card__grade-title",children:"Grade de Produo"}),d.jsxs("div",{className:"ordem-card__table",style:{"--tamanhos-count":fe.length},children:[d.jsxs("div",{className:"ordem-card__table-header",children:[d.jsx("span",{children:"Cor"}),fe.map($=>d.jsx("span",{children:$.nome},$.id)),d.jsx("span",{children:"Total"})]}),N.grade.map($=>{const G=$.quantidades||{};return d.jsxs("div",{className:"ordem-card__table-row",children:[d.jsx("span",{children:$.corNome}),fe.map(se=>d.jsx("span",{children:G[se.id]||0},se.id)),d.jsx("span",{children:$.total})]},$.corId)})]})]})]})]},N.id)}),R.length===0&&d.jsxs("div",{className:"ordens-empty",children:[d.jsx(Ro,{size:24}),'Nenhuma ordem encontrada. Clique em "Nova Ordem" para comear.']})]}),d.jsx(rU,{isOpen:g,onClose:()=>{v(!1),A(null)},onSubmit:L,isSubmitting:E,orderToEdit:S??void 0}),d.jsx(Ad,{isOpen:C,onClose:()=>{O(!1),F(null)},onConfirm:Z,itemName:e.find(N=>N.id===z)?.codigo||"",loading:X,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta ordem de produo?",confirmText:"Excluir",cancelText:"Cancelar"})]})},sU=({isOpen:t,onClose:e,order:n,currentStage:a,availableStages:i,faccoes:l,totalPecas:u,onSubmit:m,isSubmitting:p})=>{const[g,v]=j.useState({finalizadas:u,defeituosas:0,proximaEtapaId:"",responsavelProximaEtapaId:"",observacoes:""}),E=async A=>{if(A.preventDefault(),g.finalizadas+g.defeituosas>u){Zt.error("O nmero de peas finalizadas e defeituosas no pode ser maior que o total de peas");return}if(!S){if(!g.proximaEtapaId){alert("Selecione a prxima etapa");return}if(!g.responsavelProximaEtapaId){alert("Selecione o responsvel pela prxima etapa");return}}await m(g)},w=()=>{p||(v({finalizadas:u,defeituosas:0,proximaEtapaId:"",responsavelProximaEtapaId:"",observacoes:""}),e())},S=i.length===0;return t?d.jsx("div",{className:"finalize-modal-overlay",children:d.jsxs("div",{className:"finalize-modal",children:[d.jsxs("header",{className:"finalize-modal-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Finalizar Etapa"}),d.jsxs("p",{children:[n.codigo," - ",a.etapaNome]})]}),d.jsx("button",{className:"finalize-modal-close",onClick:w,disabled:p,children:d.jsx(Nr,{size:18})})]}),d.jsxs("form",{className:"finalize-modal-form",onSubmit:E,children:[d.jsxs("div",{className:"finalize-form-section",children:[d.jsx("h3",{className:"finalize-section-title",children:"Quantidades"}),d.jsxs("div",{className:"finalize-form-row",children:[d.jsxs("div",{className:"finalize-form-field",children:[d.jsxs("label",{children:["Peas Finalizadas*",d.jsxs("span",{className:"field-hint",children:["Total: ",u]})]}),d.jsx("input",{type:"number",min:0,max:u,value:g.finalizadas,onChange:A=>v({...g,finalizadas:parseInt(A.target.value)||0}),required:!0,disabled:p})]}),d.jsxs("div",{className:"finalize-form-field",children:[d.jsxs("label",{children:["Peas Defeituosas*",d.jsx("span",{className:"field-hint",children:"Opcional"})]}),d.jsx("input",{type:"number",min:0,value:g.defeituosas,onChange:A=>v({...g,defeituosas:parseInt(A.target.value)||0}),disabled:p})]})]}),g.finalizadas+g.defeituosas>u&&d.jsxs("div",{className:"finalize-alert",children:[d.jsx(rd,{size:20}),d.jsxs("span",{children:["A soma no pode ser maior que ",u," peas"]})]})]}),d.jsxs("div",{className:"finalize-form-section",children:[d.jsx("h3",{className:"finalize-section-title",children:"Prxima Etapa"}),S?d.jsxs("div",{className:"finalize-alert",children:[d.jsx(rd,{size:20}),d.jsx("span",{children:"Esta  a ltima etapa da produo. Ao finalizar, a ordem ser concluda."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"finalize-form-field",children:[d.jsx("label",{children:"Etapa*"}),d.jsxs("div",{className:"finalize-select-wrapper",children:[d.jsxs("select",{value:g.proximaEtapaId,onChange:A=>v({...g,proximaEtapaId:A.target.value}),required:!S,disabled:p||S,children:[d.jsx("option",{value:"",children:"Selecione a etapa"}),i.map(A=>d.jsx("option",{value:A.id,children:A.name},A.id))]}),d.jsx(Wf,{size:18,className:"select-icon"})]})]}),d.jsxs("div",{className:"finalize-form-field",children:[d.jsx("label",{children:"Responsvel*"}),d.jsxs("div",{className:"finalize-select-wrapper",children:[d.jsxs("select",{value:g.responsavelProximaEtapaId,onChange:A=>v({...g,responsavelProximaEtapaId:A.target.value}),required:!S,disabled:p||S,children:[d.jsx("option",{value:"",children:"Selecione o responsvel"}),l.map(A=>d.jsx("option",{value:A.id,children:A.nome},A.id))]}),d.jsx(Wf,{size:18,className:"select-icon"})]})]})]})]}),d.jsxs("div",{className:"finalize-form-section",children:[d.jsx("h3",{className:"finalize-section-title",children:"Observaes"}),d.jsxs("div",{className:"finalize-form-field",children:[d.jsxs("label",{children:["Problemas ou observaes",d.jsx("span",{className:"field-hint",children:"Opcional"})]}),d.jsx("textarea",{rows:4,value:g.observacoes,onChange:A=>v({...g,observacoes:A.target.value}),disabled:p,placeholder:"Descreva problemas encontrados, atrasos, ou outras observaes relevantes..."})]})]}),d.jsxs("footer",{className:"finalize-modal-footer",children:[d.jsx("button",{type:"button",className:"finalize-btn finalize-btn-cancel",onClick:w,disabled:p,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"finalize-btn finalize-btn-submit",disabled:p,children:p?"Finalizando...":"Finalizar Etapa"})]})]})]})}):null},iU=()=>{const{user:t}=kn(),[e,n]=j.useState([]),[a,i]=j.useState([]),[l,u]=j.useState([]),[m,p]=j.useState(new Map),[g,v]=j.useState(""),[E,w]=j.useState("all"),[S,A]=j.useState([]),[C,O]=j.useState(!1),[z,F]=j.useState(null),[X,re]=j.useState(!1),[q,Z]=j.useState(!1),[D,R]=j.useState(null),[M,L]=j.useState(!1),k=j.useCallback(async()=>{if(t)try{const[le,ie,_e,Ae]=await Promise.all([es.getOrders(t.uid),ts.getStepsByUser(t.uid),pa.getFaccoes(),ma.getProdutos(t.uid)]);n(le),i(ie),A(_e);const Ue=Ae.map(xe=>{const ze=(xe.etapasProducaoIds||[]).map(Je=>{const $e=ie.find(an=>an.id===Je.etapaId);return $e?{etapa:{id:$e.id,nome:$e.name,descricao:$e.description||void 0,custo:Je.custo,ativo:!0,createdAt:$e.createdAt},custo:Je.custo,ordem:Je.ordem}:null}).filter(Je=>Je!==null);return{...xe,etapasProducao:ze}});u(Ue);const rn=new Map;for(const xe of le){let ze=await nr.getProgressByOrderId(xe.id);if(!ze){const Je=Ue.find($e=>$e.id===xe.produtoId);if(Je&&Je.etapasProducao&&Je.etapasProducao.length>0){const $e=Je.etapasProducao.map(an=>{const dr=ie.find(gt=>gt.id===an.etapa.id);return dr?{...dr,order:an.ordem}:null}).filter(an=>an!==null).sort((an,dr)=>an.order-dr.order);$e.length>0&&(await nr.initializeProgress(t.uid,xe.id,$e),ze=await nr.getProgressByOrderId(xe.id))}}ze&&rn.set(xe.id,ze)}p(rn)}catch(le){console.error("Erro ao carregar dados:",le)}},[t]);j.useEffect(()=>{k()},[k]);const b=j.useMemo(()=>{let le=e;if(g.trim()){const ie=g.trim().toLowerCase();le=le.filter(_e=>_e.codigo.toLowerCase().includes(ie)||_e.produtoDescricao.toLowerCase().includes(ie)||_e.produtoRef.toLowerCase().includes(ie)||_e.responsavelNome?.toLowerCase().includes(ie))}return E!=="all"&&(le=le.filter(ie=>{const _e=m.get(ie.id);return _e?_e.etapas.some(Ae=>Ae.etapaId===E&&Ae.status==="em_andamento"):!1})),le},[e,g,E,m]),N=le=>le.grade.reduce((ie,_e)=>ie+_e.total,0),te=le=>{const ie=m.get(le);return ie?ie.etapas.find(_e=>_e.status==="em_andamento"):null},fe=le=>{const ie=m.get(le);if(!ie)return null;const _e=te(le);return _e?ie.etapas.find(Ae=>Ae.ordem>_e.ordem&&Ae.status!=="finalizada"):ie.etapas.find(Ae=>Ae.status!=="finalizada")},$=le=>{const ie=m.get(le);return ie?ie.etapas.find(_e=>_e.status==="pausada"):null},G=le=>{const ie=m.get(le);if(!ie)return!1;const _e=ie.etapas.some(Ue=>Ue.status==="em_andamento");return ie.etapas.some(Ue=>Ue.status==="pausada")&&!_e},se=le=>{const ie=m.get(le);if(!ie)return{percent:0,finalizadas:0,defeituosas:0,restantes:0};const _e=e.find(gt=>gt.id===le);if(!_e)return{percent:0,finalizadas:0,defeituosas:0,restantes:0};const Ue=l.find(gt=>gt.id===_e.produtoId)?.etapasProducao?.length||ie.etapas.length,rn=ie.etapas.filter(gt=>gt.status==="finalizada").length,xe=Ue>0?Math.round(rn/Ue*100):0,ze=N(_e),Je=ie.etapas.find(gt=>gt.status==="em_andamento");if(!Je){if(ie.etapas.every(Ca=>Ca.status==="finalizada")){const Rt=ie.etapas[ie.etapas.length-1]?.finalizadas||0,Lt=ie.etapas.reduce((mc,Ni)=>mc+(Ni.defeituosas||0),0),Ir=ze-Rt-Lt;return{percent:xe,finalizadas:Rt,defeituosas:Lt,restantes:Ir}}return{percent:xe,finalizadas:0,defeituosas:0,restantes:ze}}const $e=Je.finalizadas||0,an=ie.etapas.reduce((gt,Ca)=>gt+(Ca.defeituosas||0),0),dr=ze-$e-an;return{percent:xe,finalizadas:$e,defeituosas:an,restantes:dr}},ye=le=>{F(le),O(!0)},V=async le=>{if(!t||!z)return;const ie=m.get(z);if(!ie)return;const _e=te(z);if(!_e)return;const Ae=e.find(Ue=>Ue.id===z);if(Ae)try{re(!0),await nr.finalizeStageWithDetails(ie.id,_e.etapaId,le.finalizadas,le.defeituosas,le.observacoes);const Ue=l.find($e=>$e.id===Ae.produtoId),rn=Ue?.etapasProducao?.find($e=>$e.etapa.id===_e.etapaId),xe=S.find($e=>$e.id===_e.responsavelId);if(rn&&xe&&xe.id){const $e=new Date;$e.setDate($e.getDate()+30),await ui.createLancamento({ordemProducaoId:Ae.id,ordemCodigo:Ae.codigo,produtoId:Ae.produtoId,produtoDescricao:Ue?.descricao||"Produto",etapaId:_e.etapaId,etapaNome:_e.etapaNome,faccaoId:xe.id,faccaoNome:xe.nome,valor:rn.custo,dataVencimento:$e,observacoes:le.observacoes||void 0},t.uid)}const ze=a.find($e=>$e.id===le.proximaEtapaId),Je=S.find($e=>$e.id===le.responsavelProximaEtapaId);ze&&Je&&await nr.startNextStage(ie.id,le.proximaEtapaId,le.responsavelProximaEtapaId,Je.nome),await k(),O(!1),F(null),Ke.success("Etapa finalizada e lanamento financeiro criado!",{icon:d.jsx(cn,{size:20})})}catch(Ue){console.error("Erro ao finalizar etapa:",Ue),Ke.error("Erro ao finalizar etapa")}finally{re(!1)}},J=async le=>{if(!t)return;const ie=m.get(le);if(!ie)return;const _e=te(le);if(_e)try{await nr.pauseStage(ie.id,_e.etapaId),await k()}catch(Ae){console.error("Erro ao pausar etapa:",Ae),alert("Erro ao pausar etapa")}},me=async le=>{if(!t)return;const ie=m.get(le);if(!ie)return;const _e=$(le);if(_e)try{await nr.resumeStage(ie.id,_e.etapaId),await k()}catch(Ae){console.error("Erro ao retomar etapa:",Ae),alert("Erro ao retomar etapa")}},pe=le=>{R(le),Z(!0)},be=async()=>{if(!(!e.find(ie=>ie.id===D)||!D))try{L(!0);const ie=m.get(D);if(ie)try{await nr.deleteProgress(ie.id)}catch(_e){console.error("Erro ao deletar progresso:",_e)}try{await ui.deleteLancamentosByOrdem(D)}catch(_e){console.error("Erro ao deletar lanamentos financeiros:",_e)}await es.deleteOrder(D),await k(),Ke.success("Ordem de produo excluda com sucesso!",{icon:d.jsx(cn,{size:20})})}catch(ie){console.error("Erro ao excluir ordem:",ie),Ke.error("Erro ao excluir ordem de produo. Tente novamente.")}};return d.jsxs("div",{className:"gestao-producoes-container",children:[d.jsx("header",{className:"gestao-producoes-header",children:d.jsxs("div",{children:[d.jsx("h2",{className:"gestao-producoes-title",children:"Gesto de Produo"}),d.jsx("p",{className:"gestao-producoes-subtitle",children:"Controle o andamento das ordens de produo em tempo real"})]})}),d.jsxs("div",{className:"gestao-producoes-filters",children:[d.jsxs("div",{className:"gestao-producoes-search",children:[d.jsx(Ro,{size:18}),d.jsx("input",{type:"text",placeholder:"Buscar por OP, produto ou referncia...",value:g,onChange:le=>v(le.target.value)})]}),d.jsxs("div",{className:"gestao-producoes-stage-filter",children:[d.jsxs("select",{value:E,onChange:le=>w(le.target.value),children:[d.jsx("option",{value:"all",children:"Todas as Etapas"}),a.map(le=>d.jsx("option",{value:le.id,children:le.name},le.id))]}),d.jsx(Wf,{size:18,className:"select-icon"})]})]}),d.jsxs("section",{className:"gestao-producoes-list",children:[b.map(le=>{const ie=te(le.id),_e=$(le.id),Ae=fe(le.id),Ue=se(le.id),rn=N(le),xe=G(le.id),ze=ie||_e;return d.jsxs("article",{className:"gestao-producao-card",children:[d.jsxs("div",{className:"gestao-card-header",children:[d.jsxs("div",{className:"gestao-card-header-left",children:[d.jsx("div",{className:"gestao-card-icon",children:d.jsx(K3,{size:24})}),d.jsxs("div",{className:"gestao-card-info",children:[d.jsx("div",{className:"gestao-card-op",children:le.codigo}),d.jsx("h3",{className:"gestao-card-title",children:le.produtoDescricao}),d.jsxs("div",{className:"gestao-card-meta",children:[d.jsxs("span",{children:["REF: ",le.produtoRef]}),d.jsxs("span",{className:"gestao-card-pieces",children:[rn," peas"]})]})]})]}),d.jsxs("div",{className:"gestao-card-header-right",children:[d.jsx("span",{className:`gestao-badge gestao-badge-status ${xe?"gestao-badge-paused":""}`,children:xe?"Pausada":"Em Andamento"}),ze&&d.jsx("span",{className:"gestao-badge gestao-badge-stage",children:ze.etapaNome})]})]}),ze&&d.jsxs("div",{className:"gestao-card-progress",children:[d.jsxs("div",{className:"progress-header",children:[d.jsx("span",{className:"progress-title",children:"Progresso Geral"}),d.jsxs("span",{className:"progress-percent",children:[Ue.percent,"%"]})]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:`${Ue.percent}%`}})}),d.jsxs("div",{className:"progress-stats",children:[d.jsxs("span",{className:"progress-stat",children:[Ue.finalizadas," peas finalizadas"]}),d.jsxs("span",{className:"progress-stat",children:[Ue.defeituosas," defeituosas"]}),d.jsxs("span",{className:"progress-stat",children:[Ue.restantes," restantes"]})]})]}),d.jsxs("div",{className:"gestao-card-details",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx(d5,{size:16,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("span",{className:"detail-label",children:"Responsvel"}),d.jsx("span",{className:"detail-value",children:ze?.responsavelNome||le.responsavelNome||"No atribudo"})]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx(No,{size:16,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("span",{className:"detail-label",children:"Iniciado em"}),d.jsx("span",{className:"detail-value",children:le.dataInicio||"--"})]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx(B6,{size:16,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("span",{className:"detail-label",children:"Prxima Etapa"}),d.jsx("span",{className:"detail-value",children:Ae?.etapaNome||"Concluda"})]})]})]}),d.jsxs("div",{className:"gestao-card-actions",children:[xe?d.jsxs("button",{className:"gestao-action-btn gestao-action-resume",onClick:()=>me(le.id),children:[d.jsx(V3,{size:16,className:"gestao-action-icon"}),"Retomar Produo"]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"gestao-action-btn gestao-action-finish",onClick:()=>ye(le.id),disabled:!ie||ie.status!=="em_andamento",children:[d.jsx(cn,{size:16,className:"gestao-action-icon"}),"Finalizar Etapa"]}),d.jsxs("button",{className:"gestao-action-btn gestao-action-pause",onClick:()=>J(le.id),disabled:!ie||ie.status!=="em_andamento",children:[d.jsx(R3,{size:16,className:"gestao-action-icon"}),"Pausar"]})]}),d.jsxs("button",{className:"gestao-action-btn gestao-action-report",children:[d.jsx(IA,{size:16,className:"gestao-action-icon"}),"Reportar Problema"]}),d.jsxs("button",{className:"gestao-action-btn gestao-action-delete",onClick:()=>pe(le.id),title:"Excluir ordem",children:[d.jsx(Mo,{size:16,className:"gestao-action-icon"}),"Excluir"]})]})]},le.id)}),b.length===0&&d.jsxs("div",{className:"gestao-producoes-empty",children:[d.jsx(Ro,{size:24}),d.jsx("p",{children:"Nenhuma ordem de produo encontrada."})]})]}),C&&z&&(()=>{const le=e.find(xe=>xe.id===z),ie=te(z),_e=m.get(z);if(!le||!ie||!_e)return null;const rn=(l.find(xe=>xe.id===le.produtoId)?.etapasProducao||[]).filter(xe=>{const ze=_e.etapas.find(Je=>Je.etapaId===xe.etapa.id);return ze?ze.ordem>ie.ordem:!1}).map(xe=>{const ze=a.find(Je=>Je.id===xe.etapa.id);return ze?{...ze,name:xe.etapa.nome,description:xe.etapa.descricao||""}:null}).filter(xe=>xe!==null).sort((xe,ze)=>{const Je=_e.etapas.find(an=>an.etapaId===xe.id)?.ordem||0,$e=_e.etapas.find(an=>an.etapaId===ze.id)?.ordem||0;return Je-$e});return d.jsx(sU,{isOpen:C,onClose:()=>{O(!1),F(null)},order:le,currentStage:ie,availableStages:rn,faccoes:S.filter(xe=>xe.ativo),totalPecas:N(le),onSubmit:V,isSubmitting:X})})(),d.jsx(Ad,{isOpen:q,onClose:()=>{Z(!1),R(null)},onConfirm:be,itemName:e.find(le=>le.id===D)?.codigo||"",loading:M,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta ordem de produo?",confirmText:"Excluir",cancelText:"Cancelar"})]})},oU=()=>{const{user:t}=kn(),[e,n]=j.useState("pendencias"),[a,i]=j.useState(""),[l,u]=j.useState("todos"),[m,p]=j.useState([]),[g,v]=j.useState([]),[E,w]=j.useState(!0),S=j.useCallback(async()=>{if(t)try{w(!0);const[q,Z]=await Promise.all([ui.getLancamentosPendentes(t.uid),ui.getLancamentosPagos(t.uid)]);p(q),v(Z)}catch(q){console.error("Erro ao carregar lanamentos:",q),Ke.error("Erro ao carregar dados financeiros")}finally{w(!1)}},[t]);j.useEffect(()=>{S()},[S]);const A=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),C=q=>new Intl.DateTimeFormat("pt-BR").format(new Date(q)),O=q=>{const Z=new Date;Z.setHours(0,0,0,0);const D=new Date(q);D.setHours(0,0,0,0);const R=Z.getTime()-D.getTime();return Math.floor(R/(1e3*60*60*24))},z={totalPendente:m.filter(q=>q.status==="pendente").reduce((q,Z)=>q+Z.valor,0),totalAtrasado:m.filter(q=>q.status==="atrasado").reduce((q,Z)=>q+Z.valor,0),totalPagoMes:g.filter(q=>{const Z=new Date(q.dataPagamento),D=new Date().getMonth(),R=new Date().getFullYear();return Z.getMonth()===D&&Z.getFullYear()===R}).reduce((q,Z)=>q+Z.valor,0),lancamentosPendentes:m.filter(q=>q.status==="pendente").length,lancamentosAtrasados:m.filter(q=>q.status==="atrasado").length,pagamentosMes:g.filter(q=>{const Z=new Date(q.dataPagamento),D=new Date().getMonth(),R=new Date().getFullYear();return Z.getMonth()===D&&Z.getFullYear()===R}).length},F=m.filter(q=>{const Z=q.ordemCodigo.toLowerCase().includes(a.toLowerCase())||q.faccaoNome.toLowerCase().includes(a.toLowerCase())||q.produtoDescricao.toLowerCase().includes(a.toLowerCase()),D=l==="todos"||q.status===l;return Z&&D}),X=g.filter(q=>q.ordemCodigo.toLowerCase().includes(a.toLowerCase())||q.faccaoNome.toLowerCase().includes(a.toLowerCase())||q.produtoDescricao.toLowerCase().includes(a.toLowerCase())),re=async q=>{if(window.confirm("Confirmar pagamento deste lanamento?"))try{await ui.marcarComoPago(q),await S(),Ke.success("Pagamento registrado com sucesso!",{icon:d.jsx(nf,{size:20})})}catch(Z){console.error("Erro ao registrar pagamento:",Z),Ke.error("Erro ao registrar pagamento")}};return E?d.jsx("div",{className:"financeiro-container",children:d.jsx("div",{className:"financeiro-loading",children:"Carregando..."})}):d.jsxs("div",{className:"financeiro-container",children:[d.jsxs("div",{className:"financeiro-header",children:[d.jsxs("div",{className:"financeiro-header-title",children:[d.jsx("h2",{className:"financeiro-title",children:"Financeiro"}),d.jsx("p",{className:"financeiro-subtitle",children:"Controle de pagamentos e pendncias financeiras"})]}),d.jsxs("button",{className:"financeiro-export-btn",children:[d.jsx(AA,{size:18}),d.jsx("span",{children:"Exportar Relatrio"})]})]}),d.jsxs("div",{className:"financeiro-summary-grid",children:[d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Pendente"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-orange",children:d.jsx(No,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-orange",children:A(z.totalPendente)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosPendentes," lanamentos"]})]}),d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Atrasado"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-red",children:d.jsx(rd,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-red",children:A(z.totalAtrasado)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosAtrasados," em atraso"]})]}),d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Pago (Ms)"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-green",children:d.jsx(nf,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-green",children:A(z.totalPagoMes)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.pagamentosMes," pagamentos"]})]}),d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Geral"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-blue",children:d.jsx(Fl,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-gray",children:A(z.totalPendente+z.totalAtrasado)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosPendentes+z.lancamentosAtrasados," ","pendentes"]})]})]}),d.jsxs("div",{className:"financeiro-search-section",children:[d.jsxs("div",{className:"financeiro-search-bar",children:[d.jsx(Ro,{size:18,className:"financeiro-search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar por OP, faco ou produto...",value:a,onChange:q=>i(q.target.value),className:"financeiro-search-input"})]}),e==="pendencias"&&d.jsx("div",{className:"financeiro-status-filter",children:d.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"financeiro-status-select",children:[d.jsx("option",{value:"todos",children:"Todos os Status"}),d.jsx("option",{value:"pendente",children:"Pendente"}),d.jsx("option",{value:"atrasado",children:"Atrasado"})]})})]}),d.jsxs("div",{className:"financeiro-nav-tabs",children:[d.jsx("button",{className:`financeiro-nav-tab ${e==="pendencias"?"active":""}`,onClick:()=>n("pendencias"),children:"Pendncias"}),d.jsx("button",{className:`financeiro-nav-tab ${e==="pagamentos"?"active":""}`,onClick:()=>n("pagamentos"),children:"Pagamentos Realizados"})]}),d.jsxs("div",{className:"financeiro-content-card",children:[d.jsx("div",{className:"financeiro-content-header",children:d.jsxs("div",{className:"financeiro-content-title-section",children:[d.jsx(Rm,{className:"financeiro-dollar-icon",size:24}),d.jsxs("div",{children:[d.jsx("h3",{className:"financeiro-content-title",children:e==="pendencias"?"Pendncias Financeiras":"Pagamentos Realizados"}),d.jsx("p",{className:"financeiro-content-subtitle",children:e==="pendencias"?"Acompanhe os pagamentos pendentes por etapa de produo":"Histrico de pagamentos realizados"})]})]})}),d.jsx("div",{className:"financeiro-table-container",children:e==="pendencias"?d.jsxs("table",{className:"financeiro-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ordem"}),d.jsx("th",{children:"Faco"}),d.jsx("th",{children:"Etapa"}),d.jsx("th",{children:"Produto"}),d.jsx("th",{children:"Valor"}),d.jsx("th",{children:"Vencimento"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:F.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"financeiro-empty-state",children:"Nenhuma pendncia encontrada"})}):F.map(q=>d.jsxs("tr",{children:[d.jsx("td",{children:q.ordemCodigo}),d.jsx("td",{children:q.faccaoNome}),d.jsx("td",{children:d.jsx("span",{className:"financeiro-badge financeiro-badge-default",children:q.etapaNome})}),d.jsx("td",{children:q.produtoDescricao}),d.jsx("td",{className:"financeiro-cell-value",children:A(q.valor)}),d.jsx("td",{children:C(q.dataVencimento)}),d.jsx("td",{children:d.jsx("span",{className:`financeiro-badge ${q.status==="atrasado"?"financeiro-badge-danger":"financeiro-badge-default"}`,children:q.status==="atrasado"?d.jsxs(d.Fragment,{children:[d.jsx(rd,{size:14}),"Atrasado (",O(q.dataVencimento),"d)"]}):d.jsxs(d.Fragment,{children:[d.jsx(No,{size:14}),"Pendente"]})})}),d.jsx("td",{children:d.jsxs("button",{className:"financeiro-action-btn",onClick:()=>re(q.id),children:[d.jsx(s3,{size:14}),"Pagar"]})})]},q.id))})]}):d.jsx(d.Fragment,{children:X.length===0?d.jsxs("div",{className:"financeiro-empty-state-large",children:[d.jsx(nf,{size:48,className:"financeiro-empty-icon"}),d.jsx("p",{children:"Nenhum pagamento realizado ainda"}),d.jsx("p",{className:"financeiro-empty-subtitle",children:"Os pagamentos realizados aparecero aqui"})]}):d.jsxs("table",{className:"financeiro-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ordem"}),d.jsx("th",{children:"Faco"}),d.jsx("th",{children:"Etapa"}),d.jsx("th",{children:"Produto"}),d.jsx("th",{children:"Valor"}),d.jsx("th",{children:"Vencimento"}),d.jsx("th",{children:"Data Pagamento"}),d.jsx("th",{children:"Status"})]})}),d.jsx("tbody",{children:X.map(q=>d.jsxs("tr",{children:[d.jsx("td",{children:q.ordemCodigo}),d.jsx("td",{children:q.faccaoNome}),d.jsx("td",{children:d.jsx("span",{className:"financeiro-badge financeiro-badge-default",children:q.etapaNome})}),d.jsx("td",{children:q.produtoDescricao}),d.jsx("td",{className:"financeiro-cell-value",children:A(q.valor)}),d.jsx("td",{children:C(q.dataVencimento)}),d.jsx("td",{children:q.dataPagamento?C(q.dataPagamento):"-"}),d.jsx("td",{children:d.jsxs("span",{className:"financeiro-badge financeiro-badge-success",children:[d.jsx(nf,{size:14}),"Pago"]})})]},q.id))})]})})})]})]})},lU=()=>{const{user:t}=kn(),[e,n]=j.useState("producao"),[a,i]=j.useState("mes"),[l,u]=j.useState(!0),[m,p]=j.useState([]),[g,v]=j.useState([]),[E,w]=j.useState([]),[S,A]=j.useState({totalOrdens:0,ordensConcluidas:0,ordensEmAndamento:0,taxaConclusao:0,tempoMedioPorEtapa:0}),[C,O]=j.useState([]),z=j.useCallback((D,R)=>{const M=re(a),L=D.filter(G=>new Date(G.createdAt)>=M),k=L.filter(G=>G.status==="concluida").length,b=L.filter(G=>G.status==="em_producao").length,N=L.length>0?k/L.length*100:0;let te=0,fe=0;R.forEach(G=>{G.etapas.forEach(se=>{if(se.dataInicio&&se.dataFim){const ye=new Date(se.dataInicio),V=new Date(se.dataFim),J=Math.ceil((V.getTime()-ye.getTime())/(1e3*60*60*24));te+=J,fe++}})});const $=fe>0?te/fe:0;A({totalOrdens:L.length,ordensConcluidas:k,ordensEmAndamento:b,taxaConclusao:N,tempoMedioPorEtapa:$})},[a]),F=j.useCallback((D,R)=>{const M=new Map;D.forEach(k=>{k.etapas.forEach(b=>{if(b.responsavelId&&b.status==="finalizada"){const N=M.get(b.responsavelId)||{finalizadas:0,diasTotal:0,defeitos:0};if(N.finalizadas++,N.defeitos+=b.defeituosas||0,b.dataInicio&&b.dataFim){const te=new Date(b.dataInicio),fe=new Date(b.dataFim),$=Math.ceil((fe.getTime()-te.getTime())/(1e3*60*60*24));N.diasTotal+=$}M.set(b.responsavelId,N)}})});const L=[];M.forEach((k,b)=>{const N=R.find(te=>te.id===b);N&&L.push({faccaoNome:N.nome,ordensFinalizadas:k.finalizadas,tempoMedio:k.finalizadas>0?k.diasTotal/k.finalizadas:0,taxaDefeitos:k.finalizadas>0?k.defeitos/k.finalizadas*100:0})}),O(L.sort((k,b)=>b.ordensFinalizadas-k.ordensFinalizadas))},[]),X=j.useCallback(async()=>{if(t)try{u(!0);const[D,R,M,L]=await Promise.all([es.getOrders(t.uid),ma.getProdutos(t.uid),pa.getFaccoes(),nr.getAllProgress(t.uid)]);p(D),v(R),w(M),z(D,L),F(L,M)}catch(D){console.error("Erro ao carregar dados:",D)}finally{u(!1)}},[t,z,F]);j.useEffect(()=>{X()},[X,a]);const re=D=>{const R=new Date;switch(D){case"semana":return new Date(R.getTime()-10080*60*1e3);case"mes":return new Date(R.getTime()-720*60*60*1e3);case"trimestre":return new Date(R.getTime()-2160*60*60*1e3);case"ano":return new Date(R.getTime()-365*24*60*60*1e3);default:return new Date(R.getTime()-720*60*60*1e3)}},q=()=>{alert("Funcionalidade de exportao em desenvolvimento")},Z=()=>{const D=new Map;return m.forEach(R=>{const M=D.get(R.produtoDescricao)||0;D.set(R.produtoDescricao,M+1)}),Array.from(D.entries()).map(([R,M])=>({nome:R,quantidade:M})).sort((R,M)=>M.quantidade-R.quantidade).slice(0,5)};return l?d.jsxs("div",{className:"relatorios-loading",children:[d.jsx(jT,{size:48,className:"loading-icon"}),d.jsx("p",{children:"Carregando relatrios..."})]}):d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"tab-title",children:"Relatrios"}),d.jsx("p",{className:"tab-subtitle",children:"Anlises e mtricas detalhadas do seu sistema"})]}),d.jsx("div",{className:"relatorios-actions",children:d.jsxs("button",{className:"btn-export",onClick:q,children:[d.jsx(AA,{size:18}),"Exportar Relatrio"]})})]}),d.jsx("div",{className:"relatorios-filters",children:d.jsxs("div",{className:"filter-group",children:[d.jsx(f3,{size:18}),d.jsx("span",{children:"Perodo:"}),d.jsxs("select",{value:a,onChange:D=>i(D.target.value),className:"filter-select",children:[d.jsx("option",{value:"semana",children:"ltima Semana"}),d.jsx("option",{value:"mes",children:"ltimo Ms"}),d.jsx("option",{value:"trimestre",children:"ltimo Trimestre"}),d.jsx("option",{value:"ano",children:"ltimo Ano"})]})]})}),d.jsxs("div",{className:"relatorios-tabs",children:[d.jsxs("button",{className:`relatorio-tab ${e==="producao"?"active":""}`,onClick:()=>n("producao"),children:[d.jsx(SA,{size:20}),"Produo"]}),d.jsxs("button",{className:`relatorio-tab ${e==="performance"?"active":""}`,onClick:()=>n("performance"),children:[d.jsx(Fl,{size:20}),"Performance"]})]}),d.jsxs("div",{className:"relatorios-content",children:[e==="producao"&&d.jsxs("div",{className:"relatorio-section",children:[d.jsx("h3",{className:"section-title",children:"Relatrio de Produo"}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon blue",children:d.jsx(vi,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Total de Ordens"}),d.jsx("span",{className:"metric-value",children:S.totalOrdens})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon green",children:d.jsx(Fl,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Concludas"}),d.jsx("span",{className:"metric-value",children:S.ordensConcluidas})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon orange",children:d.jsx(jT,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Em Andamento"}),d.jsx("span",{className:"metric-value",children:S.ordensEmAndamento})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon purple",children:d.jsx(K6,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Taxa de Concluso"}),d.jsxs("span",{className:"metric-value",children:[S.taxaConclusao.toFixed(1),"%"]})]})]})]}),d.jsxs("div",{className:"chart-container",children:[d.jsx("h4",{className:"chart-title",children:"Distribuio de Status"}),d.jsxs("div",{className:"bar-chart",children:[d.jsxs("div",{className:"bar-item",children:[d.jsx("div",{className:"bar-label",children:"Concludas"}),d.jsx("div",{className:"bar-track",children:d.jsx("div",{className:"bar-fill green",style:{width:`${S.totalOrdens>0?S.ordensConcluidas/S.totalOrdens*100:0}%`},children:d.jsx("span",{className:"bar-value",children:S.ordensConcluidas})})})]}),d.jsxs("div",{className:"bar-item",children:[d.jsx("div",{className:"bar-label",children:"Em Andamento"}),d.jsx("div",{className:"bar-track",children:d.jsx("div",{className:"bar-fill orange",style:{width:`${S.totalOrdens>0?S.ordensEmAndamento/S.totalOrdens*100:0}%`},children:d.jsx("span",{className:"bar-value",children:S.ordensEmAndamento})})})]}),d.jsxs("div",{className:"bar-item",children:[d.jsx("div",{className:"bar-label",children:"Planejadas"}),d.jsx("div",{className:"bar-track",children:d.jsx("div",{className:"bar-fill gray",style:{width:`${S.totalOrdens>0?(S.totalOrdens-S.ordensConcluidas-S.ordensEmAndamento)/S.totalOrdens*100:0}%`},children:d.jsx("span",{className:"bar-value",children:S.totalOrdens-S.ordensConcluidas-S.ordensEmAndamento})})})]})]})]}),d.jsxs("div",{className:"chart-container",children:[d.jsx("h4",{className:"chart-title",children:"Top 5 Produtos Mais Produzidos"}),d.jsx("div",{className:"produtos-ranking",children:Z().map((D,R)=>d.jsxs("div",{className:"ranking-item",children:[d.jsx("span",{className:"ranking-position",children:R+1}),d.jsx("span",{className:"ranking-nome",children:D.nome}),d.jsx("span",{className:"ranking-badge",children:D.quantidade})]},R))})]}),d.jsxs("div",{className:"info-card",children:[d.jsx(xA,{size:20}),d.jsxs("div",{children:[d.jsx("strong",{children:"Tempo Mdio por Etapa"}),d.jsxs("p",{children:[S.tempoMedioPorEtapa.toFixed(1)," dias"]})]})]})]}),e==="performance"&&d.jsxs("div",{className:"relatorio-section",children:[d.jsx("h3",{className:"section-title",children:"Relatrio de Performance"}),d.jsxs("div",{className:"chart-container",children:[d.jsx("h4",{className:"chart-title",children:"Faces Mais Produtivas"}),d.jsx("div",{className:"faccoes-ranking",children:C.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx(Io,{size:48}),d.jsx("p",{children:"Nenhum dado de performance disponvel ainda"})]}):C.map((D,R)=>d.jsxs("div",{className:"faccao-performance-card",children:[d.jsxs("div",{className:"faccao-header",children:[d.jsxs("span",{className:"faccao-position",children:[R+1,""]}),d.jsx("h5",{className:"faccao-nome",children:D.faccaoNome})]}),d.jsxs("div",{className:"faccao-stats",children:[d.jsxs("div",{className:"faccao-stat",children:[d.jsx("span",{className:"stat-label",children:"Ordens Finalizadas"}),d.jsx("span",{className:"stat-value",children:D.ordensFinalizadas})]}),d.jsxs("div",{className:"faccao-stat",children:[d.jsx("span",{className:"stat-label",children:"Tempo Mdio"}),d.jsxs("span",{className:"stat-value",children:[D.tempoMedio.toFixed(1)," dias"]})]}),d.jsxs("div",{className:"faccao-stat",children:[d.jsx("span",{className:"stat-label",children:"Taxa de Defeitos"}),d.jsxs("span",{className:`stat-value ${D.taxaDefeitos>5?"high":"low"}`,children:[D.taxaDefeitos.toFixed(1),"%"]})]})]})]},R))})]}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon blue",children:d.jsx(Io,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Faces Ativas"}),d.jsx("span",{className:"metric-value",children:E.length})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon green",children:d.jsx(vi,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Produtos Cadastrados"}),d.jsx("span",{className:"metric-value",children:g.length})]})]})]})]})]})]})},cU=()=>{const[t,e]=j.useState("dashboard"),n=()=>{switch(t){case"dashboard":return d.jsx(cw,{});case"cadastros":return d.jsx(F9,{onTabChange:a});case"faccoes":return d.jsx(H9,{});case"etapas":return d.jsx(K9,{});case"produto":return d.jsx(Z9,{});case"ordemProducoes":return d.jsx(aU,{});case"gestaoProducoes":return d.jsx(iU,{});case"financeiro":return d.jsx(oU,{});case"relatorios":return d.jsx(lU,{});default:return d.jsx(cw,{})}},a=i=>{e(i)};return d.jsx(k9,{activeTab:t,onTabChange:a,children:d.jsx("div",{className:"dashboard-container",children:n()})})},uU=()=>{const t=ic(),[e,n]=j.useState(null),[a,i]=j.useState(!1),[l,u]=j.useState({email:""}),m=g=>{u(v=>({...v,[g.target.name]:g.target.value}))},p=async g=>{if(g.preventDefault(),!l.email){n("Por favor, preencha o email");return}try{i(!0),n(null),await Fu.resetPassword(l.email),alert("Email de recuperao enviado com sucesso")}catch(v){const E=si(v);n(E)}finally{i(!1)}};return d.jsx("div",{className:"forgot-password-container",children:d.jsx("div",{className:"forgot-password-form-container",children:d.jsxs("div",{className:"forgot-password-form-card",children:[d.jsxs("div",{className:"forgot-password-header",children:[d.jsx("h2",{className:"forgot-password-title",children:"Recuperar Senha"}),d.jsx("p",{className:"forgot-password-subtitle",children:"Ola! Digite seu email para receber um link de recuperao de senha"})]}),d.jsxs("form",{className:"forgot-password-form",onSubmit:p,children:[e&&d.jsx("div",{className:"forgot-password-error",children:e}),d.jsxs("div",{className:"forgot-password-field",children:[d.jsx("label",{className:"forgot-password-label",htmlFor:"email",children:"Email"}),d.jsx("input",{className:"forgot-password-input",id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:m,placeholder:"Digite seu email"})]}),d.jsxs("div",{className:"forgot-password-buttons",children:[d.jsx("button",{className:"form-actions-button",type:"button",onClick:()=>t(ar.login),children:"Cancelar"}),d.jsx("button",{className:"form-actions-button",type:"submit",disabled:a,children:a?"Enviando...":"Enviar"})]})]}),d.jsx("div",{className:"forgot-password-footer",children:d.jsxs("span",{className:"forgot-password-footer-text",children:["Voltar para"," ",d.jsx(Gl,{className:"forgot-password-footer-link",to:ar.login,children:"Login"})]})})]})})})},dU=()=>d.jsx(oR,{children:d.jsxs(LN,{children:[d.jsx(Il,{path:ar.home,element:d.jsx(iw,{})}),d.jsx(Il,{path:ar.login,element:d.jsx(iw,{})}),d.jsx(Il,{path:ar.register,element:d.jsx(I9,{})}),d.jsx(Il,{path:ar.forgotPassword,element:d.jsx(uU,{})}),d.jsx(Il,{path:ar.dashboard,element:d.jsx(p5,{children:d.jsx(cU,{})})})]})});function hU(){return d.jsxs(m5,{children:[d.jsx(dU,{}),d.jsx(k6,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:3500,style:{background:"rgba(255, 255, 255, 0.98)",color:"#1a202c",borderRadius:"16px",padding:"16px 24px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",backdropFilter:"blur(16px)",border:"1px solid rgba(0, 0, 0, 0.05)",fontSize:"15px",fontWeight:"500",maxWidth:"420px",display:"flex",alignItems:"center",gap:"12px"},success:{duration:3e3,style:{background:"linear-gradient(135deg, rgba(16, 185, 129, 0.95) 0%, rgba(5, 150, 105, 0.95) 100%)",color:"#fff",boxShadow:"0 20px 25px -5px rgba(16, 185, 129, 0.3), 0 10px 10px -5px rgba(16, 185, 129, 0.2)"},iconTheme:{primary:"#fff",secondary:"#10b981"}},error:{duration:4e3,style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.95) 0%, rgba(220, 38, 38, 0.95) 100%)",color:"#fff",boxShadow:"0 20px 25px -5px rgba(239, 68, 68, 0.3), 0 10px 10px -5px rgba(239, 68, 68, 0.2)"},iconTheme:{primary:"#fff",secondary:"#ef4444"}},loading:{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.95) 0%, rgba(37, 99, 235, 0.95) 100%)",color:"#fff",boxShadow:"0 20px 25px -5px rgba(59, 130, 246, 0.3), 0 10px 10px -5px rgba(59, 130, 246, 0.2)"},iconTheme:{primary:"#fff",secondary:"#3b82f6"}}}})]})}KC.createRoot(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(hU,{})}));
