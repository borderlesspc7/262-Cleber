function w2(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function S2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kg={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function A2(){if(S1)return ou;S1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var m in i)m!=="key"&&(l[m]=i[m])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return ou.Fragment=e,ou.jsx=n,ou.jsxs=n,ou}var A1;function x2(){return A1||(A1=1,kg.exports=A2()),kg.exports}var f=x2(),Og={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function C2(){if(x1)return Me;x1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function j(V,Z,he){this.props=V,this.context=Z,this.refs=R,this.updater=he||A}j.prototype.isReactComponent={},j.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=j.prototype;function $(V,Z,he){this.props=V,this.context=Z,this.refs=R,this.updater=he||A}var ne=$.prototype=new z;ne.constructor=$,C(ne,j.prototype),ne.isPureReactComponent=!0;var X=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function I(V,Z,he,fe,me,_e){return he=_e.ref,{$$typeof:t,type:V,key:Z,ref:he!==void 0?he:null,props:_e}}function O(V,Z){return I(V.type,Z,void 0,void 0,void 0,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function U(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return Z[he]})}var k=/\/+/g;function b(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Z.toString(36)}function N(){}function se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ye(V,Z,he,fe,me){var _e=typeof V;(_e==="undefined"||_e==="boolean")&&(V=null);var ge=!1;if(V===null)ge=!0;else switch(_e){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(V.$$typeof){case t:case e:ge=!0;break;case v:return ge=V._init,ye(ge(V._payload),Z,he,fe,me)}}if(ge)return me=me(V),ge=fe===""?"."+b(V,0):fe,X(me)?(he="",ge!=null&&(he=ge.replace(k,"$&/")+"/"),ye(me,Z,he,"",function(Wt){return Wt})):me!=null&&(M(me)&&(me=O(me,he+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(k,"$&/")+"/")+ge)),Z.push(me)),1;ge=0;var Ce=fe===""?".":fe+":";if(X(V))for(var Oe=0;Oe<V.length;Oe++)fe=V[Oe],_e=Ce+b(fe,Oe),ge+=ye(fe,Z,he,_e,me);else if(Oe=S(V),typeof Oe=="function")for(V=Oe.call(V),Oe=0;!(fe=V.next()).done;)fe=fe.value,_e=Ce+b(fe,Oe++),ge+=ye(fe,Z,he,_e,me);else if(_e==="object"){if(typeof V.then=="function")return ye(se(V),Z,he,fe,me);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ge}function J(V,Z,he){if(V==null)return V;var fe=[],me=0;return ye(V,fe,"","",function(_e){return Z.call(he,_e,me++)}),fe}function W(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var F=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ie(){}return Me.Children={map:J,forEach:function(V,Z,he){J(V,function(){Z.apply(this,arguments)},he)},count:function(V){var Z=0;return J(V,function(){Z++}),Z},toArray:function(V){return J(V,function(Z){return Z})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Me.Component=j,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=$,Me.StrictMode=a,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Me.__COMPILER_RUNTIME={__proto__:null,c:function(V){return q.H.useMemoCache(V)}},Me.cache=function(V){return function(){return V.apply(null,arguments)}},Me.cloneElement=function(V,Z,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=C({},V.props),me=V.key,_e=void 0;if(Z!=null)for(ge in Z.ref!==void 0&&(_e=void 0),Z.key!==void 0&&(me=""+Z.key),Z)!Y.call(Z,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Z.ref===void 0||(fe[ge]=Z[ge]);var ge=arguments.length-2;if(ge===1)fe.children=he;else if(1<ge){for(var Ce=Array(ge),Oe=0;Oe<ge;Oe++)Ce[Oe]=arguments[Oe+2];fe.children=Ce}return I(V.type,me,void 0,void 0,_e,fe)},Me.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Me.createElement=function(V,Z,he){var fe,me={},_e=null;if(Z!=null)for(fe in Z.key!==void 0&&(_e=""+Z.key),Z)Y.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=Z[fe]);var ge=arguments.length-2;if(ge===1)me.children=he;else if(1<ge){for(var Ce=Array(ge),Oe=0;Oe<ge;Oe++)Ce[Oe]=arguments[Oe+2];me.children=Ce}if(V&&V.defaultProps)for(fe in ge=V.defaultProps,ge)me[fe]===void 0&&(me[fe]=ge[fe]);return I(V,_e,void 0,void 0,null,me)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:m,render:V}},Me.isValidElement=M,Me.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:W}},Me.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Me.startTransition=function(V){var Z=q.T,he={};q.T=he;try{var fe=V(),me=q.S;me!==null&&me(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ie,F)}catch(_e){F(_e)}finally{q.T=Z}},Me.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Me.use=function(V){return q.H.use(V)},Me.useActionState=function(V,Z,he){return q.H.useActionState(V,Z,he)},Me.useCallback=function(V,Z){return q.H.useCallback(V,Z)},Me.useContext=function(V){return q.H.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V,Z){return q.H.useDeferredValue(V,Z)},Me.useEffect=function(V,Z,he){var fe=q.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(V,Z)},Me.useId=function(){return q.H.useId()},Me.useImperativeHandle=function(V,Z,he){return q.H.useImperativeHandle(V,Z,he)},Me.useInsertionEffect=function(V,Z){return q.H.useInsertionEffect(V,Z)},Me.useLayoutEffect=function(V,Z){return q.H.useLayoutEffect(V,Z)},Me.useMemo=function(V,Z){return q.H.useMemo(V,Z)},Me.useOptimistic=function(V,Z){return q.H.useOptimistic(V,Z)},Me.useReducer=function(V,Z,he){return q.H.useReducer(V,Z,he)},Me.useRef=function(V){return q.H.useRef(V)},Me.useState=function(V){return q.H.useState(V)},Me.useSyncExternalStore=function(V,Z,he){return q.H.useSyncExternalStore(V,Z,he)},Me.useTransition=function(){return q.H.useTransition()},Me.version="19.1.1",Me}var C1;function Qy(){return C1||(C1=1,Og.exports=C2()),Og.exports}var P=Qy();const Su=S2(P),R1=w2({__proto__:null,default:Su},[P]);var Pg={exports:{}},lu={},jg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function R2(){return N1||(N1=1,(function(t){function e(J,W){var F=J.length;J.push(W);e:for(;0<F;){var ie=F-1>>>1,V=J[ie];if(0<i(V,W))J[ie]=W,J[F]=V,F=ie;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var W=J[0],F=J.pop();if(F!==W){J[0]=F;e:for(var ie=0,V=J.length,Z=V>>>1;ie<Z;){var he=2*(ie+1)-1,fe=J[he],me=he+1,_e=J[me];if(0>i(fe,F))me<V&&0>i(_e,fe)?(J[ie]=_e,J[me]=F,ie=me):(J[ie]=fe,J[he]=F,ie=he);else if(me<V&&0>i(_e,F))J[ie]=_e,J[me]=F,ie=me;else break e}}return W}function i(J,W){var F=J.sortIndex-W.sortIndex;return F!==0?F:J.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var p=[],g=[],v=1,E=null,S=3,A=!1,C=!1,R=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function X(J){for(var W=n(g);W!==null;){if(W.callback===null)a(g);else if(W.startTime<=J)a(g),W.sortIndex=W.expirationTime,e(p,W);else break;W=n(g)}}function q(J){if(R=!1,X(J),!C)if(n(p)!==null)C=!0,Y||(Y=!0,b());else{var W=n(g);W!==null&&ye(q,W.startTime-J)}}var Y=!1,I=-1,O=5,M=-1;function U(){return j?!0:!(t.unstable_now()-M<O)}function k(){if(j=!1,Y){var J=t.unstable_now();M=J;var W=!0;try{e:{C=!1,R&&(R=!1,$(I),I=-1),A=!0;var F=S;try{t:{for(X(J),E=n(p);E!==null&&!(E.expirationTime>J&&U());){var ie=E.callback;if(typeof ie=="function"){E.callback=null,S=E.priorityLevel;var V=ie(E.expirationTime<=J);if(J=t.unstable_now(),typeof V=="function"){E.callback=V,X(J),W=!0;break t}E===n(p)&&a(p),X(J)}else a(p);E=n(p)}if(E!==null)W=!0;else{var Z=n(g);Z!==null&&ye(q,Z.startTime-J),W=!1}}break e}finally{E=null,S=F,A=!1}W=void 0}}finally{W?b():Y=!1}}}var b;if(typeof ne=="function")b=function(){ne(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,se=N.port2;N.port1.onmessage=k,b=function(){se.postMessage(null)}}else b=function(){z(k,0)};function ye(J,W){I=z(function(){J(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(J){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var F=S;S=W;try{return J()}finally{S=F}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(J,W){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var F=S;S=J;try{return W()}finally{S=F}},t.unstable_scheduleCallback=function(J,W,F){var ie=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ie+F:ie):F=ie,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,J={id:v++,callback:W,priorityLevel:J,startTime:F,expirationTime:V,sortIndex:-1},F>ie?(J.sortIndex=F,e(g,J),n(p)===null&&J===n(g)&&(R?($(I),I=-1):R=!0,ye(q,F-ie))):(J.sortIndex=V,e(p,J),C||A||(C=!0,Y||(Y=!0,b()))),J},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(J){var W=S;return function(){var F=S;S=W;try{return J.apply(this,arguments)}finally{S=F}}}})(Mg)),Mg}var I1;function N2(){return I1||(I1=1,jg.exports=R2()),jg.exports}var Vg={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function I2(){if(D1)return yn;D1=1;var t=Qy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},yn.flushSync=function(p){var g=u.T,v=a.p;try{if(u.T=null,a.p=2,p)return p()}finally{u.T=g,a.p=v,a.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:A}):v==="script"&&a.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},yn.requestFormReset=function(p){a.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.1.1",yn}var k1;function D2(){if(k1)return Vg.exports;k1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vg.exports=I2(),Vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function k2(){if(O1)return lu;O1=1;var t=N2(),e=Qy(),n=D2();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(a(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return m(h),r;if(y===c)return m(h),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=h,c=y;else{for(var w=!1,x=h.child;x;){if(x===o){w=!0,o=h,c=y;break}if(x===c){w=!0,c=h,o=y;break}x=x.sibling}if(!w){for(x=y.child;x;){if(x===o){w=!0,o=y,c=h;break}if(x===c){w=!0,c=y,o=h;break}x=x.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function b(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case j:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case ne:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case X:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:se(r.type)||"Memo";case O:s=r._payload,r=r._init;try{return se(r(s))}catch{}}return null}var ye=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ie=[],V=-1;function Z(r){return{current:r}}function he(r){0>V||(r.current=ie[V],ie[V]=null,V--)}function fe(r,s){V++,ie[V]=r.current,r.current=s}var me=Z(null),_e=Z(null),ge=Z(null),Ce=Z(null);function Oe(r,s){switch(fe(ge,s),fe(_e,r),fe(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ZE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ZE(s),r=JE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(me),fe(me,r)}function Wt(){he(me),he(_e),he(ge)}function Zt(r){r.memoizedState!==null&&fe(Ce,r);var s=me.current,o=JE(s,r.type);s!==o&&(fe(_e,r),fe(me,o))}function vr(r){_e.current===r&&(he(me),he(_e)),Ce.current===r&&(he(Ce),nu._currentValue=F)}var va=Object.prototype.hasOwnProperty,Mr=t.unstable_scheduleCallback,rs=t.unstable_cancelCallback,nc=t.unstable_shouldYield,yi=t.unstable_requestPaint,kn=t.unstable_now,md=t.unstable_getCurrentPriorityLevel,Gt=t.unstable_ImmediatePriority,Jt=t.unstable_UserBlockingPriority,_a=t.unstable_NormalPriority,Pm=t.unstable_LowPriority,rc=t.unstable_IdlePriority,jm=t.log,vi=t.unstable_setDisableYieldValue,as=null,mn=null;function nr(r){if(typeof jm=="function"&&vi(r),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(as,r)}catch{}}var Sn=Math.clz32?Math.clz32:gd,Mm=Math.log,pd=Math.LN2;function gd(r){return r>>>=0,r===0?32:31-(Mm(r)/pd|0)|0}var Vr=256,ss=4194304;function _r(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function rr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var h=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var x=c&134217727;return x!==0?(c=x&~y,c!==0?h=_r(c):(w&=x,w!==0?h=_r(w):o||(o=x&~r,o!==0&&(h=_r(o))))):(x=c&~y,x!==0?h=_r(x):w!==0?h=_r(w):o||(o=c&~r,o!==0&&(h=_r(o)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:h}function is(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ao(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var r=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),r}function os(){var r=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),r}function xo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function It(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function yd(r,s,o,c,h,y){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,L=r.expirationTimes,Q=r.hiddenUpdates;for(o=w&~o;0<o;){var oe=31-Sn(o),ue=1<<oe;x[oe]=0,L[oe]=-1;var ee=Q[oe];if(ee!==null)for(Q[oe]=null,oe=0;oe<ee.length;oe++){var te=ee[oe];te!==null&&(te.lane&=-536870913)}o&=~ue}c!==0&&ls(r,c,0),y!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~s))}function ls(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Sn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function cs(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Sn(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function sc(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ic(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ea(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:v1(r.type))}function Vm(r,s){var o=W.p;try{return W.p=r,s()}finally{W.p=o}}var Lr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Lr,sn="__reactProps$"+Lr,ba="__reactContainer$"+Lr,_i="__reactEvents$"+Lr,Ei="__reactListeners$"+Lr,Lm="__reactHandles$"+Lr,Er="__reactResources$"+Lr,us="__reactMarker$"+Lr;function Co(r){delete r[Dt],delete r[sn],delete r[_i],delete r[Ei],delete r[Lm]}function Ur(r){var s=r[Dt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ba]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=r1(r);r!==null;){if(o=r[Dt])return o;r=r1(r)}return s}r=o,o=r.parentNode}return null}function zr(r){if(r=r[Dt]||r[ba]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function ds(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function hs(r){var s=r[Er];return s||(s=r[Er]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(r){r[us]=!0}var vd=new Set,bi={};function Br(r,s){qr(r,s),qr(r+"Capture",s)}function qr(r,s){for(bi[r]=s,r=0;r<s.length;r++)vd.add(s[r])}var Ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Ro={};function Um(r){return va.call(Ro,r)?!0:va.call(Fr,r)?!1:Ti.test(r)?Ro[r]=!0:(Fr[r]=!0,!1)}function wi(r,s,o){if(Um(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Si(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ar(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Ai,No;function Ta(r){if(Ai===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ai=s&&s[1]||"",No=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+r+No}var Io=!1;function Do(r,s){if(!r||Io)return"";Io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(te){ee=te}r.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],x=y[1];if(w&&x){var L=w.split(`
`),Q=x.split(`
`);for(h=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(c===L.length||h===Q.length)for(c=L.length-1,h=Q.length-1;1<=c&&0<=h&&L[c]!==Q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(L[c]!==Q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||L[c]!==Q[h]){var oe=`
`+L[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ta(o):""}function zm(r){switch(r.tag){case 26:case 27:case 5:return Ta(r.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 15:return Do(r.type,!1);case 11:return Do(r.type.render,!1);case 1:return Do(r.type,!0);case 31:return Ta("Activity");default:return""}}function br(r){try{var s="";do s+=zm(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Et(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fs(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xi(r){var s=fs(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ms(r){r._valueTracker||(r._valueTracker=xi(r))}function at(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=fs(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function wa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ci=/[\n"\\]/g;function en(r){return r.replace(Ci,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function oc(r,s,o,c,h,y,w,x){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Et(s)):r.value!==""+Et(s)&&(r.value=""+Et(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?cc(r,w,Et(s)):o!=null?cc(r,w,Et(o)):c!=null&&r.removeAttribute("value"),h==null&&y!=null&&(r.defaultChecked=!!y),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+Et(x):r.removeAttribute("name")}function lc(r,s,o,c,h,y,w,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Et(o):"",s=s!=null?""+Et(s):o,x||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=x?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function cc(r,s,o){s==="number"&&wa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ps(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Et(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function _d(r,s,o){if(s!=null&&(s=""+Et(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Et(o):""}function Ed(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(ye(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Et(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function sr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Sa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function dc(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&uc(r,h,c)}else for(var y in s)s.hasOwnProperty(y)&&uc(r,y,s[y])}function ko(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(r){return Td.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var hc=null;function fc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gs=null,An=null;function wd(r){var s=zr(r);if(s&&(r=s.stateNode)){var o=r[sn]||null;e:switch(r=s.stateNode,s.type){case"input":if(oc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+en(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[sn]||null;if(!h)throw Error(a(90));oc(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&at(c)}break e;case"textarea":_d(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ps(r,!!o.multiple,s,!1)}}}var Ri=!1;function Ni(r,s,o){if(Ri)return r(s,o);Ri=!0;try{var c=r(s);return c}finally{if(Ri=!1,(gs!==null||An!==null)&&(hh(),gs&&(s=gs,r=An,An=gs=null,wd(s),r)))for(s=0;s<r.length;s++)wd(r[s])}}function ys(r,s){var o=r.stateNode;if(o===null)return null;var c=o[sn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(xn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Aa=!1}var ir=null,dt=null,Oo=null;function Sd(){if(Oo)return Oo;var r,s=dt,o=s.length,c,h="value"in ir?ir.value:ir.textContent,y=h.length;for(r=0;r<o&&s[r]===h[r];r++);var w=o-r;for(c=1;c<=w&&s[o-c]===h[y-c];c++);return Oo=h.slice(r,1<c?1-c:void 0)}function Ii(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Di(){return!0}function mc(){return!1}function Kt(r){function s(o,c,h,y,w){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Di:mc,this.isPropagationStopped=mc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),s}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Kt(pn),Oi=v({},pn,{view:0,detail:0}),Pi=Kt(Oi),Po,ji,Hr,Mi=v({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(Po=r.screenX-Hr.screenX,ji=r.screenY-Hr.screenY):ji=Po=0,Hr=r),Po)},movementY:function(r){return"movementY"in r?r.movementY:ji}}),Vi=Kt(Mi),Bm=v({},Mi,{dataTransfer:0}),Ad=Kt(Bm),Li=v({},Oi,{relatedTarget:0}),jo=Kt(Li),xd=v({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),pc=Kt(xd),gc=v({},pn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cd=Kt(gc),Mo=v({},pn,{data:0}),yc=Kt(Mo),Rd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Id(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Nd[r])?!!s[r]:!1}function Vo(){return Id}var Dd=v({},Oi,{key:function(r){if(r.key){var s=Rd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ii(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?xa[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(r){return r.type==="keypress"?Ii(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ii(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Lo=Kt(Dd),Cn=v({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=Kt(Cn),kd=v({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),_s=Kt(kd),d=v({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=Kt(d),T=v({},Mi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),D=Kt(T),K=v({},pn,{newState:0,oldState:0}),re=Kt(K),pe=[9,13,27,32],Pe=xn&&"CompositionEvent"in window,pt=null;xn&&"documentMode"in document&&(pt=document.documentMode);var Je=xn&&"TextEvent"in window&&!pt,Ot=xn&&(!Pe||pt&&8<pt&&11>=pt),Un=" ",$r=!1;function wr(r,s){switch(r){case"keyup":return pe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ar=!1;function _c(r,s){switch(r){case"compositionend":return Sr(s);case"keypress":return s.which!==32?null:($r=!0,Un);case"textInput":return r=s.data,r===Un&&$r?null:r;default:return null}}function Xx(r,s){if(Ar)return r==="compositionend"||!Pe&&wr(r,s)?(r=Sd(),Oo=dt=ir=null,Ar=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ot&&s.locale!=="ko"?null:s.data;default:return null}}var Wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Wx[r.type]:s==="textarea"}function f_(r,s,o,c){gs?An?An.push(c):An=[c]:gs=c,s=vh(s,"onChange"),0<s.length&&(o=new ki("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Ec=null,bc=null;function Zx(r){KE(r,0)}function Od(r){var s=ds(r);if(at(s))return r}function m_(r,s){if(r==="change")return s}var p_=!1;if(xn){var qm;if(xn){var Fm="oninput"in document;if(!Fm){var g_=document.createElement("div");g_.setAttribute("oninput","return;"),Fm=typeof g_.oninput=="function"}qm=Fm}else qm=!1;p_=qm&&(!document.documentMode||9<document.documentMode)}function y_(){Ec&&(Ec.detachEvent("onpropertychange",v_),bc=Ec=null)}function v_(r){if(r.propertyName==="value"&&Od(bc)){var s=[];f_(s,bc,r,fc(r)),Ni(Zx,s)}}function Jx(r,s,o){r==="focusin"?(y_(),Ec=s,bc=o,Ec.attachEvent("onpropertychange",v_)):r==="focusout"&&y_()}function eC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Od(bc)}function tC(r,s){if(r==="click")return Od(s)}function nC(r,s){if(r==="input"||r==="change")return Od(s)}function rC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:rC;function Tc(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!va.call(s,h)||!zn(r[h],s[h]))return!1}return!0}function __(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function E_(r,s){var o=__(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=__(o)}}function b_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?b_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function T_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=wa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=wa(r.document)}return s}function Hm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var aC=xn&&"documentMode"in document&&11>=document.documentMode,Uo=null,$m=null,wc=null,Gm=!1;function w_(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gm||Uo==null||Uo!==wa(c)||(c=Uo,"selectionStart"in c&&Hm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wc&&Tc(wc,c)||(wc=c,c=vh($m,"onSelect"),0<c.length&&(s=new ki("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Uo)))}function Ui(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var zo={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},Km={},S_={};xn&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function zi(r){if(Km[r])return Km[r];if(!zo[r])return r;var s=zo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in S_)return Km[r]=s[o];return r}var A_=zi("animationend"),x_=zi("animationiteration"),C_=zi("animationstart"),sC=zi("transitionrun"),iC=zi("transitionstart"),oC=zi("transitioncancel"),R_=zi("transitionend"),N_=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function xr(r,s){N_.set(r,s),Br(s,[r])}var I_=new WeakMap;function or(r,s){if(typeof r=="object"&&r!==null){var o=I_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:br(s)},I_.set(r,s),s)}return{value:r,source:s,stack:br(s)}}var lr=[],Bo=0,Qm=0;function Pd(){for(var r=Bo,s=Qm=Bo=0;s<r;){var o=lr[s];lr[s++]=null;var c=lr[s];lr[s++]=null;var h=lr[s];lr[s++]=null;var y=lr[s];if(lr[s++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}y!==0&&D_(o,h,y)}}function jd(r,s,o,c){lr[Bo++]=r,lr[Bo++]=s,lr[Bo++]=o,lr[Bo++]=c,Qm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Xm(r,s,o,c){return jd(r,s,o,c),Md(r)}function qo(r,s){return jd(r,null,null,s),Md(r)}function D_(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(h=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,h&&s!==null&&(h=31-Sn(o),r=y.hiddenUpdates,c=r[h],c===null?r[h]=[s]:c.push(s),s.lane=o|536870912),y):null}function Md(r){if(50<Yc)throw Yc=0,ng=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Fo={};function lC(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,o,c){return new lC(r,s,o,c)}function Wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ca(r,s){var o=r.alternate;return o===null?(o=Bn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function k_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Vd(r,s,o,c,h,y){var w=0;if(c=r,typeof r=="function")Wm(r)&&(w=1);else if(typeof r=="string")w=u2(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Bn(31,o,s,h),r.elementType=M,r.lanes=y,r;case C:return Bi(o.children,h,y,s);case R:w=8,h|=24;break;case j:return r=Bn(12,o,s,h|2),r.elementType=j,r.lanes=y,r;case q:return r=Bn(13,o,s,h),r.elementType=q,r.lanes=y,r;case Y:return r=Bn(19,o,s,h),r.elementType=Y,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:case ne:w=10;break e;case $:w=9;break e;case X:w=11;break e;case I:w=14;break e;case O:w=16,c=null;break e}w=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Bn(w,o,s,h),s.elementType=r,s.type=c,s.lanes=y,s}function Bi(r,s,o,c){return r=Bn(7,r,c,s),r.lanes=o,r}function Zm(r,s,o){return r=Bn(6,r,null,s),r.lanes=o,r}function Jm(r,s,o){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ho=[],$o=0,Ld=null,Ud=0,cr=[],ur=0,qi=null,Ra=1,Na="";function Fi(r,s){Ho[$o++]=Ud,Ho[$o++]=Ld,Ld=r,Ud=s}function O_(r,s,o){cr[ur++]=Ra,cr[ur++]=Na,cr[ur++]=qi,qi=r;var c=Ra;r=Na;var h=32-Sn(c)-1;c&=~(1<<h),o+=1;var y=32-Sn(s)+h;if(30<y){var w=h-h%5;y=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Ra=1<<32-Sn(s)+h|o<<h|c,Na=y+r}else Ra=1<<y|o<<h|c,Na=r}function ep(r){r.return!==null&&(Fi(r,1),O_(r,1,0))}function tp(r){for(;r===Ld;)Ld=Ho[--$o],Ho[$o]=null,Ud=Ho[--$o],Ho[$o]=null;for(;r===qi;)qi=cr[--ur],cr[ur]=null,Na=cr[--ur],cr[ur]=null,Ra=cr[--ur],cr[ur]=null}var Rn=null,wt=null,Ye=!1,Hi=null,Gr=!1,np=Error(a(519));function $i(r){var s=Error(a(418,""));throw xc(or(s,r)),np}function P_(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Dt]=r,s[sn]=c,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<Xc.length;o++)ze(Xc[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),lc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ms(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Ed(s,c.value,c.defaultValue,c.children),ms(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||WE(s.textContent,o)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=_h),s=!0):s=!1,s||$i(r)}function j_(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Rn=Rn.return}}function Sc(r){if(r!==Rn)return!1;if(!Ye)return j_(r),Ye=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||vg(r.type,r.memoizedProps)),o=!o),o&&wt&&$i(r),j_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){wt=Rr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}wt=null}}else s===27?(s=wt,js(r.type)?(r=Tg,Tg=null,wt=r):wt=s):wt=Rn?Rr(r.stateNode.nextSibling):null;return!0}function Ac(){wt=Rn=null,Ye=!1}function M_(){var r=Hi;return r!==null&&(jn===null?jn=r:jn.push.apply(jn,r),Hi=null),r}function xc(r){Hi===null?Hi=[r]:Hi.push(r)}var rp=Z(null),Gi=null,Ia=null;function Es(r,s,o){fe(rp,s._currentValue),s._currentValue=o}function Da(r){r._currentValue=rp.current,he(rp)}function ap(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function sp(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var y=h.dependencies;if(y!==null){var w=h.child;y=y.firstContext;e:for(;y!==null;){var x=y;y=h;for(var L=0;L<s.length;L++)if(x.context===s[L]){y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),ap(y.return,o,r),c||(w=null);break e}y=x.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),ap(w,o,r),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Cc(r,s,o,c){r=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var x=h.type;zn(h.pendingProps.value,w.value)||(r!==null?r.push(x):r=[x])}}else if(h===Ce.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(nu):r=[nu])}h=h.return}r!==null&&sp(s,r,o,c),s.flags|=262144}function zd(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ki(r){Gi=r,Ia=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gn(r){return V_(Gi,r)}function Bd(r,s){return Gi===null&&Ki(r),V_(r,s)}function V_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ia===null){if(r===null)throw Error(a(308));Ia=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ia=Ia.next=s;return o}var cC=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},uC=t.unstable_scheduleCallback,dC=t.unstable_NormalPriority,Yt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new cC,data:new Map,refCount:0}}function Rc(r){r.refCount--,r.refCount===0&&uC(dC,function(){r.controller.abort()})}var Nc=null,op=0,Go=0,Ko=null;function hC(r,s){if(Nc===null){var o=Nc=[];op=0,Go=cg(),Ko={status:"pending",value:void 0,then:function(c){o.push(c)}}}return op++,s.then(L_,L_),s}function L_(){if(--op===0&&Nc!==null){Ko!==null&&(Ko.status="fulfilled");var r=Nc;Nc=null,Go=0,Ko=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function fC(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var U_=J.S;J.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&hC(r,s),U_!==null&&U_(r,s)};var Yi=Z(null);function lp(){var r=Yi.current;return r!==null?r:ht.pooledCache}function qd(r,s){s===null?fe(Yi,Yi.current):fe(Yi,s.pool)}function z_(){var r=lp();return r===null?null:{parent:Yt._currentValue,pool:r}}var Ic=Error(a(460)),B_=Error(a(474)),Fd=Error(a(542)),cp={then:function(){}};function q_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Hd(){}function F_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Hd,Hd),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$_(r),r;default:if(typeof s.status=="string")s.then(Hd,Hd);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$_(r),r}throw Dc=s,Ic}}var Dc=null;function H_(){if(Dc===null)throw Error(a(459));var r=Dc;return Dc=null,r}function $_(r){if(r===Ic||r===Fd)throw Error(a(483))}var bs=!1;function up(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ws(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Md(r),D_(r,null,o),s}return jd(r,c,s,o),Md(r)}function kc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,cs(r,o)}}function hp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?h=y=s:y=y.next=s}else h=y=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var fp=!1;function Oc(){if(fp){var r=Ko;if(r!==null)throw r}}function Pc(r,s,o,c){fp=!1;var h=r.updateQueue;bs=!1;var y=h.firstBaseUpdate,w=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var L=x,Q=L.next;L.next=null,w===null?y=Q:w.next=Q,w=L;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,x=oe.lastBaseUpdate,x!==w&&(x===null?oe.firstBaseUpdate=Q:x.next=Q,oe.lastBaseUpdate=L))}if(y!==null){var ue=h.baseState;w=0,oe=Q=L=null,x=y;do{var ee=x.lane&-536870913,te=ee!==x.lane;if(te?(He&ee)===ee:(c&ee)===ee){ee!==0&&ee===Go&&(fp=!0),oe!==null&&(oe=oe.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ie=r,Ae=x;ee=s;var ot=o;switch(Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){ue=Ie.call(ot,ue,ee);break e}ue=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,ee=typeof Ie=="function"?Ie.call(ot,ue,ee):Ie,ee==null)break e;ue=v({},ue,ee);break e;case 2:bs=!0}}ee=x.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=h.callbacks,te===null?h.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:x.tag,payload:x.payload,callback:x.callback,next:null},oe===null?(Q=oe=te,L=ue):oe=oe.next=te,w|=ee;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;te=x,x=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);oe===null&&(L=ue),h.baseState=L,h.firstBaseUpdate=Q,h.lastBaseUpdate=oe,y===null&&(h.shared.lanes=0),Ds|=w,r.lanes=w,r.memoizedState=ue}}function G_(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function K_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)G_(o[r],s)}var Yo=Z(null),$d=Z(0);function Y_(r,s){r=La,fe($d,r),fe(Yo,s),La=r|s.baseLanes}function mp(){fe($d,La),fe(Yo,Yo.current)}function pp(){La=$d.current,he(Yo),he($d)}var Ss=0,Ve=null,st=null,Ut=null,Gd=!1,Qo=!1,Qi=!1,Kd=0,jc=0,Xo=null,mC=0;function Pt(){throw Error(a(321))}function gp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!zn(r[o],s[o]))return!1;return!0}function yp(r,s,o,c,h,y){return Ss=y,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=r===null||r.memoizedState===null?D0:k0,Qi=!1,y=o(c,h),Qi=!1,Qo&&(y=X_(s,o,c,h)),Q_(r),y}function Q_(r){J.H=Jd;var s=st!==null&&st.next!==null;if(Ss=0,Ut=st=Ve=null,Gd=!1,jc=0,Xo=null,s)throw Error(a(300));r===null||tn||(r=r.dependencies,r!==null&&zd(r)&&(tn=!0))}function X_(r,s,o,c){Ve=r;var h=0;do{if(Qo&&(Xo=null),jc=0,Qo=!1,25<=h)throw Error(a(301));if(h+=1,Ut=st=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=bC,y=s(o,c)}while(Qo);return y}function pC(){var r=J.H,s=r.useState()[0];return s=typeof s.then=="function"?Mc(s):s,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(Ve.flags|=1024),s}function vp(){var r=Kd!==0;return Kd=0,r}function _p(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ep(r){if(Gd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}Ss=0,Ut=st=Ve=null,Qo=!1,jc=Kd=0,Xo=null}function On(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ve.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function zt(){if(st===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var s=Ut===null?Ve.memoizedState:Ut.next;if(s!==null)Ut=s,st=r;else{if(r===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ut===null?Ve.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mc(r){var s=jc;return jc+=1,Xo===null&&(Xo=[]),r=F_(Xo,r,s),s=Ve,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?D0:k0),r}function Yd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Mc(r);if(r.$$typeof===ne)return gn(r)}throw Error(a(438,String(r)))}function Tp(r){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bp(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=U;return s.index++,o}function ka(r,s){return typeof s=="function"?s(r):s}function Qd(r){var s=zt();return wp(s,st,r)}function wp(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var h=r.baseQueue,y=c.pending;if(y!==null){if(h!==null){var w=h.next;h.next=y.next,y.next=w}s.baseQueue=h=y,c.pending=null}if(y=r.baseState,h===null)r.memoizedState=y;else{s=h.next;var x=w=null,L=null,Q=s,oe=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(He&ue)===ue:(Ss&ue)===ue){var ee=Q.revertLane;if(ee===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===Go&&(oe=!0);else if((Ss&ee)===ee){Q=Q.next,ee===Go&&(oe=!0);continue}else ue={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(x=L=ue,w=y):L=L.next=ue,Ve.lanes|=ee,Ds|=ee;ue=Q.action,Qi&&o(y,ue),y=Q.hasEagerState?Q.eagerState:o(y,ue)}else ee={lane:ue,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(x=L=ee,w=y):L=L.next=ee,Ve.lanes|=ue,Ds|=ue;Q=Q.next}while(Q!==null&&Q!==s);if(L===null?w=y:L.next=x,!zn(y,r.memoizedState)&&(tn=!0,oe&&(o=Ko,o!==null)))throw o;r.memoizedState=y,r.baseState=w,r.baseQueue=L,c.lastRenderedState=y}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Sp(r){var s=zt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,y=s.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do y=r(y,w.action),w=w.next;while(w!==h);zn(y,s.memoizedState)||(tn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function W_(r,s,o){var c=Ve,h=zt(),y=Ye;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var w=!zn((st||h).memoizedState,o);w&&(h.memoizedState=o,tn=!0),h=h.queue;var x=e0.bind(null,c,h,r);if(Vc(2048,8,x,[r]),h.getSnapshot!==s||w||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,Wo(9,Xd(),J_.bind(null,c,h,o,s),null),ht===null)throw Error(a(349));y||(Ss&124)!==0||Z_(c,s,o)}return o}function Z_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=bp(),Ve.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function J_(r,s,o,c){s.value=o,s.getSnapshot=c,t0(s)&&n0(r)}function e0(r,s,o){return o(function(){t0(s)&&n0(r)})}function t0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!zn(r,o)}catch{return!0}}function n0(r){var s=qo(r,2);s!==null&&Gn(s,r,2)}function Ap(r){var s=On();if(typeof r=="function"){var o=r;if(r=o(),Qi){nr(!0);try{o()}finally{nr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:r},s}function r0(r,s,o,c){return r.baseState=o,wp(r,st,typeof c=="function"?c:ka)}function gC(r,s,o,c,h){if(Zd(r))throw Error(a(485));if(r=s.action,r!==null){var y={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};J.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,a0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function a0(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var y=J.T,w={};J.T=w;try{var x=o(h,c),L=J.S;L!==null&&L(w,x),s0(r,s,x)}catch(Q){xp(r,s,Q)}finally{J.T=y}}else try{y=o(h,c),s0(r,s,y)}catch(Q){xp(r,s,Q)}}function s0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){i0(r,s,c)},function(c){return xp(r,s,c)}):i0(r,s,o)}function i0(r,s,o){s.status="fulfilled",s.value=o,o0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,a0(r,o)))}function xp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,o0(s),s=s.next;while(s!==c)}r.action=null}function o0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function l0(r,s){return s}function c0(r,s){if(Ye){var o=ht.formState;if(o!==null){e:{var c=Ve;if(Ye){if(wt){t:{for(var h=wt,y=Gr;h.nodeType!==8;){if(!y){h=null;break t}if(h=Rr(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){wt=Rr(h.nextSibling),c=h.data==="F!";break e}}$i(c)}c=!1}c&&(s=o[0])}}return o=On(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:s},o.queue=c,o=R0.bind(null,Ve,c),c.dispatch=o,c=Ap(!1),y=Dp.bind(null,Ve,!1,c.queue),c=On(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=gC.bind(null,Ve,h,y,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function u0(r){var s=zt();return d0(s,st,r)}function d0(r,s,o){if(s=wp(r,s,l0)[0],r=Qd(ka)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Mc(s)}catch(w){throw w===Ic?Fd:w}else c=s;s=zt();var h=s.queue,y=h.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,Wo(9,Xd(),yC.bind(null,h,o),null)),[c,y,r]}function yC(r,s){r.action=s}function h0(r){var s=zt(),o=st;if(o!==null)return d0(s,o,r);zt(),s=s.memoizedState,o=zt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Wo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=bp(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Xd(){return{destroy:void 0,resource:void 0}}function f0(){return zt().memoizedState}function Wd(r,s,o,c){var h=On();c=c===void 0?null:c,Ve.flags|=r,h.memoizedState=Wo(1|s,Xd(),o,c)}function Vc(r,s,o,c){var h=zt();c=c===void 0?null:c;var y=h.memoizedState.inst;st!==null&&c!==null&&gp(c,st.memoizedState.deps)?h.memoizedState=Wo(s,y,o,c):(Ve.flags|=r,h.memoizedState=Wo(1|s,y,o,c))}function m0(r,s){Wd(8390656,8,r,s)}function p0(r,s){Vc(2048,8,r,s)}function g0(r,s){return Vc(4,2,r,s)}function y0(r,s){return Vc(4,4,r,s)}function v0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _0(r,s,o){o=o!=null?o.concat([r]):null,Vc(4,4,v0.bind(null,s,r),o)}function Cp(){}function E0(r,s){var o=zt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&gp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function b0(r,s){var o=zt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&gp(s,c[1]))return c[0];if(c=r(),Qi){nr(!0);try{r()}finally{nr(!1)}}return o.memoizedState=[c,s],c}function Rp(r,s,o){return o===void 0||(Ss&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=SE(),Ve.lanes|=r,Ds|=r,o)}function T0(r,s,o,c){return zn(o,s)?o:Yo.current!==null?(r=Rp(r,o,c),zn(r,s)||(tn=!0),r):(Ss&42)===0?(tn=!0,r.memoizedState=o):(r=SE(),Ve.lanes|=r,Ds|=r,s)}function w0(r,s,o,c,h){var y=W.p;W.p=y!==0&&8>y?y:8;var w=J.T,x={};J.T=x,Dp(r,!1,s,o);try{var L=h(),Q=J.S;if(Q!==null&&Q(x,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var oe=fC(L,c);Lc(r,s,oe,$n(r))}else Lc(r,s,c,$n(r))}catch(ue){Lc(r,s,{then:function(){},status:"rejected",reason:ue},$n())}finally{W.p=y,J.T=w}}function vC(){}function Np(r,s,o,c){if(r.tag!==5)throw Error(a(476));var h=S0(r).queue;w0(r,h,s,F,o===null?vC:function(){return A0(r),o(c)})}function S0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:F},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function A0(r){var s=S0(r).next.queue;Lc(r,s,{},$n())}function Ip(){return gn(nu)}function x0(){return zt().memoizedState}function C0(){return zt().memoizedState}function _C(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=Ts(o);var c=ws(s,r,o);c!==null&&(Gn(c,s,o),kc(c,s,o)),s={cache:ip()},r.payload=s;return}s=s.return}}function EC(r,s,o){var c=$n();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Zd(r)?N0(s,o):(o=Xm(r,s,o,c),o!==null&&(Gn(o,r,c),I0(o,s,c)))}function R0(r,s,o){var c=$n();Lc(r,s,o,c)}function Lc(r,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zd(r))N0(s,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,x=y(w,o);if(h.hasEagerState=!0,h.eagerState=x,zn(x,w))return jd(r,s,h,0),ht===null&&Pd(),!1}catch{}finally{}if(o=Xm(r,s,h,c),o!==null)return Gn(o,r,c),I0(o,s,c),!0}return!1}function Dp(r,s,o,c){if(c={lane:2,revertLane:cg(),action:c,hasEagerState:!1,eagerState:null,next:null},Zd(r)){if(s)throw Error(a(479))}else s=Xm(r,o,c,2),s!==null&&Gn(s,r,2)}function Zd(r){var s=r.alternate;return r===Ve||s!==null&&s===Ve}function N0(r,s){Qo=Gd=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function I0(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,cs(r,o)}}var Jd={readContext:gn,use:Yd,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},D0={readContext:gn,use:Yd,useCallback:function(r,s){return On().memoizedState=[r,s===void 0?null:s],r},useContext:gn,useEffect:m0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Wd(4194308,4,v0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Wd(4194308,4,r,s)},useInsertionEffect:function(r,s){Wd(4,2,r,s)},useMemo:function(r,s){var o=On();s=s===void 0?null:s;var c=r();if(Qi){nr(!0);try{r()}finally{nr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=On();if(o!==void 0){var h=o(s);if(Qi){nr(!0);try{o(s)}finally{nr(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=EC.bind(null,Ve,r),[c.memoizedState,r]},useRef:function(r){var s=On();return r={current:r},s.memoizedState=r},useState:function(r){r=Ap(r);var s=r.queue,o=R0.bind(null,Ve,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Cp,useDeferredValue:function(r,s){var o=On();return Rp(o,r,s)},useTransition:function(){var r=Ap(!1);return r=w0.bind(null,Ve,r.queue,!0,!1),On().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ve,h=On();if(Ye){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),ht===null)throw Error(a(349));(He&124)!==0||Z_(c,s,o)}h.memoizedState=o;var y={value:o,getSnapshot:s};return h.queue=y,m0(e0.bind(null,c,y,r),[r]),c.flags|=2048,Wo(9,Xd(),J_.bind(null,c,y,o,s),null),o},useId:function(){var r=On(),s=ht.identifierPrefix;if(Ye){var o=Na,c=Ra;o=(c&~(1<<32-Sn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Kd++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=mC++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ip,useFormState:c0,useActionState:c0,useOptimistic:function(r){var s=On();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Dp.bind(null,Ve,!0,o),o.dispatch=s,[r,s]},useMemoCache:Tp,useCacheRefresh:function(){return On().memoizedState=_C.bind(null,Ve)}},k0={readContext:gn,use:Yd,useCallback:E0,useContext:gn,useEffect:p0,useImperativeHandle:_0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:b0,useReducer:Qd,useRef:f0,useState:function(){return Qd(ka)},useDebugValue:Cp,useDeferredValue:function(r,s){var o=zt();return T0(o,st.memoizedState,r,s)},useTransition:function(){var r=Qd(ka)[0],s=zt().memoizedState;return[typeof r=="boolean"?r:Mc(r),s]},useSyncExternalStore:W_,useId:x0,useHostTransitionStatus:Ip,useFormState:u0,useActionState:u0,useOptimistic:function(r,s){var o=zt();return r0(o,st,r,s)},useMemoCache:Tp,useCacheRefresh:C0},bC={readContext:gn,use:Yd,useCallback:E0,useContext:gn,useEffect:p0,useImperativeHandle:_0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:b0,useReducer:Sp,useRef:f0,useState:function(){return Sp(ka)},useDebugValue:Cp,useDeferredValue:function(r,s){var o=zt();return st===null?Rp(o,r,s):T0(o,st.memoizedState,r,s)},useTransition:function(){var r=Sp(ka)[0],s=zt().memoizedState;return[typeof r=="boolean"?r:Mc(r),s]},useSyncExternalStore:W_,useId:x0,useHostTransitionStatus:Ip,useFormState:h0,useActionState:h0,useOptimistic:function(r,s){var o=zt();return st!==null?r0(o,st,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:C0},Zo=null,Uc=0;function eh(r){var s=Uc;return Uc+=1,Zo===null&&(Zo=[]),F_(Zo,r,s)}function zc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function th(r,s){throw s.$$typeof===E?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function O0(r){var s=r._init;return s(r._payload)}function P0(r){function s(H,B){if(r){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function o(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function h(H,B){return H=Ca(H,B),H.index=0,H.sibling=null,H}function y(H,B,G){return H.index=G,r?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function w(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function x(H,B,G,le){return B===null||B.tag!==6?(B=Zm(G,H.mode,le),B.return=H,B):(B=h(B,G),B.return=H,B)}function L(H,B,G,le){var be=G.type;return be===C?oe(H,B,G.props.children,le,G.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&O0(be)===B.type)?(B=h(B,G.props),zc(B,G),B.return=H,B):(B=Vd(G.type,G.key,G.props,null,H.mode,le),zc(B,G),B.return=H,B)}function Q(H,B,G,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Jm(G,H.mode,le),B.return=H,B):(B=h(B,G.children||[]),B.return=H,B)}function oe(H,B,G,le,be){return B===null||B.tag!==7?(B=Bi(G,H.mode,le,be),B.return=H,B):(B=h(B,G),B.return=H,B)}function ue(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Zm(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return G=Vd(B.type,B.key,B.props,null,H.mode,G),zc(G,B),G.return=H,G;case A:return B=Jm(B,H.mode,G),B.return=H,B;case O:var le=B._init;return B=le(B._payload),ue(H,B,G)}if(ye(B)||b(B))return B=Bi(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return ue(H,eh(B),G);if(B.$$typeof===ne)return ue(H,Bd(H,B),G);th(H,B)}return null}function ee(H,B,G,le){var be=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:x(H,B,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===be?L(H,B,G,le):null;case A:return G.key===be?Q(H,B,G,le):null;case O:return be=G._init,G=be(G._payload),ee(H,B,G,le)}if(ye(G)||b(G))return be!==null?null:oe(H,B,G,le,null);if(typeof G.then=="function")return ee(H,B,eh(G),le);if(G.$$typeof===ne)return ee(H,B,Bd(H,G),le);th(H,G)}return null}function te(H,B,G,le,be){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return H=H.get(G)||null,x(B,H,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return H=H.get(le.key===null?G:le.key)||null,L(B,H,le,be);case A:return H=H.get(le.key===null?G:le.key)||null,Q(B,H,le,be);case O:var Le=le._init;return le=Le(le._payload),te(H,B,G,le,be)}if(ye(le)||b(le))return H=H.get(G)||null,oe(B,H,le,be,null);if(typeof le.then=="function")return te(H,B,G,eh(le),be);if(le.$$typeof===ne)return te(H,B,G,Bd(B,le),be);th(B,le)}return null}function Ie(H,B,G,le){for(var be=null,Le=null,Te=B,xe=B=0,rn=null;Te!==null&&xe<G.length;xe++){Te.index>xe?(rn=Te,Te=null):rn=Te.sibling;var Ke=ee(H,Te,G[xe],le);if(Ke===null){Te===null&&(Te=rn);break}r&&Te&&Ke.alternate===null&&s(H,Te),B=y(Ke,B,xe),Le===null?be=Ke:Le.sibling=Ke,Le=Ke,Te=rn}if(xe===G.length)return o(H,Te),Ye&&Fi(H,xe),be;if(Te===null){for(;xe<G.length;xe++)Te=ue(H,G[xe],le),Te!==null&&(B=y(Te,B,xe),Le===null?be=Te:Le.sibling=Te,Le=Te);return Ye&&Fi(H,xe),be}for(Te=c(Te);xe<G.length;xe++)rn=te(Te,H,xe,G[xe],le),rn!==null&&(r&&rn.alternate!==null&&Te.delete(rn.key===null?xe:rn.key),B=y(rn,B,xe),Le===null?be=rn:Le.sibling=rn,Le=rn);return r&&Te.forEach(function(zs){return s(H,zs)}),Ye&&Fi(H,xe),be}function Ae(H,B,G,le){if(G==null)throw Error(a(151));for(var be=null,Le=null,Te=B,xe=B=0,rn=null,Ke=G.next();Te!==null&&!Ke.done;xe++,Ke=G.next()){Te.index>xe?(rn=Te,Te=null):rn=Te.sibling;var zs=ee(H,Te,Ke.value,le);if(zs===null){Te===null&&(Te=rn);break}r&&Te&&zs.alternate===null&&s(H,Te),B=y(zs,B,xe),Le===null?be=zs:Le.sibling=zs,Le=zs,Te=rn}if(Ke.done)return o(H,Te),Ye&&Fi(H,xe),be;if(Te===null){for(;!Ke.done;xe++,Ke=G.next())Ke=ue(H,Ke.value,le),Ke!==null&&(B=y(Ke,B,xe),Le===null?be=Ke:Le.sibling=Ke,Le=Ke);return Ye&&Fi(H,xe),be}for(Te=c(Te);!Ke.done;xe++,Ke=G.next())Ke=te(Te,H,xe,Ke.value,le),Ke!==null&&(r&&Ke.alternate!==null&&Te.delete(Ke.key===null?xe:Ke.key),B=y(Ke,B,xe),Le===null?be=Ke:Le.sibling=Ke,Le=Ke);return r&&Te.forEach(function(T2){return s(H,T2)}),Ye&&Fi(H,xe),be}function ot(H,B,G,le){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var be=G.key;B!==null;){if(B.key===be){if(be=G.type,be===C){if(B.tag===7){o(H,B.sibling),le=h(B,G.props.children),le.return=H,H=le;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&O0(be)===B.type){o(H,B.sibling),le=h(B,G.props),zc(le,G),le.return=H,H=le;break e}o(H,B);break}else s(H,B);B=B.sibling}G.type===C?(le=Bi(G.props.children,H.mode,le,G.key),le.return=H,H=le):(le=Vd(G.type,G.key,G.props,null,H.mode,le),zc(le,G),le.return=H,H=le)}return w(H);case A:e:{for(be=G.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(H,B.sibling),le=h(B,G.children||[]),le.return=H,H=le;break e}else{o(H,B);break}else s(H,B);B=B.sibling}le=Jm(G,H.mode,le),le.return=H,H=le}return w(H);case O:return be=G._init,G=be(G._payload),ot(H,B,G,le)}if(ye(G))return Ie(H,B,G,le);if(b(G)){if(be=b(G),typeof be!="function")throw Error(a(150));return G=be.call(G),Ae(H,B,G,le)}if(typeof G.then=="function")return ot(H,B,eh(G),le);if(G.$$typeof===ne)return ot(H,B,Bd(H,G),le);th(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(H,B.sibling),le=h(B,G),le.return=H,H=le):(o(H,B),le=Zm(G,H.mode,le),le.return=H,H=le),w(H)):o(H,B)}return function(H,B,G,le){try{Uc=0;var be=ot(H,B,G,le);return Zo=null,be}catch(Te){if(Te===Ic||Te===Fd)throw Te;var Le=Bn(29,Te,null,H.mode);return Le.lanes=le,Le.return=H,Le}finally{}}}var Jo=P0(!0),j0=P0(!1),dr=Z(null),Kr=null;function As(r){var s=r.alternate;fe(Qt,Qt.current&1),fe(dr,r),Kr===null&&(s===null||Yo.current!==null||s.memoizedState!==null)&&(Kr=r)}function M0(r){if(r.tag===22){if(fe(Qt,Qt.current),fe(dr,r),Kr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Kr=r)}}else xs()}function xs(){fe(Qt,Qt.current),fe(dr,dr.current)}function Oa(r){he(dr),Kr===r&&(Kr=null),he(Qt)}var Qt=Z(0);function nh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function kp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Op={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=$n(),h=Ts(c);h.payload=s,o!=null&&(h.callback=o),s=ws(r,h,c),s!==null&&(Gn(s,r,c),kc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=$n(),h=Ts(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ws(r,h,c),s!==null&&(Gn(s,r,c),kc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),c=Ts(o);c.tag=2,s!=null&&(c.callback=s),s=ws(r,c,o),s!==null&&(Gn(s,r,o),kc(s,r,o))}};function V0(r,s,o,c,h,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):s.prototype&&s.prototype.isPureReactComponent?!Tc(o,c)||!Tc(h,y):!0}function L0(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Op.enqueueReplaceState(s,s.state,null)}function Xi(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var rh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function U0(r){rh(r)}function z0(r){console.error(r)}function B0(r){rh(r)}function ah(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function q0(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pp(r,s,o){return o=Ts(o),o.tag=3,o.payload={element:null},o.callback=function(){ah(r,s)},o}function F0(r){return r=Ts(r),r.tag=3,r}function H0(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=c.value;r.payload=function(){return h(y)},r.callback=function(){q0(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){q0(s,o,c),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function TC(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Cc(s,o,h,!0),o=dr.current,o!==null){switch(o.tag){case 13:return Kr===null?ag():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===cp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),ig(r,c,h)),!1;case 22:return o.flags|=65536,c===cp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),ig(r,c,h)),!1}throw Error(a(435,o.tag))}return ig(r,c,h),ag(),!1}if(Ye)return s=dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==np&&(r=Error(a(422),{cause:c}),xc(or(r,o)))):(c!==np&&(s=Error(a(423),{cause:c}),xc(or(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=or(c,o),h=Pp(r.stateNode,c,h),hp(r,h),St!==4&&(St=2)),!1;var y=Error(a(520),{cause:c});if(y=or(y,o),Kc===null?Kc=[y]:Kc.push(y),St!==4&&(St=2),s===null)return!0;c=or(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Pp(o.stateNode,c,r),hp(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ks===null||!ks.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=F0(h),H0(h,r,o,c),hp(o,h),!1}o=o.return}while(o!==null);return!1}var $0=Error(a(461)),tn=!1;function on(r,s,o,c){s.child=r===null?j0(s,null,o,c):Jo(s,r.child,o,c)}function G0(r,s,o,c,h){o=o.render;var y=s.ref;if("ref"in c){var w={};for(var x in c)x!=="ref"&&(w[x]=c[x])}else w=c;return Ki(s),c=yp(r,s,o,w,y,h),x=vp(),r!==null&&!tn?(_p(r,s,h),Pa(r,s,h)):(Ye&&x&&ep(s),s.flags|=1,on(r,s,c,h),s.child)}function K0(r,s,o,c,h){if(r===null){var y=o.type;return typeof y=="function"&&!Wm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Y0(r,s,y,c,h)):(r=Vd(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!qp(r,h)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Tc,o(w,c)&&r.ref===s.ref)return Pa(r,s,h)}return s.flags|=1,r=Ca(y,c),r.ref=s.ref,r.return=s,s.child=r}function Y0(r,s,o,c,h){if(r!==null){var y=r.memoizedProps;if(Tc(y,c)&&r.ref===s.ref)if(tn=!1,s.pendingProps=c=y,qp(r,h))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Pa(r,s,h)}return jp(r,s,o,c,h)}function Q0(r,s,o){var c=s.pendingProps,h=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(h=s.child=r.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return X0(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&qd(s,y!==null?y.cachePool:null),y!==null?Y_(s,y):mp(),M0(s);else return s.lanes=s.childLanes=536870912,X0(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(qd(s,y.cachePool),Y_(s,y),xs(),s.memoizedState=null):(r!==null&&qd(s,null),mp(),xs());return on(r,s,h,o),s.child}function X0(r,s,o,c){var h=lp();return h=h===null?null:{parent:Yt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&qd(s,null),mp(),M0(s),r!==null&&Cc(r,s,c,!0),null}function sh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function jp(r,s,o,c,h){return Ki(s),o=yp(r,s,o,c,void 0,h),c=vp(),r!==null&&!tn?(_p(r,s,h),Pa(r,s,h)):(Ye&&c&&ep(s),s.flags|=1,on(r,s,o,h),s.child)}function W0(r,s,o,c,h,y){return Ki(s),s.updateQueue=null,o=X_(s,c,o,h),Q_(r),c=vp(),r!==null&&!tn?(_p(r,s,y),Pa(r,s,y)):(Ye&&c&&ep(s),s.flags|=1,on(r,s,o,y),s.child)}function Z0(r,s,o,c,h){if(Ki(s),s.stateNode===null){var y=Fo,w=o.contextType;typeof w=="object"&&w!==null&&(y=gn(w)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Op,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},up(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?gn(w):Fo,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(kp(s,o,w,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Op.enqueueReplaceState(y,y.state,null),Pc(s,c,y,h),Oc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var x=s.memoizedProps,L=Xi(o,x);y.props=L;var Q=y.context,oe=o.contextType;w=Fo,typeof oe=="object"&&oe!==null&&(w=gn(oe));var ue=o.getDerivedStateFromProps;oe=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||Q!==w)&&L0(s,y,c,w),bs=!1;var ee=s.memoizedState;y.state=ee,Pc(s,c,y,h),Oc(),Q=s.memoizedState,x||ee!==Q||bs?(typeof ue=="function"&&(kp(s,o,ue,c),Q=s.memoizedState),(L=bs||V0(s,o,L,c,ee,Q,w))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),y.props=c,y.state=Q,y.context=w,c=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,dp(r,s),w=s.memoizedProps,oe=Xi(o,w),y.props=oe,ue=s.pendingProps,ee=y.context,Q=o.contextType,L=Fo,typeof Q=="object"&&Q!==null&&(L=gn(Q)),x=o.getDerivedStateFromProps,(Q=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ue||ee!==L)&&L0(s,y,c,L),bs=!1,ee=s.memoizedState,y.state=ee,Pc(s,c,y,h),Oc();var te=s.memoizedState;w!==ue||ee!==te||bs||r!==null&&r.dependencies!==null&&zd(r.dependencies)?(typeof x=="function"&&(kp(s,o,x,c),te=s.memoizedState),(oe=bs||V0(s,o,oe,c,ee,te,L)||r!==null&&r.dependencies!==null&&zd(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),y.props=c,y.state=te,y.context=L,c=oe):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,sh(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Jo(s,r.child,null,h),s.child=Jo(s,null,o,h)):on(r,s,o,h),s.memoizedState=y.state,r=s.child):r=Pa(r,s,h),r}function J0(r,s,o,c){return Ac(),s.flags|=256,on(r,s,o,c),s.child}var Mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vp(r){return{baseLanes:r,cachePool:z_()}}function Lp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=hr),r}function eE(r,s,o){var c=s.pendingProps,h=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(Qt.current&2)!==0),w&&(h=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ye){if(h?As(s):xs(),Ye){var x=wt,L;if(L=x){e:{for(L=x,x=Gr;L.nodeType!==8;){if(!x){x=null;break e}if(L=Rr(L.nextSibling),L===null){x=null;break e}}x=L}x!==null?(s.memoizedState={dehydrated:x,treeContext:qi!==null?{id:Ra,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},L=Bn(18,null,null,0),L.stateNode=x,L.return=s,s.child=L,Rn=s,wt=null,L=!0):L=!1}L||$i(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return bg(x)?s.lanes=32:s.lanes=536870912,null;Oa(s)}return x=c.children,c=c.fallback,h?(xs(),h=s.mode,x=ih({mode:"hidden",children:x},h),c=Bi(c,h,o,null),x.return=s,c.return=s,x.sibling=c,s.child=x,h=s.child,h.memoizedState=Vp(o),h.childLanes=Lp(r,w,o),s.memoizedState=Mp,c):(As(s),Up(s,x))}if(L=r.memoizedState,L!==null&&(x=L.dehydrated,x!==null)){if(y)s.flags&256?(As(s),s.flags&=-257,s=zp(r,s,o)):s.memoizedState!==null?(xs(),s.child=r.child,s.flags|=128,s=null):(xs(),h=c.fallback,x=s.mode,c=ih({mode:"visible",children:c.children},x),h=Bi(h,x,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,Jo(s,r.child,null,o),c=s.child,c.memoizedState=Vp(o),c.childLanes=Lp(r,w,o),s.memoizedState=Mp,s=h);else if(As(s),bg(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(a(419)),c.stack="",c.digest=w,xc({value:c,source:null,stack:null}),s=zp(r,s,o)}else if(tn||Cc(r,s,o,!1),w=(o&r.childLanes)!==0,tn||w){if(w=ht,w!==null&&(c=o&-o,c=(c&42)!==0?1:sc(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,qo(r,c),Gn(w,r,c),$0;x.data==="$?"||ag(),s=zp(r,s,o)}else x.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,wt=Rr(x.nextSibling),Rn=s,Ye=!0,Hi=null,Gr=!1,r!==null&&(cr[ur++]=Ra,cr[ur++]=Na,cr[ur++]=qi,Ra=r.id,Na=r.overflow,qi=s),s=Up(s,c.children),s.flags|=4096);return s}return h?(xs(),h=c.fallback,x=s.mode,L=r.child,Q=L.sibling,c=Ca(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Q!==null?h=Ca(Q,h):(h=Bi(h,x,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,x=r.child.memoizedState,x===null?x=Vp(o):(L=x.cachePool,L!==null?(Q=Yt._currentValue,L=L.parent!==Q?{parent:Q,pool:Q}:L):L=z_(),x={baseLanes:x.baseLanes|o,cachePool:L}),h.memoizedState=x,h.childLanes=Lp(r,w,o),s.memoizedState=Mp,c):(As(s),o=r.child,r=o.sibling,o=Ca(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=o,s.memoizedState=null,o)}function Up(r,s){return s=ih({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function ih(r,s){return r=Bn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function zp(r,s,o){return Jo(s,r.child,null,o),r=Up(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),ap(r.return,s,o)}function Bp(r,s,o,c,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=h)}function nE(r,s,o){var c=s.pendingProps,h=c.revealOrder,y=c.tail;if(on(r,s,c.children,o),c=Qt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tE(r,o,s);else if(r.tag===19)tE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(fe(Qt,c),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&nh(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Bp(s,!1,h,o,y);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&nh(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Bp(s,!0,o,null,y);break;case"together":Bp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pa(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ds|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Cc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=Ca(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ca(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function qp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&zd(r)))}function wC(r,s,o){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),Es(s,Yt,r.memoizedState.cache),Ac();break;case 27:case 5:Zt(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(As(s),s.flags|=128,null):(o&s.child.childLanes)!==0?eE(r,s,o):(As(s),r=Pa(r,s,o),r!==null?r.sibling:null);As(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Cc(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return nE(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(Qt,Qt.current),c)break;return null;case 22:case 23:return s.lanes=0,Q0(r,s,o);case 24:Es(s,Yt,r.memoizedState.cache)}return Pa(r,s,o)}function rE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!qp(r,o)&&(s.flags&128)===0)return tn=!1,wC(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,Ye&&(s.flags&1048576)!==0&&O_(s,Ud,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")Wm(c)?(r=Xi(c,r),s.tag=1,s=Z0(null,s,c,r,o)):(s.tag=0,s=jp(null,s,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===X){s.tag=11,s=G0(null,s,c,r,o);break e}else if(h===I){s.tag=14,s=K0(null,s,c,r,o);break e}}throw s=se(c)||c,Error(a(306,s,""))}}return s;case 0:return jp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=Xi(c,s.pendingProps),Z0(r,s,c,h,o);case 3:e:{if(Oe(s,s.stateNode.containerInfo),r===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;h=y.element,dp(r,s),Pc(s,c,null,o);var w=s.memoizedState;if(c=w.cache,Es(s,Yt,c),c!==y.cache&&sp(s,[Yt],o,!0),Oc(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=J0(r,s,c,o);break e}else if(c!==h){h=or(Error(a(424)),s),xc(h),s=J0(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(wt=Rr(r.firstChild),Rn=s,Ye=!0,Hi=null,Gr=!0,o=j0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ac(),c===h){s=Pa(r,s,o);break e}on(r,s,c,o)}s=s.child}return s;case 26:return sh(r,s),r===null?(o=o1(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ye||(o=s.type,r=s.pendingProps,c=Eh(ge.current).createElement(o),c[Dt]=s,c[sn]=r,cn(c,o,r),kt(c),s.stateNode=c):s.memoizedState=o1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Zt(s),r===null&&Ye&&(c=s.stateNode=a1(s.type,s.pendingProps,ge.current),Rn=s,Gr=!0,h=wt,js(s.type)?(Tg=h,wt=Rr(c.firstChild)):wt=h),on(r,s,s.pendingProps.children,o),sh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ye&&((h=c=wt)&&(c=WC(c,s.type,s.pendingProps,Gr),c!==null?(s.stateNode=c,Rn=s,wt=Rr(c.firstChild),Gr=!1,h=!0):h=!1),h||$i(s)),Zt(s),h=s.type,y=s.pendingProps,w=r!==null?r.memoizedProps:null,c=y.children,vg(h,y)?c=null:w!==null&&vg(h,w)&&(s.flags|=32),s.memoizedState!==null&&(h=yp(r,s,pC,null,null,o),nu._currentValue=h),sh(r,s),on(r,s,c,o),s.child;case 6:return r===null&&Ye&&((r=o=wt)&&(o=ZC(o,s.pendingProps,Gr),o!==null?(s.stateNode=o,Rn=s,wt=null,r=!0):r=!1),r||$i(s)),null;case 13:return eE(r,s,o);case 4:return Oe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Jo(s,null,c,o):on(r,s,c,o),s.child;case 11:return G0(r,s,s.type,s.pendingProps,o);case 7:return on(r,s,s.pendingProps,o),s.child;case 8:return on(r,s,s.pendingProps.children,o),s.child;case 12:return on(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Es(s,s.type,c.value),on(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Ki(s),h=gn(h),c=c(h),s.flags|=1,on(r,s,c,o),s.child;case 14:return K0(r,s,s.type,s.pendingProps,o);case 15:return Y0(r,s,s.type,s.pendingProps,o);case 19:return nE(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=ih(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ca(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Q0(r,s,o);case 24:return Ki(s),c=gn(Yt),r===null?(h=lp(),h===null&&(h=ht,y=ip(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),s.memoizedState={parent:c,cache:h},up(s),Es(s,Yt,h)):((r.lanes&o)!==0&&(dp(r,s),Pc(s,null,null,o),Oc()),h=r.memoizedState,y=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Es(s,Yt,c)):(c=y.cache,Es(s,Yt,c),c!==h.cache&&sp(s,[Yt],o,!0))),on(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function ja(r){r.flags|=4}function aE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!h1(s)){if(s=dr.current,s!==null&&((He&4194048)===He?Kr!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Kr))throw Dc=cp,B_;r.flags|=8192}}function oh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?os():536870912,r.lanes|=s,rl|=s)}function Bc(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function SC(r,s,o){var c=s.pendingProps;switch(tp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Da(Yt),Wt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Sc(s)?ja(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,M_())),bt(s),null;case 26:return o=s.memoizedState,r===null?(ja(s),o!==null?(bt(s),aE(s,o)):(bt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ja(s),bt(s),aE(s,o)):(bt(s),s.flags&=-16777217):(r.memoizedProps!==c&&ja(s),bt(s),s.flags&=-16777217),null;case 27:vr(s),o=ge.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ja(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return bt(s),null}r=me.current,Sc(s)?P_(s):(r=a1(h,c,o),s.stateNode=r,ja(s))}return bt(s),null;case 5:if(vr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ja(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return bt(s),null}if(r=me.current,Sc(s))P_(s);else{switch(h=Eh(ge.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[Dt]=s,r[sn]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(cn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ja(s)}}return bt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&ja(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=ge.current,Sc(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=Rn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Dt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||WE(r.nodeValue,o)),r||$i(s)}else r=Eh(r).createTextNode(c),r[Dt]=s,s.stateNode=r}return bt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Sc(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=s}else Ac(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),h=!1}else h=M_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Oa(s),s):(Oa(s),null)}if(Oa(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==h&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),oh(s,s.updateQueue),bt(s),null;case 4:return Wt(),r===null&&fg(s.stateNode.containerInfo),bt(s),null;case 10:return Da(s.type),bt(s),null;case 19:if(he(Qt),h=s.memoizedState,h===null)return bt(s),null;if(c=(s.flags&128)!==0,y=h.rendering,y===null)if(c)Bc(h,!1);else{if(St!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=nh(r),y!==null){for(s.flags|=128,Bc(h,!1),r=y.updateQueue,s.updateQueue=r,oh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)k_(o,r),o=o.sibling;return fe(Qt,Qt.current&1|2),s.child}r=r.sibling}h.tail!==null&&kn()>uh&&(s.flags|=128,c=!0,Bc(h,!1),s.lanes=4194304)}else{if(!c)if(r=nh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,oh(s,r),Bc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ye)return bt(s),null}else 2*kn()-h.renderingStartTime>uh&&o!==536870912&&(s.flags|=128,c=!0,Bc(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(r=h.last,r!==null?r.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=kn(),s.sibling=null,r=Qt.current,fe(Qt,c?r&1|2:r&1),s):(bt(s),null);case 22:case 23:return Oa(s),pp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&oh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&he(Yi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Da(Yt),bt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function AC(r,s){switch(tp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Da(Yt),Wt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return vr(s),null;case 13:if(Oa(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ac()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return he(Qt),null;case 4:return Wt(),null;case 10:return Da(s.type),null;case 22:case 23:return Oa(s),pp(),r!==null&&he(Yi),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Da(Yt),null;case 25:return null;default:return null}}function sE(r,s){switch(tp(s),s.tag){case 3:Da(Yt),Wt();break;case 26:case 27:case 5:vr(s);break;case 4:Wt();break;case 13:Oa(s);break;case 19:he(Qt);break;case 10:Da(s.type);break;case 22:case 23:Oa(s),pp(),r!==null&&he(Yi);break;case 24:Da(Yt)}}function qc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var y=o.create,w=o.inst;c=y(),w.destroy=c}o=o.next}while(o!==h)}}catch(x){ut(s,s.return,x)}}function Cs(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&r)===r){var w=c.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,h=s;var L=o,Q=x;try{Q()}catch(oe){ut(h,L,oe)}}}c=c.next}while(c!==y)}}catch(oe){ut(s,s.return,oe)}}function iE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{K_(s,o)}catch(c){ut(r,r.return,c)}}}function oE(r,s,o){o.props=Xi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ut(r,s,c)}}function Fc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(h){ut(r,s,h)}}function Yr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){ut(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ut(r,s,h)}else o.current=null}function lE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){ut(r,r.return,h)}}function Fp(r,s,o){try{var c=r.stateNode;GC(c,r.type,o,s),c[sn]=s}catch(h){ut(r,r.return,h)}}function cE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&js(r.type)||r.tag===4}function Hp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&js(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $p(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_h));else if(c!==4&&(c===27&&js(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for($p(r,s,o),r=r.sibling;r!==null;)$p(r,s,o),r=r.sibling}function lh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&js(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(lh(r,s,o),r=r.sibling;r!==null;)lh(r,s,o),r=r.sibling}function uE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);cn(s,c,o),s[Dt]=r,s[sn]=o}catch(y){ut(r,r.return,y)}}var Ma=!1,jt=!1,Gp=!1,dE=typeof WeakSet=="function"?WeakSet:Set,nn=null;function xC(r,s){if(r=r.containerInfo,gg=xh,r=T_(r),Hm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,x=-1,L=-1,Q=0,oe=0,ue=r,ee=null;t:for(;;){for(var te;ue!==o||h!==0&&ue.nodeType!==3||(x=w+h),ue!==y||c!==0&&ue.nodeType!==3||(L=w+c),ue.nodeType===3&&(w+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===r)break t;if(ee===o&&++Q===h&&(x=w),ee===y&&++oe===c&&(L=w),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}o=x===-1||L===-1?null:{start:x,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(yg={focusedElem:r,selectionRange:o},xh=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,h=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Ie=Xi(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){ut(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Eg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Eg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function hE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rs(r,o),c&4&&qc(5,o);break;case 1:if(Rs(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){ut(o,o.return,w)}else{var h=Xi(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ut(o,o.return,w)}}c&64&&iE(o),c&512&&Fc(o,o.return);break;case 3:if(Rs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{K_(r,s)}catch(w){ut(o,o.return,w)}}break;case 27:s===null&&c&4&&uE(o);case 26:case 5:Rs(r,o),s===null&&c&4&&lE(o),c&512&&Fc(o,o.return);break;case 12:Rs(r,o);break;case 13:Rs(r,o),c&4&&pE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=jC.bind(null,o),JC(r,o))));break;case 22:if(c=o.memoizedState!==null||Ma,!c){s=s!==null&&s.memoizedState!==null||jt,h=Ma;var y=jt;Ma=c,(jt=s)&&!y?Ns(r,o,(o.subtreeFlags&8772)!==0):Rs(r,o),Ma=h,jt=y}break;case 30:break;default:Rs(r,o)}}function fE(r){var s=r.alternate;s!==null&&(r.alternate=null,fE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Co(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var gt=null,Pn=!1;function Va(r,s,o){for(o=o.child;o!==null;)mE(r,s,o),o=o.sibling}function mE(r,s,o){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(as,o)}catch{}switch(o.tag){case 26:jt||Yr(o,s),Va(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:jt||Yr(o,s);var c=gt,h=Pn;js(o.type)&&(gt=o.stateNode,Pn=!1),Va(r,s,o),Zc(o.stateNode),gt=c,Pn=h;break;case 5:jt||Yr(o,s);case 6:if(c=gt,h=Pn,gt=null,Va(r,s,o),gt=c,Pn=h,gt!==null)if(Pn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){ut(o,s,y)}else try{gt.removeChild(o.stateNode)}catch(y){ut(o,s,y)}break;case 18:gt!==null&&(Pn?(r=gt,n1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),iu(r)):n1(gt,o.stateNode));break;case 4:c=gt,h=Pn,gt=o.stateNode.containerInfo,Pn=!0,Va(r,s,o),gt=c,Pn=h;break;case 0:case 11:case 14:case 15:jt||Cs(2,o,s),jt||Cs(4,o,s),Va(r,s,o);break;case 1:jt||(Yr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&oE(o,s,c)),Va(r,s,o);break;case 21:Va(r,s,o);break;case 22:jt=(c=jt)||o.memoizedState!==null,Va(r,s,o),jt=c;break;default:Va(r,s,o)}}function pE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{iu(r)}catch(o){ut(s,s.return,o)}}function CC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dE),s;default:throw Error(a(435,r.tag))}}function Kp(r,s){var o=CC(r);s.forEach(function(c){var h=MC.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function qn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],y=r,w=s,x=w;e:for(;x!==null;){switch(x.tag){case 27:if(js(x.type)){gt=x.stateNode,Pn=!1;break e}break;case 5:gt=x.stateNode,Pn=!1;break e;case 3:case 4:gt=x.stateNode.containerInfo,Pn=!0;break e}x=x.return}if(gt===null)throw Error(a(160));mE(y,w,h),gt=null,Pn=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)gE(s,r),s=s.sibling}var Cr=null;function gE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qn(s,r),Fn(r),c&4&&(Cs(3,r,r.return),qc(3,r),Cs(5,r,r.return));break;case 1:qn(s,r),Fn(r),c&512&&(jt||o===null||Yr(o,o.return)),c&64&&Ma&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Cr;if(qn(s,r),Fn(r),c&512&&(jt||o===null||Yr(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":y=h.getElementsByTagName("title")[0],(!y||y[us]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(c),h.head.insertBefore(y,h.querySelector("head > title"))),cn(y,c,o),y[Dt]=r,kt(y),c=y;break e;case"link":var w=u1("link","href",h).get(c+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(y=w[x],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break t}}y=h.createElement(c),cn(y,c,o),h.head.appendChild(y);break;case"meta":if(w=u1("meta","content",h).get(c+(o.content||""))){for(x=0;x<w.length;x++)if(y=w[x],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break t}}y=h.createElement(c),cn(y,c,o),h.head.appendChild(y);break;default:throw Error(a(468,c))}y[Dt]=r,kt(y),c=y}r.stateNode=c}else d1(h,r.type,r.stateNode);else r.stateNode=c1(h,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?d1(h,r.type,r.stateNode):c1(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Fp(r,r.memoizedProps,o.memoizedProps)}break;case 27:qn(s,r),Fn(r),c&512&&(jt||o===null||Yr(o,o.return)),o!==null&&c&4&&Fp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(qn(s,r),Fn(r),c&512&&(jt||o===null||Yr(o,o.return)),r.flags&32){h=r.stateNode;try{sr(h,"")}catch(te){ut(r,r.return,te)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,Fp(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Gp=!0);break;case 6:if(qn(s,r),Fn(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(te){ut(r,r.return,te)}}break;case 3:if(wh=null,h=Cr,Cr=bh(s.containerInfo),qn(s,r),Cr=h,Fn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{iu(s.containerInfo)}catch(te){ut(r,r.return,te)}Gp&&(Gp=!1,yE(r));break;case 4:c=Cr,Cr=bh(r.stateNode.containerInfo),qn(s,r),Fn(r),Cr=c;break;case 12:qn(s,r),Fn(r);break;case 13:qn(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jp=kn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Kp(r,c)));break;case 22:h=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Q=Ma,oe=jt;if(Ma=Q||h,jt=oe||L,qn(s,r),jt=oe,Ma=Q,Fn(r),c&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||L||Ma||jt||Wi(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(y=L.stateNode,h)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=L.stateNode;var ue=L.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;x.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){ut(L,L.return,te)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(te){ut(L,L.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Kp(r,o))));break;case 19:qn(s,r),Fn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Kp(r,c)));break;case 30:break;case 21:break;default:qn(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(cE(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,y=Hp(r);lh(r,y,h);break;case 5:var w=o.stateNode;o.flags&32&&(sr(w,""),o.flags&=-33);var x=Hp(r);lh(r,x,w);break;case 3:case 4:var L=o.stateNode.containerInfo,Q=Hp(r);$p(r,Q,L);break;default:throw Error(a(161))}}catch(oe){ut(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function yE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;yE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Rs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hE(r,s.alternate,s),s=s.sibling}function Wi(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),Wi(s);break;case 1:Yr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&oE(s,s.return,o),Wi(s);break;case 27:Zc(s.stateNode);case 26:case 5:Yr(s,s.return),Wi(s);break;case 22:s.memoizedState===null&&Wi(s);break;case 30:Wi(s);break;default:Wi(s)}r=r.sibling}}function Ns(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Ns(h,y,o),qc(4,y);break;case 1:if(Ns(h,y,o),c=y,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){ut(c,c.return,Q)}if(c=y,h=c.updateQueue,h!==null){var x=c.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)G_(L[h],x)}catch(Q){ut(c,c.return,Q)}}o&&w&64&&iE(y),Fc(y,y.return);break;case 27:uE(y);case 26:case 5:Ns(h,y,o),o&&c===null&&w&4&&lE(y),Fc(y,y.return);break;case 12:Ns(h,y,o);break;case 13:Ns(h,y,o),o&&w&4&&pE(h,y);break;case 22:y.memoizedState===null&&Ns(h,y,o),Fc(y,y.return);break;case 30:break;default:Ns(h,y,o)}s=s.sibling}}function Yp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Rc(o))}function Qp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rc(r))}function Qr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vE(r,s,o,c),s=s.sibling}function vE(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(r,s,o,c),h&2048&&qc(9,s);break;case 1:Qr(r,s,o,c);break;case 3:Qr(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rc(r)));break;case 12:if(h&2048){Qr(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,w=y.id,x=y.onPostCommit;typeof x=="function"&&x(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){ut(s,s.return,L)}}else Qr(r,s,o,c);break;case 13:Qr(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Qr(r,s,o,c):Hc(r,s):y._visibility&2?Qr(r,s,o,c):(y._visibility|=2,el(r,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&Yp(w,s);break;case 24:Qr(r,s,o,c),h&2048&&Qp(s.alternate,s);break;default:Qr(r,s,o,c)}}function el(r,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,w=s,x=o,L=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:el(y,w,x,L,h),qc(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?el(y,w,x,L,h):Hc(y,w):(oe._visibility|=2,el(y,w,x,L,h)),h&&Q&2048&&Yp(w.alternate,w);break;case 24:el(y,w,x,L,h),h&&Q&2048&&Qp(w.alternate,w);break;default:el(y,w,x,L,h)}s=s.sibling}}function Hc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:Hc(o,c),h&2048&&Yp(c.alternate,c);break;case 24:Hc(o,c),h&2048&&Qp(c.alternate,c);break;default:Hc(o,c)}s=s.sibling}}var $c=8192;function tl(r){if(r.subtreeFlags&$c)for(r=r.child;r!==null;)_E(r),r=r.sibling}function _E(r){switch(r.tag){case 26:tl(r),r.flags&$c&&r.memoizedState!==null&&h2(Cr,r.memoizedState,r.memoizedProps);break;case 5:tl(r);break;case 3:case 4:var s=Cr;Cr=bh(r.stateNode.containerInfo),tl(r),Cr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=$c,$c=16777216,tl(r),$c=s):tl(r));break;default:tl(r)}}function EE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Gc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,TE(c,r)}EE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bE(r),r=r.sibling}function bE(r){switch(r.tag){case 0:case 11:case 15:Gc(r),r.flags&2048&&Cs(9,r,r.return);break;case 3:Gc(r);break;case 12:Gc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ch(r)):Gc(r);break;default:Gc(r)}}function ch(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,TE(c,r)}EE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),ch(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ch(s));break;default:ch(s)}r=r.sibling}}function TE(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:Cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Rc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,nn=c;else e:for(o=r;nn!==null;){c=nn;var h=c.sibling,y=c.return;if(fE(c),c===o){nn=null;break e}if(h!==null){h.return=y,nn=h;break e}nn=y}}}var RC={getCacheForType:function(r){var s=gn(Yt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},NC=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,Ue=null,He=0,tt=0,Hn=null,Is=!1,nl=!1,Xp=!1,La=0,St=0,Ds=0,Zi=0,Wp=0,hr=0,rl=0,Kc=null,jn=null,Zp=!1,Jp=0,uh=1/0,dh=null,ks=null,ln=0,Os=null,al=null,sl=0,eg=0,tg=null,wE=null,Yc=0,ng=null;function $n(){if((et&2)!==0&&He!==0)return He&-He;if(J.T!==null){var r=Go;return r!==0?r:cg()}return Ea()}function SE(){hr===0&&(hr=(He&536870912)===0||Ye?ac():536870912);var r=dr.current;return r!==null&&(r.flags|=32),hr}function Gn(r,s,o){(r===ht&&(tt===2||tt===9)||r.cancelPendingCommit!==null)&&(il(r,0),Ps(r,He,hr,!1)),It(r,o),((et&2)===0||r!==ht)&&(r===ht&&((et&2)===0&&(Zi|=o),St===4&&Ps(r,He,hr,!1)),Xr(r))}function AE(r,s,o){if((et&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||is(r,s),h=c?kC(r,s):sg(r,s,!0),y=c;do{if(h===0){nl&&!c&&Ps(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!IC(o)){h=sg(r,s,!1),y=!1;continue}if(h===2){if(y=s,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var x=r;h=Kc;var L=x.current.memoizedState.isDehydrated;if(L&&(il(x,w).flags|=256),w=sg(x,w,!1),w!==2){if(Xp&&!L){x.errorRecoveryDisabledLanes|=y,Zi|=y,h=4;break e}y=jn,jn=h,y!==null&&(jn===null?jn=y:jn.push.apply(jn,y))}h=w}if(y=!1,h!==2)continue}}if(h===1){il(r,0),Ps(r,s,0,!0);break}e:{switch(c=r,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ps(c,s,hr,!Is);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(h=Jp+300-kn(),10<h)){if(Ps(c,s,hr,!Is),rr(c,0,!0)!==0)break e;c.timeoutHandle=e1(xE.bind(null,c,o,jn,dh,Zp,s,hr,Zi,rl,Is,y,2,-0,0),h);break e}xE(c,o,jn,dh,Zp,s,hr,Zi,rl,Is,y,0,-0,0)}}break}while(!0);Xr(r)}function xE(r,s,o,c,h,y,w,x,L,Q,oe,ue,ee,te){if(r.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(tu={stylesheets:null,count:0,unsuspend:d2},_E(s),ue=f2(),ue!==null)){r.cancelPendingCommit=ue(OE.bind(null,r,s,y,o,c,h,w,x,L,oe,1,ee,te)),Ps(r,y,w,!Q);return}OE(r,s,y,o,c,h,w,x,L)}function IC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],y=h.getSnapshot;h=h.value;try{if(!zn(y(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(r,s,o,c){s&=~Wp,s&=~Zi,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var y=31-Sn(h),w=1<<y;c[y]=-1,h&=~w}o!==0&&ls(r,o,s)}function hh(){return(et&6)===0?(Qc(0),!1):!0}function rg(){if(Ue!==null){if(tt===0)var r=Ue.return;else r=Ue,Ia=Gi=null,Ep(r),Zo=null,Uc=0,r=Ue;for(;r!==null;)sE(r.alternate,r),r=r.return;Ue=null}}function il(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,YC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),rg(),ht=r,Ue=o=Ca(r.current,null),He=s,tt=0,Hn=null,Is=!1,nl=is(r,s),Xp=!1,rl=hr=Wp=Zi=Ds=St=0,jn=Kc=null,Zp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-Sn(c),y=1<<h;s|=r[h],c&=~y}return La=s,Pd(),o}function CE(r,s){Ve=null,J.H=Jd,s===Ic||s===Fd?(s=H_(),tt=3):s===B_?(s=H_(),tt=4):tt=s===$0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Ue===null&&(St=1,ah(r,or(s,r.current)))}function RE(){var r=J.H;return J.H=Jd,r===null?Jd:r}function NE(){var r=J.A;return J.A=RC,r}function ag(){St=4,Is||(He&4194048)!==He&&dr.current!==null||(nl=!0),(Ds&134217727)===0&&(Zi&134217727)===0||ht===null||Ps(ht,He,hr,!1)}function sg(r,s,o){var c=et;et|=2;var h=RE(),y=NE();(ht!==r||He!==s)&&(dh=null,il(r,s)),s=!1;var w=St;e:do try{if(tt!==0&&Ue!==null){var x=Ue,L=Hn;switch(tt){case 8:rg(),w=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(s=!0);var Q=tt;if(tt=0,Hn=null,ol(r,x,L,Q),o&&nl){w=0;break e}break;default:Q=tt,tt=0,Hn=null,ol(r,x,L,Q)}}DC(),w=St;break}catch(oe){CE(r,oe)}while(!0);return s&&r.shellSuspendCounter++,Ia=Gi=null,et=c,J.H=h,J.A=y,Ue===null&&(ht=null,He=0,Pd()),w}function DC(){for(;Ue!==null;)IE(Ue)}function kC(r,s){var o=et;et|=2;var c=RE(),h=NE();ht!==r||He!==s?(dh=null,uh=kn()+500,il(r,s)):nl=is(r,s);e:do try{if(tt!==0&&Ue!==null){s=Ue;var y=Hn;t:switch(tt){case 1:tt=0,Hn=null,ol(r,s,y,1);break;case 2:case 9:if(q_(y)){tt=0,Hn=null,DE(s);break}s=function(){tt!==2&&tt!==9||ht!==r||(tt=7),Xr(r)},y.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:q_(y)?(tt=0,Hn=null,DE(s)):(tt=0,Hn=null,ol(r,s,y,7));break;case 5:var w=null;switch(Ue.tag){case 26:w=Ue.memoizedState;case 5:case 27:var x=Ue;if(!w||h1(w)){tt=0,Hn=null;var L=x.sibling;if(L!==null)Ue=L;else{var Q=x.return;Q!==null?(Ue=Q,fh(Q)):Ue=null}break t}}tt=0,Hn=null,ol(r,s,y,5);break;case 6:tt=0,Hn=null,ol(r,s,y,6);break;case 8:rg(),St=6;break e;default:throw Error(a(462))}}OC();break}catch(oe){CE(r,oe)}while(!0);return Ia=Gi=null,J.H=c,J.A=h,et=o,Ue!==null?0:(ht=null,He=0,Pd(),St)}function OC(){for(;Ue!==null&&!nc();)IE(Ue)}function IE(r){var s=rE(r.alternate,r,La);r.memoizedProps=r.pendingProps,s===null?fh(r):Ue=s}function DE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=W0(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=W0(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Ep(s);default:sE(o,s),s=Ue=k_(s,La),s=rE(o,s,La)}r.memoizedProps=r.pendingProps,s===null?fh(r):Ue=s}function ol(r,s,o,c){Ia=Gi=null,Ep(s),Zo=null,Uc=0;var h=s.return;try{if(TC(r,h,s,o,He)){St=1,ah(r,or(o,r.current)),Ue=null;return}}catch(y){if(h!==null)throw Ue=h,y;St=1,ah(r,or(o,r.current)),Ue=null;return}s.flags&32768?(Ye||c===1?r=!0:nl||(He&536870912)!==0?r=!1:(Is=r=!0,(c===2||c===9||c===3||c===6)&&(c=dr.current,c!==null&&c.tag===13&&(c.flags|=16384))),kE(s,r)):fh(s)}function fh(r){var s=r;do{if((s.flags&32768)!==0){kE(s,Is);return}r=s.return;var o=SC(s.alternate,s,La);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);St===0&&(St=5)}function kE(r,s){do{var o=AC(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);St=6,Ue=null}function OE(r,s,o,c,h,y,w,x,L){r.cancelPendingCommit=null;do mh();while(ln!==0);if((et&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=Qm,yd(r,o,y,w,x,L),r===ht&&(Ue=ht=null,He=0),al=s,Os=r,sl=o,eg=y,tg=h,wE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,VC(_a,function(){return LE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,h=W.p,W.p=2,w=et,et|=4;try{xC(r,s,o)}finally{et=w,W.p=h,J.T=c}}ln=1,PE(),jE(),ME()}}function PE(){if(ln===1){ln=0;var r=Os,s=al,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=W.p;W.p=2;var h=et;et|=4;try{gE(s,r);var y=yg,w=T_(r.containerInfo),x=y.focusedElem,L=y.selectionRange;if(w!==x&&x&&x.ownerDocument&&b_(x.ownerDocument.documentElement,x)){if(L!==null&&Hm(x)){var Q=L.start,oe=L.end;if(oe===void 0&&(oe=Q),"selectionStart"in x)x.selectionStart=Q,x.selectionEnd=Math.min(oe,x.value.length);else{var ue=x.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ie=x.textContent.length,Ae=Math.min(L.start,Ie),ot=L.end===void 0?Ae:Math.min(L.end,Ie);!te.extend&&Ae>ot&&(w=ot,ot=Ae,Ae=w);var H=E_(x,Ae),B=E_(x,ot);if(H&&B&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var G=ue.createRange();G.setStart(H.node,H.offset),te.removeAllRanges(),Ae>ot?(te.addRange(G),te.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),te.addRange(G))}}}}for(ue=[],te=x;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ue.length;x++){var le=ue[x];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}xh=!!gg,yg=gg=null}finally{et=h,W.p=c,J.T=o}}r.current=s,ln=2}}function jE(){if(ln===2){ln=0;var r=Os,s=al,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=W.p;W.p=2;var h=et;et|=4;try{hE(r,s.alternate,s)}finally{et=h,W.p=c,J.T=o}}ln=3}}function ME(){if(ln===4||ln===3){ln=0,yi();var r=Os,s=al,o=sl,c=wE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,al=Os=null,VE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ks=null),ic(o),s=s.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(as,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=J.T,h=W.p,W.p=2,J.T=null;try{for(var y=r.onRecoverableError,w=0;w<c.length;w++){var x=c[w];y(x.value,{componentStack:x.stack})}}finally{J.T=s,W.p=h}}(sl&3)!==0&&mh(),Xr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===ng?Yc++:(Yc=0,ng=r):Yc=0,Qc(0)}}function VE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Rc(s)))}function mh(r){return PE(),jE(),ME(),LE()}function LE(){if(ln!==5)return!1;var r=Os,s=eg;eg=0;var o=ic(sl),c=J.T,h=W.p;try{W.p=32>o?32:o,J.T=null,o=tg,tg=null;var y=Os,w=sl;if(ln=0,al=Os=null,sl=0,(et&6)!==0)throw Error(a(331));var x=et;if(et|=4,bE(y.current),vE(y,y.current,w,o),et=x,Qc(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(as,y)}catch{}return!0}finally{W.p=h,J.T=c,VE(r,s)}}function UE(r,s,o){s=or(o,s),s=Pp(r.stateNode,s,2),r=ws(r,s,2),r!==null&&(It(r,2),Xr(r))}function ut(r,s,o){if(r.tag===3)UE(r,r,o);else for(;s!==null;){if(s.tag===3){UE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ks===null||!ks.has(c))){r=or(o,r),o=F0(2),c=ws(s,o,2),c!==null&&(H0(o,c,s,r),It(c,2),Xr(c));break}}s=s.return}}function ig(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new NC;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(Xp=!0,h.add(o),r=PC.bind(null,r,s,o),s.then(r,r))}function PC(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(He&o)===o&&(St===4||St===3&&(He&62914560)===He&&300>kn()-Jp?(et&2)===0&&il(r,0):Wp|=o,rl===He&&(rl=0)),Xr(r)}function zE(r,s){s===0&&(s=os()),r=qo(r,s),r!==null&&(It(r,s),Xr(r))}function jC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zE(r,o)}function MC(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),zE(r,o)}function VC(r,s){return Mr(r,s)}var ph=null,ll=null,og=!1,gh=!1,lg=!1,Ji=0;function Xr(r){r!==ll&&r.next===null&&(ll===null?ph=ll=r:ll=ll.next=r),gh=!0,og||(og=!0,UC())}function Qc(r,s){if(!lg&&gh){lg=!0;do for(var o=!1,c=ph;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var y=0;else{var w=c.suspendedLanes,x=c.pingedLanes;y=(1<<31-Sn(42|r)+1)-1,y&=h&~(w&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,HE(c,y))}else y=He,y=rr(c,c===ht?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||is(c,y)||(o=!0,HE(c,y));c=c.next}while(o);lg=!1}}function LC(){BE()}function BE(){gh=og=!1;var r=0;Ji!==0&&(KC()&&(r=Ji),Ji=0);for(var s=kn(),o=null,c=ph;c!==null;){var h=c.next,y=qE(c,s);y===0?(c.next=null,o===null?ph=h:o.next=h,h===null&&(ll=o)):(o=c,(r!==0||(y&3)!==0)&&(gh=!0)),c=h}Qc(r)}function qE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Sn(y),x=1<<w,L=h[w];L===-1?((x&o)===0||(x&c)!==0)&&(h[w]=Ao(x,s)):L<=s&&(r.expiredLanes|=x),y&=~x}if(s=ht,o=He,o=rr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(tt===2||tt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&rs(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||is(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&rs(c),ic(o)){case 2:case 8:o=Jt;break;case 32:o=_a;break;case 268435456:o=rc;break;default:o=_a}return c=FE.bind(null,r),o=Mr(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&rs(c),r.callbackPriority=2,r.callbackNode=null,2}function FE(r,s){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(mh()&&r.callbackNode!==o)return null;var c=He;return c=rr(r,r===ht?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(AE(r,c,s),qE(r,kn()),r.callbackNode!=null&&r.callbackNode===o?FE.bind(null,r):null)}function HE(r,s){if(mh())return null;AE(r,s,!0)}function UC(){QC(function(){(et&6)!==0?Mr(Gt,LC):BE()})}function cg(){return Ji===0&&(Ji=ac()),Ji}function $E(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Tr(""+r)}function GE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function zC(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var y=$E((h[sn]||null).action),w=c.submitter;w&&(s=(s=w[sn]||null)?$E(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var x=new ki("action","action",null,c,h);r.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ji!==0){var L=w?GE(h,w):new FormData(h);Np(o,{pending:!0,data:L,method:h.method,action:y},null,L)}}else typeof y=="function"&&(x.preventDefault(),L=w?GE(h,w):new FormData(h),Np(o,{pending:!0,data:L,method:h.method,action:y},y,L))},currentTarget:h}]})}}for(var ug=0;ug<Ym.length;ug++){var dg=Ym[ug],BC=dg.toLowerCase(),qC=dg[0].toUpperCase()+dg.slice(1);xr(BC,"on"+qC)}xr(A_,"onAnimationEnd"),xr(x_,"onAnimationIteration"),xr(C_,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(sC,"onTransitionRun"),xr(iC,"onTransitionStart"),xr(oC,"onTransitionCancel"),xr(R_,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function KE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var w=c.length-1;0<=w;w--){var x=c[w],L=x.instance,Q=x.currentTarget;if(x=x.listener,L!==y&&h.isPropagationStopped())break e;y=x,h.currentTarget=Q;try{y(h)}catch(oe){rh(oe)}h.currentTarget=null,y=L}else for(w=0;w<c.length;w++){if(x=c[w],L=x.instance,Q=x.currentTarget,x=x.listener,L!==y&&h.isPropagationStopped())break e;y=x,h.currentTarget=Q;try{y(h)}catch(oe){rh(oe)}h.currentTarget=null,y=L}}}}function ze(r,s){var o=s[_i];o===void 0&&(o=s[_i]=new Set);var c=r+"__bubble";o.has(c)||(YE(s,r,2,!1),o.add(c))}function hg(r,s,o){var c=0;s&&(c|=4),YE(o,r,c,s)}var yh="_reactListening"+Math.random().toString(36).slice(2);function fg(r){if(!r[yh]){r[yh]=!0,vd.forEach(function(o){o!=="selectionchange"&&(FC.has(o)||hg(o,!1,r),hg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[yh]||(s[yh]=!0,hg("selectionchange",!1,s))}}function YE(r,s,o,c){switch(v1(s)){case 2:var h=g2;break;case 8:h=y2;break;default:h=Cg}o=h.bind(null,s,o,r),h=void 0,!Aa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function mg(r,s,o,c,h){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var x=c.stateNode.containerInfo;if(x===h)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;x!==null;){if(w=Ur(x),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=y=w;continue e}x=x.parentNode}}c=c.return}Ni(function(){var Q=y,oe=fc(o),ue=[];e:{var ee=N_.get(r);if(ee!==void 0){var te=ki,Ie=r;switch(r){case"keypress":if(Ii(o)===0)break e;case"keydown":case"keyup":te=Lo;break;case"focusin":Ie="focus",te=jo;break;case"focusout":Ie="blur",te=jo;break;case"beforeblur":case"afterblur":te=jo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_s;break;case A_:case x_:case C_:te=pc;break;case R_:te=_;break;case"scroll":case"scrollend":te=Pi;break;case"wheel":te=D;break;case"copy":case"cut":case"paste":te=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=vc;break;case"toggle":case"beforetoggle":te=re}var Ae=(s&4)!==0,ot=!Ae&&(r==="scroll"||r==="scrollend"),H=Ae?ee!==null?ee+"Capture":null:ee;Ae=[];for(var B=Q,G;B!==null;){var le=B;if(G=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||G===null||H===null||(le=ys(B,H),le!=null&&Ae.push(Wc(B,le,G))),ot)break;B=B.return}0<Ae.length&&(ee=new te(ee,Ie,null,o,oe),ue.push({event:ee,listeners:Ae}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&o!==hc&&(Ie=o.relatedTarget||o.fromElement)&&(Ur(Ie)||Ie[ba]))break e;if((te||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ie=o.relatedTarget||o.toElement,te=Q,Ie=Ie?Ur(Ie):null,Ie!==null&&(ot=l(Ie),Ae=Ie.tag,Ie!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(Ie=null)):(te=null,Ie=Q),te!==Ie)){if(Ae=Vi,le="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=vc,le="onPointerLeave",H="onPointerEnter",B="pointer"),ot=te==null?ee:ds(te),G=Ie==null?ee:ds(Ie),ee=new Ae(le,B+"leave",te,o,oe),ee.target=ot,ee.relatedTarget=G,le=null,Ur(oe)===Q&&(Ae=new Ae(H,B+"enter",Ie,o,oe),Ae.target=G,Ae.relatedTarget=ot,le=Ae),ot=le,te&&Ie)t:{for(Ae=te,H=Ie,B=0,G=Ae;G;G=cl(G))B++;for(G=0,le=H;le;le=cl(le))G++;for(;0<B-G;)Ae=cl(Ae),B--;for(;0<G-B;)H=cl(H),G--;for(;B--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=cl(Ae),H=cl(H)}Ae=null}else Ae=null;te!==null&&QE(ue,ee,te,Ae,!1),Ie!==null&&ot!==null&&QE(ue,ot,Ie,Ae,!0)}}e:{if(ee=Q?ds(Q):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var be=m_;else if(h_(ee))if(p_)be=nC;else{be=eC;var Le=Jx}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&ko(Q.elementType)&&(be=m_):be=tC;if(be&&(be=be(r,Q))){f_(ue,be,o,oe);break e}Le&&Le(r,ee,Q),r==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&cc(ee,"number",ee.value)}switch(Le=Q?ds(Q):window,r){case"focusin":(h_(Le)||Le.contentEditable==="true")&&(Uo=Le,$m=Q,wc=null);break;case"focusout":wc=$m=Uo=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,w_(ue,o,oe);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":w_(ue,o,oe)}var Te;if(Pe)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ar?wr(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(Ot&&o.locale!=="ko"&&(Ar||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ar&&(Te=Sd()):(ir=oe,dt="value"in ir?ir.value:ir.textContent,Ar=!0)),Le=vh(Q,xe),0<Le.length&&(xe=new yc(xe,r,null,o,oe),ue.push({event:xe,listeners:Le}),Te?xe.data=Te:(Te=Sr(o),Te!==null&&(xe.data=Te)))),(Te=Je?_c(r,o):Xx(r,o))&&(xe=vh(Q,"onBeforeInput"),0<xe.length&&(Le=new yc("onBeforeInput","beforeinput",null,o,oe),ue.push({event:Le,listeners:xe}),Le.data=Te)),zC(ue,r,Q,o,oe)}KE(ue,s)})}function Wc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function vh(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=ys(r,o),h!=null&&c.unshift(Wc(r,h,y)),h=ys(r,s),h!=null&&c.push(Wc(r,h,y))),r.tag===3)return c;r=r.return}return[]}function cl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function QE(r,s,o,c,h){for(var y=s._reactName,w=[];o!==null&&o!==c;){var x=o,L=x.alternate,Q=x.stateNode;if(x=x.tag,L!==null&&L===c)break;x!==5&&x!==26&&x!==27||Q===null||(L=Q,h?(Q=ys(o,y),Q!=null&&w.unshift(Wc(o,Q,L))):h||(Q=ys(o,y),Q!=null&&w.push(Wc(o,Q,L)))),o=o.return}w.length!==0&&r.push({event:s,listeners:w})}var HC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function XE(r){return(typeof r=="string"?r:""+r).replace(HC,`
`).replace($C,"")}function WE(r,s){return s=XE(s),XE(r)===s}function _h(){}function it(r,s,o,c,h,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||sr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&sr(r,""+c);break;case"className":Si(r,"class",c);break;case"tabIndex":Si(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(r,o,c);break;case"style":dc(r,c,y);break;case"data":if(s!=="object"){Si(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Tr(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&it(r,s,"name",h.name,h,null),it(r,s,"formEncType",h.formEncType,h,null),it(r,s,"formMethod",h.formMethod,h,null),it(r,s,"formTarget",h.formTarget,h,null)):(it(r,s,"encType",h.encType,h,null),it(r,s,"method",h.method,h,null),it(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Tr(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=_h);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Tr(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":ze("beforetoggle",r),ze("toggle",r),wi(r,"popover",c);break;case"xlinkActuate":ar(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ar(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ar(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ar(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ar(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ar(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ar(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ar(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ar(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=bd.get(o)||o,wi(r,o,c))}}function pg(r,s,o,c,h,y){switch(o){case"style":dc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?sr(r,c):(typeof c=="number"||typeof c=="bigint")&&sr(r,""+c);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),y=r[sn]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,h),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):wi(r,o,c)}}}function cn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var c=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:it(r,s,y,w,o,null)}}h&&it(r,s,"srcSet",o.srcSet,o,null),c&&it(r,s,"src",o.src,o,null);return;case"input":ze("invalid",r);var x=y=w=h=null,L=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":h=oe;break;case"type":w=oe;break;case"checked":L=oe;break;case"defaultChecked":Q=oe;break;case"value":y=oe;break;case"defaultValue":x=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:it(r,s,c,oe,o,null)}}lc(r,y,x,L,Q,w,h,!1),ms(r);return;case"select":ze("invalid",r),c=w=y=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":y=x;break;case"defaultValue":w=x;break;case"multiple":c=x;default:it(r,s,h,x,o,null)}s=y,o=w,r.multiple=!!c,s!=null?ps(r,!!c,s,!1):o!=null&&ps(r,!!c,o,!0);return;case"textarea":ze("invalid",r),y=h=c=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":c=x;break;case"defaultValue":h=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:it(r,s,w,x,o,null)}Ed(r,c,h,y),ms(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:it(r,s,L,c,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(c=0;c<Xc.length;c++)ze(Xc[c],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:it(r,s,Q,c,o,null)}return;default:if(ko(s)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&pg(r,s,oe,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&it(r,s,x,c,o,null))}function GC(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,w=null,x=null,L=null,Q=null,oe=null;for(te in o){var ue=o[te];if(o.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(te)||it(r,s,te,null,c,ue)}}for(var ee in c){var te=c[ee];if(ue=o[ee],c.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":y=te;break;case"name":h=te;break;case"checked":Q=te;break;case"defaultChecked":oe=te;break;case"value":w=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,s));break;default:te!==ue&&it(r,s,ee,te,c,ue)}}oc(r,w,x,L,Q,oe,y,h);return;case"select":te=w=x=ee=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":te=L;default:c.hasOwnProperty(y)||it(r,s,y,null,c,L)}for(h in c)if(y=c[h],L=o[h],c.hasOwnProperty(h)&&(y!=null||L!=null))switch(h){case"value":ee=y;break;case"defaultValue":x=y;break;case"multiple":w=y;default:y!==L&&it(r,s,h,y,c,L)}s=x,o=w,c=te,ee!=null?ps(r,!!o,ee,!1):!!c!=!!o&&(s!=null?ps(r,!!o,s,!0):ps(r,!!o,o?[]:"",!1));return;case"textarea":te=ee=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:it(r,s,x,null,c,h)}for(w in c)if(h=c[w],y=o[w],c.hasOwnProperty(w)&&(h!=null||y!=null))switch(w){case"value":ee=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&it(r,s,w,h,c,y)}_d(r,ee,te);return;case"option":for(var Ie in o)if(ee=o[Ie],o.hasOwnProperty(Ie)&&ee!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:it(r,s,Ie,null,c,ee)}for(L in c)if(ee=c[L],te=o[L],c.hasOwnProperty(L)&&ee!==te&&(ee!=null||te!=null))switch(L){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:it(r,s,L,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)ee=o[Ae],o.hasOwnProperty(Ae)&&ee!=null&&!c.hasOwnProperty(Ae)&&it(r,s,Ae,null,c,ee);for(Q in c)if(ee=c[Q],te=o[Q],c.hasOwnProperty(Q)&&ee!==te&&(ee!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:it(r,s,Q,ee,c,te)}return;default:if(ko(s)){for(var ot in o)ee=o[ot],o.hasOwnProperty(ot)&&ee!==void 0&&!c.hasOwnProperty(ot)&&pg(r,s,ot,void 0,c,ee);for(oe in c)ee=c[oe],te=o[oe],!c.hasOwnProperty(oe)||ee===te||ee===void 0&&te===void 0||pg(r,s,oe,ee,c,te);return}}for(var H in o)ee=o[H],o.hasOwnProperty(H)&&ee!=null&&!c.hasOwnProperty(H)&&it(r,s,H,null,c,ee);for(ue in c)ee=c[ue],te=o[ue],!c.hasOwnProperty(ue)||ee===te||ee==null&&te==null||it(r,s,ue,ee,c,te)}var gg=null,yg=null;function Eh(r){return r.nodeType===9?r:r.ownerDocument}function ZE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function vg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _g=null;function KC(){var r=window.event;return r&&r.type==="popstate"?r===_g?!1:(_g=r,!0):(_g=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,YC=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(r){return t1.resolve(null).then(r).catch(XC)}:e1;function XC(r){setTimeout(function(){throw r})}function js(r){return r==="head"}function n1(r,s){var o=s,c=0,h=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var w=r.ownerDocument;if(o&1&&Zc(w.documentElement),o&2&&Zc(w.body),o&4)for(o=w.head,Zc(o),w=o.firstChild;w;){var x=w.nextSibling,L=w.nodeName;w[us]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=x}}if(h===0){r.removeChild(y),iu(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);iu(s)}function Eg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Eg(o),Co(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function WC(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[us])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Rr(r.nextSibling),r===null)break}return null}function ZC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Rr(r.nextSibling),r===null))return null;return r}function bg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function JC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Tg=null;function r1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function a1(r,s,o){switch(s=Eh(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Zc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Co(r)}var fr=new Map,s1=new Set;function bh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ua=W.d;W.d={f:e2,r:t2,D:n2,C:r2,L:a2,m:s2,X:o2,S:i2,M:l2};function e2(){var r=Ua.f(),s=hh();return r||s}function t2(r){var s=zr(r);s!==null&&s.tag===5&&s.type==="form"?A0(s):Ua.r(r)}var ul=typeof document>"u"?null:document;function i1(r,s,o){var c=ul;if(c&&typeof s=="string"&&s){var h=en(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),s1.has(h)||(s1.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),cn(s,"link",r),kt(s),c.head.appendChild(s)))}}function n2(r){Ua.D(r),i1("dns-prefetch",r,null)}function r2(r,s){Ua.C(r,s),i1("preconnect",r,s)}function a2(r,s,o){Ua.L(r,s,o);var c=ul;if(c&&r&&s){var h='link[rel="preload"][as="'+en(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+en(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+en(o.imageSizes)+'"]')):h+='[href="'+en(r)+'"]';var y=h;switch(s){case"style":y=dl(r);break;case"script":y=hl(r)}fr.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),fr.set(y,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(Jc(y))||s==="script"&&c.querySelector(eu(y))||(s=c.createElement("link"),cn(s,"link",r),kt(s),c.head.appendChild(s)))}}function s2(r,s){Ua.m(r,s);var o=ul;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(r)+'"]',y=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(r)}if(!fr.has(y)&&(r=v({rel:"modulepreload",href:r},s),fr.set(y,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(eu(y)))return}c=o.createElement("link"),cn(c,"link",r),kt(c),o.head.appendChild(c)}}}function i2(r,s,o){Ua.S(r,s,o);var c=ul;if(c&&r){var h=hs(c).hoistableStyles,y=dl(r);s=s||"default";var w=h.get(y);if(!w){var x={loading:0,preload:null};if(w=c.querySelector(Jc(y)))x.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=fr.get(y))&&wg(r,o);var L=w=c.createElement("link");kt(L),cn(L,"link",r),L._p=new Promise(function(Q,oe){L.onload=Q,L.onerror=oe}),L.addEventListener("load",function(){x.loading|=1}),L.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Th(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:x},h.set(y,w)}}}function o2(r,s){Ua.X(r,s);var o=ul;if(o&&r){var c=hs(o).hoistableScripts,h=hl(r),y=c.get(h);y||(y=o.querySelector(eu(h)),y||(r=v({src:r,async:!0},s),(s=fr.get(h))&&Sg(r,s),y=o.createElement("script"),kt(y),cn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(h,y))}}function l2(r,s){Ua.M(r,s);var o=ul;if(o&&r){var c=hs(o).hoistableScripts,h=hl(r),y=c.get(h);y||(y=o.querySelector(eu(h)),y||(r=v({src:r,async:!0,type:"module"},s),(s=fr.get(h))&&Sg(r,s),y=o.createElement("script"),kt(y),cn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(h,y))}}function o1(r,s,o,c){var h=(h=ge.current)?bh(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=dl(o.href),o=hs(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=dl(o.href);var y=hs(h).hoistableStyles,w=y.get(r);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=h.querySelector(Jc(r)))&&!y._p&&(w.instance=y,w.state.loading=5),fr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fr.set(r,o),y||c2(h,r,o,w.state))),s&&c===null)throw Error(a(528,""));return w}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hl(o),o=hs(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function dl(r){return'href="'+en(r)+'"'}function Jc(r){return'link[rel="stylesheet"]['+r+"]"}function l1(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function c2(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),cn(s,"link",o),kt(s),r.head.appendChild(s))}function hl(r){return'[src="'+en(r)+'"]'}function eu(r){return"script[async]"+r}function c1(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+en(o.href)+'"]');if(c)return s.instance=c,kt(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),cn(c,"style",h),Th(c,o.precedence,r),s.instance=c;case"stylesheet":h=dl(o.href);var y=r.querySelector(Jc(h));if(y)return s.state.loading|=4,s.instance=y,kt(y),y;c=l1(o),(h=fr.get(h))&&wg(c,h),y=(r.ownerDocument||r).createElement("link"),kt(y);var w=y;return w._p=new Promise(function(x,L){w.onload=x,w.onerror=L}),cn(y,"link",c),s.state.loading|=4,Th(y,o.precedence,r),s.instance=y;case"script":return y=hl(o.src),(h=r.querySelector(eu(y)))?(s.instance=h,kt(h),h):(c=o,(h=fr.get(y))&&(c=v({},o),Sg(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),kt(h),cn(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Th(c,o.precedence,r));return s.instance}function Th(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,y=h,w=0;w<c.length;w++){var x=c[w];if(x.dataset.precedence===s)y=x;else if(y!==h)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function wg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Sg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var wh=null;function u1(r,s,o){if(wh===null){var c=new Map,h=wh=new Map;h.set(o,c)}else h=wh,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var y=o[h];if(!(y[us]||y[Dt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=r+w;var x=c.get(w);x?x.push(y):c.set(w,[y])}}return c}function d1(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function u2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function h1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var tu=null;function d2(){}function h2(r,s,o){if(tu===null)throw Error(a(475));var c=tu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=dl(o.href),y=r.querySelector(Jc(h));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Sh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,kt(y);return}y=r.ownerDocument||r,o=l1(o),(h=fr.get(h))&&wg(o,h),y=y.createElement("link"),kt(y);var w=y;w._p=new Promise(function(x,L){w.onload=x,w.onerror=L}),cn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Sh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function f2(){if(tu===null)throw Error(a(475));var r=tu;return r.stylesheets&&r.count===0&&Ag(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Ag(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ah=null;function Ag(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ah=new Map,s.forEach(m2,r),Ah=null,Sh.call(r))}function m2(r,s){if(!(s.state.loading&4)){var o=Ah.get(r);if(o)var c=o.get(null);else{o=new Map,Ah.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var w=h[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}h=s.instance,w=h.getAttribute("data-precedence"),y=o.get(w)||c,y===c&&o.set(null,h),o.set(w,h),this.count++,c=Sh.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),y?y.parentNode.insertBefore(h,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var nu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function p2(r,s,o,c,h,y,w,x){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.hiddenUpdates=xo(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function f1(r,s,o,c,h,y,w,x,L,Q,oe,ue){return r=new p2(r,s,o,w,x,L,Q,ue),s=1,y===!0&&(s|=24),y=Bn(3,null,null,s),r.current=y,y.stateNode=r,s=ip(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},up(y),r}function m1(r){return r?(r=Fo,r):Fo}function p1(r,s,o,c,h,y){h=m1(h),c.context===null?c.context=h:c.pendingContext=h,c=Ts(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ws(r,c,s),o!==null&&(Gn(o,r,s),kc(o,r,s))}function g1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function xg(r,s){g1(r,s),(r=r.alternate)&&g1(r,s)}function y1(r){if(r.tag===13){var s=qo(r,67108864);s!==null&&Gn(s,r,67108864),xg(r,67108864)}}var xh=!0;function g2(r,s,o,c){var h=J.T;J.T=null;var y=W.p;try{W.p=2,Cg(r,s,o,c)}finally{W.p=y,J.T=h}}function y2(r,s,o,c){var h=J.T;J.T=null;var y=W.p;try{W.p=8,Cg(r,s,o,c)}finally{W.p=y,J.T=h}}function Cg(r,s,o,c){if(xh){var h=Rg(c);if(h===null)mg(r,s,c,Ch,o),_1(r,c);else if(_2(h,r,s,o,c))c.stopPropagation();else if(_1(r,c),s&4&&-1<v2.indexOf(r)){for(;h!==null;){var y=zr(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=_r(y.pendingLanes);if(w!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var L=1<<31-Sn(w);x.entanglements[1]|=L,w&=~L}Xr(y),(et&6)===0&&(uh=kn()+500,Qc(0))}}break;case 13:x=qo(y,2),x!==null&&Gn(x,y,2),hh(),xg(y,2)}if(y=Rg(c),y===null&&mg(r,s,c,Ch,o),y===h)break;h=y}h!==null&&c.stopPropagation()}else mg(r,s,c,null,o)}}function Rg(r){return r=fc(r),Ng(r)}var Ch=null;function Ng(r){if(Ch=null,r=Ur(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ch=r,null}function v1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(md()){case Gt:return 2;case Jt:return 8;case _a:case Pm:return 32;case rc:return 268435456;default:return 32}default:return 32}}var Ig=!1,Ms=null,Vs=null,Ls=null,ru=new Map,au=new Map,Us=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _1(r,s){switch(r){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function su(r,s,o,c,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[h]},s!==null&&(s=zr(s),s!==null&&y1(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function _2(r,s,o,c,h){switch(s){case"focusin":return Ms=su(Ms,r,s,o,c,h),!0;case"dragenter":return Vs=su(Vs,r,s,o,c,h),!0;case"mouseover":return Ls=su(Ls,r,s,o,c,h),!0;case"pointerover":var y=h.pointerId;return ru.set(y,su(ru.get(y)||null,r,s,o,c,h)),!0;case"gotpointercapture":return y=h.pointerId,au.set(y,su(au.get(y)||null,r,s,o,c,h)),!0}return!1}function E1(r){var s=Ur(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Vm(r.priority,function(){if(o.tag===13){var c=$n();c=sc(c);var h=qo(o,c);h!==null&&Gn(h,o,c),xg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Rg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);hc=c,o.target.dispatchEvent(c),hc=null}else return s=zr(o),s!==null&&y1(s),r.blockedOn=o,!1;s.shift()}return!0}function b1(r,s,o){Rh(r)&&o.delete(s)}function E2(){Ig=!1,Ms!==null&&Rh(Ms)&&(Ms=null),Vs!==null&&Rh(Vs)&&(Vs=null),Ls!==null&&Rh(Ls)&&(Ls=null),ru.forEach(b1),au.forEach(b1)}function Nh(r,s){r.blockedOn===s&&(r.blockedOn=null,Ig||(Ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,E2)))}var Ih=null;function T1(r){Ih!==r&&(Ih=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ih===r&&(Ih=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(Ng(c||o)===null)continue;break}var y=zr(o);y!==null&&(r.splice(s,3),s-=3,Np(y,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function iu(r){function s(L){return Nh(L,r)}Ms!==null&&Nh(Ms,r),Vs!==null&&Nh(Vs,r),Ls!==null&&Nh(Ls,r),ru.forEach(s),au.forEach(s);for(var o=0;o<Us.length;o++){var c=Us[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)E1(o),o.blockedOn===null&&Us.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],y=o[c+1],w=h[sn]||null;if(typeof y=="function")w||T1(o);else if(w){var x=null;if(y&&y.hasAttribute("formAction")){if(h=y,w=y[sn]||null)x=w.formAction;else if(Ng(h)!==null)continue}else x=w.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),T1(o)}}}function Dg(r){this._internalRoot=r}Dh.prototype.render=Dg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=$n();p1(o,c,r,s,null,null)},Dh.prototype.unmount=Dg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;p1(r.current,2,null,r,null,null),hh(),s[ba]=null}};function Dh(r){this._internalRoot=r}Dh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ea();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Us.length&&s!==0&&s<Us[o].priority;o++);Us.splice(o,0,r),o===0&&E1(r)}};var w1=e.version;if(w1!=="19.1.1")throw Error(a(527,w1,"19.1.1"));W.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var b2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{as=kh.inject(b2),mn=kh}catch{}}return lu.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",h=U0,y=z0,w=B0,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=f1(r,1,!1,null,null,o,c,h,y,w,x,null),r[ba]=s.current,fg(r),new Dg(s)},lu.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,h="",y=U0,w=z0,x=B0,L=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=f1(r,1,!0,s,o??null,c,h,y,w,x,L,Q),s.context=m1(null),o=s.current,c=$n(),c=sc(c),h=Ts(c),h.callback=null,ws(o,h,c),o=c,s.current.lanes=o,It(s,o),Xr(s),r[ba]=s.current,fg(r),new Dh(s)},lu.version="19.1.1",lu}var P1;function O2(){if(P1)return Pg.exports;P1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=k2(),Pg.exports}var P2=O2();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j1="popstate";function j2(t={}){function e(a,i){let{pathname:l,search:u,hash:m}=a.location;return iy("",{pathname:l,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:Ou(i)}return V2(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M2(){return Math.random().toString(36).substring(2,10)}function M1(t,e){return{usr:t.state,key:t.key,idx:e}}function iy(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$l(e):e,state:n,key:e&&e.key||a||M2()}}function Ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function V2(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,m="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function E(){m="POP";let j=v(),z=j==null?null:j-g;g=j,p&&p({action:m,location:R.location,delta:z})}function S(j,z){m="PUSH";let $=iy(R.location,j,z);g=v()+1;let ne=M1($,g),X=R.createHref($);try{u.pushState(ne,"",X)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(X)}l&&p&&p({action:m,location:R.location,delta:1})}function A(j,z){m="REPLACE";let $=iy(R.location,j,z);g=v();let ne=M1($,g),X=R.createHref($);u.replaceState(ne,"",X),l&&p&&p({action:m,location:R.location,delta:0})}function C(j){return L2(j)}let R={get action(){return m},get location(){return t(i,u)},listen(j){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(j1,E),p=j,()=>{i.removeEventListener(j1,E),p=null}},createHref(j){return e(i,j)},createURL:C,encodeLocation(j){let z=C(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:A,go(j){return u.go(j)}};return R}function L2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Ou(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function nw(t,e,n="/"){return U2(t,e,n,!1)}function U2(t,e,n,a){let i=typeof e=="string"?$l(e):e,l=Xa(i.pathname||"/",n);if(l==null)return null;let u=rw(t);z2(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let g=W2(l);m=Q2(u[p],g,a)}return m}function rw(t,e=[],n=[],a="",i=!1){let l=(u,m,p=i,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;_t(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let E=Ka([a,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(_t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),rw(u.children,e,S,E,p)),!(u.path==null&&!u.index)&&e.push({path:E,score:K2(E,u.index),routesMeta:S})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let p of aw(u.path))l(u,m,!0,p)}),e}function aw(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=aw(a.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),i&&m.push(...u),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function z2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y2(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var B2=/^:[\w-]+$/,q2=3,F2=2,H2=1,$2=10,G2=-2,V1=t=>t==="*";function K2(t,e){let n=t.split("/"),a=n.length;return n.some(V1)&&(a+=G2),e&&(a+=F2),n.filter(i=>!V1(i)).reduce((i,l)=>i+(B2.test(l)?q2:l===""?H2:$2),a)}function Y2(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function Q2(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=vf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!E&&g&&n&&!a[a.length-1].route.index&&(E=vf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(i,E.params),u.push({params:i,pathname:Ka([l,E.pathname]),pathnameBase:tR(Ka([l,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(l=Ka([l,E.pathnameBase]))}return u}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=X2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:E},S)=>{if(v==="*"){let C=m[S]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=m[S];return E&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function X2(t,e=!1,n=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function W2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Z2(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?$l(t):t;return{pathname:n?n.startsWith("/")?n:J2(n,e):e,search:nR(a),hash:rR(i)}}function J2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lg(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xy(t){let e=eR(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Wy(t,e,n,a=!1){let i;typeof t=="string"?i=$l(t):(i={...t},_t(!i.pathname||!i.pathname.includes("?"),Lg("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Lg("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Lg("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,m;if(u==null)m=n;else{let E=e.length-1;if(!a&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),E-=1;i.pathname=S.join("/")}m=E>=0?e[E]:"/"}let p=Z2(i,m),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ka=t=>t.join("/").replace(/\/\/+/g,"/"),tR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sw=["POST","PUT","PATCH","DELETE"];new Set(sw);var sR=["GET",...sw];new Set(sR);var Gl=P.createContext(null);Gl.displayName="DataRouter";var Hf=P.createContext(null);Hf.displayName="DataRouterState";P.createContext(!1);var iw=P.createContext({isTransitioning:!1});iw.displayName="ViewTransition";var iR=P.createContext(new Map);iR.displayName="Fetchers";var oR=P.createContext(null);oR.displayName="Await";var jr=P.createContext(null);jr.displayName="Navigation";var Qu=P.createContext(null);Qu.displayName="Location";var ma=P.createContext({outlet:null,matches:[],isDataRoute:!1});ma.displayName="Route";var Zy=P.createContext(null);Zy.displayName="RouteError";function lR(t,{relative:e}={}){_t(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=P.useContext(jr),{hash:i,pathname:l,search:u}=Wu(t,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:Ka([n,l])),a.createHref({pathname:m,search:u,hash:i})}function Kl(){return P.useContext(Qu)!=null}function ci(){return _t(Kl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Qu).location}var ow="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lw(t){P.useContext(jr).static||P.useLayoutEffect(t)}function Xu(){let{isDataRoute:t}=P.useContext(ma);return t?bR():cR()}function cR(){_t(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Gl),{basename:e,navigator:n}=P.useContext(jr),{matches:a}=P.useContext(ma),{pathname:i}=ci(),l=JSON.stringify(Xy(a)),u=P.useRef(!1);return lw(()=>{u.current=!0}),P.useCallback((p,g={})=>{if(Ir(u.current,ow),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=Wy(p,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ka([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,i,t])}P.createContext(null);function Wu(t,{relative:e}={}){let{matches:n}=P.useContext(ma),{pathname:a}=ci(),i=JSON.stringify(Xy(n));return P.useMemo(()=>Wy(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function uR(t,e){return cw(t,e)}function cw(t,e,n,a,i){_t(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(jr),{matches:u}=P.useContext(ma),m=u[u.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",E=m&&m.route;{let $=E&&E.path||"";uw(g,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=ci(),A;if(e){let $=typeof e=="string"?$l(e):e;_t(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=S;let C=A.pathname||"/",R=C;if(v!=="/"){let $=v.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice($.length).join("/")}let j=nw(t,{pathname:R});Ir(E||j!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ir(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=pR(j&&j.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Ka([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Ka([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,a,i);return e&&z?P.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function dR(){let t=ER(),e=aR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,u)}var hR=P.createElement(dR,null),fR=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(ma.Provider,{value:this.props.routeContext},P.createElement(Zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mR({routeContext:t,match:e,children:n}){let a=P.useContext(Gl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ma.Provider,{value:t},n)}function pR(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);_t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:E,errors:S}=n,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,E)=>{let S,A=!1,C=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||hR,m&&(p<0&&E===0?(uw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):p===E&&(A=!0,R=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,E+1)),z=()=>{let $;return S?$=C:A?$=R:v.route.Component?$=P.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=g,P.createElement(mR,{match:v,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?P.createElement(fR,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:z(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:a}):z()},null)}function Jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gR(t){let e=P.useContext(Gl);return _t(e,Jy(t)),e}function yR(t){let e=P.useContext(Hf);return _t(e,Jy(t)),e}function vR(t){let e=P.useContext(ma);return _t(e,Jy(t)),e}function ev(t){let e=vR(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _R(){return ev("useRouteId")}function ER(){let t=P.useContext(Zy),e=yR("useRouteError"),n=ev("useRouteError");return t!==void 0?t:e.errors?.[n]}function bR(){let{router:t}=gR("useNavigate"),e=ev("useNavigate"),n=P.useRef(!1);return lw(()=>{n.current=!0}),P.useCallback(async(i,l={})=>{Ir(n.current,ow),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var L1={};function uw(t,e,n){!e&&!L1[t]&&(L1[t]=!0,Ir(!1,n))}P.memo(TR);function TR({routes:t,future:e,state:n,unstable_onError:a}){return cw(t,void 0,n,a,e)}function wR({to:t,replace:e,state:n,relative:a}){_t(Kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(jr);Ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(ma),{pathname:u}=ci(),m=Xu(),p=Wy(t,Xy(l),u,a==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function fu(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SR({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){_t(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=$l(n));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:S="default"}=n,A=P.useMemo(()=>{let C=Xa(p,u);return C==null?null:{location:{pathname:C,search:g,hash:v,state:E,key:S},navigationType:a}},[u,p,g,v,E,S,a]);return Ir(A!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:P.createElement(jr.Provider,{value:m},P.createElement(Qu.Provider,{children:e,value:A}))}function AR({children:t,location:e}){return uR(oy(t),e)}function oy(t,e=[]){let n=[];return P.Children.forEach(t,(a,i)=>{if(!P.isValidElement(a))return;let l=[...e,i];if(a.type===P.Fragment){n.push.apply(n,oy(a.props.children,l));return}_t(a.type===fu,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=oy(a.props.children,l)),n.push(u)}),n}var Zh="get",Jh="application/x-www-form-urlencoded";function $f(t){return t!=null&&typeof t.tagName=="string"}function xR(t){return $f(t)&&t.tagName.toLowerCase()==="button"}function CR(t){return $f(t)&&t.tagName.toLowerCase()==="form"}function RR(t){return $f(t)&&t.tagName.toLowerCase()==="input"}function NR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IR(t,e){return t.button===0&&(!e||e==="_self")&&!NR(t)}var Oh=null;function DR(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var kR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ug(t){return t!=null&&!kR.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jh}"`),null):t}function OR(t,e){let n,a,i,l,u;if(CR(t)){let m=t.getAttribute("action");a=m?Xa(m,e):null,n=t.getAttribute("method")||Zh,i=Ug(t.getAttribute("enctype"))||Jh,l=new FormData(t)}else if(xR(t)||RR(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(a=p?Xa(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Zh,i=Ug(t.getAttribute("formenctype"))||Ug(m.getAttribute("enctype"))||Jh,l=new FormData(m,t),!DR()){let{name:g,type:v,value:E}=t;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,E)}}else{if($f(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zh,a=null,i=Jh,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PR(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Xa(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function jR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VR(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await jR(l,n);return u.links?u.links():[]}return[]}));return BR(a.flat(1).filter(MR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function U1(t,e,n,a,i,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function LR(t,e,{includeHydrateFallback:n}={}){return UR(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function UR(t){return[...new Set(t)]}function zR(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function BR(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(zR(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function dw(){let t=P.useContext(Gl);return tv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qR(){let t=P.useContext(Hf);return tv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var nv=P.createContext(void 0);nv.displayName="FrameworkContext";function hw(){let t=P.useContext(nv);return tv(t,"You must render this element inside a <HydratedRouter> element"),t}function FR(t,e){let n=P.useContext(nv),[a,i]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=z=>{z.forEach($=>{u($.isIntersecting)})},j=new IntersectionObserver(R,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[t]),P.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let A=()=>{i(!0)},C=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:cu(m,A),onBlur:cu(p,C),onMouseEnter:cu(g,A),onMouseLeave:cu(v,C),onTouchStart:cu(E,A)}]:[!1,S,{}]}function cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HR({page:t,...e}){let{router:n}=dw(),a=P.useMemo(()=>nw(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?P.createElement(GR,{page:t,matches:a,...e}):null}function $R(t){let{manifest:e,routeModules:n}=hw(),[a,i]=P.useState([]);return P.useEffect(()=>{let l=!1;return VR(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function GR({page:t,matches:e,...n}){let a=ci(),{manifest:i,routeModules:l}=hw(),{basename:u}=dw(),{loaderData:m,matches:p}=qR(),g=P.useMemo(()=>U1(t,e,p,i,a,"data"),[t,e,p,i,a]),v=P.useMemo(()=>U1(t,e,p,i,a,"assets"),[t,e,p,i,a]),E=P.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let C=new Set,R=!1;if(e.forEach(z=>{let $=i.routes[z.route.id];!$||!$.hasLoader||(!g.some(ne=>ne.route.id===z.route.id)&&z.route.id in m&&l[z.route.id]?.shouldRevalidate||$.hasClientLoader?R=!0:C.add(z.route.id))}),C.size===0)return[];let j=PR(t,u,"data");return R&&C.size>0&&j.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[j.pathname+j.search]},[u,m,a,i,g,e,t,l]),S=P.useMemo(()=>LR(v,i),[v,i]),A=$R(v);return P.createElement(P.Fragment,null,E.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:R})=>P.createElement("link",{key:C,nonce:n.nonce,...R})))}function KR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fw&&(window.__reactRouterVersion="7.9.2")}catch{}function YR({basename:t,children:e,window:n}){let a=P.useRef();a.current==null&&(a.current=j2({window:n,v5Compat:!0}));let i=a.current,[l,u]=P.useState({action:i.action,location:i.location}),m=P.useCallback(p=>{P.startTransition(()=>u(p))},[u]);return P.useLayoutEffect(()=>i.listen(m),[i,m]),P.createElement(SR,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gf=P.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:m,target:p,to:g,preventScrollReset:v,viewTransition:E,...S},A){let{basename:C}=P.useContext(jr),R=typeof g=="string"&&mw.test(g),j,z=!1;if(typeof g=="string"&&R&&(j=g,fw))try{let M=new URL(window.location.href),U=g.startsWith("//")?new URL(M.protocol+g):new URL(g),k=Xa(U.pathname,C);U.origin===M.origin&&k!=null?g=k+U.search+U.hash:z=!0}catch{Ir(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=lR(g,{relative:i}),[ne,X,q]=FR(a,S),Y=ZR(g,{replace:u,state:m,target:p,preventScrollReset:v,relative:i,viewTransition:E});function I(M){e&&e(M),M.defaultPrevented||Y(M)}let O=P.createElement("a",{...S,...q,href:j||$,onClick:z||l?e:I,ref:KR(A,X),target:p,"data-discover":!R&&n==="render"?"true":void 0});return ne&&!R?P.createElement(P.Fragment,null,O,P.createElement(HR,{page:$})):O});Gf.displayName="Link";var QR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:m,children:p,...g},v){let E=Wu(u,{relative:g.relative}),S=ci(),A=P.useContext(Hf),{navigator:C,basename:R}=P.useContext(jr),j=A!=null&&rN(E)&&m===!0,z=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,$=S.pathname,ne=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||($=$.toLowerCase(),ne=ne?ne.toLowerCase():null,z=z.toLowerCase()),ne&&R&&(ne=Xa(ne,R)||ne);const X=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let q=$===z||!i&&$.startsWith(z)&&$.charAt(X)==="/",Y=ne!=null&&(ne===z||!i&&ne.startsWith(z)&&ne.charAt(z.length)==="/"),I={isActive:q,isPending:Y,isTransitioning:j},O=q?e:void 0,M;typeof a=="function"?M=a(I):M=[a,q?"active":null,Y?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(I):l;return P.createElement(Gf,{...g,"aria-current":O,className:M,ref:v,style:U,to:u,viewTransition:m},typeof p=="function"?p(I):p)});QR.displayName="NavLink";var XR=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Zh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...S},A)=>{let C=tN(),R=nN(m,{relative:g}),j=u.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&mw.test(m),$=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let X=ne.nativeEvent.submitter,q=X?.getAttribute("formmethod")||u;C(X||ne.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:i,state:l,relative:g,preventScrollReset:v,viewTransition:E})};return P.createElement("form",{ref:A,method:j,action:R,onSubmit:a?p:$,...S,"data-discover":!z&&t==="render"?"true":void 0})});XR.displayName="Form";function WR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(t){let e=P.useContext(Gl);return _t(e,WR(t)),e}function ZR(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let m=Xu(),p=ci(),g=Wu(t,{relative:l});return P.useCallback(v=>{if(IR(v,e)){v.preventDefault();let E=n!==void 0?n:Ou(p)===Ou(g);m(t,{replace:E,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[p,m,g,n,a,e,t,i,l,u])}var JR=0,eN=()=>`__${String(++JR)}__`;function tN(){let{router:t}=pw("useSubmit"),{basename:e}=P.useContext(jr),n=_R();return P.useCallback(async(a,i={})=>{let{action:l,method:u,encType:m,formData:p,body:g}=OR(a,e);if(i.navigate===!1){let v=i.fetcherKey||eN();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||m,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||m,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function nN(t,{relative:e}={}){let{basename:n}=P.useContext(jr),a=P.useContext(ma);_t(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...Wu(t||".",{relative:e})},u=ci();if(t==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ka([n,l.pathname])),Ou(l)}function rN(t,{relative:e}={}){let n=P.useContext(iw);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=pw("useViewTransitionState"),i=Wu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Xa(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Xa(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vf(i.pathname,u)!=null||vf(i.pathname,l)!=null}const Fa={home:"/",login:"/login",register:"/register",dashboard:"/dashboard",cadastros:"/cadastros"},aN=()=>{};var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sN=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const i=t[n++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],m=t[n++],p=((i&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,m=u?t[i+1]:0,p=i+2<t.length,g=p?t[i+2]:0,v=l>>2,E=(l&3)<<4|m>>4;let S=(m&15)<<2|g>>6,A=g&63;p||(A=64,u||(S=64)),a.push(n[v],n[E],n[S],n[A])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],m=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||m==null||g==null||E==null)throw new iN;const S=l<<2|m>>4;if(a.push(S),g!==64){const A=m<<4&240|g>>2;if(a.push(A),E!==64){const C=g<<6&192|E;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oN=function(t){const e=gw(t);return yw.encodeByteArray(e,!0)},_f=function(t){return oN(t).replace(/\./g,"")},vw=function(t){try{return yw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=()=>lN().__FIREBASE_DEFAULTS__,uN=()=>{if(typeof process>"u"||typeof z1>"u")return;const t=z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vw(t[1]);return e&&JSON.parse(e)},Kf=()=>{try{return aN()||cN()||uN()||dN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_w=t=>Kf()?.emulatorHosts?.[t],Ew=t=>{const e=_w(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},bw=()=>Kf()?.config,Tw=t=>Kf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_f(JSON.stringify(n)),_f(JSON.stringify(u)),""].join(".")}const Au={};function fN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?t.emulator.push(e):t.prod.push(e);return t}function mN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B1=!1;function av(t,e){if(typeof window>"u"||typeof document>"u"||!ui(window.location.host)||Au[t]===e||Au[t]||B1)return;Au[t]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",l=fN().prod.length>0;function u(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{B1=!0,u()},S}function v(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=mN(a),A=n("text"),C=document.getElementById(A)||document.createElement("span"),R=n("learnmore"),j=document.getElementById(R)||document.createElement("a"),z=n("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;m(ne),v(j,R);const X=g();p($,z),ne.append($,C,j,X),document.body.appendChild(ne)}l?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function gN(){const t=Kf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _N(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EN(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bN(){return!gN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TN(){try{return typeof indexedDB=="object"}catch{return!1}}function wN(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="FirebaseError";class pa extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=SN,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?AN(l,a):"Error",m=`${this.serviceName}: ${u} (${i}).`;return new pa(i,m,a)}}function AN(t,e){return t.replace(xN,(n,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const xN=/\{\$([^}]+)}/g;function CN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const i of n){if(!a.includes(i))return!1;const l=t[i],u=e[i];if(q1(l)&&q1(u)){if(!co(l,u))return!1}else if(l!==u)return!1}for(const i of a)if(!n.includes(i))return!1;return!0}function q1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RN(t,e){const n=new NN(t,e);return n.subscribe.bind(n)}class NN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let i;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");IN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:a},i.next===void 0&&(i.next=zg),i.error===void 0&&(i.error=zg),i.complete===void 0&&(i.complete=zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new hN;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ON(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&u.resolve(i)}return i}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(a)??new Set;i.add(e),this.onInitCallbacks.set(a,i);const l=this.instances.get(a);return l&&e(l,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const i of a)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:kN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kN(t){return t===ro?void 0:t}function ON(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const jN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},MN=Be.INFO,VN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},LN=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),i=VN[e];if(i)console[i](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=MN,this._logHandler=LN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const UN=(t,e)=>e.some(n=>t instanceof n);let F1,H1;function zN(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BN(){return H1||(H1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sw=new WeakMap,ly=new WeakMap,Aw=new WeakMap,Bg=new WeakMap,iv=new WeakMap;function qN(t){const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ws(t.result)),i()},u=()=>{a(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Sw.set(n,t)}).catch(()=>{}),iv.set(e,t),e}function FN(t){if(ly.has(t))return;const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ly.set(t,e)}let cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Aw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HN(t){cy=t(cy)}function $N(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(qg(this),e,...n);return Aw.set(a,e.sort?e.sort():[e]),Ws(a)}:BN().includes(t)?function(...e){return t.apply(qg(this),e),Ws(Sw.get(this))}:function(...e){return Ws(t.apply(qg(this),e))}}function GN(t){return typeof t=="function"?$N(t):(t instanceof IDBTransaction&&FN(t),UN(t,zN())?new Proxy(t,cy):t)}function Ws(t){if(t instanceof IDBRequest)return qN(t);if(Bg.has(t))return Bg.get(t);const e=GN(t);return e!==t&&(Bg.set(t,e),iv.set(e,t)),e}const qg=t=>iv.get(t);function KN(t,e,{blocked:n,upgrade:a,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),m=Ws(u);return a&&u.addEventListener("upgradeneeded",p=>{a(Ws(u.result),p.oldVersion,p.newVersion,Ws(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const YN=["get","getKey","getAll","getAllKeys","count"],QN=["put","add","delete","clear"],Fg=new Map;function $1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,i=QN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(i||YN.includes(n)))return;const l=async function(u,...m){const p=this.transaction(u,i?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),i&&p.done]))[0]};return Fg.set(e,l),l}HN(t=>({...t,get:(e,n,a)=>$1(e,n)||t.get(e,n,a),has:(e,n)=>!!$1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function WN(t){return t.getComponent()?.type==="VERSION"}const uy="@firebase/app",G1="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new sv("@firebase/app"),ZN="@firebase/app-compat",JN="@firebase/analytics-compat",eI="@firebase/analytics",tI="@firebase/app-check-compat",nI="@firebase/app-check",rI="@firebase/auth",aI="@firebase/auth-compat",sI="@firebase/database",iI="@firebase/data-connect",oI="@firebase/database-compat",lI="@firebase/functions",cI="@firebase/functions-compat",uI="@firebase/installations",dI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",mI="@firebase/performance",pI="@firebase/performance-compat",gI="@firebase/remote-config",yI="@firebase/remote-config-compat",vI="@firebase/storage",_I="@firebase/storage-compat",EI="@firebase/firestore",bI="@firebase/ai",TI="@firebase/firestore-compat",wI="firebase",SI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="[DEFAULT]",AI={[uy]:"fire-core",[ZN]:"fire-core-compat",[eI]:"fire-analytics",[JN]:"fire-analytics-compat",[nI]:"fire-app-check",[tI]:"fire-app-check-compat",[rI]:"fire-auth",[aI]:"fire-auth-compat",[sI]:"fire-rtdb",[iI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[lI]:"fire-fn",[cI]:"fire-fn-compat",[uI]:"fire-iid",[dI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[mI]:"fire-perf",[pI]:"fire-perf-compat",[gI]:"fire-rc",[yI]:"fire-rc-compat",[vI]:"fire-gcs",[_I]:"fire-gcs-compat",[EI]:"fire-fst",[TI]:"fire-fst-compat",[bI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,xI=new Map,hy=new Map;function K1(t,e){try{t.container.addComponent(e)}catch(n){Wa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(hy.has(e))return Wa.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,t);for(const n of Ef.values())K1(n,t);for(const n of xI.values())K1(n,t);return!0}function Yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Zu("app","Firebase",CI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=SI;function xw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a={name:dy,automaticDataCollectionEnabled:!0,...e},i=a.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=bw()),!n)throw Zs.create("no-options");const l=Ef.get(i);if(l){if(co(n,l.options)&&co(a,l.config))return l;throw Zs.create("duplicate-app",{appName:i})}const u=new PN(i);for(const p of hy.values())u.addComponent(p);const m=new RI(n,a,u);return Ef.set(i,m),m}function ov(t=dy){const e=Ef.get(t);if(!e&&t===dy&&bw())return xw();if(!e)throw Zs.create("no-app",{appName:t});return e}function aa(t,e,n){let a=AI[t]??t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const u=[`Unable to register library "${a}" with version "${e}":`];i&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wa.warn(u.join(" "));return}uo(new ti(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",II=1,Pu="firebase-heartbeat-store";let Hg=null;function Cw(){return Hg||(Hg=KN(NI,II,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),Hg}async function DI(t){try{const n=(await Cw()).transaction(Pu),a=await n.objectStore(Pu).get(Rw(t));return await n.done,a}catch(e){if(e instanceof pa)Wa.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e?.message});Wa.warn(n.message)}}}async function Y1(t,e){try{const a=(await Cw()).transaction(Pu,"readwrite");await a.objectStore(Pu).put(e,Rw(t)),await a.done}catch(n){if(n instanceof pa)Wa.warn(n.message);else{const a=Zs.create("idb-set",{originalErrorMessage:n?.message});Wa.warn(a.message)}}}function Rw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,OI=30;class PI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>OI){const i=VI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q1(),{heartbeatsToSend:n,unsentEntries:a}=jI(this._heartbeatsCache.heartbeats),i=_f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Wa.warn(e),""}}}function Q1(){return new Date().toISOString().substring(0,10)}function jI(t,e=kI){const n=[];let a=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),X1(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X1(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TN()?wN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function X1(t){return _f(JSON.stringify({version:2,heartbeats:t})).length}function VI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){uo(new ti("platform-logger",e=>new XN(e),"PRIVATE")),uo(new ti("heartbeat",e=>new PI(e),"PRIVATE")),aa(uy,G1,t),aa(uy,G1,"esm2020"),aa("fire-js","")}LI("");var UI="firebase",zI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(UI,zI,"app");function Nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=Nw,Iw=new Zu("auth","Firebase",Nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new sv("@firebase/auth");function qI(t,...e){bf.logLevel<=Be.WARN&&bf.warn(`Auth (${_o}): ${t}`,...e)}function ef(t,...e){bf.logLevel<=Be.ERROR&&bf.error(`Auth (${_o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw lv(t,...e)}function sa(t,...e){return lv(t,...e)}function Dw(t,e,n){const a={...BI(),[e]:n};return new Zu("auth","Firebase",a).create(e,{appName:t.name})}function Ya(t){return Dw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return Iw.create(t,...e)}function Re(t,e,...n){if(!t)throw lv(e,...n)}function Ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ef(e),new Error(e)}function Za(t,e){t||Ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){return typeof self<"u"&&self.location?.href||""}function FI(){return W1()==="http:"||W1()==="https:"}function W1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||vN()||"connection"in navigator)?navigator.onLine:!0}function $I(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,Za(n>e,"Short delay should be less than long delay!"),this.isMobile=pN()||_N()}get(){return HI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Za(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new ed(3e4,6e4);function di(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hi(t,e,n,a,i={}){return Ow(t,i,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const m=Ju({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return yN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ui(t.emulatorConfig.host)&&(g.credentials="include"),kw.fetch()(await Pw(t,t.config.apiHost,n,m),g)})}async function Ow(t,e,n){t._canInitEmulator=!1;const a={...GI,...e};try{const i=new XI(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ph(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Ph(t,"user-disabled",u);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dw(t,v,g);Dr(t,v)}}catch(i){if(i instanceof pa)throw i;Dr(t,"network-request-failed",{message:String(i)})}}async function td(t,e,n,a,i={}){const l=await hi(t,e,n,a,i);return"mfaPendingCredential"in l&&Dr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Pw(t,e,n,a){const i=`${e}${n}?${a}`,l=t,u=l.config.emulator?cv(t.config,i):`${t.config.apiScheme}://${i}`;return KI.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function QI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(sa(this.auth,"network-request-failed")),YI.get())})}}function Ph(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const i=sa(t,e,a);return i.customData._tokenResponse=n,i}function Z1(t){return t!==void 0&&t.enterprise!==void 0}class WI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZI(t,e){return hi(t,"GET","/v2/recaptchaConfig",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(t,e){return hi(t,"POST","/v1/accounts:delete",e)}async function Tf(t,e){return hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(t,e=!1){const n=Ct(t),a=await n.getIdToken(e),i=uv(a);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l?.sign_in_provider;return{claims:i,token:a,authTime:xu($g(i.auth_time)),issuedAtTime:xu($g(i.iat)),expirationTime:xu($g(i.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $g(t){return Number(t)*1e3}function uv(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=vw(n);return i?JSON.parse(i):(ef("Failed to decode base64 JWT payload"),null)}catch(i){return ef("Caught error parsing JWT payload as JSON",i?.toString()),null}}function J1(t){const e=uv(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof pa&&tD(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function tD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){const e=t.auth,n=await t.getIdToken(),a=await ju(t,Tf(e,{idToken:n}));Re(a?.users.length,e,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const l=i.providerUserInfo?.length?jw(i.providerUserInfo):[],u=aD(t.providerData,l),m=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!u?.length,g=m?p:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new my(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function rD(t){const e=Ct(t);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(t,e){return[...t.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function jw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e){const n=await Ow(t,{},async()=>{const a=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=await Pw(t,i,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return t.emulatorConfig&&ui(t.emulatorConfig.host)&&(p.credentials="include"),kw.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iD(t,e){return hi(t,"POST","/v2/accounts:revokeToken",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=J1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:i,expiresIn:l}=await sD(e,n);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:i,expirationTime:l}=n,u=new Sl;return a&&(Re(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),i&&(Re(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nr{constructor({uid:e,auth:n,stsTokenManager:a,...i}){this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new my(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ju(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await ju(this,JI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,i=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:A,providerData:C,stsTokenManager:R}=n;Re(E&&R,e,"internal-error");const j=Sl.fromJSON(this.name,R);Re(typeof E=="string",e,"internal-error"),Bs(a,e.name),Bs(i,e.name),Re(typeof S=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Bs(l,e.name),Bs(u,e.name),Bs(m,e.name),Bs(p,e.name),Bs(g,e.name),Bs(v,e.name);const z=new Nr({uid:E,auth:e,email:i,emailVerified:S,displayName:a,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(z.providerData=C.map($=>({...$}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,n,a=!1){const i=new Sl;i.updateFromServerResponse(n);const l=new Nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await wf(l),l}static async _fromGetAccountInfoResponse(e,n,a){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?jw(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!l?.length,m=new Sl;m.updateFromIdToken(a);const p=new Nr({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new my(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function $a(t){Za(t instanceof Function,"Expected a class definition");let e=eb.get(t);return e?(Za(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mw.type="NONE";const tb=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){return`firebase:${t}:${e}:${n}`}class Al{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=tf(this.userKey,i.apiKey,l),this.fullPersistenceKey=tf("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tf(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Al($a(tb),e,a);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||$a(tb);const u=tf(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(u);if(v){let E;if(typeof v=="string"){const S=await Tf(e,{idToken:v}).catch(()=>{});if(!S)break;E=await Nr._fromGetAccountInfoResponse(e,S,v)}else E=Nr._fromJSON(e,v);g!==l&&(m=E),l=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Al(l,e,a):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Al(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qw(e))return"Blackberry";if(Fw(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||Uw(e))&&!e.includes("edge/"))return"Chrome";if(Bw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if(a?.length===2)return a[1]}return"Other"}function Vw(t=wn()){return/firefox\//i.test(t)}function Lw(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uw(t=wn()){return/crios\//i.test(t)}function zw(t=wn()){return/iemobile/i.test(t)}function Bw(t=wn()){return/android/i.test(t)}function qw(t=wn()){return/blackberry/i.test(t)}function Fw(t=wn()){return/webos/i.test(t)}function dv(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oD(t=wn()){return dv(t)&&!!window.navigator?.standalone}function lD(){return EN()&&document.documentMode===10}function Hw(t=wn()){return dv(t)||Bw(t)||Fw(t)||qw(t)||/windows phone/i.test(t)||zw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e=[]){let n;switch(t){case"Browser":n=nb(wn());break;case"Worker":n=`${nb(wn())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e={}){return hi(t,"GET","/v2/passwordPolicy",di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=6;class hD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,a,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rb(this),this.idTokenSubscription=new rb(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$a(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tf(this,{idToken:e}),a=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(a=m.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$I()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Ya(this));const n=e?Ct(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uD(this),n=new hD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await iD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$a(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[$a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,i);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eo(t){return Ct(t)}class rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=RN(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(t){Qf=t}function Gw(t){return Qf.loadJS(t)}function pD(){return Qf.recaptchaEnterpriseScript}function gD(){return Qf.gapiScript}function yD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vD{constructor(){this.enterprise=new _D}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _D{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ED="recaptcha-enterprise",Kw="NO_RECAPTCHA";class bD{constructor(e){this.type=ED,this.auth=Eo(e)}async verify(e="verify",n=!1){async function a(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{ZI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new WI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{m(p)})})}function i(l,u,m){const p=window.grecaptcha;Z1(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(Kw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(m=>{if(!n&&Z1(window.grecaptcha))i(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pD();p.length!==0&&(p+=m),Gw(p).then(()=>{i(m,l,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function ab(t,e,n,a=!1,i=!1){const l=new bD(t);let u;if(i)u=Kw;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function py(t,e,n,a,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ab(t,e,n,n==="getOobCode");return a(t,l)}else return a(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ab(t,e,n,n==="getOobCode");return a(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){const n=Yf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(co(l,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function wD(t,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map($a);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e?.popupRedirectResolver)}function SD(t,e,n){const a=Eo(t);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=Yw(e),{host:u,port:m}=AD(e),p=m===null?"":`:${m}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(co(g,a.config.emulator)&&co(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,ui(u)?(rv(`${l}//${u}${p}`),av("Auth",!0)):xD()}function Yw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AD(t){const e=Yw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:sb(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:sb(u)}}}function sb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ha("not implemented")}_getIdTokenResponse(e){return Ha("not implemented")}_linkToIdToken(e,n){return Ha("not implemented")}_getReauthenticationResolver(e){return Ha("not implemented")}}async function CD(t,e){return hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))}async function ID(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends hv{constructor(e,n,a,i=null){super("password",a),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Mu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,n,"signInWithPassword",RD);case"emailLink":return ND(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,a,"signUpPassword",CD);case"emailLink":return ID(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="http://localhost";class ho extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i,...l}=n;if(!a||!i)return null;const u=new ho(a,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,xl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:DD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OD(t){const e=mu(pu(t)).link,n=e?mu(pu(e)).deep_link_id:null,a=mu(pu(t)).deep_link_id;return(a?mu(pu(a)).link:null)||a||n||e||t}class fv{constructor(e){const n=mu(pu(e)),a=n.apiKey??null,i=n.oobCode??null,l=kD(n.mode??null);Re(a&&i&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=OD(e);try{return new fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.providerId=Yl.PROVIDER_ID}static credential(e,n){return Mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=fv.parseLink(n);return Re(a,"argument-error"),Mu._fromEmailAndCode(e,a.code,a.tenantId)}}Yl.PROVIDER_ID="password";Yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Qw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends nd{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Fs.credential(n,a)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends nd{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends nd{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return $s.credential(n,a)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return td(t,"POST","/v1/accounts:signUp",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,i=!1){const l=await Nr._fromIdTokenResponse(e,a,i),u=ib(a);return new fo({user:l,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const i=ib(a);return new fo({user:e,providerId:i,_tokenResponse:a,operationType:n})}}function ib(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends pa{constructor(e,n,a,i){super(n.code,n.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,i){return new Sf(e,n,a,i)}}function Xw(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(t,l,e,a):l})}async function jD(t,e,n=!1){const a=await ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fo._forOperation(t,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e,n=!1){const{auth:a}=t;if(Kn(a.app))return Promise.reject(Ya(a));const i="reauthenticate";try{const l=await ju(t,Xw(a,i,e,t),n);Re(l.idToken,a,"internal-error");const u=uv(l.idToken);Re(u,a,"internal-error");const{sub:m}=u;return Re(t.uid===m,a,"user-mismatch"),fo._forOperation(t,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Dr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(t,e,n=!1){if(Kn(t.app))return Promise.reject(Ya(t));const a="signIn",i=await Xw(t,a,e),l=await fo._fromIdTokenResponse(t,a,i);return n||await t._updateCurrentUser(l.user),l}async function VD(t,e){return Ww(Eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(t){const e=Eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LD(t,e,n){if(Kn(t.app))return Promise.reject(Ya(t));const a=Eo(t),u=await py(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Zw(t),p}),m=await fo._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(m.user),m}function UD(t,e,n){return Kn(t.app)?Promise.reject(Ya(t)):VD(Ct(t),Yl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Zw(t),a})}function zD(t,e,n,a){return Ct(t).onIdTokenChanged(e,n,a)}function BD(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function qD(t,e,n,a){return Ct(t).onAuthStateChanged(e,n,a)}function FD(t){return Ct(t).signOut()}const Af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=1e3,$D=10;class eS extends Jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),i=this.localCache[n];a!==i&&e(n,i,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);lD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$D):i()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const GD=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const a=new Xf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const m=Array.from(u).map(async g=>g(n.origin,l)),p=await KD(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const g=mv("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);u={messageChannel:i,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(){return window}function QD(t){ia().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof ia().WorkerGlobalScope<"u"&&typeof ia().importScripts=="function"}async function XD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){return navigator?.serviceWorker?.controller||null}function ZD(){return rS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebaseLocalStorageDb",JD=1,xf="firebaseLocalStorage",sS="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wf(t,e){return t.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function ek(){const t=indexedDB.deleteDatabase(aS);return new rd(t).toPromise()}function gy(){const t=indexedDB.open(aS,JD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(xf,{keyPath:sS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(xf)?e(a):(a.close(),await ek(),e(await gy()))})})}async function ob(t,e,n){const a=Wf(t,!0).put({[sS]:e,value:n});return new rd(a).toPromise()}async function tk(t,e){const n=Wf(t,!1).get(e),a=await new rd(n).toPromise();return a===void 0?null:a.value}function lb(t,e){const n=Wf(t,!0).delete(e);return new rd(n).toPromise()}const nk=800,rk=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>rk)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new YD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await ob(e,Af,"1"),await lb(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>ob(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>tk(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Wf(i,!1).getAll();return new rd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const ak=iS;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){return e?$a(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ik(t){return Ww(t.auth,new pv(t),t.bypassAuthState)}function ok(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),MD(n,new pv(t),t.bypassAuthState)}async function lk(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),jD(n,new pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:i,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ik;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ok;default:Dr(this.auth,"internal-error")}}resolve(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new ed(2e3,1e4);class Tl extends oS{constructor(e,n,a,i,l){super(e,n,i,l),this.provider=a,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Za(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ck.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="pendingRedirect",nf=new Map;class dk extends oS{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const a=await hk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hk(t,e){const n=pk(e),a=mk(t);if(!await a._isAvailable())return!1;const i=await a._get(n)==="true";return await a._remove(n),i}function fk(t,e){nf.set(t._key(),e)}function mk(t){return $a(t._redirectPersistence)}function pk(t){return tf(uk,t.config.apiKey,t.name)}async function gk(t,e,n=!1){if(Kn(t.app))return Promise.reject(Ya(t));const a=Eo(t),i=sk(a,e),u=await new dk(a,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=600*1e3;class vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_k(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lS(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(sa(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(cb(e))}saveEventToCache(e){this.cachedEventUids.add(cb(e)),this.lastProcessedEventTime=Date.now()}}function cb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _k(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e={}){return hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function wk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ek(t);for(const n of e)try{if(Sk(n))return}catch{}Dr(t,"unauthorized-domain")}function Sk(t){const e=fy(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!Tk.test(n))return!1;if(bk.test(t))return a===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new ed(3e4,6e4);function ub(){const t=ia().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xk(t){return new Promise((e,n)=>{function a(){ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ub(),n(sa(t,"network-request-failed"))},timeout:Ak.get()})}if(ia().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ia().gapi?.load)a();else{const i=yD("iframefcb");return ia()[i]=()=>{gapi.load?a():n(sa(t,"network-request-failed"))},Gw(`${gD()}?onload=${i}`).catch(l=>n(l))}}).catch(e=>{throw rf=null,e})}let rf=null;function Ck(t){return rf=rf||xk(t),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new ed(5e3,15e3),Nk="__/auth/iframe",Ik="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ok(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,Ik):`https://${t.config.authDomain}/${Nk}`,a={apiKey:e.apiKey,appName:t.name,v:_o},i=kk.get(t.config.apiHost);i&&(a.eid=i);const l=t._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${Ju(a).slice(1)}`}async function Pk(t){const e=await Ck(t),n=ia().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:Ok(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const u=sa(t,"network-request-failed"),m=ia().setTimeout(()=>{l(u)},Rk.get());function p(){ia().clearTimeout(m),i(a)}a.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mk=500,Vk=600,Lk="_blank",Uk="http://localhost";class db{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zk(t,e,n,a=Mk,i=Vk){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...jk,width:a.toString(),height:i.toString(),top:l,left:u},g=wn().toLowerCase();n&&(m=Uw(g)?Lk:n),Vw(g)&&(e=e||Uk,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[A,C])=>`${S}${A}=${C},`,"");if(oD(g)&&m!=="_self")return Bk(e||"",m),new db(null);const E=window.open(e||"",m,v);Re(E,t,"popup-blocked");try{E.focus()}catch{}return new db(E)}function Bk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="__/auth/handler",Fk="emulator/auth/handler",Hk=encodeURIComponent("fac");async function hb(t,e,n,a,i,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:_o,eventId:i};if(e instanceof Qw){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",CN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof nd){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await t._getAppCheckToken(),g=p?`#${Hk}=${encodeURIComponent(p)}`:"";return`${$k(t)}?${Ju(m).slice(1)}${g}`}function $k({config:t}){return t.emulator?cv(t,Fk):`https://${t.authDomain}/${qk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=gk,this._overrideRedirectResult=fk}async _openPopup(e,n,a,i){Za(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hb(e,n,a,fy(),i);return zk(e,l,mv())}async _openRedirect(e,n,a,i){await this._originValidation(e);const l=await hb(e,n,a,fy(),i);return QD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(Za(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Pk(e),a=new vk(e);return n.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},i=>{const l=i?.[0]?.[Gg];l!==void 0&&n(!!l),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hw()||Lw()||dv()}}const Kk=Gk;var fb="@firebase/auth",mb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xk(t){uo(new ti("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=a.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(t)},g=new fD(a,i,l,p);return wD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),uo(new ti("auth-internal",e=>{const n=Eo(e.getProvider("auth").getImmediate());return(a=>new Yk(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(fb,mb,Qk(t)),aa(fb,mb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=300,Zk=Tw("authIdTokenMaxAge")||Wk;let pb=null;const Jk=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Zk)return;const i=n?.token;pb!==i&&(pb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eO(t=ov()){const e=Yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TD(t,{popupRedirectResolver:Kk,persistence:[ak,GD,nS]}),a=Tw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=Jk(l.toString());BD(n,u,()=>u(n.currentUser)),zD(n,m=>u(m))}}const i=_w("auth");return i&&SD(n,`http://${i}`),n}function tO(){return document.getElementsByTagName("head")?.[0]??document}mD({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=i=>{const l=sa("internal-error");l.customData=i,n(l)},a.type="text/javascript",a.charset="UTF-8",tO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xk("Browser");var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,cS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,O){function M(){}M.prototype=O.prototype,I.F=O.prototype,I.prototype=new M,I.prototype.constructor=I,I.D=function(U,k,b){for(var N=Array(arguments.length-2),se=2;se<arguments.length;se++)N[se-2]=arguments[se];return O.prototype[k].apply(U,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,O,M){M||(M=0);const U=Array(16);if(typeof O=="string")for(var k=0;k<16;++k)U[k]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(k=0;k<16;++k)U[k]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=I.g[0],M=I.g[1],k=I.g[2];let b=I.g[3],N;N=O+(b^M&(k^b))+U[0]+3614090360&4294967295,O=M+(N<<7&4294967295|N>>>25),N=b+(k^O&(M^k))+U[1]+3905402710&4294967295,b=O+(N<<12&4294967295|N>>>20),N=k+(M^b&(O^M))+U[2]+606105819&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(O^k&(b^O))+U[3]+3250441966&4294967295,M=k+(N<<22&4294967295|N>>>10),N=O+(b^M&(k^b))+U[4]+4118548399&4294967295,O=M+(N<<7&4294967295|N>>>25),N=b+(k^O&(M^k))+U[5]+1200080426&4294967295,b=O+(N<<12&4294967295|N>>>20),N=k+(M^b&(O^M))+U[6]+2821735955&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(O^k&(b^O))+U[7]+4249261313&4294967295,M=k+(N<<22&4294967295|N>>>10),N=O+(b^M&(k^b))+U[8]+1770035416&4294967295,O=M+(N<<7&4294967295|N>>>25),N=b+(k^O&(M^k))+U[9]+2336552879&4294967295,b=O+(N<<12&4294967295|N>>>20),N=k+(M^b&(O^M))+U[10]+4294925233&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(O^k&(b^O))+U[11]+2304563134&4294967295,M=k+(N<<22&4294967295|N>>>10),N=O+(b^M&(k^b))+U[12]+1804603682&4294967295,O=M+(N<<7&4294967295|N>>>25),N=b+(k^O&(M^k))+U[13]+4254626195&4294967295,b=O+(N<<12&4294967295|N>>>20),N=k+(M^b&(O^M))+U[14]+2792965006&4294967295,k=b+(N<<17&4294967295|N>>>15),N=M+(O^k&(b^O))+U[15]+1236535329&4294967295,M=k+(N<<22&4294967295|N>>>10),N=O+(k^b&(M^k))+U[1]+4129170786&4294967295,O=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(O^M))+U[6]+3225465664&4294967295,b=O+(N<<9&4294967295|N>>>23),N=k+(O^M&(b^O))+U[11]+643717713&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^O&(k^b))+U[0]+3921069994&4294967295,M=k+(N<<20&4294967295|N>>>12),N=O+(k^b&(M^k))+U[5]+3593408605&4294967295,O=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(O^M))+U[10]+38016083&4294967295,b=O+(N<<9&4294967295|N>>>23),N=k+(O^M&(b^O))+U[15]+3634488961&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^O&(k^b))+U[4]+3889429448&4294967295,M=k+(N<<20&4294967295|N>>>12),N=O+(k^b&(M^k))+U[9]+568446438&4294967295,O=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(O^M))+U[14]+3275163606&4294967295,b=O+(N<<9&4294967295|N>>>23),N=k+(O^M&(b^O))+U[3]+4107603335&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^O&(k^b))+U[8]+1163531501&4294967295,M=k+(N<<20&4294967295|N>>>12),N=O+(k^b&(M^k))+U[13]+2850285829&4294967295,O=M+(N<<5&4294967295|N>>>27),N=b+(M^k&(O^M))+U[2]+4243563512&4294967295,b=O+(N<<9&4294967295|N>>>23),N=k+(O^M&(b^O))+U[7]+1735328473&4294967295,k=b+(N<<14&4294967295|N>>>18),N=M+(b^O&(k^b))+U[12]+2368359562&4294967295,M=k+(N<<20&4294967295|N>>>12),N=O+(M^k^b)+U[5]+4294588738&4294967295,O=M+(N<<4&4294967295|N>>>28),N=b+(O^M^k)+U[8]+2272392833&4294967295,b=O+(N<<11&4294967295|N>>>21),N=k+(b^O^M)+U[11]+1839030562&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^O)+U[14]+4259657740&4294967295,M=k+(N<<23&4294967295|N>>>9),N=O+(M^k^b)+U[1]+2763975236&4294967295,O=M+(N<<4&4294967295|N>>>28),N=b+(O^M^k)+U[4]+1272893353&4294967295,b=O+(N<<11&4294967295|N>>>21),N=k+(b^O^M)+U[7]+4139469664&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^O)+U[10]+3200236656&4294967295,M=k+(N<<23&4294967295|N>>>9),N=O+(M^k^b)+U[13]+681279174&4294967295,O=M+(N<<4&4294967295|N>>>28),N=b+(O^M^k)+U[0]+3936430074&4294967295,b=O+(N<<11&4294967295|N>>>21),N=k+(b^O^M)+U[3]+3572445317&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^O)+U[6]+76029189&4294967295,M=k+(N<<23&4294967295|N>>>9),N=O+(M^k^b)+U[9]+3654602809&4294967295,O=M+(N<<4&4294967295|N>>>28),N=b+(O^M^k)+U[12]+3873151461&4294967295,b=O+(N<<11&4294967295|N>>>21),N=k+(b^O^M)+U[15]+530742520&4294967295,k=b+(N<<16&4294967295|N>>>16),N=M+(k^b^O)+U[2]+3299628645&4294967295,M=k+(N<<23&4294967295|N>>>9),N=O+(k^(M|~b))+U[0]+4096336452&4294967295,O=M+(N<<6&4294967295|N>>>26),N=b+(M^(O|~k))+U[7]+1126891415&4294967295,b=O+(N<<10&4294967295|N>>>22),N=k+(O^(b|~M))+U[14]+2878612391&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~O))+U[5]+4237533241&4294967295,M=k+(N<<21&4294967295|N>>>11),N=O+(k^(M|~b))+U[12]+1700485571&4294967295,O=M+(N<<6&4294967295|N>>>26),N=b+(M^(O|~k))+U[3]+2399980690&4294967295,b=O+(N<<10&4294967295|N>>>22),N=k+(O^(b|~M))+U[10]+4293915773&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~O))+U[1]+2240044497&4294967295,M=k+(N<<21&4294967295|N>>>11),N=O+(k^(M|~b))+U[8]+1873313359&4294967295,O=M+(N<<6&4294967295|N>>>26),N=b+(M^(O|~k))+U[15]+4264355552&4294967295,b=O+(N<<10&4294967295|N>>>22),N=k+(O^(b|~M))+U[6]+2734768916&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~O))+U[13]+1309151649&4294967295,M=k+(N<<21&4294967295|N>>>11),N=O+(k^(M|~b))+U[4]+4149444226&4294967295,O=M+(N<<6&4294967295|N>>>26),N=b+(M^(O|~k))+U[11]+3174756917&4294967295,b=O+(N<<10&4294967295|N>>>22),N=k+(O^(b|~M))+U[2]+718787259&4294967295,k=b+(N<<15&4294967295|N>>>17),N=M+(b^(k|~O))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+O&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+b&4294967295}a.prototype.v=function(I,O){O===void 0&&(O=I.length);const M=O-this.blockSize,U=this.C;let k=this.h,b=0;for(;b<O;){if(k==0)for(;b<=M;)i(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<O;)if(U[k++]=I.charCodeAt(b++),k==this.blockSize){i(this,U),k=0;break}}else for(;b<O;)if(U[k++]=I[b++],k==this.blockSize){i(this,U),k=0;break}}this.h=k,this.o+=O},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var O=1;O<I.length-8;++O)I[O]=0;O=this.o*8;for(var M=I.length-8;M<I.length;++M)I[M]=O&255,O/=256;for(this.v(I),I=Array(16),O=0,M=0;M<4;++M)for(let U=0;U<32;U+=8)I[O++]=this.g[M]>>>U&255;return I};function l(I,O){var M=m;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=O(I)}function u(I,O){this.h=O;const M=[];let U=!0;for(let k=I.length-1;k>=0;k--){const b=I[k]|0;U&&b==O||(M[k]=b,U=!1)}this.g=M}var m={};function p(I){return-128<=I&&I<128?l(I,function(O){return new u([O|0],O<0?-1:0)}):new u([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return j(g(-I));const O=[];let M=1;for(let U=0;I>=M;U++)O[U]=I/M|0,M*=4294967296;return new u(O,0)}function v(I,O){if(I.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(I.charAt(0)=="-")return j(v(I.substring(1),O));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(O,8));let U=E;for(let b=0;b<I.length;b+=8){var k=Math.min(8,I.length-b);const N=parseInt(I.substring(b,b+k),O);k<8?(k=g(Math.pow(O,k)),U=U.j(k).add(g(N))):(U=U.j(M),U=U.add(g(N)))}return U}var E=p(0),S=p(1),A=p(16777216);t=u.prototype,t.m=function(){if(R(this))return-j(this).m();let I=0,O=1;for(let M=0;M<this.g.length;M++){const U=this.i(M);I+=(U>=0?U:4294967296+U)*O,O*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(R(this))return"-"+j(this).toString(I);const O=g(Math.pow(I,6));var M=this;let U="";for(;;){const k=X(M,O).g;M=z(M,k.j(O));let b=((M.g.length>0?M.g[0]:M.h)>>>0).toString(I);if(M=k,C(M))return b+U;for(;b.length<6;)b="0"+b;U=b+U}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let O=0;O<I.g.length;O++)if(I.g[O]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=z(this,I),R(I)?-1:C(I)?0:1};function j(I){const O=I.g.length,M=[];for(let U=0;U<O;U++)M[U]=~I.g[U];return new u(M,~I.h).add(S)}t.abs=function(){return R(this)?j(this):this},t.add=function(I){const O=Math.max(this.g.length,I.g.length),M=[];let U=0;for(let k=0;k<=O;k++){let b=U+(this.i(k)&65535)+(I.i(k)&65535),N=(b>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);U=N>>>16,b&=65535,N&=65535,M[k]=N<<16|b}return new u(M,M[M.length-1]&-2147483648?-1:0)};function z(I,O){return I.add(j(O))}t.j=function(I){if(C(this)||C(I))return E;if(R(this))return R(I)?j(this).j(j(I)):j(j(this).j(I));if(R(I))return j(this.j(j(I)));if(this.l(A)<0&&I.l(A)<0)return g(this.m()*I.m());const O=this.g.length+I.g.length,M=[];for(var U=0;U<2*O;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(let k=0;k<I.g.length;k++){const b=this.i(U)>>>16,N=this.i(U)&65535,se=I.i(k)>>>16,ye=I.i(k)&65535;M[2*U+2*k]+=N*ye,$(M,2*U+2*k),M[2*U+2*k+1]+=b*ye,$(M,2*U+2*k+1),M[2*U+2*k+1]+=N*se,$(M,2*U+2*k+1),M[2*U+2*k+2]+=b*se,$(M,2*U+2*k+2)}for(I=0;I<O;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=O;I<2*O;I++)M[I]=0;return new u(M,0)};function $(I,O){for(;(I[O]&65535)!=I[O];)I[O+1]+=I[O]>>>16,I[O]&=65535,O++}function ne(I,O){this.g=I,this.h=O}function X(I,O){if(C(O))throw Error("division by zero");if(C(I))return new ne(E,E);if(R(I))return O=X(j(I),O),new ne(j(O.g),j(O.h));if(R(O))return O=X(I,j(O)),new ne(j(O.g),O.h);if(I.g.length>30){if(R(I)||R(O))throw Error("slowDivide_ only works with positive integers.");for(var M=S,U=O;U.l(I)<=0;)M=q(M),U=q(U);var k=Y(M,1),b=Y(U,1);for(U=Y(U,2),M=Y(M,2);!C(U);){var N=b.add(U);N.l(I)<=0&&(k=k.add(M),b=N),U=Y(U,1),M=Y(M,1)}return O=z(I,k.j(O)),new ne(k,O)}for(k=E;I.l(O)>=0;){for(M=Math.max(1,Math.floor(I.m()/O.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),b=g(M),N=b.j(O);R(N)||N.l(I)>0;)M-=U,b=g(M),N=b.j(O);C(b)&&(b=S),k=k.add(b),I=z(I,N)}return new ne(k,I)}t.B=function(I){return X(this,I).h},t.and=function(I){const O=Math.max(this.g.length,I.g.length),M=[];for(let U=0;U<O;U++)M[U]=this.i(U)&I.i(U);return new u(M,this.h&I.h)},t.or=function(I){const O=Math.max(this.g.length,I.g.length),M=[];for(let U=0;U<O;U++)M[U]=this.i(U)|I.i(U);return new u(M,this.h|I.h)},t.xor=function(I){const O=Math.max(this.g.length,I.g.length),M=[];for(let U=0;U<O;U++)M[U]=this.i(U)^I.i(U);return new u(M,this.h^I.h)};function q(I){const O=I.g.length+1,M=[];for(let U=0;U<O;U++)M[U]=I.i(U)<<1|I.i(U-1)>>>31;return new u(M,I.h)}function Y(I,O){const M=O>>5;O%=32;const U=I.g.length-M,k=[];for(let b=0;b<U;b++)k[b]=O>0?I.i(b+M)>>>O|I.i(b+M+1)<<32-O:I.i(b+M);return new u(k,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,cS=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Js=u}).apply(typeof gb<"u"?gb:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uS,gu,dS,af,yy,hS,fS,mS;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function i(d,_){if(_)e:{var T=a;d=d.split(".");for(var D=0;D<d.length-1;D++){var K=d[D];if(!(K in T))break e;T=T[K]}d=d[d.length-1],D=T[d],_=_(D),_!=D&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(_){var T=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&T.push([D,_[D]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,T){return d.call.apply(d.bind,arguments)}function g(d,_,T){return g=p,g.apply(null,arguments)}function v(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function E(d,_){function T(){}T.prototype=_.prototype,d.Z=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(D,K,re){for(var pe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)pe[Pe-2]=arguments[Pe];return _.prototype[K].apply(D,pe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function A(d){const _=d.length;if(_>0){const T=Array(_);for(let D=0;D<_;D++)T[D]=d[D];return T}return[]}function C(d,_){for(let D=1;D<arguments.length;D++){const K=arguments[D];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=d.length||0;const re=K.length||0;d.length=T+re;for(let pe=0;pe<re;pe++)d[T+pe]=K[pe]}else d.push(K)}}class R{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(d){u.setTimeout(()=>{throw d},0)}function z(){var d=I;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,T){const D=ne.get();D.set(_,T),this.h?this.h.next=D:this.g=D,this.h=D}}var ne=new R(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let q,Y=!1,I=new $,O=()=>{const d=Promise.resolve(void 0);q=()=>{d.then(M)}};function M(){for(var d;d=z();){try{d.h.call(d.g)}catch(T){j(T)}var _=ne;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}Y=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function se(d,_){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}E(se,k),se.prototype.init=function(d,_){const T=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),J=0;function W(d,_,T,D,K){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!D,this.ha=K,this.key=++J,this.da=this.fa=!1}function F(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ie(d,_,T){for(const D in d)_.call(T,d[D],D,d)}function V(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function Z(d){const _={};for(const T in d)_[T]=d[T];return _}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(d,_){let T,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(T in D)d[T]=D[T];for(let re=0;re<he.length;re++)T=he[re],Object.prototype.hasOwnProperty.call(D,T)&&(d[T]=D[T])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,_,T,D,K){const re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);const pe=ge(d,_,D,K);return pe>-1?(_=d[pe],T||(_.fa=!1)):(_=new W(_,this.src,re,!!D,K),_.fa=T,d.push(_)),_};function _e(d,_){const T=_.type;if(T in d.g){var D=d.g[T],K=Array.prototype.indexOf.call(D,_,void 0),re;(re=K>=0)&&Array.prototype.splice.call(D,K,1),re&&(F(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ge(d,_,T,D){for(let K=0;K<d.length;++K){const re=d[K];if(!re.da&&re.listener==_&&re.capture==!!T&&re.ha==D)return K}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Oe={};function Wt(d,_,T,D,K){if(Array.isArray(_)){for(let re=0;re<_.length;re++)Wt(d,_[re],T,D,K);return null}return T=md(T),d&&d[ye]?d.J(_,T,m(D)?!!D.capture:!1,K):Zt(d,_,T,!1,D,K)}function Zt(d,_,T,D,K,re){if(!_)throw Error("Invalid event type");const pe=m(K)?!!K.capture:!!K;let Pe=yi(d);if(Pe||(d[Ce]=Pe=new me(d)),T=Pe.add(_,T,D,pe,re),T.proxy)return T;if(D=vr(),T.proxy=D,D.src=d,D.listener=T,d.addEventListener)b||(K=pe),K===void 0&&(K=!1),d.addEventListener(_.toString(),D,K);else if(d.attachEvent)d.attachEvent(rs(_.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function vr(){function d(T){return _.call(d.src,d.listener,T)}const _=nc;return d}function va(d,_,T,D,K){if(Array.isArray(_))for(var re=0;re<_.length;re++)va(d,_[re],T,D,K);else D=m(D)?!!D.capture:!!D,T=md(T),d&&d[ye]?(d=d.i,re=String(_).toString(),re in d.g&&(_=d.g[re],T=ge(_,T,D,K),T>-1&&(F(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete d.g[re],d.h--)))):d&&(d=yi(d))&&(_=d.g[_.toString()],d=-1,_&&(d=ge(_,T,D,K)),(T=d>-1?_[d]:null)&&Mr(T))}function Mr(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ye])_e(_.i,d);else{var T=d.type,D=d.proxy;_.removeEventListener?_.removeEventListener(T,D,d.capture):_.detachEvent?_.detachEvent(rs(T),D):_.addListener&&_.removeListener&&_.removeListener(D),(T=yi(_))?(_e(T,d),T.h==0&&(T.src=null,_[Ce]=null)):F(d)}}}function rs(d){return d in Oe?Oe[d]:Oe[d]="on"+d}function nc(d,_){if(d.da)d=!0;else{_=new se(_,this);const T=d.listener,D=d.ha||d.src;d.fa&&Mr(d),d=T.call(D,_)}return d}function yi(d){return d=d[Ce],d instanceof me?d:null}var kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function md(d){return typeof d=="function"?d:(d[kn]||(d[kn]=function(_){return d.handleEvent(_)}),d[kn])}function Gt(){U.call(this),this.i=new me(this),this.M=this,this.G=null}E(Gt,U),Gt.prototype[ye]=!0,Gt.prototype.removeEventListener=function(d,_,T,D){va(this,d,_,T,D)};function Jt(d,_){var T,D=d.G;if(D)for(T=[];D;D=D.G)T.push(D);if(d=d.M,D=_.type||_,typeof _=="string")_=new k(_,d);else if(_ instanceof k)_.target=_.target||d;else{var K=_;_=new k(D,d),fe(_,K)}K=!0;let re,pe;if(T)for(pe=T.length-1;pe>=0;pe--)re=_.g=T[pe],K=_a(re,D,!0,_)&&K;if(re=_.g=d,K=_a(re,D,!0,_)&&K,K=_a(re,D,!1,_)&&K,T)for(pe=0;pe<T.length;pe++)re=_.g=T[pe],K=_a(re,D,!1,_)&&K}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const T=d.g[_];for(let D=0;D<T.length;D++)F(T[D]);delete d.g[_],d.h--}}this.G=null},Gt.prototype.J=function(d,_,T,D){return this.i.add(String(d),_,!1,T,D)},Gt.prototype.K=function(d,_,T,D){return this.i.add(String(d),_,!0,T,D)};function _a(d,_,T,D){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let re=0;re<_.length;++re){const pe=_[re];if(pe&&!pe.da&&pe.capture==T){const Pe=pe.listener,pt=pe.ha||pe.src;pe.fa&&_e(d.i,pe),K=Pe.call(pt,D)!==!1&&K}}return K&&!D.defaultPrevented}function Pm(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(d,_||0)}function rc(d){d.g=Pm(()=>{d.g=null,d.i&&(d.i=!1,rc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class jm extends U{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(d){U.call(this),this.h=d,this.g={}}E(vi,U);var as=[];function mn(d){ie(d.g,function(_,T){this.g.hasOwnProperty(T)&&Mr(_)},d),d.g={}}vi.prototype.N=function(){vi.Z.N.call(this),mn(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=u.JSON.stringify,Sn=u.JSON.parse,Mm=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function pd(){}function gd(){}var Vr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ss(){k.call(this,"d")}E(ss,k);function _r(){k.call(this,"c")}E(_r,k);var rr={},is=null;function Ao(){return is=is||new Gt}rr.Ia="serverreachability";function ac(d){k.call(this,rr.Ia,d)}E(ac,k);function os(d){const _=Ao();Jt(_,new ac(_))}rr.STAT_EVENT="statevent";function xo(d,_){k.call(this,rr.STAT_EVENT,d),this.stat=_}E(xo,k);function It(d){const _=Ao();Jt(_,new xo(_,d))}rr.Ja="timingevent";function yd(d,_){k.call(this,rr.Ja,d),this.size=_}E(yd,k);function ls(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function cs(){this.g=!0}cs.prototype.ua=function(){this.g=!1};function sc(d,_,T,D,K,re){d.info(function(){if(d.g)if(re){var pe="",Pe=re.split("&");for(let Je=0;Je<Pe.length;Je++){var pt=Pe[Je].split("=");if(pt.length>1){const Ot=pt[0];pt=pt[1];const Un=Ot.split("_");pe=Un.length>=2&&Un[1]=="type"?pe+(Ot+"="+pt+"&"):pe+(Ot+"=redacted&")}}}else pe=null;else pe=re;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+_+`
`+T+`
`+pe})}function ic(d,_,T,D,K,re,pe){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+_+`
`+T+`
`+re+" "+pe})}function Ea(d,_,T,D){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Lr(d,T)+(D?" "+D:"")})}function Vm(d,_){d.info(function(){return"TIMEOUT: "+_})}cs.prototype.info=function(){};function Lr(d,_){if(!d.g)return _;if(!_)return null;try{const re=JSON.parse(_);if(re){for(d=0;d<re.length;d++)if(Array.isArray(re[d])){var T=re[d];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let pe=1;pe<D.length;pe++)D[pe]=""}}}}return nr(re)}catch{return _}}var Dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ba;function _i(){}E(_i,pd),_i.prototype.g=function(){return new XMLHttpRequest},ba=new _i;function Ei(d){return encodeURIComponent(String(d))}function Lm(d){var _=1;d=d.split(":");const T=[];for(;_>0&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function Er(d,_,T,D){this.j=d,this.i=_,this.l=T,this.S=D||1,this.V=new vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new us}function us(){this.i=null,this.g="",this.h=!1}var Co={},Ur={};function zr(d,_,T){d.M=1,d.A=wa(Et(_)),d.u=T,d.R=!0,ds(d,null)}function ds(d,_){d.F=Date.now(),bi(d),d.B=Et(d.A);var T=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),bd(T.i,"t",D),d.C=0,T=d.j.L,d.h=new us,d.g=Vo(d.j,T?_:null,!d.u),d.P>0&&(d.O=new jm(g(d.Y,d,d.g),d.P)),_=d.V,T=d.g,D=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(as[0]=K.toString()),K=as);for(let re=0;re<K.length;re++){const pe=Wt(T,K[re],D||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=d.J?Z(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),os(),sc(d.i,d.v,d.B,d.l,d.S,d.u)}Er.prototype.ba=function(d){d=d.target;const _=this.O;_&&pn(d)==3?_.j():this.Y(d)},Er.prototype.Y=function(d){try{if(d==this.g)e:{const Pe=pn(this.g),pt=this.g.ya(),Je=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||ki(this.g)))){this.K||Pe!=4||pt==7||(pt==8||Je<=0?os(3):os(2)),qr(this);var _=this.g.ca();this.X=_;var T=hs(this);if(this.o=_==200,ic(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var re=D;break t}}re=null}if(d=re)Ea(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ro(this,d);else{this.o=!1,this.m=3,It(12),Fr(this),Ti(this);break e}}if(this.R){d=!0;let Ot;for(;!this.K&&this.C<T.length;)if(Ot=vd(this,T),Ot==Ur){Pe==4&&(this.m=4,It(14),d=!1),Ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Co){this.m=4,It(15),Ea(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Ea(this.i,this.l,Ot,null),Ro(this,Ot);if(kt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||T.length!=0||this.h.h||(this.m=1,It(16),d=!1),this.o=this.o&&d,!d)Ea(this.i,this.l,T,"[Invalid Chunked Response]"),Fr(this),Ti(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gc(pe),pe.P=!0,It(11))}}else Ea(this.i,this.l,T,null),Ro(this,T);Pe==4&&Fr(this),this.o&&!this.K&&(Pe==4?yc(this.j,this):(this.o=!1,bi(this)))}else Oi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Fr(this),Ti(this)}}}catch{}finally{}};function hs(d){if(!kt(d))return d.g.la();const _=ki(d.g);if(_==="")return"";let T="";const D=_.length,K=pn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Fr(d),Ti(d),"";d.h.i=new u.TextDecoder}for(let re=0;re<D;re++)d.h.h=!0,T+=d.h.i.decode(_[re],{stream:!(K&&re==D-1)});return _.length=0,d.h.g+=T,d.C=0,d.h.g}function kt(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function vd(d,_){var T=d.C,D=_.indexOf(`
`,T);return D==-1?Ur:(T=Number(_.substring(T,D)),isNaN(T)?Co:(D+=1,D+T>_.length?Ur:(_=_.slice(D,D+T),d.C=D+T,_)))}Er.prototype.cancel=function(){this.K=!0,Fr(this)};function bi(d){d.T=Date.now()+d.H,Br(d,d.H)}function Br(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ls(g(d.aa,d),_)}function qr(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Er.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Vm(this.i,this.B),this.M!=2&&(os(),It(17)),Fr(this),this.m=2,Ti(this)):Br(this,this.T-d)};function Ti(d){d.j.I==0||d.K||yc(d.j,d)}function Fr(d){qr(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,mn(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Ro(d,_){try{var T=d.j;if(T.I!=0&&(T.g==d||Ai(T.h,d))){if(!d.L&&Ai(T.h,d)&&T.I==3){try{var D=T.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)Mo(T),Hr(T);else break e;pc(T),It(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ls(g(T.Va,T),6e3));ar(T.h)<=1&&T.ta&&(T.ta=void 0)}else xa(T,11)}else if((d.L||T.g==d)&&Mo(T),!N(_))for(K=T.Ba.g.parse(_),_=0;_<K.length;_++){let Je=K[_];const Ot=Je[0];if(!(Ot<=T.K))if(T.K=Ot,Je=Je[1],T.I==2)if(Je[0]=="c"){T.M=Je[1],T.ba=Je[2];const Un=Je[3];Un!=null&&(T.ka=Un,T.j.info("VER="+T.ka));const $r=Je[4];$r!=null&&(T.za=$r,T.j.info("SVER="+T.za));const wr=Je[5];wr!=null&&typeof wr=="number"&&wr>0&&(D=1.5*wr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Sr=d.g;if(Sr){const Ar=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var re=D.h;re.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(No(re,re.h),re.h=null))}if(D.G){const _c=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;_c&&(D.wa=_c,at(D.J,D.G,_c))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var pe=d;if(D.na=Id(D,D.L?D.ba:null,D.W),pe.L){Ta(D.h,pe);var Pe=pe,pt=D.O;pt&&(Pe.H=pt),Pe.D&&(qr(Pe),bi(Pe)),D.g=pe}else xd(D);T.i.length>0&&Vi(T)}else Je[0]!="stop"&&Je[0]!="close"||xa(T,7);else T.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?xa(T,7):ji(T):Je[0]!="noop"&&T.l&&T.l.qa(Je),T.A=0)}}os(4)}catch{}}var Um=class{constructor(d,_){this.g=d,this.map=_}};function wi(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Si(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ar(d){return d.h?1:d.g?d.g.size:0}function Ai(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function No(d,_){d.g?d.g.add(_):d.h=_}function Ta(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}wi.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Io(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.G);return _}return A(d.i)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zm(d,_){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const D=d[T].indexOf("=");let K,re=null;D>=0?(K=d[T].substring(0,D),re=d[T].substring(D+1)):K=d[T],_(K,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function br(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof br?(this.l=d.l,fs(this,d.j),this.o=d.o,this.g=d.g,xi(this,d.u),this.h=d.h,ms(this,Td(d.i)),this.m=d.m):d&&(_=String(d).match(Do))?(this.l=!1,fs(this,_[1]||"",!0),this.o=Ci(_[2]||""),this.g=Ci(_[3]||"",!0),xi(this,_[4]),this.h=Ci(_[5]||"",!0),ms(this,_[6]||"",!0),this.m=Ci(_[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}br.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(en(_,lc,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(en(_,lc,!0),"@"),d.push(Ei(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(en(T,T.charAt(0)=="/"?ps:cc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",en(T,Ed)),d.join("")},br.prototype.resolve=function(d){const _=Et(this);let T=!!d.j;T?fs(_,d.j):T=!!d.o,T?_.o=d.o:T=!!d.g,T?_.g=d.g:T=d.u!=null;var D=d.h;if(T)xi(_,d.u);else if(T=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=_.h.lastIndexOf("/");K!=-1&&(D=_.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const re=[];for(let pe=0;pe<K.length;){const Pe=K[pe++];Pe=="."?D&&pe==K.length&&re.push(""):Pe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),D&&pe==K.length&&re.push("")):(re.push(Pe),D=!0)}D=re.join("/")}else D=K}return T?_.h=D:T=d.i.toString()!=="",T?ms(_,Td(d.i)):T=!!d.m,T&&(_.m=d.m),_};function Et(d){return new br(d)}function fs(d,_,T){d.j=T?Ci(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function xi(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function ms(d,_,T){_ instanceof sr?(d.i=_,hc(d.i,d.l)):(T||(_=en(_,_d)),d.i=new sr(_,d.l))}function at(d,_,T){d.i.set(_,T)}function wa(d){return at(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ci(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function en(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,oc),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function oc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var lc=/[#\/\?@]/g,cc=/[#\?:]/g,ps=/[#\?]/g,_d=/[#\?@]/g,Ed=/#/g;function sr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Sa(d){d.g||(d.g=new Map,d.h=0,d.i&&zm(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=sr.prototype,t.add=function(d,_){Sa(this),this.i=null,d=Tr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function uc(d,_){Sa(d),_=Tr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function dc(d,_){return Sa(d),_=Tr(d,_),d.g.has(_)}t.forEach=function(d,_){Sa(this),this.g.forEach(function(T,D){T.forEach(function(K){d.call(_,K,D,this)},this)},this)};function ko(d,_){Sa(d);let T=[];if(typeof _=="string")dc(d,_)&&(T=T.concat(d.g.get(Tr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)T=T.concat(d[_]);return T}t.set=function(d,_){return Sa(this),this.i=null,d=Tr(this,d),dc(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=ko(this,d),d.length>0?String(d[0]):_):_};function bd(d,_,T){uc(d,_),T.length>0&&(d.i=null,d.g.set(Tr(d,_),A(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var T=_[D];const K=Ei(T);T=ko(this,T);for(let re=0;re<T.length;re++){let pe=K;T[re]!==""&&(pe+="="+Ei(T[re])),d.push(pe)}}return this.i=d.join("&")};function Td(d){const _=new sr;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Tr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function hc(d,_){_&&!d.j&&(Sa(d),d.i=null,d.g.forEach(function(T,D){const K=D.toLowerCase();D!=K&&(uc(this,D),bd(this,K,T))},d)),d.j=_}function fc(d,_){const T=new cs;if(u.Image){const D=new Image;D.onload=v(An,T,"TestLoadImage: loaded",!0,_,D),D.onerror=v(An,T,"TestLoadImage: error",!1,_,D),D.onabort=v(An,T,"TestLoadImage: abort",!1,_,D),D.ontimeout=v(An,T,"TestLoadImage: timeout",!1,_,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else _(!1)}function gs(d,_){const T=new cs,D=new AbortController,K=setTimeout(()=>{D.abort(),An(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:D.signal}).then(re=>{clearTimeout(K),re.ok?An(T,"TestPingServer: ok",!0,_):An(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),An(T,"TestPingServer: error",!1,_)})}function An(d,_,T,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(T)}catch{}}function wd(){this.g=new Mm}function Ri(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Ri,pd),Ri.prototype.g=function(){return new Ni(this.i,this.h)};function Ni(d,_){Gt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ni,Gt),t=Ni.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Aa(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ys(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ys(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?xn(this):Aa(this),this.readyState==3&&ys(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,xn(this))},t.Na=function(d){this.g&&(this.response=d,xn(this))},t.ga=function(){this.g&&xn(this)};function xn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Aa(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Aa(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function vs(d){let _="";return ie(d,function(T,D){_+=D,_+=":",_+=T,_+=`\r
`}),_}function ir(d,_,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=vs(T),typeof d=="string"?T!=null&&Ei(T):at(d,_,T))}function dt(d){Gt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(dt,Gt);var Oo=/^https?$/i,Sd=["POST","PUT"];t=dt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ba.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(re){Ii(this,re);return}if(d=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)T.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const re of D.keys())T.set(re,D.get(re));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),K=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Sd,_,void 0)>=0)||D||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,pe]of T)this.g.setRequestHeader(re,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(re){Ii(this,re)}};function Ii(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Di(d),Kt(d)}function Di(d){d.A||(d.A=!0,Jt(d,"complete"),Jt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Jt(this,"complete"),Jt(this,"abort"),Kt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mc(this):this.Xa())},t.Xa=function(){mc(this)};function mc(d){if(d.h&&typeof l<"u"){if(d.v&&pn(d)==4)setTimeout(d.Ca.bind(d),0);else if(Jt(d,"readystatechange"),pn(d)==4){d.h=!1;try{const re=d.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var D;if(D=re===0){let pe=String(d.D).match(Do)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),D=!Oo.test(pe?pe.toLowerCase():"")}T=D}if(T)Jt(d,"complete"),Jt(d,"success");else{d.o=6;try{var K=pn(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",Di(d)}}finally{Kt(d)}}}}function Kt(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,_||Jt(d,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pn(d){return d.g?d.g.readyState:0}t.ca=function(){try{return pn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Sn(_)}};function ki(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(d){const _={};d=(d.g&&pn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(N(d[D]))continue;var T=Lm(d[D]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=_[K]||[];_[K]=re,re.push(T)}V(_,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Po(d){this.za=0,this.i=[],this.j=new cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,d),this.Za=Pi("retryDelaySeedMs",1e4,d),this.Ta=Pi("forwardChannelMaxRetries",2,d),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new wi(d&&d.concurrentRequestLimit),this.Ba=new wd,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Po.prototype,t.ka=8,t.I=1,t.connect=function(d,_,T,D){It(0),this.W=d,this.H=_||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=Id(this,null,this.W),Vi(this)};function ji(d){if(Mi(d),d.I==3){var _=d.V++,T=Et(d.J);if(at(T,"SID",d.M),at(T,"RID",_),at(T,"TYPE","terminate"),Li(d,T),_=new Er(d,d.j,_),_.M=2,_.A=wa(Et(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=Vo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}Nd(d)}function Hr(d){d.g&&(gc(d),d.g.cancel(),d.g=null)}function Mi(d){Hr(d),d.v&&(u.clearTimeout(d.v),d.v=null),Mo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Vi(d){if(!Si(d.h)&&!d.m){d.m=!0;var _=d.Ea;q||O(),Y||(q(),Y=!0),I.add(_,d),d.D=0}}function Bm(d,_){return ar(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ls(g(d.Ea,d,_),Rd(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new Er(this,this.j,d);let re=this.o;if(this.U&&(re?(re=Z(re),fe(re,this.U)):re=this.U),this.u!==null||this.R||(K.J=re,re=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=jo(this,K,_),T=Et(this.J),at(T,"RID",d),at(T,"CVER",22),this.G&&at(T,"X-HTTP-Session-Id",this.G),Li(this,T),re&&(this.R?_="headers="+Ei(vs(re))+"&"+_:this.u&&ir(T,this.u,re)),No(this.h,K),this.Ra&&at(T,"TYPE","init"),this.S?(at(T,"$req",_),at(T,"SID","null"),K.U=!0,zr(K,T,null)):zr(K,T,_),this.I=2}}else this.I==3&&(d?Ad(this,d):this.i.length==0||Si(this.h)||Ad(this))};function Ad(d,_){var T;_?T=_.l:T=d.V++;const D=Et(d.J);at(D,"SID",d.M),at(D,"RID",T),at(D,"AID",d.K),Li(d,D),d.u&&d.o&&ir(D,d.u,d.o),T=new Er(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),_&&(d.i=_.G.concat(d.i)),_=jo(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),No(d.h,T),zr(T,D,_)}function Li(d,_){d.H&&ie(d.H,function(T,D){at(_,D,T)}),d.l&&ie({},function(T,D){at(_,D,T)})}function jo(d,_,T){T=Math.min(d.i.length,T);const D=d.l?g(d.l.Ka,d.l,d):null;e:{var K=d.i;let Pe=-1;for(;;){const pt=["count="+T];Pe==-1?T>0?(Pe=K[0].g,pt.push("ofs="+Pe)):Pe=0:pt.push("ofs="+Pe);let Je=!0;for(let Ot=0;Ot<T;Ot++){var re=K[Ot].g;const Un=K[Ot].map;if(re-=Pe,re<0)Pe=Math.max(0,K[Ot].g-100),Je=!1;else try{re="req"+re+"_"||"";try{var pe=Un instanceof Map?Un:Object.entries(Un);for(const[$r,wr]of pe){let Sr=wr;m(wr)&&(Sr=nr(wr)),pt.push(re+$r+"="+encodeURIComponent(Sr))}}catch($r){throw pt.push(re+"type="+encodeURIComponent("_badmap")),$r}}catch{D&&D(Un)}}if(Je){pe=pt.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),_.G=d,pe}function xd(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;q||O(),Y||(q(),Y=!0),I.add(_,d),d.A=0}}function pc(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ls(g(d.Da,d),Rd(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Cd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ls(g(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Hr(this),Cd(this))};function gc(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Cd(d){d.g=new Er(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Et(d.na);at(_,"RID","rpc"),at(_,"SID",d.M),at(_,"AID",d.K),at(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&at(_,"TO",d.ia),at(_,"TYPE","xmlhttp"),Li(d,_),d.u&&d.o&&ir(_,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=wa(Et(_)),T.u=null,T.R=!0,ds(T,d)}t.Va=function(){this.C!=null&&(this.C=null,Hr(this),pc(this),It(19))};function Mo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function yc(d,_){var T=null;if(d.g==_){Mo(d),gc(d),d.g=null;var D=2}else if(Ai(d.h,_))T=_.G,Ta(d.h,_),D=1;else return;if(d.I!=0){if(_.o)if(D==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var K=d.D;D=Ao(),Jt(D,new yd(D,T)),Vi(d)}else xd(d);else if(K=_.m,K==3||K==0&&_.X>0||!(D==1&&Bm(d,_)||D==2&&pc(d)))switch(T&&T.length>0&&(_=d.h,_.i=_.i.concat(T)),K){case 1:xa(d,5);break;case 4:xa(d,10);break;case 3:xa(d,6);break;default:xa(d,2)}}}function Rd(d,_){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*_}function xa(d,_){if(d.j.info("Error code "+_),_==2){var T=g(d.bb,d),D=d.Ua;const K=!D;D=new br(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fs(D,"https"),wa(D),K?fc(D.toString(),T):gs(D.toString(),T)}else It(2);d.I=0,d.l&&d.l.pa(_),Nd(d),Mi(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Nd(d){if(d.I=0,d.ja=[],d.l){const _=Io(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ja,_),C(d.ja,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.oa()}}function Id(d,_,T){var D=T instanceof br?Et(T):new br(T);if(D.g!="")_&&(D.g=_+"."+D.g),xi(D,D.u);else{var K=u.location;D=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const re=new br(null);D&&fs(re,D),_&&(re.g=_),K&&xi(re,K),T&&(re.h=T),D=re}return T=d.G,_=d.wa,T&&_&&at(D,T,_),at(D,"VER",d.ka),Li(d,D),D}function Vo(d,_,T){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new dt(new Ri({ab:T})):new dt(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dd(){}t=Dd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Lo(){}Lo.prototype.g=function(d,_){return new Cn(d,_)};function Cn(d,_){Gt.call(this),this.g=new Po(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!N(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new _s(this)}E(Cn,Gt),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){ji(this.g)},Cn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=nr(d),d=T);_.i.push(new Um(_.Ya++,d)),_.I==3&&Vi(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,ji(this.g),delete this.g,Cn.Z.N.call(this)};function vc(d){ss.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}E(vc,ss);function kd(){_r.call(this),this.status=1}E(kd,_r);function _s(d){this.g=d}E(_s,Dd),_s.prototype.ra=function(){Jt(this.g,"a")},_s.prototype.qa=function(d){Jt(this.g,new vc(d))},_s.prototype.pa=function(d){Jt(this.g,new kd)},_s.prototype.oa=function(){Jt(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,mS=function(){return new Lo},fS=function(){return Ao()},hS=rr,yy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,af=Dt,sn.COMPLETE="complete",dS=sn,gd.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,gu=gd,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,uS=dt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const yb="@firebase/firestore",vb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new sv("@firebase/firestore");function vl(){return mo.logLevel}function Ee(t,...e){if(mo.logLevel<=Be.DEBUG){const n=e.map(gv);mo.debug(`Firestore (${Ql}): ${t}`,...n)}}function Ja(t,...e){if(mo.logLevel<=Be.ERROR){const n=e.map(gv);mo.error(`Firestore (${Ql}): ${t}`,...n)}}function Pl(t,...e){if(mo.logLevel<=Be.WARN){const n=e.map(gv);mo.warn(`Firestore (${Ql}): ${t}`,...n)}}function gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,pS(t,a,n)}function pS(t,e,n){let a=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ja(a),new Error(a)}function Ze(t,e,n,a){let i="Unexpected state";typeof n=="string"?i=n:a=n,t||pS(e,i,a)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends pa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class rO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aO{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let l=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qa,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qa)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new gS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class sO{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iO{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new sO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const a=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const i=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _b(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _b(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=lO(40);for(let l=0;l<i.length;++l)a.length<20&&i[l]<n&&(a+=e.charAt(i[l]%62))}return a}}function qe(t,e){return t<e?-1:t>e?1:0}function vy(t,e){const n=Math.min(t.length,e.length);for(let a=0;a<n;a++){const i=t.charAt(a),l=e.charAt(a);if(i!==l)return Kg(i)===Kg(l)?qe(i,l):Kg(i)?1:-1}return qe(t.length,e.length)}const cO=55296,uO=57343;function Kg(t){const e=t.charCodeAt(0);return e>=cO&&e<=uO}function jl(t,e,n){return t.length===e.length&&t.every(((a,i)=>n(a,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__name__";class Jr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ne(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let i=0;i<a;i++){const l=Jr.compareSegments(e.get(i),n.get(i));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const a=Jr.isNumericId(e),i=Jr.isNumericId(n);return a&&!i?-1:!a&&i?1:a&&i?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):vy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class ft extends Jr{construct(e,n,a){return new ft(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((i=>i.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const dO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Jr{construct(e,n,a){return new hn(e,n,a)}static isValidIdentifier(e){return dO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Eb}static keyField(){return new hn([Eb])}static fromServerFormat(e){const n=[];let a="",i=0;const l=()=>{if(a.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let u=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else m==="`"?(u=!u,i++):m!=="."||u?(a+=m,i++):(l(),i++)}if(l(),u)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ft.fromString(e))}static fromName(e){return new Se(ft.fromString(e).popFirst(5))}static empty(){return new Se(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e,n){if(!n)throw new ve(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hO(t,e,n,a){if(e===!0&&a===!0)throw new ve(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bb(t){if(!Se.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tb(t){if(Se.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function ad(t,e){if(!vS(t))throw new ve(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const i=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in t)){n=`JSON missing required field: '${a}'`;break}const u=t[a];if(i&&typeof u!==i){n=`JSON field '${a}' must be a ${i}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${a}' field to equal '${l.value}'`;break}}if(n)throw new ve(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=-62135596800,Sb=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Sb);return new Ge(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wb)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sb}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ad(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:$t("string",Ge._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ge(0,0))}static max(){return new ke(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function fO(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(a===1e9?new Ge(n+1,0):new Ge(n,a));return new ni(i,Se.empty(),e)}function mO(t){return new ni(t.readTime,t.key,Vu)}class ni{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ni(ke.min(),Se.empty(),Vu)}static max(){return new ni(ke.max(),Se.empty(),Vu)}}function pO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==gO)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((a,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,a)=>{n(e)}))}static reject(e){return new de(((n,a)=>{a(e)}))}static waitFor(e){return new de(((n,a)=>{let i=0,l=0,u=!1;e.forEach((m=>{++i,m.next((()=>{++l,u&&l===i&&n()}),(p=>a(p)))})),u=!0,l===i&&n()}))}static or(e){let n=de.resolve(!1);for(const a of e)n=n.next((i=>i?de.resolve(i):a()));return n}static forEach(e,n){const a=[];return e.forEach(((i,l)=>{a.push(n.call(this,i,l))})),this.waitFor(a)}static mapArray(e,n){return new de(((a,i)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((v=>{u[g]=v,++m,m===l&&a(u)}),(v=>i(v)))}}))}static doWhile(e,n){return new de(((a,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):a()};l()}))}}function vO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-1;function em(t){return t==null}function Cf(t){return t===0&&1/t==-1/0}function _O(t){return typeof t=="number"&&Number.isInteger(t)&&!Cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function EO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ab(e)),e=bO(t.get(n),e);return Ab(e)}function bO(t,e){let n=e;const a=t.length;for(let i=0;i<a;i++){const l=t.charAt(i);switch(l){case"\0":n+="";break;case _S:n+="";break;default:n+=l}}return n}function Ab(t){return t+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return n+a.left.size;i<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,a,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,a,i,l){this.key=e,this.value=n,this.color=a??un.RED,this.left=i??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,i,l){return new un(e??this.key,n??this.value,a??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let i=this;const l=a(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,a),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,a,i,l){return this}insert(e,n,a){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=a.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Xt(hn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bS("Invalid base64 string: "+l):l}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=TO.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ai(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="server_timestamp",wS="__type__",SS="__previous_value__",AS="__local_write_time__";function _v(t){return(t?.mapValue?.fields||{})[wS]?.stringValue===TS}function tm(t){const e=t.mapValue.fields[SS];return _v(e)?tm(e):e}function Lu(t){const e=ri(t.mapValue.fields[AS].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,a,i,l,u,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Rf="(default)";class Uu{constructor(e,n){this.projectId=e,this.database=n||Rf}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="__type__",SO="__max__",Vh={mapValue:{}},CS="__vector__",Nf="value";function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_v(t)?4:xO(t)?9007199254740991:AO(t)?10:11:Ne(28295,{value:t})}function fa(t,e){if(t===e)return!0;const n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const u=ri(i.timestampValue),m=ri(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return ai(i.bytesValue).isEqual(ai(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Mt(i.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Mt(i.integerValue)===Mt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const u=Mt(i.doubleValue),m=Mt(l.doubleValue);return u===m?Cf(u)===Cf(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return(function(i,l){const u=i.mapValue.fields||{},m=l.mapValue.fields||{};if(xb(u)!==xb(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!fa(u[p],m[p])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function zu(t,e){return(t.values||[]).find((n=>fa(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=si(t),a=si(e);if(n!==a)return qe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Mt(l.integerValue||l.doubleValue),p=Mt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(t,e);case 3:return Rb(t.timestampValue,e.timestampValue);case 4:return Rb(Lu(t),Lu(e));case 5:return vy(t.stringValue,e.stringValue);case 6:return(function(l,u){const m=ai(l),p=ai(u);return m.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),p=u.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=qe(m[g],p[g]);if(v!==0)return v}return qe(m.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=qe(Mt(l.latitude),Mt(u.latitude));return m!==0?m:qe(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Nb(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},p=u.fields||{},g=m[Nf]?.arrayValue,v=p[Nf]?.arrayValue,E=qe(g?.values?.length||0,v?.values?.length||0);return E!==0?E:Nb(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Vh.mapValue&&u===Vh.mapValue)return 0;if(l===Vh.mapValue)return 1;if(u===Vh.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=vy(p[E],v[E]);if(S!==0)return S;const A=Ml(m[p[E]],g[v[E]]);if(A!==0)return A}return qe(p.length,v.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function Rb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ri(t),a=ri(e),i=qe(n.seconds,a.seconds);return i!==0?i:qe(n.nanos,a.nanos)}function Nb(t,e){const n=t.values||[],a=e.values||[];for(let i=0;i<n.length&&i<a.length;++i){const l=Ml(n[i],a[i]);if(l)return l}return qe(n.length,a.length)}function Vl(t){return _y(t)}function _y(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const a=ri(n);return`time(${a.seconds},${a.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ai(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let a="[",i=!0;for(const l of n.values||[])i?i=!1:a+=",",a+=_y(l);return a+"]"})(t.arrayValue):"mapValue"in t?(function(n){const a=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const u of a)l?l=!1:i+=",",i+=`${u}:${_y(n.fields[u])}`;return i+"}"})(t.mapValue):Ne(61005,{value:t})}function sf(t){switch(si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+sf(e):16;case 5:return 2*t.stringValue.length;case 6:return ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((i,l)=>i+sf(l)),0)})(t.arrayValue);case 10:case 11:return(function(a){let i=0;return fi(a.fields,((l,u)=>{i+=l.length+sf(u)})),i})(t.mapValue);default:throw Ne(13486,{value:t})}}function Ib(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ey(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function Db(t){return!!t&&"nullValue"in t}function kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function AO(t){return(t?.mapValue?.fields||{})[xS]?.stringValue===CS}function Cu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fi(t.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Cu(a))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return{...t}}function xO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=hn.emptyPath(),a={},i=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,i),a={},i=[],n=m.popLast()}u?a[m.lastSegment()]=Cu(u):i.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,i)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=n.mapValue.fields[e.get(a)];of(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,a){fi(n,((i,l)=>e[i]=l));for(const i of a)delete e[i]}clone(){return new Vn(Cu(this.value))}}function RS(t){const e=[];return fi(t.fields,((n,a)=>{const i=new hn([n]);if(of(a)){const l=RS(a.mapValue).fields;if(l.length===0)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,a,i,l,u,m){this.key=e,this.documentType=n,this.version=a,this.readTime=i,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new bn(e,0,ke.min(),ke.min(),ke.min(),Vn.empty(),0)}static newFoundDocument(e,n,a,i){return new bn(e,1,n,ke.min(),a,i,0)}static newNoDocument(e,n){return new bn(e,2,n,ke.min(),ke.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,ke.min(),ke.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.position=e,this.inclusive=n}}function Ob(t,e,n){let a=0;for(let i=0;i<t.position.length;i++){const l=e[i],u=t.position[i];if(l.field.isKeyField()?a=Se.comparator(Se.fromName(u.referenceValue),n.key):a=Ml(u,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function Pb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function CO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{}class Ht extends NS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new NO(e,n,a):n==="array-contains"?new kO(e,a):n==="in"?new OO(e,a):n==="not-in"?new PO(e,a):n==="array-contains-any"?new jO(e,a):new Ht(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new IO(e,a):new DO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends NS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Or(e,n)}matches(e){return IS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IS(t){return t.op==="and"}function DS(t){return RO(t)&&IS(t)}function RO(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function by(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(DS(t))return t.filters.map((e=>by(e))).join(",");{const e=t.filters.map((n=>by(n))).join(",");return`${t.op}(${e})`}}function kS(t,e){return t instanceof Ht?(function(a,i){return i instanceof Ht&&a.op===i.op&&a.field.isEqual(i.field)&&fa(a.value,i.value)})(t,e):t instanceof Or?(function(a,i){return i instanceof Or&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce(((l,u,m)=>l&&kS(u,i.filters[m])),!0):!1})(t,e):void Ne(19439)}function OS(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(t):t instanceof Or?(function(n){return n.op.toString()+" {"+n.getFilters().map(OS).join(" ,")+"}"})(t):"Filter"}class NO extends Ht{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class IO extends Ht{constructor(e,n){super(e,"in",n),this.keys=PS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DO extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=PS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PS(t,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class kO extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&zu(n.arrayValue,this.value)}}class OO extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class PO extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}}class jO extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>zu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n=null,a=[],i=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=i,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function jb(t,e=null,n=[],a=[],i=null,l=null,u=null){return new MO(t,e,n,a,i,l,u)}function bv(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>by(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Vl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Vl(a))).join(",")),e.Te=n}return e.Te}function Tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pb(t.startAt,e.startAt)&&Pb(t.endAt,e.endAt)}function Ty(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n=null,a=[],i=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=i,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VO(t,e,n,a,i,l,u,m){return new Zl(t,e,n,a,i,l,u,m)}function wv(t){return new Zl(t)}function Mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function Ru(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Xt(hn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Bu(l,a))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new Bu(hn.keyField(),a))}return e.Ie}function oa(t){const e=je(t);return e.Ee||(e.Ee=LO(e,Ru(t))),e.Ee}function LO(t,e){if(t.limitType==="F")return jb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Bu(i.field,l)}));const n=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;return jb(t.path,t.collectionGroup,e,t.filters,t.limit,n,a)}}function wy(t,e){const n=t.filters.concat([e]);return new Zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sy(t,e,n){return new Zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return Tv(oa(t),oa(e))&&t.limitType===e.limitType}function MS(t){return`${bv(oa(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((i=>OS(i))).join(", ")}]`),em(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((i=>Vl(i))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((i=>Vl(i))).join(",")),`Target(${a})`})(oa(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&(function(a,i){const l=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Se.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(t,e)&&(function(a,i){for(const l of Ru(a))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(a,i){for(const l of a.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(a,i){return!(a.startAt&&!(function(u,m,p){const g=Ob(u,m,p);return u.inclusive?g<=0:g<0})(a.startAt,Ru(a),i)||a.endAt&&!(function(u,m,p){const g=Ob(u,m,p);return u.inclusive?g>=0:g>0})(a.endAt,Ru(a),i))})(t,e)}function UO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VS(t){return(e,n)=>{let a=!1;for(const i of Ru(t)){const l=zO(i,e,n);if(l!==0)return l;a=a||i.field.isKeyField()}return 0}}function zO(t,e,n){const a=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(l,u,m){const p=u.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Ml(p,g):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[i,l]of a)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[n]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,((n,a)=>{for(const[i,l]of a)e(i,l)}))}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Tt(Se.comparator);function es(){return BO}const LS=new Tt(Se.comparator);function yu(...t){let e=LS;for(const n of t)e=e.insert(n.key,n);return e}function US(t){let e=LS;return t.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function ao(){return Nu()}function zS(){return Nu()}function Nu(){return new bo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qO=new Tt(Se.comparator),FO=new Xt(Se.comparator);function Fe(...t){let e=FO;for(const n of t)e=e.add(n);return e}const HO=new Xt(qe);function $O(){return HO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(e)?"-0":e}}function BS(t){return{integerValue:""+t}}function GO(t,e){return _O(e)?BS(e):Sv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this._=void 0}}function KO(t,e,n){return t instanceof qu?(function(i,l){const u={fields:{[wS]:{stringValue:TS},[AS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&_v(l)&&(l=tm(l)),l&&(u.fields[SS]=l),{mapValue:u}})(n,e):t instanceof Fu?FS(t,e):t instanceof Hu?HS(t,e):(function(i,l){const u=qS(i,l),m=Vb(u)+Vb(i.Ae);return Ey(u)&&Ey(i.Ae)?BS(m):Sv(i.serializer,m)})(t,e)}function YO(t,e,n){return t instanceof Fu?FS(t,e):t instanceof Hu?HS(t,e):n}function qS(t,e){return t instanceof Df?(function(a){return Ey(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class qu extends am{}class Fu extends am{constructor(e){super(),this.elements=e}}function FS(t,e){const n=$S(e);for(const a of t.elements)n.some((i=>fa(i,a)))||n.push(a);return{arrayValue:{values:n}}}class Hu extends am{constructor(e){super(),this.elements=e}}function HS(t,e){let n=$S(e);for(const a of t.elements)n=n.filter((i=>!fa(i,a)));return{arrayValue:{values:n}}}class Df extends am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Vb(t){return Mt(t.integerValue||t.doubleValue)}function $S(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.field=e,this.transform=n}}function XO(t,e){return t.field.isEqual(e.field)&&(function(a,i){return a instanceof Fu&&i instanceof Fu||a instanceof Hu&&i instanceof Hu?jl(a.elements,i.elements,fa):a instanceof Df&&i instanceof Df?fa(a.Ae,i.Ae):a instanceof qu&&i instanceof qu})(t.transform,e.transform)}class WO{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function GS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Av(t.key,gr.none()):new sd(t.key,t.data,gr.none());{const n=t.data,a=Vn.empty();let i=new Xt(hn.comparator);for(let l of e.fields)if(!i.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?a.delete(l):a.set(l,u),i=i.add(l)}return new mi(t.key,a,new Qn(i.toArray()),gr.none())}}function ZO(t,e,n){t instanceof sd?(function(i,l,u){const m=i.value.clone(),p=Ub(i.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof mi?(function(i,l,u){if(!lf(i.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Ub(i.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(KS(i)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(i,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Iu(t,e,n,a){return t instanceof sd?(function(l,u,m,p){if(!lf(l.precondition,u))return m;const g=l.value.clone(),v=zb(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,a):t instanceof mi?(function(l,u,m,p){if(!lf(l.precondition,u))return m;const g=zb(l.fieldTransforms,p,u),v=u.data;return v.setAll(KS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,a):(function(l,u,m){return lf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function JO(t,e){let n=null;for(const a of t.fieldTransforms){const i=e.data.field(a.field),l=qS(a.transform,i||null);l!=null&&(n===null&&(n=Vn.empty()),n.set(a.field,l))}return n||null}function Lb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&jl(a,i,((l,u)=>XO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends sm{constructor(e,n,a,i=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mi extends sm{constructor(e,n,a,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function KS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}})),e}function Ub(t,e,n){const a=new Map;Ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const l=t[i],u=l.transform,m=e.data.field(l.field);a.set(l.field,YO(u,m,n[i]))}return a}function zb(t,e,n){const a=new Map;for(const i of t){const l=i.transform,u=n.data.field(i.field);a.set(i.field,KO(l,u,e))}return a}class Av extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eP extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,a,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&ZO(l,e,a[i])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Iu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Iu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=zS();return this.mutations.forEach((i=>{const l=e.get(i.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=n.has(i.key)?null:m;const p=GS(u,m);p!==null&&a.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(ke.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,((n,a)=>Lb(n,a)))&&jl(this.baseMutations,e.baseMutations,((n,a)=>Lb(n,a)))}}class xv{constructor(e,n,a,i){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=i}static from(e,n,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let i=(function(){return qO})();const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,a[u].version);return new xv(e,n,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,$e;function aP(t){switch(t){case ce.OK:return Ne(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function YS(t){if(t===void 0)return Ja("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Bt.OK:return ce.OK;case Bt.CANCELLED:return ce.CANCELLED;case Bt.UNKNOWN:return ce.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ce.INTERNAL;case Bt.UNAVAILABLE:return ce.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ce.NOT_FOUND;case Bt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Bt.ABORTED:return ce.ABORTED;case Bt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Bt.DATA_LOSS:return ce.DATA_LOSS;default:return Ne(39323,{code:t})}}($e=Bt||(Bt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Js([4294967295,4294967295],0);function Bb(t){const e=sP().encode(t),n=new cS;return n.update(e),new Uint8Array(n.digest())}function qb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([n,a],0),new Js([i,l],0)]}class Cv{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(a<0)throw new vu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,a){let i=e.add(n.multiply(Js.fromNumber(a)));return i.compare(iP)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Bb(e),[a,i]=qb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,i,l);if(!this.we(u))return!1}return!0}static create(e,n,a){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Cv(l,i,n);return a.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=Bb(e),[a,i]=qb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,i,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,a,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const i=new Map;return i.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new im(ke.min(),i,new Tt(qe),es(),Fe())}}class id{constructor(e,n,a,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new id(a,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,a,i){this.be=e,this.removedTargetIds=n,this.key=a,this.De=i}}class QS{constructor(e,n){this.targetId=e,this.Ce=n}}class XS{constructor(e,n,a=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=i}}class Fb{constructor(){this.ve=0,this.Fe=Hb(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),a=Fe();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:a=a.add(i);break;default:Ne(38017,{changeType:l})}})),new id(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=Hb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oP{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.Je=Lh(),this.He=Lh(),this.Ye=new Tt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,a=e.Ce.count,i=this.ot(n);if(i){const l=i.target;if(Ty(l))if(a===0){const u=new Se(l.path);this.et(n,u,bn.newNoDocument(u,ke.min()))}else Ze(a===1,20013,{expectedCount:a});else{const u=this._t(n);if(u!==a){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:l=0}=n;let u,m;try{u=ai(a).toUint8Array()}catch(p){if(p instanceof bS)return Pl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Cv(u,i,l)}catch(p){return Pl(p instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let i=0;return a.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&Ty(m.target)){const p=new Se(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,bn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let a=Fe();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const i=new im(e,n,this.Ye,this.je,a);return this.je=es(),this.Je=Lh(),this.He=Lh(),this.Ye=new Tt(qe),i}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Fb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lh(){return new Tt(Se.comparator)}function Hb(){return new Tt(Se.comparator)}const lP={asc:"ASCENDING",desc:"DESCENDING"},cP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uP={and:"AND",or:"OR"};class dP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ay(t,e){return t.useProto3Json||em(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hP(t,e){return kf(t,e.toTimestamp())}function la(t){return Ze(!!t,49232),ke.fromTimestamp((function(n){const a=ri(n);return new Ge(a.seconds,a.nanos)})(t))}function Rv(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(i){return new ft(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZS(t){const e=ft.fromString(t);return Ze(rA(e),10190,{key:e.toString()}),e}function Cy(t,e){return Rv(t.databaseId,e.path)}function Yg(t,e){const n=ZS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(eA(n))}function JS(t,e){return Rv(t.databaseId,e)}function fP(t){const e=ZS(t);return e.length===4?ft.emptyPath():eA(e)}function Ry(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eA(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $b(t,e,n){return{name:Cy(t,e),fields:n.value.mapValue.fields}}function mP(t,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Ze(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const v=g.code===void 0?ce.UNKNOWN:YS(g.code);return new ve(v,g.message||"")})(u);n=new XS(a,i,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=Yg(t,a.document.name),l=la(a.document.updateTime),u=a.document.createTime?la(a.document.createTime):ke.min(),m=new Vn({mapValue:{fields:a.document.fields}}),p=bn.newFoundDocument(i,l,u,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new cf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=Yg(t,a.document),l=a.readTime?la(a.readTime):ke.min(),u=bn.newNoDocument(i,l),m=a.removedTargetIds||[];n=new cf([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=Yg(t,a.document),l=a.removedTargetIds||[];n=new cf([],l,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:l}=a,u=new rP(i,l),m=a.targetId;n=new QS(m,u)}}return n}function pP(t,e){let n;if(e instanceof sd)n={update:$b(t,e.key,e.value)};else if(e instanceof Av)n={delete:Cy(t,e.key)};else if(e instanceof mi)n={update:$b(t,e.key,e.data),updateMask:SP(e.fieldMask)};else{if(!(e instanceof eP))return Ne(16599,{Vt:e.type});n={verify:Cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,u){const m=u.transform;if(m instanceof qu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Df)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ne(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:hP(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function gP(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map((n=>(function(i,l){let u=i.updateTime?la(i.updateTime):la(l);return u.isEqual(ke.min())&&(u=la(l)),new WO(u,i.transformResults||[])})(n,e)))):[]}function yP(t,e){return{documents:[JS(t,e.path)]}}function vP(t,e){const n={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=JS(t,i);const l=(function(g){if(g.length!==0)return nA(Or.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:El(S.field),direction:bP(S.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Ay(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function _P(t){let e=fP(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let i=null;if(a>0){Ze(a===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(E){const S=tA(E);return S instanceof Or&&DS(S)?S.getFilters():[S]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((S=>(function(C){return new Bu(bl(C.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,em(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(E){const S=!!E.before,A=E.values||[];return new If(A,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const S=!E.before,A=E.values||[];return new If(A,S)})(n.endAt)),VO(e,i,u,l,m,"F",p,g)}function EP(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=bl(n.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=bl(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bl(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(bl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Or.create(n.compositeFilter.filters.map((a=>tA(a))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function bP(t){return lP[t]}function TP(t){return cP[t]}function wP(t){return uP[t]}function El(t){return{fieldPath:t.canonicalString()}}function bl(t){return hn.fromServerFormat(t.fieldPath)}function nA(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(kb(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(Db(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kb(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(Db(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:TP(n.op),value:n.value}}})(t):t instanceof Or?(function(n){const a=n.getFilters().map((i=>nA(i)));return a.length===1?a[0]:{compositeFilter:{op:wP(n.op),filters:a}}})(t):Ne(54877,{filter:t})}function SP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,a,i,l=ke.min(),u=ke.min(),m=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.yt=e}}function xP(t){const e=_P({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.Cn=new RP}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ni.min())}updateCollectionGroup(e,n,a){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class RP{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n]||new Xt(ft.comparator),l=!i.has(a);return this.index[n]=i.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n];return i&&i.has(a)}getEntries(e){return(this.index[e]||new Xt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aA=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(aA,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ll(0)}static cr(){return new Ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="LruGarbageCollector",NP=1048576;function Yb([t,e],[n,a]){const i=qe(t,n);return i===0?qe(e,a):i}class IP{constructor(e){this.Ir=e,this.buffer=new Xt(Yb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Yb(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DP{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Kb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?Ee(Kb,"Ignoring IndexedDB error during garbage collection: ",n):await Xl(n)}await this.Vr(3e5)}))}}class kP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Jf.ce);const a=new IP(n);return this.mr.forEachTarget(e,(i=>a.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>a.Ar(i))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Gb)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,i,l,u,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,u=Date.now(),this.nthSequenceNumber(e,i)))).next((E=>(a=E,m=Date.now(),this.removeTargets(e,a,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),vl()<=Be.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:E}))))}}function OP(t,e){return new kP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new bo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?de.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,a,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(a=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(a!==null&&Iu(a.mutation,i,Qn.empty(),Ge.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Fe()){const i=ao();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,a).next((l=>{let u=yu();return l.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const a=ao();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Fe())))}populateOverlays(e,n,a){const i=[];return a.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,a,i){let l=es();const u=Nu(),m=(function(){return Nu()})();return n.forEach(((p,g)=>{const v=a.get(g.key);i.has(g.key)&&(v===void 0||v.mutation instanceof mi)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Iu(v.mutation,g,v.mutation.getFieldMask(),Ge.now())):u.set(g.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>m.set(g,new jP(v,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Nu();let i=new Tt(((u,m)=>u-m)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||Qn.empty();v=m.applyToLocalView(g,v),a.set(p,v);const E=(i.get(m.batchId)||Fe()).add(p);i=i.insert(m.batchId,E)}))})).next((()=>{const u=[],m=i.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=zS();v.forEach((S=>{if(!l.has(S)){const A=GS(n.get(S),a.get(S));A!==null&&E.set(S,A),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return de.waitFor(u)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,i){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,i):this.getDocumentsMatchingCollectionQuery(e,n,a,i)}getNextDocuments(e,n,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,i).next((l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,i-l.size):de.resolve(ao());let m=Vu,p=l;return u.next((g=>de.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Fe()))).next((v=>({batchId:m,changes:US(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((a=>{let i=yu();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,i){const l=n.collectionGroup;let u=yu();return this.indexManager.getCollectionParents(e,l).next((m=>de.forEach(m,(p=>{const g=(function(E,S){return new Zl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,i).next((v=>{v.forEach(((E,S)=>{u=u.insert(E,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,a,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,i)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,bn.newInvalidDocument(v)))}));let m=yu();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Iu(v.mutation,g,Qn.empty(),Ge.now()),rm(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:la(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:xP(i.bundledQuery),readTime:la(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.overlays=new Tt(Se.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ao();return de.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&a.set(i,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((i,l)=>{this.St(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,a){const i=this.qr.get(a);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(a)),de.resolve()}getOverlaysForCollection(e,n,a){const i=ao(),l=n.length+1,u=new Se(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&i.set(p.getKey(),p)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,a,i){let l=new Tt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=ao(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ao(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=i)););return de.resolve(m)}St(e,n,a){const i=this.overlays.get(a.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(a.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new nP(n,a));let l=this.qr.get(n);l===void 0&&(l=Fe(),this.qr.set(n,l)),this.qr.set(n,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.Qr=new Xt(an.$r),this.Ur=new Xt(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new an(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Se(new ft([])),a=new an(n,e),i=new an(n,e+1),l=[];return this.Ur.forEachInRange([a,i],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new ft([])),a=new an(n,e),i=new an(n,e+1);let l=Fe();return this.Ur.forEachInRange([a,i],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new an(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(an.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,i){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new tP(l,n,a,i);this.mutationQueue.push(u);for(const m of i)this.Zr=this.Zr.add(new an(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,i=this.ei(a),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?vv:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new an(n,0),i=new an(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,i],(u=>{const m=this.Xr(u.Yr);l.push(m)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(qe);return n.forEach((i=>{const l=new an(i,0),u=new an(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{a=a.add(m.Yr)}))})),de.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,i=a.length+1;let l=a;Se.isDocumentKey(l)||(l=l.child(""));const u=new an(new Se(l),0);let m=new Xt(qe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===i&&(m=m.add(p.Yr)),!0)}),u),de.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const i=this.Xr(a);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return de.forEach(n.mutations,(i=>{const l=new an(i.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new an(n,0),i=this.Zr.firstAfterOrEqual(a);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,i=this.docs.get(a),l=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return de.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let a=es();return n.forEach((i=>{const l=this.docs.get(i);a=a.insert(i,l?l.document.mutableCopy():bn.newInvalidDocument(i))})),de.resolve(a)}getDocumentsMatchingQuery(e,n,a,i){let l=es();const u=n.path,m=new Se(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||pO(mO(v),a)<=0||(i.has(v.key)||rm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,a,i){Ne(9500)}ii(e,n){return de.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new qP(this)}getSize(e){return de.resolve(this.size)}}class qP extends PP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(a)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.persistence=e,this.si=new bo((n=>bv(n)),Tv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Nv,this.targetCount=0,this.ai=Ll.ur()}forEachTarget(e,n){return this.si.forEach(((a,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ll(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,a){let i=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)})),de.waitFor(l).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return de.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),de.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((u=>{l.push(i.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return de.resolve(a)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jf(0),this.li=!1,this.li=!0,this.hi=new UP,this.referenceDelegate=e(this),this.Pi=new FP(this),this.indexManager=new CP,this.remoteDocumentCache=(function(i){return new BP(i)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new AP(n),this.Ii=new VP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new zP(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){Ee("MemoryPersistence","Starting transaction:",e);const i=new HP(this.ci.next());return this.referenceDelegate.Ei(),a(i).next((l=>this.referenceDelegate.di(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ai(e,n){return de.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class HP extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Ri=new Nv,this.Vi=null}static mi(e){return new Iv(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),de.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.fi.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(a=>{const i=Se.fromPath(a);return this.gi(e,i).next((l=>{l||n.removeEntry(i,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Of{constructor(e,n){this.persistence=e,this.pi=new bo((a=>EO(a.path)),((a,i)=>a.isEqual(i))),this.garbageCollector=OP(this,n)}static mi(e,n){return new Of(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((i=>a+i))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((a,i)=>this.br(e,a,i).next((l=>l?de.resolve():n(i)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((m=>{m||(a++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),de.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sf(e.data.value)),n}br(e,n,a){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return de.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,a,i){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=i}static As(e,n){let a=Fe(),i=Fe();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Dv(e,n.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bN()?8:vO(wn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,i){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,i,a).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new $P;return this.Ss(e,n,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>l.result))}bs(e,n,a,i){return a.documentReadCount<this.fs?(vl()<=Be.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(vl()<=Be.DEBUG&&Ee("QueryEngine","Query:",_l(n),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.gs*i?(vl()<=Be.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oa(n))):de.resolve())}ys(e,n){if(Mb(n))return de.resolve(null);let a=oa(n);return this.indexManager.getIndexType(e,a).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Sy(n,null,"F"),a=oa(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const u=Fe(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,u,p.readTime)?this.ys(e,Sy(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,i){return Mb(n)||i.isEqual(ke.min())?de.resolve(null):this.ps.getDocuments(e,a).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,a,i)?de.resolve(null):(vl()<=Be.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_l(n)),this.vs(e,u,n,fO(i,Vu)).next((m=>m)))}))}Ds(e,n){let a=new Xt(VS(e));return n.forEach(((i,l)=>{rm(e,l)&&(a=a.add(l))})),a}Cs(e,n,a,i){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ss(e,n,a){return vl()<=Be.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",_l(n)),this.ps.getDocumentsMatchingQuery(e,n,ni.min(),a)}vs(e,n,a,i){return this.ps.getDocumentsMatchingQuery(e,a,i).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LocalStore",KP=3e8;class YP{constructor(e,n,a,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Tt(qe),this.xs=new bo((l=>bv(l)),Tv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QP(t,e,n,a){return new YP(t,e,n,a)}async function iA(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let i;return n.mutationQueue.getAllMutationBatches(a).next((l=>(i=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const u=[],m=[];let p=Fe();for(const g of i){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function XP(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const i=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,S=E.keys();let A=de.resolve();return S.forEach((C=>{A=A.next((()=>v.getEntry(p,C))).next((R=>{const j=g.docVersions.get(C);Ze(j!==null,48541),R.version.compareTo(j)<0&&(E.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),v.addEntry(R)))}))})),A.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Fe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,i)))}))}function oA(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WP(t,e){const n=je(t),a=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const m=[];e.targetChanges.forEach(((v,E)=>{const S=i.get(E);if(!S)return;m.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E))));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(fn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,a)),i=i.insert(E,A),(function(R,j,z){return R.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=KP?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(S,A,v)&&m.push(n.Pi.updateTargetData(l,A))}));let p=es(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(ZP(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!a.isEqual(ke.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a)));m.push(v)}return de.waitFor(m).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=i,l)))}function ZP(t,e,n){let a=Fe(),i=Fe();return n.forEach((l=>a=a.add(l))),e.getEntries(t,a).next((l=>{let u=es();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):Ee(kv,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:i}}))}function JP(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=vv),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function e4(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let i;return n.Pi.getTargetData(a,e).next((l=>l?(i=l,de.resolve(i)):n.Pi.allocateTargetId(a).next((u=>(i=new Ys(e,u,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,i).next((()=>i)))))))})).then((a=>{const i=n.Ms.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Ny(t,e,n){const a=je(t),i=a.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(u=>a.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Wl(u))throw u;Ee(kv,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Ms=a.Ms.remove(e),a.xs.delete(i.target)}function Qb(t,e,n){const a=je(t);let i=ke.min(),l=Fe();return a.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const E=je(p),S=E.xs.get(v);return S!==void 0?de.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,v)})(a,u,oa(e)).next((m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{l=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(u,e,n?i:ke.min(),n?l:Fe()))).next((m=>(t4(a,UO(e),m),{documents:m,Qs:l})))))}function t4(t,e,n){let a=t.Os.get(e)||ke.min();n.forEach(((i,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),t.Os.set(e,a)}class Xb{constructor(){this.activeTargetIds=$O()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n4{constructor(){this.Mo=new Xb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xb,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="ConnectivityMonitor";class Zb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(Wb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(Wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function Iy(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="RestConnection",a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${i}`,this.Wo=this.databaseId.database===Rf?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Go(e,n,a,i,l){const u=Iy(),m=this.zo(e,n.toUriEncodedString());Ee(Qg,`Sending RPC '${e}' ${u}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,l);const{host:g}=new URL(m),v=ui(g);return this.Jo(e,m,p,a,v).then((E=>(Ee(Qg,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Pl(Qg,`RPC '${e}' ${u} failed with error: `,E,"url: ",m,"request:",a),E}))}Ho(e,n,a,i,l,u){return this.Go(e,n,a,i,l)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,l)=>e[l]=i)),a&&a.headers.forEach(((i,l)=>e[l]=i))}zo(e,n){const a=a4[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class o4 extends s4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,i,l){const u=Iy();return new Promise(((m,p)=>{const g=new uS;g.setWithCredentials(!0),g.listenOnce(dS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case af.NO_ERROR:const E=g.getResponseJson();Ee(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),m(E);break;case af.TIMEOUT:Ee(vn,`RPC '${e}' ${u} timed out`),p(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const S=g.getStatus();if(Ee(vn,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A?.error;if(C&&C.status&&C.message){const R=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf($)>=0?$:ce.UNKNOWN})(C.status);p(new ve(R,C.message))}else p(new ve(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ee(vn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(i);Ee(vn,`RPC '${e}' ${u} sending request:`,i),g.send(n,"POST",v,a,15)}))}T_(e,n,a){const i=Iy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mS(),m=fS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=l.join("");Ee(vn,`Creating RPC '${e}' stream ${i}: ${v}`,p);const E=u.createWebChannel(v,p);this.I_(E);let S=!1,A=!1;const C=new i4({Yo:j=>{A?Ee(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(S||(Ee(vn,`Opening RPC '${e}' stream ${i} transport.`),E.open(),S=!0),Ee(vn,`RPC '${e}' stream ${i} sending:`,j),E.send(j))},Zo:()=>E.close()}),R=(j,z,$)=>{j.listen(z,(ne=>{try{$(ne)}catch(X){setTimeout((()=>{throw X}),0)}}))};return R(E,gu.EventType.OPEN,(()=>{A||(Ee(vn,`RPC '${e}' stream ${i} transport opened.`),C.o_())})),R(E,gu.EventType.CLOSE,(()=>{A||(A=!0,Ee(vn,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(E))})),R(E,gu.EventType.ERROR,(j=>{A||(A=!0,Pl(vn,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),C.a_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))})),R(E,gu.EventType.MESSAGE,(j=>{if(!A){const z=j.data[0];Ze(!!z,16349);const $=z,ne=$?.error||$[0]?.error;if(ne){Ee(vn,`RPC '${e}' stream ${i} received error:`,ne);const X=ne.status;let q=(function(O){const M=Bt[O];if(M!==void 0)return YS(M)})(X),Y=ne.message;q===void 0&&(q=ce.INTERNAL,Y="Unknown error status: "+X+" with message "+ne.message),A=!0,C.a_(new ve(q,Y)),E.close()}else Ee(vn,`RPC '${e}' stream ${i} received:`,z),C.u_(z)}})),R(m,hS.STAT_EVENT,(j=>{j.stat===yy.PROXY?Ee(vn,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===yy.NOPROXY&&Ee(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return new dP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,a=1e3,i=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=i,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-a);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="PersistentStream";class cA{constructor(e,n,a,i,l,u,m,p){this.Mi=e,this.S_=a,this.b_=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Ja(n.toString()),Ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,i])=>{this.D_===n&&this.G_(a,i)}),(a=>{e((()=>{const i=new ve(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(i)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{a((()=>this.z_(i)))})),this.stream.onMessage((i=>{a((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l4 extends cA{constructor(e,n,a,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,i,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mP(this.serializer,e),a=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?la(u.readTime):ke.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Ry(this.serializer),n.addTarget=(function(l,u){let m;const p=u.target;if(m=Ty(p)?{documents:yP(l,p)}:{query:vP(l,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=WS(l,u.resumeToken);const g=Ay(l,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(ke.min())>0){m.readTime=kf(l,u.snapshotVersion.toTimestamp());const g=Ay(l,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=EP(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Ry(this.serializer),n.removeTarget=e,this.q_(n)}}class c4 extends cA{constructor(e,n,a,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,i,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gP(e.writeResults,e.commitTime),a=la(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Ry(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>pP(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{}class d4 extends u4{constructor(e,n,a,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,xy(n,a),i,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ce.UNKNOWN,l.toString())}))}Ho(e,n,a,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,xy(n,a),i,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class h4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ja(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="RemoteStore";class f4{constructor(e,n,a,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{a.enqueueAndForget((async()=>{To(this)&&(Ee(po,"Restarting streams for network reachability change."),await(async function(p){const g=je(p);g.Ea.add(4),await od(g),g.Ra.set("Unknown"),g.Ea.delete(4),await lm(g)})(this))}))})),this.Ra=new h4(a,i)}}async function lm(t){if(To(t))for(const e of t.da)await e(!0)}async function od(t){for(const e of t.da)await e(!1)}function uA(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mv(n)?jv(n):Jl(n).O_()&&Pv(n,e))}function Ov(t,e){const n=je(t),a=Jl(n);n.Ia.delete(e),a.O_()&&dA(n,e),n.Ia.size===0&&(a.O_()?a.L_():To(n)&&n.Ra.set("Unknown"))}function Pv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(t).Y_(e)}function dA(t,e){t.Va.Ue(e),Jl(t).Z_(e)}function jv(t){t.Va=new oP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jl(t).start(),t.Ra.ua()}function Mv(t){return To(t)&&!Jl(t).x_()&&t.Ia.size>0}function To(t){return je(t).Ea.size===0}function hA(t){t.Va=void 0}async function m4(t){t.Ra.set("Online")}async function p4(t){t.Ia.forEach(((e,n)=>{Pv(t,e)}))}async function g4(t,e){hA(t),Mv(t)?(t.Ra.ha(e),jv(t)):t.Ra.set("Unknown")}async function y4(t,e,n){if(t.Ra.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await(async function(i,l){const u=l.cause;for(const m of l.targetIds)i.Ia.has(m)&&(await i.remoteSyncer.rejectListen(m,u),i.Ia.delete(m),i.Va.removeTarget(m))})(t,e)}catch(a){Ee(po,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Pf(t,a)}else if(e instanceof cf?t.Va.Ze(e):e instanceof QS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const a=await oA(t.localStore);n.compareTo(a)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),dA(l,p);const E=new Ys(v.target,p,g,v.sequenceNumber);Pv(l,E)})),l.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(a){Ee(po,"Failed to raise snapshot:",a),await Pf(t,a)}}async function Pf(t,e,n){if(!Wl(e))throw e;t.Ea.add(1),await od(t),t.Ra.set("Offline"),n||(n=()=>oA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(po,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lm(t)}))}function fA(t,e){return e().catch((n=>Pf(t,n,e)))}async function cm(t){const e=je(t),n=ii(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vv;for(;v4(e);)try{const i=await JP(e.localStore,a);if(i===null){e.Ta.length===0&&n.L_();break}a=i.batchId,_4(e,i)}catch(i){await Pf(e,i)}mA(e)&&pA(e)}function v4(t){return To(t)&&t.Ta.length<10}function _4(t,e){t.Ta.push(e);const n=ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mA(t){return To(t)&&!ii(t).x_()&&t.Ta.length>0}function pA(t){ii(t).start()}async function E4(t){ii(t).ra()}async function b4(t){const e=ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function T4(t,e,n){const a=t.Ta.shift(),i=xv.from(a,e,n);await fA(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await cm(t)}async function w4(t,e){e&&ii(t).X_&&await(async function(a,i){if((function(u){return aP(u)&&u!==ce.ABORTED})(i.code)){const l=a.Ta.shift();ii(a).B_(),await fA(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,i))),await cm(a)}})(t,e),mA(t)&&pA(t)}async function eT(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),Ee(po,"RemoteStore received new credentials");const a=To(n);n.Ea.add(3),await od(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lm(n)}async function S4(t,e){const n=je(t);e?(n.Ea.delete(2),await lm(n)):e||(n.Ea.add(2),await od(n),n.Ra.set("Unknown"))}function Jl(t){return t.ma||(t.ma=(function(n,a,i){const l=je(n);return l.sa(),new l4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Xo:m4.bind(null,t),t_:p4.bind(null,t),r_:g4.bind(null,t),H_:y4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Mv(t)?jv(t):t.Ra.set("Unknown")):(await t.ma.stop(),hA(t))}))),t.ma}function ii(t){return t.fa||(t.fa=(function(n,a,i){const l=je(n);return l.sa(),new c4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E4.bind(null,t),r_:w4.bind(null,t),ta:b4.bind(null,t),na:T4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await cm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(po,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,a,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=i,this.removalCallback=l,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,i,l){const u=Date.now()+a,m=new Vv(e,n,u,i,l);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(t,e){if(Ja("AsyncQueue",`${e}: ${t}`),Wl(t))return new ve(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Se.comparator(n.key,a.key):(n,a)=>Se.comparator(n.key,a.key),this.keyedMap=yu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=a.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.ga=new Tt(Se.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Ul{constructor(e,n,a,i,l,u,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,i,l){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Ul(e,n,Cl.emptySet(n),u,a,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==a[i].type||!n[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class x4{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const i=je(n),l=i.queries;i.queries=nT(),l.forEach(((u,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function nT(){return new bo((t=>MS(t)),nm)}async function gA(t,e){const n=je(t);let a=3;const i=e.query;let l=n.queries.get(i);l?!l.ba()&&e.Da()&&(a=2):(l=new A4,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await n.onListen(i,!0);break;case 1:l.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const m=Lv(u,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(m)}n.queries.set(i,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Uv(n)}async function yA(t,e){const n=je(t),a=e.query;let i=3;const l=n.queries.get(a);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?i=e.Da()?0:1:!l.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function C4(t,e){const n=je(t);let a=!1;for(const i of e){const l=i.query,u=n.queries.get(l);if(u){for(const m of u.Sa)m.Fa(i)&&(a=!0);u.wa=i}}a&&Uv(n)}function R4(t,e,n){const a=je(t),i=a.queries.get(e);if(i)for(const l of i.Sa)l.onError(n);a.queries.delete(e)}function Uv(t){t.Ca.forEach((e=>{e.next()}))}var Dy,rT;(rT=Dy||(Dy={})).Ma="default",rT.Cache="cache";class vA{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new Ul(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.key=e}}class EA{constructor(e){this.key=e}}class N4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=VS(e),this.tu=new Cl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new tT,i=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=i,m=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,E)=>{const S=i.get(v),A=rm(this.query,E)?E:null,C=!!S&&this.mutatedKeys.has(S.key),R=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;S&&A?S.data.isEqual(A.data)?C!==R&&(a.track({type:3,doc:A}),j=!0):this.su(S,A)||(a.track({type:2,doc:A}),j=!0,(p&&this.eu(A,p)>0||g&&this.eu(A,g)<0)&&(m=!0)):!S&&A?(a.track({type:0,doc:A}),j=!0):S&&!A&&(a.track({type:1,doc:S}),j=!0,(p||g)&&(m=!0)),j&&(A?(u=u.add(A),l=R?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{tu:u,iu:a,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(A,C){const R=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:j})}};return R(A)-R(C)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(a),i=i??!1;const m=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Ul(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new EA(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new _A(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zv="SyncEngine";class I4{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class D4{constructor(e){this.key=e,this.hu=!1}}class k4{constructor(e,n,a,i,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new bo((m=>MS(m)),nm),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Se.comparator),this.Au=new Map,this.Ru=new Nv,this.Vu={},this.mu=new Map,this.fu=Ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O4(t,e,n=!0){const a=xA(t);let i;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await bA(a,e,n,!0),i}async function P4(t,e){const n=xA(t);await bA(n,e,!0,!1)}async function bA(t,e,n,a){const i=await e4(t.localStore,oa(e)),l=i.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let m;return a&&(m=await j4(t,e,l,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&uA(t.remoteStore,i),m}async function j4(t,e,n,a,i){t.pu=(E,S,A)=>(async function(R,j,z,$){let ne=j.view.ru(z);ne.Cs&&(ne=await Qb(R.localStore,j.query,!1).then((({documents:I})=>j.view.ru(I,ne))));const X=$&&$.targetChanges.get(j.targetId),q=$&&$.targetMismatches.get(j.targetId)!=null,Y=j.view.applyChanges(ne,R.isPrimaryClient,X,q);return sT(R,j.targetId,Y.au),Y.snapshot})(t,E,S,A);const l=await Qb(t.localStore,e,!0),u=new N4(e,l.Qs),m=u.ru(l.documents),p=id.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",i),g=u.applyChanges(m,t.isPrimaryClient,p);sT(t,n,g.au);const v=new I4(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function M4(t,e,n){const a=je(t),i=a.Tu.get(e),l=a.Iu.get(i.targetId);if(l.length>1)return a.Iu.set(i.targetId,l.filter((u=>!nm(u,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(a.localStore,i.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(i.targetId),n&&Ov(a.remoteStore,i.targetId),ky(a,i.targetId)})).catch(Xl)):(ky(a,i.targetId),await Ny(a.localStore,i.targetId,!0))}async function V4(t,e){const n=je(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ov(n.remoteStore,a.targetId))}async function L4(t,e,n){const a=$4(t);try{const i=await(function(u,m){const p=je(u),g=Ge.now(),v=m.reduce(((A,C)=>A.add(C.key)),Fe());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let C=es(),R=Fe();return p.Ns.getEntries(A,v).next((j=>{C=j,C.forEach(((z,$)=>{$.isValidDocument()||(R=R.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,C))).next((j=>{E=j;const z=[];for(const $ of m){const ne=JO($,E.get($.key).overlayedDocument);ne!=null&&z.push(new mi($.key,ne,RS(ne.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,z,m)})).next((j=>{S=j;const z=j.applyToLocalDocumentSet(E,R);return p.documentOverlayCache.saveOverlays(A,j.batchId,z)}))})).then((()=>({batchId:S.batchId,changes:US(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),(function(u,m,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Tt(qe)),g=g.insert(m,p),u.Vu[u.currentUser.toKey()]=g})(a,i.batchId,n),await ld(a,i.changes),await cm(a.remoteStore)}catch(i){const l=Lv(i,"Failed to persist write");n.reject(l)}}async function TA(t,e){const n=je(t);try{const a=await WP(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const u=n.Au.get(l);u&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?Ze(u.hu,14607):i.removedDocuments.size>0&&(Ze(u.hu,42227),u.hu=!1))})),await ld(n,a,e)}catch(a){await Xl(a)}}function aT(t,e,n){const a=je(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const i=[];a.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&i.push(m.snapshot)})),(function(u,m){const p=je(u);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)})),g&&Uv(p)})(a.eventManager,e),i.length&&a.Pu.H_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function U4(t,e,n){const a=je(t);a.sharedClientState.updateQueryState(e,"rejected",n);const i=a.Au.get(e),l=i&&i.key;if(l){let u=new Tt(Se.comparator);u=u.insert(l,bn.newNoDocument(l,ke.min()));const m=Fe().add(l),p=new im(ke.min(),new Map,new Tt(qe),u,m);await TA(a,p),a.du=a.du.remove(l),a.Au.delete(e),Bv(a)}else await Ny(a.localStore,e,!1).then((()=>ky(a,e,n))).catch(Xl)}async function z4(t,e){const n=je(t),a=e.batch.batchId;try{const i=await XP(n.localStore,e);SA(n,a,null),wA(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ld(n,i)}catch(i){await Xl(i)}}async function B4(t,e,n){const a=je(t);try{const i=await(function(u,m){const p=je(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Ze(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(a.localStore,e);SA(a,e,n),wA(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ld(a,i)}catch(i){await Xl(i)}}function wA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function SA(t,e,n){const a=je(t);let i=a.Vu[a.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),a.Vu[a.currentUser.toKey()]=i}}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.Iu.get(e))t.Tu.delete(a),n&&t.Pu.yu(a,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((a=>{t.Ru.containsKey(a)||AA(t,a)}))}function AA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ov(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Bv(t))}function sT(t,e,n){for(const a of n)a instanceof _A?(t.Ru.addReference(a.key,e),q4(t,a)):a instanceof EA?(Ee(zv,"Document no longer in limbo: "+a.key),t.Ru.removeReference(a.key,e),t.Ru.containsKey(a.key)||AA(t,a.key)):Ne(19791,{wu:a})}function q4(t,e){const n=e.key,a=n.path.canonicalString();t.du.get(n)||t.Eu.has(a)||(Ee(zv,"New document in limbo: "+n),t.Eu.add(a),Bv(t))}function Bv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(ft.fromString(e)),a=t.fu.next();t.Au.set(a,new D4(n)),t.du=t.du.insert(n,a),uA(t.remoteStore,new Ys(oa(wv(n.path)),a,"TargetPurposeLimboResolution",Jf.ce))}}async function ld(t,e,n){const a=je(t),i=[],l=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{u.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){i.push(g);const v=Dv.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),a.Pu.H_(i),await(async function(p,g){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>de.forEach(g,(S=>de.forEach(S.Es,(A=>v.persistence.referenceDelegate.addReference(E,S.targetId,A))).next((()=>de.forEach(S.ds,(A=>v.persistence.referenceDelegate.removeReference(E,S.targetId,A)))))))))}catch(E){if(!Wl(E))throw E;Ee(kv,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const A=v.Ms.get(S),C=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(S,R)}}})(a.localStore,l))}async function F4(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){Ee(zv,"User change. New user:",e.toKey());const a=await iA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new ve(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ld(n,a.Ls)}}function H4(t,e){const n=je(t),a=n.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let i=Fe();const l=n.Iu.get(e);if(!l)return i;for(const u of l){const m=n.Tu.get(u);i=i.unionWith(m.view.nu)}return i}}function xA(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U4.bind(null,e),e.Pu.H_=C4.bind(null,e.eventManager),e.Pu.yu=R4.bind(null,e.eventManager),e}function $4(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B4.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QP(this.persistence,new GP,e.initialUser,this.serializer)}Cu(e){return new sA(Iv.mi,this.serializer)}Du(e){return new n4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class G4 extends jf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof Of,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new DP(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new sA((a=>Of.mi(a,n)),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>aT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await S4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new x4})()}createDatastore(e){const n=om(e.databaseInfo.databaseId),a=(function(l){return new o4(l)})(e.databaseInfo);return(function(l,u,m,p){return new d4(l,u,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,i,l,u,m){return new f4(a,i,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aT(this.syncEngine,n,0)),(function(){return Zb.v()?new Zb:new r4})())}createSyncEngine(e,n){return(function(i,l,u,m,p,g,v){const E=new k4(i,l,u,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=je(n);Ee(po,"RemoteStore shutting down."),a.Ea.add(5),await od(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Oy.provider={build:()=>new Oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class K4{constructor(e,n,a,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async u=>{Ee(oi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(a,(u=>(Ee(oi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Lv(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Wg(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener((async i=>{a.isEqual(i)||(await iA(e.localStore,i),a=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y4(t);Ee(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((a=>eT(e.remoteStore,a))),t.setAppCheckTokenChangeListener(((a,i)=>eT(e.remoteStore,i))),t._onlineComponents=e}async function Y4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(oi,"Using user provided OfflineComponentProvider");try{await Wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await Wg(t,new jf)}}else Ee(oi,"Using default OfflineComponentProvider"),await Wg(t,new G4(void 0));return t._offlineComponents}async function RA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(oi,"Using user provided OnlineComponentProvider"),await iT(t,t._uninitializedComponentsProvider._online)):(Ee(oi,"Using default OnlineComponentProvider"),await iT(t,new Oy))),t._onlineComponents}function Q4(t){return RA(t).then((e=>e.syncEngine))}async function NA(t){const e=await RA(t),n=e.eventManager;return n.onListen=O4.bind(null,e.syncEngine),n.onUnlisten=M4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V4.bind(null,e.syncEngine),n}function X4(t,e,n={}){const a=new Qa;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new CA({next:S=>{v.Nu(),u.enqueueAndForget((()=>yA(l,E)));const A=S.docs.has(m);!A&&S.fromCache?g.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&p&&p.source==="server"?g.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new vA(wv(m.path),v,{includeMetadataChanges:!0,qa:!0});return gA(l,E)})(await NA(t),t.asyncQueue,e,n,a))),a.promise}function W4(t,e,n={}){const a=new Qa;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new CA({next:S=>{v.Nu(),u.enqueueAndForget((()=>yA(l,E))),S.fromCache&&p.source==="server"?g.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new vA(m,v,{includeMetadataChanges:!0,qa:!0});return gA(l,E)})(await NA(t),t.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firestore.googleapis.com",lT=!0;class cT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DA,this.ssl=lT}else this.host=e.host,this.ssl=e.ssl??lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NP)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,i){return a.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,a,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new nO;switch(a.type){case"firstParty":return new iO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=oT.get(n);a&&(Ee("ComponentProvider","Removing Datastore"),oT.delete(n),a.terminate())})(this),Promise.resolve()}}function Z4(t,e,n,a={}){t=kr(t,um);const i=ui(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;i&&(rv(`https://${m}`),av("Firestore",!0)),l.host!==DA&&l.host!==m&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:i,emulatorOptions:a};if(!co(p,u)&&(t._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=En.MOCK_USER;else{g=ww(a.mockUserToken,t._app?.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(E)}t._authCredentials=new rO(new gS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Vt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(ad(n,Vt._jsonSchema))return new Vt(e,a||null,new Se(ft.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:$t("string",Vt._jsonSchemaVersion),referencePath:$t("string")};class ei extends wo{constructor(e,n,a){super(e,n,wv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Se(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function mt(t,e,...n){if(t=Ct(t),yS("collection","path",e),t instanceof um){const a=ft.fromString(e,...n);return Tb(a),new ei(t,null,a)}{if(!(t instanceof Vt||t instanceof ei))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(ft.fromString(e,...n));return Tb(a),new ei(t.firestore,null,a)}}function We(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=yv.newId()),yS("doc","path",e),t instanceof um){const a=ft.fromString(e,...n);return bb(a),new Vt(t,null,new Se(a))}{if(!(t instanceof Vt||t instanceof ei))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(ft.fromString(e,...n));return bb(a),new Vt(t.firestore,t instanceof ei?t.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lA(this,"async_queue_retry"),this._c=()=>{const a=Xg();a&&Ee(uT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;Ee(uT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ja("INTERNAL UNHANDLED ERROR: ",hT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Vv.createAndSchedule(this,e,n,a,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:hT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class So extends um{constructor(e,n,a,i){super(e,n,a,i),this.type="firestore",this._queue=new dT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function J4(t,e){const n=typeof t=="object"?t:ov(),a=typeof t=="string"?t:Rf,i=Yf(n,"firestore").getImmediate({identifier:a});if(!i._initialized){const l=Ew("firestore");l&&Z4(i,...l)}return i}function qv(t){if(t._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ej(t),t._firestoreClient}function ej(t){const e=t._freezeSettings(),n=(function(i,l,u,m){return new wO(i,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,IA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const l=i?._online.build();return{_offline:i?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(fn.fromBase64String(e))}catch(n){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ad(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:$t("string",pr._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ca._jsonSchemaVersion}}static fromJSON(e){if(ad(e,ca._jsonSchema))return new ca(e.latitude,e.longitude)}}ca._jsonSchemaVersion="firestore/geoPoint/1.0",ca._jsonSchema={type:$t("string",ca._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,i){if(a.length!==i.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ad(e,ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ua(e.vectorValues);throw new ve(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ua._jsonSchemaVersion="firestore/vectorValue/1.0",ua._jsonSchema={type:$t("string",ua._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=/^__.*__$/;class nj{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class kA{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class Fv{constructor(e,n,a,i,l,u){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=i,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OA(this.Ac)&&tj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rj{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||om(e)}Cc(e,n,a,i=!1){return new Fv({Ac:e,methodName:n,Dc:a,path:hn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new rj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PA(t,e,n,a,i,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,i);$v("Data must be an object, but it was:",u,a);const m=jA(a,u);let p,g;if(l.merge)p=new Qn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const S=Py(e,E,n);if(!u.contains(S))throw new ve(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);VA(v,S)||v.push(S)}p=new Qn(v),g=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=u.fieldTransforms;return new nj(new Vn(m),p,g)}class mm extends hm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}class Hv extends hm{_toFieldTransform(e){return new QO(e.path,new qu)}isEqual(e){return e instanceof Hv}}function aj(t,e,n,a){const i=t.Cc(1,e,n);$v("Data must be an object, but it was:",i,a);const l=[],u=Vn.empty();fi(a,((p,g)=>{const v=Gv(e,p,n);g=Ct(g);const E=i.yc(v);if(g instanceof mm)l.push(v);else{const S=cd(g,E);S!=null&&(l.push(v),u.set(v,S))}}));const m=new Qn(l);return new kA(u,m,i.fieldTransforms)}function sj(t,e,n,a,i,l){const u=t.Cc(1,e,n),m=[Py(e,a,n)],p=[i];if(l.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)m.push(Py(e,l[S])),p.push(l[S+1]);const g=[],v=Vn.empty();for(let S=m.length-1;S>=0;--S)if(!VA(g,m[S])){const A=m[S];let C=p[S];C=Ct(C);const R=u.yc(A);if(C instanceof mm)g.push(A);else{const j=cd(C,R);j!=null&&(g.push(A),v.set(A,j))}}const E=new Qn(g);return new kA(v,E,u.fieldTransforms)}function ij(t,e,n,a=!1){return cd(n,t.Cc(a?4:3,e))}function cd(t,e){if(MA(t=Ct(t)))return $v("Unsupported field value:",e,t),jA(t,e);if(t instanceof hm)return(function(a,i){if(!OA(i.Ac))throw i.Sc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,i){const l=[];let u=0;for(const m of a){let p=cd(m,i.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(a,i){if((a=Ct(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return GO(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Ge.fromDate(a);return{timestampValue:kf(i.serializer,l)}}if(a instanceof Ge){const l=new Ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:kf(i.serializer,l)}}if(a instanceof ca)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof pr)return{bytesValue:WS(i.serializer,a._byteString)};if(a instanceof Vt){const l=i.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Rv(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof ua)return(function(u,m){return{mapValue:{fields:{[xS]:{stringValue:CS},[Nf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Sv(m.serializer,g)}))}}}}}})(a,i);throw i.Sc(`Unsupported field value: ${Zf(a)}`)})(t,e)}function jA(t,e){const n={};return ES(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,((a,i)=>{const l=cd(i,e.mc(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function MA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ca||t instanceof pr||t instanceof Vt||t instanceof hm||t instanceof ua)}function $v(t,e,n){if(!MA(n)||!vS(n)){const a=Zf(n);throw a==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+a)}}function Py(t,e,n){if((e=Ct(e))instanceof dm)return e._internalPath;if(typeof e=="string")return Gv(t,e);throw Mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const oj=new RegExp("[~\\*/\\[\\]]");function Gv(t,e,n){if(e.search(oj)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dm(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mf(t,e,n,a,i){const l=a&&!a.isEmpty(),u=i!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${a}`),u&&(p+=` in document ${i}`),p+=")"),new ve(ce.INVALID_ARGUMENT,m+t+p)}function VA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,a,i,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lj extends LA{data(){return super.data()}}function pm(t,e){return typeof e=="string"?Gv(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class UA extends Kv{}function Dn(t,e,...n){let a=[];e instanceof Kv&&a.push(e),a=a.concat(n),(function(l){const u=l.filter((p=>p instanceof Yv)).length,m=l.filter((p=>p instanceof gm)).length;if(u>1||u>0&&m>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const i of a)t=i._apply(t);return t}class gm extends UA{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new gm(e,n,a)}_apply(e){const n=this._parse(e);return zA(e._query,n),new wo(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=fm(e.firestore);return(function(l,u,m,p,g,v,E){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mT(E,v);const C=[];for(const R of E)C.push(fT(p,l,R));S={arrayValue:{values:C}}}else S=fT(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mT(E,v),S=ij(m,u,E,v==="in"||v==="not-in");return Ht.create(g,v,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function In(t,e,n){const a=e,i=pm("where",t);return gm._create(i,a,n)}class Yv extends Kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yv(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let u=i;const m=l.getFlattenedFilters();for(const p of m)zA(u,p),u=wy(u,p)})(e._query,n),new wo(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qv extends UA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qv(e,n)}_apply(e){const n=(function(i,l,u){if(i.startAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(l,u)})(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,(function(i,l){const u=i.explicitOrderBy.concat([l]);return new Zl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function da(t,e="asc"){const n=e,a=pm("orderBy",t);return Qv._create(a,n)}function fT(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&n.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ft.fromString(n));if(!Se.isDocumentKey(a))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ib(t,new Se(a))}if(n instanceof Vt)return Ib(t,n._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(n)}.`)}function mT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zA(t,e){const n=(function(i,l){for(const u of i)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uj{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return fi(e,((i,l)=>{a[i]=this.convertValue(l,n)})),a}convertVectorValue(e){const n=e.fields?.[Nf].arrayValue?.values?.map((a=>Mt(a.doubleValue)));return new ua(n)}convertGeoPoint(e){return new ca(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=tm(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=ri(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ft.fromString(e);Ze(rA(a),9688,{name:e});const i=new Uu(a.get(1),a.get(3)),l=new Se(a.popFirst(5));return i.isEqual(n)||Ja(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e,n){let a;return a=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,a}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class io extends LA{constructor(e,n,a,i,l,u){super(e,n,a,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(pm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=io._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}io._jsonSchemaVersion="firestore/documentSnapshot/1.0",io._jsonSchema={type:$t("string",io._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class uf extends io{data(e={}){return super.data(e)}}class Rl{constructor(e,n,a,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _u(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new uf(this._firestore,this._userDataWriter,a.key,a,new _u(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((m=>{const p=new uf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new _u(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new uf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new _u(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:dj(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){t=kr(t,Vt);const e=kr(t.firestore,So);return X4(qv(e),t._key).then((n=>hj(e,t,n)))}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:$t("string",Rl._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class qA extends uj{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Tn(t){t=kr(t,wo);const e=kr(t.firestore,So),n=qv(e),a=new qA(e);return cj(t._query),W4(n,t._query).then((i=>new Rl(e,a,t,i)))}function jy(t,e,n){t=kr(t,Vt);const a=kr(t.firestore,So),i=BA(t.converter,e,n);return ym(a,[PA(fm(a),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function Wn(t,e,n,...a){t=kr(t,Vt);const i=kr(t.firestore,So),l=fm(i);let u;return u=typeof(e=Ct(e))=="string"||e instanceof dm?sj(l,"updateDoc",t._key,e,n,a):aj(l,"updateDoc",t._key,e),ym(i,[u.toMutation(t._key,gr.exists(!0))])}function Pr(t){return ym(kr(t.firestore,So),[new Av(t._key,gr.none())])}function ga(t,e){const n=kr(t.firestore,So),a=We(t),i=BA(t.converter,e);return ym(n,[PA(fm(t.firestore),"addDoc",a._key,i,t.converter!==null,{}).toMutation(a._key,gr.exists(!1))]).then((()=>a))}function ym(t,e){return(function(a,i){const l=new Qa;return a.asyncQueue.enqueueAndForget((async()=>L4(await Q4(a),i,l))),l.promise})(qv(t),e)}function hj(t,e,n){const a=n.docs.get(e._key),i=new qA(t);return new io(t,i,e._key,a,new _u(n.hasPendingWrites,n.fromCache),e.converter)}function vt(){return new Hv("serverTimestamp")}(function(e,n=!0){(function(i){Ql=i})(_o),uo(new ti("firestore",((a,{instanceIdentifier:i,options:l})=>{const u=a.getProvider("app").getImmediate(),m=new So(new aO(a.getProvider("auth-internal")),new oO(u,a.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(g.options.projectId,v)})(u,i),u);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),aa(yb,vb,e),aa(yb,vb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebasestorage.googleapis.com",HA="storageBucket",fj=120*1e3,mj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends pa{constructor(e,n,a=0){super(Zg(e),`Firebase Storage: ${n} (${Zg(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function Zg(t){return"storage/"+t}function Xv(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt(Rt.UNKNOWN,t)}function pj(t){return new Nt(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gj(t){return new Nt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(Rt.UNAUTHENTICATED,t)}function vj(){return new Nt(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _j(t){return new Nt(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ej(){return new Nt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bj(){return new Nt(Rt.CANCELED,"User canceled the upload/download.")}function Tj(t){return new Nt(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function wj(t){return new Nt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Sj(){return new Nt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HA+"' property when initializing the app?")}function Aj(){return new Nt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xj(){return new Nt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cj(t){return new Nt(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function My(t){return new Nt(Rt.INVALID_ARGUMENT,t)}function $A(){return new Nt(Rt.APP_DELETED,"The Firebase app was deleted.")}function Rj(t){return new Nt(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Du(t,e){return new Nt(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function uu(t){throw new Nt(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Xn.makeFromUrl(e,n)}catch{return new Xn(e,"")}if(a.path==="")return a;throw wj(e)}static makeFromUrl(e,n){let a=null;const i="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function g(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${v}/b/${i}/o${S}`,"i"),C={bucket:1,path:3},R=n===FA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",z=new RegExp(`^https?://${R}/${i}/${j}`,"i"),ne=[{regex:m,indices:p,postModify:l},{regex:A,indices:C,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let X=0;X<ne.length;X++){const q=ne[X],Y=q.regex.exec(e);if(Y){const I=Y[q.indices.bucket];let O=Y[q.indices.path];O||(O=""),a=new Xn(I,O),q.postModify(a);break}}if(a==null)throw Tj(e);return a}}class Nj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e,n){let a=1,i=null,l=null,u=!1,m=0;function p(){return m===2}let g=!1;function v(...j){g||(g=!0,e.apply(null,j))}function E(j){i=setTimeout(()=>{i=null,t(A,p())},j)}function S(){l&&clearTimeout(l)}function A(j,...z){if(g){S();return}if(j){S(),v.call(null,j,...z);return}if(p()||u){S(),v.call(null,j,...z);return}a<64&&(a*=2);let ne;m===1?(m=2,ne=0):ne=(a+Math.random())*1e3,E(ne)}let C=!1;function R(j){C||(C=!0,S(),!g&&(i!==null?(j||(m=2),clearTimeout(i),E(0)):j||(m=1)))}return E(0),l=setTimeout(()=>{u=!0,R(!0)},n),R}function Dj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){return t!==void 0}function Oj(t){return typeof t=="object"&&!Array.isArray(t)}function Wv(t){return typeof t=="string"||t instanceof String}function pT(t){return Zv()&&t instanceof Blob}function Zv(){return typeof Blob<"u"}function gT(t,e,n,a){if(a<e)throw My(`Invalid value for '${t}'. Expected ${e} or greater.`);if(a>n)throw My(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${t}`}function GA(t){const e=encodeURIComponent;let n="?";for(const a in t)if(t.hasOwnProperty(a)){const i=e(a)+"="+e(t[a]);n=n+i+"&"}return n=n.slice(0,-1),n}var oo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oo||(oo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||i||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,a,i,l,u,m,p,g,v,E,S=!0,A=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=i,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,R)=>{this.resolve_=C,this.reject_=R,this.start_()})}start_(){const e=(a,i)=>{if(i){a(!1,new zh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===oo.NO_ERROR,p=l.getStatus();if(!m||Pj(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===oo.ABORT;a(!1,new zh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new zh(g,l))})},n=(a,i)=>{const l=this.resolve_,u=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());kj(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=Xv();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(i.canceled){const p=this.appDelete_?$A():bj();u(p)}else{const p=Ej();u(p)}};this.canceled_?n(!1,new zh(!1,null,!0)):this.backoffId_=Ij(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function Mj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Vj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Lj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Uj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zj(t,e,n,a,i,l,u=!0,m=!1){const p=GA(t.urlParams),g=t.url+p,v=Object.assign({},t.headers);return Lj(v,e),Mj(v,n),Vj(v,l),Uj(v,a),new jj(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qj(...t){const e=Bj();if(e!==void 0){const n=new e;for(let a=0;a<t.length;a++)n.append(t[a]);return n.getBlob()}else{if(Zv())return new Blob(t);throw new Nt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){if(typeof atob>"u")throw Cj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jg{constructor(e,n){this.data=e,this.contentType=n||null}}function $j(t,e){switch(t){case na.RAW:return new Jg(KA(e));case na.BASE64:case na.BASE64URL:return new Jg(YA(t,e));case na.DATA_URL:return new Jg(Kj(e),Yj(e))}throw Xv()}function KA(t){const e=[];for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,u=t.charCodeAt(++n);a=65536|(l&1023)<<10|u&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function Gj(t){let e;try{e=decodeURIComponent(t)}catch{throw Du(na.DATA_URL,"Malformed data URL.")}return KA(e)}function YA(t,e){switch(t){case na.BASE64:{const i=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(i||l)throw Du(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const i=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(i||l)throw Du(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hj(e)}catch(i){throw i.message.includes("polyfill")?i:Du(t,"Invalid character found")}const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a}class QA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Du(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=Qj(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function Kj(t){const e=new QA(t);return e.base64?YA(na.BASE64,e.rest):Gj(e.rest)}function Yj(t){return new QA(t).contentType}function Qj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){let a=0,i="";pT(e)?(this.data_=e,a=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pT(this.data_)){const a=this.data_,i=Fj(a,e,n);return i===null?null:new Gs(i)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Gs(a,!0)}}static getBlob(...e){if(Zv()){const n=e.map(a=>a instanceof Gs?a.data_:a);return new Gs(qj.apply(null,n))}else{const n=e.map(u=>Wv(u)?$j(na.RAW,u).data:u.data_);let a=0;n.forEach(u=>{a+=u.byteLength});const i=new Uint8Array(a);let l=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)i[l++]=u[m]}),new Gs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){let e;try{e=JSON.parse(t)}catch{return null}return Oj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wj(t,e){const n=e.split("/").filter(a=>a.length>0).join("/");return t.length===0?n:t+"/"+n}function WA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e){return e}class Nn{constructor(e,n,a,i){this.server=e,this.local=n||e,this.writable=!!a,this.xform=i||Zj}}let Bh=null;function Jj(t){return!Wv(t)||t.length<2?t:WA(t)}function ZA(){if(Bh)return Bh;const t=[];t.push(new Nn("bucket")),t.push(new Nn("generation")),t.push(new Nn("metageneration")),t.push(new Nn("name","fullPath",!0));function e(l,u){return Jj(u)}const n=new Nn("name");n.xform=e,t.push(n);function a(l,u){return u!==void 0?Number(u):u}const i=new Nn("size");return i.xform=a,t.push(i),t.push(new Nn("timeCreated")),t.push(new Nn("updated")),t.push(new Nn("md5Hash",null,!0)),t.push(new Nn("cacheControl",null,!0)),t.push(new Nn("contentDisposition",null,!0)),t.push(new Nn("contentEncoding",null,!0)),t.push(new Nn("contentLanguage",null,!0)),t.push(new Nn("contentType",null,!0)),t.push(new Nn("metadata","customMetadata",!0)),Bh=t,Bh}function eM(t,e){function n(){const a=t.bucket,i=t.fullPath,l=new Xn(a,i);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function tM(t,e,n){const a={};a.type="file";const i=n.length;for(let l=0;l<i;l++){const u=n[l];a[u.local]=u.xform(a,e[u.server])}return eM(a,t),a}function JA(t,e,n){const a=XA(e);return a===null?null:tM(t,a,n)}function nM(t,e,n,a){const i=XA(e);if(i===null||!Wv(i.downloadTokens))return null;const l=i.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,E=t.fullPath,S="/b/"+u(v)+"/o/"+u(E),A=Jv(S,n,a),C=GA({alt:"media",token:g});return A+C})[0]}function rM(t,e){const n={},a=e.length;for(let i=0;i<a;i++){const l=e[i];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class ex{constructor(e,n,a,i){this.url=e,this.method=n,this.handler=a,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){if(!t)throw Xv()}function aM(t,e){function n(a,i){const l=JA(t,i,e);return tx(l!==null),l}return n}function sM(t,e){function n(a,i){const l=JA(t,i,e);return tx(l!==null),nM(l,i,t.host,t._protocol)}return n}function nx(t){function e(n,a){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=vj():i=yj():n.getStatus()===402?i=gj(t.bucket):n.getStatus()===403?i=_j(t.path):i=a,i.status=n.getStatus(),i.serverResponse=a.serverResponse,i}return e}function iM(t){const e=nx(t);function n(a,i){let l=e(a,i);return a.getStatus()===404&&(l=pj(t.path)),l.serverResponse=i.serverResponse,l}return n}function oM(t,e,n){const a=e.fullServerUrl(),i=Jv(a,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,m=new ex(i,l,sM(t,n),u);return m.errorHandler=iM(e),m}function lM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cM(t,e,n){const a=Object.assign({},n);return a.fullPath=t.path,a.size=e.size(),a.contentType||(a.contentType=lM(null,e)),a}function uM(t,e,n,a,i){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let X=0;X<2;X++)ne=ne+Math.random().toString().slice(2);return ne}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const g=cM(e,a,i),v=rM(g,n),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",A=Gs.getBlob(E,a,S);if(A===null)throw Aj();const C={name:g.fullPath},R=Jv(l,t.host,t._protocol),j="POST",z=t.maxUploadRetryTime,$=new ex(R,j,aM(t,n),z);return $.urlParams=C,$.headers=u,$.body=A.uploadData(),$.errorHandler=nx(e),$}class dM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,i,l){if(this.sent_)throw uu("cannot .send() more than once");if(ui(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hM extends dM{initXhr(){this.xhr_.responseType="text"}}function rx(){return new hM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this._service=e,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new go(e,n)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WA(this._location.path)}get storage(){return this._service}get parent(){const e=Xj(this._location.path);if(e===null)return null;const n=new Xn(this._location.bucket,e);return new go(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rj(e)}}function fM(t,e,n){t._throwIfRoot("uploadBytes");const a=uM(t.storage,t._location,ZA(),new Gs(e,!0),n);return t.storage.makeRequestWithTokens(a,rx).then(i=>({metadata:i,ref:t}))}function mM(t){t._throwIfRoot("getDownloadURL");const e=oM(t.storage,t._location,ZA());return t.storage.makeRequestWithTokens(e,rx).then(n=>{if(n===null)throw xj();return n})}function pM(t,e){const n=Wj(t._location.path,e),a=new Xn(t._location.bucket,n);return new go(t.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){return/^[A-Za-z]+:\/\//.test(t)}function yM(t,e){return new go(t,e)}function ax(t,e){if(t instanceof e_){const n=t;if(n._bucket==null)throw Sj();const a=new go(n,n._bucket);return e!=null?ax(a,e):a}else return e!==void 0?pM(t,e):t}function vM(t,e){if(e&&gM(e)){if(t instanceof e_)return yM(t,e);throw My("To use ref(service, url), the first argument must be a Storage instance.")}else return ax(t,e)}function yT(t,e){const n=e?.[HA];return n==null?null:Xn.makeFromBucketSpec(n,t)}function _M(t,e,n,a={}){t.host=`${e}:${n}`;const i=ui(e);i&&(rv(`https://${t.host}/b`),av("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:l}=a;l&&(t._overrideAuthToken=typeof l=="string"?l:ww(l,t.app.options.projectId))}class e_{constructor(e,n,a,i,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=i,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=FA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fj,this._maxUploadRetryTime=mj,this._requests=new Set,i!=null?this._bucket=Xn.makeFromBucketSpec(i,this._host):this._bucket=yT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=yT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new go(this,e)}_makeRequest(e,n,a,i,l=!0){if(this._deleted)return new Nj($A());{const u=zj(e,this._appId,a,i,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,i).getPromise()}}const vT="@firebase/storage",_T="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="storage";function EM(t,e,n){return t=Ct(t),fM(t,e,n)}function bM(t){return t=Ct(t),mM(t)}function TM(t,e){return t=Ct(t),vM(t,e)}function wM(t=ov(),e){t=Ct(t);const a=Yf(t,sx).getImmediate({identifier:e}),i=Ew("storage");return i&&SM(a,...i),a}function SM(t,e,n,a={}){_M(t,e,n,a)}function AM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new e_(n,a,i,e,_o)}function xM(){uo(new ti(sx,AM,"PUBLIC").setMultipleInstances(!0)),aa(vT,_T,""),aa(vT,_T,"esm2020")}xM();const CM={apiKey:"AIzaSyDMjPxIn42jeTVD0qksgZjoM9JR7nxLTxo",authDomain:"cleber-9a012.firebaseapp.com",projectId:"cleber-9a012",storageBucket:"cleber-9a012.firebasestorage.app",messagingSenderId:"174918177595",appId:"1:174918177595:web:341eabeb3c8d8144a75d1e"},t_=xw(CM),qh=eO(t_),we=J4(t_),RM=wM(t_);function Il(t){if(typeof t=="string")return t;const e=t?.code||"",n=t?.message||"";if(n.toLowerCase().includes("user-not-found")||n.toLowerCase().includes("there is no user record"))return"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.";switch(e){case"auth/user-not-found":return"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato do email.";case"auth/invalid-credential":return n.toLowerCase().includes("user")||n.toLowerCase().includes("email")?"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.":"Email ou senha incorretos. Verifique suas credenciais.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return n&&(n.toLowerCase().includes("user-not-found")||n.toLowerCase().includes("no user record"))?"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.":"Erro ao fazer login. Verifique suas credenciais e tente novamente."}}const df={async logOut(){try{await FD(qh)}catch(t){const e=Il(t);throw new Error(e)}},async login(t){try{const n=(await UD(qh,t.email,t.password)).user,a=await Nl(We(we,"users",n.uid));if(!a.exists())throw new Error("No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.");const l={...a.data(),lastLogin:new Date};return await jy(We(we,"users",n.uid),l),l}catch(e){const n={code:e?.code||e?.error?.code,message:e?.message||e?.error?.message||e?.toString()},a=Il(n);throw new Error(a)}},async register(t){try{if(!t.email||!t.password||!t.name)throw new Error("Todos os campos so obrigatrios");if(t.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await LD(qh,t.email,t.password)).user,a={uid:n.uid,email:t.email,name:t.name,createdAt:new Date,updatedAt:new Date,role:t.role||"user"};return await jy(We(we,"users",n.uid),a),a}catch(e){const n=Il(e);throw new Error(n)}},observeAuthState(t){try{return qD(qh,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const n=await Nl(We(we,"users",e.uid));if(n.exists()){const a=n.data();console.log(" Usurio autenticado:",a),t(a)}else console.log(" Usurio no encontrado no Firestore"),t(null)}catch(n){console.error(" Erro ao buscar dados do usurio:",n),t(null)}else console.log(" Usurio deslogado"),t(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}};let NM={data:""},IM=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||NM},DM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kM=/\/\*[^]*?\*\/|  +/g,ET=/\n+/g,Ks=(t,e)=>{let n="",a="",i="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":a+=l[1]=="f"?Ks(u,l):l+"{"+Ks(u,l[1]=="k"?"":e)+"}":typeof u=="object"?a+=Ks(u,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ks.p?Ks.p(l,u):l+":"+u+";")}return n+(e&&i?e+"{"+i+"}":i)+a},za={},ix=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+ix(t[n]);return e}return t},OM=(t,e,n,a,i)=>{let l=ix(t),u=za[l]||(za[l]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(l));if(!za[u]){let p=l!==t?t:(g=>{let v,E,S=[{}];for(;v=DM.exec(g.replace(kM,""));)v[4]?S.shift():v[3]?(E=v[3].replace(ET," ").trim(),S.unshift(S[0][E]=S[0][E]||{})):S[0][v[1]]=v[2].replace(ET," ").trim();return S[0]})(t);za[u]=Ks(i?{["@keyframes "+u]:p}:p,n?"":"."+u)}let m=n&&za.g?za.g:null;return n&&(za.g=za[u]),((p,g,v,E)=>{E?g.data=g.data.replace(E,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(za[u],e,a,m),u},PM=(t,e,n)=>t.reduce((a,i,l)=>{let u=e[l];if(u&&u.call){let m=u(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":Ks(m,""):m===!1?"":m}return a+i+(u??"")},"");function vm(t){let e=this||{},n=t.call?t(e.p):t;return OM(n.unshift?n.raw?PM(n,[].slice.call(arguments,1),e.p):n.reduce((a,i)=>Object.assign(a,i&&i.call?i(e.p):i),{}):n,IM(e.target),e.g,e.o,e.k)}let ox,Vy,Ly;vm.bind({g:1});let ts=vm.bind({k:1});function jM(t,e,n,a){Ks.p=e,ox=t,Vy=n,Ly=a}function pi(t,e){let n=this||{};return function(){let a=arguments;function i(l,u){let m=Object.assign({},l),p=m.className||i.className;n.p=Object.assign({theme:Vy&&Vy()},m),n.o=/ *go\d+/.test(p),m.className=vm.apply(n,a)+(p?" "+p:"");let g=t;return t[0]&&(g=m.as||t,delete m.as),Ly&&g[0]&&Ly(m),ox(g,m)}return i}}var MM=t=>typeof t=="function",Vf=(t,e)=>MM(t)?t(e):t,VM=(()=>{let t=0;return()=>(++t).toString()})(),lx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),LM=20,n_="default",cx=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:a}=e;return cx(t,{type:t.toasts.find(u=>u.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},hf=[],ux={toasts:[],pausedAt:void 0,settings:{toastLimit:LM}},ra={},dx=(t,e=n_)=>{ra[e]=cx(ra[e]||ux,t),hf.forEach(([n,a])=>{n===e&&a(ra[e])})},hx=t=>Object.keys(ra).forEach(e=>dx(t,e)),UM=t=>Object.keys(ra).find(e=>ra[e].toasts.some(n=>n.id===t)),_m=(t=n_)=>e=>{dx(e,t)},zM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BM=(t={},e=n_)=>{let[n,a]=P.useState(ra[e]||ux),i=P.useRef(ra[e]);P.useEffect(()=>(i.current!==ra[e]&&a(ra[e]),hf.push([e,a]),()=>{let u=hf.findIndex(([m])=>m===e);u>-1&&hf.splice(u,1)}),[e]);let l=n.toasts.map(u=>{var m,p,g;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((m=t[u.type])==null?void 0:m.removeDelay)||t?.removeDelay,duration:u.duration||((p=t[u.type])==null?void 0:p.duration)||t?.duration||zM[u.type],style:{...t.style,...(g=t[u.type])==null?void 0:g.style,...u.style}}});return{...n,toasts:l}},qM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||VM()}),ud=t=>(e,n)=>{let a=qM(e,t,n);return _m(a.toasterId||UM(a.id))({type:2,toast:a}),a.id},qt=(t,e)=>ud("blank")(t,e);qt.error=ud("error");qt.success=ud("success");qt.loading=ud("loading");qt.custom=ud("custom");qt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?_m(e)(n):hx(n)};qt.dismissAll=t=>qt.dismiss(void 0,t);qt.remove=(t,e)=>{let n={type:4,toastId:t};e?_m(e)(n):hx(n)};qt.removeAll=t=>qt.remove(void 0,t);qt.promise=(t,e,n)=>{let a=qt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let l=e.success?Vf(e.success,i):void 0;return l?qt.success(l,{id:a,...n,...n?.success}):qt.dismiss(a),i}).catch(i=>{let l=e.error?Vf(e.error,i):void 0;l?qt.error(l,{id:a,...n,...n?.error}):qt.dismiss(a)}),t};var FM=1e3,HM=(t,e="default")=>{let{toasts:n,pausedAt:a}=BM(t,e),i=P.useRef(new Map).current,l=P.useCallback((E,S=FM)=>{if(i.has(E))return;let A=setTimeout(()=>{i.delete(E),u({type:4,toastId:E})},S);i.set(E,A)},[]);P.useEffect(()=>{if(a)return;let E=Date.now(),S=n.map(A=>{if(A.duration===1/0)return;let C=(A.duration||0)+A.pauseDuration-(E-A.createdAt);if(C<0){A.visible&&qt.dismiss(A.id);return}return setTimeout(()=>qt.dismiss(A.id,e),C)});return()=>{S.forEach(A=>A&&clearTimeout(A))}},[n,a,e]);let u=P.useCallback(_m(e),[e]),m=P.useCallback(()=>{u({type:5,time:Date.now()})},[u]),p=P.useCallback((E,S)=>{u({type:1,toast:{id:E,height:S}})},[u]),g=P.useCallback(()=>{a&&u({type:6,time:Date.now()})},[a,u]),v=P.useCallback((E,S)=>{let{reverseOrder:A=!1,gutter:C=8,defaultPosition:R}=S||{},j=n.filter(ne=>(ne.position||R)===(E.position||R)&&ne.height),z=j.findIndex(ne=>ne.id===E.id),$=j.filter((ne,X)=>X<z&&ne.visible).length;return j.filter(ne=>ne.visible).slice(...A?[$+1]:[0,$]).reduce((ne,X)=>ne+(X.height||0)+C,0)},[n]);return P.useEffect(()=>{n.forEach(E=>{if(E.dismissed)l(E.id,E.removeDelay);else{let S=i.get(E.id);S&&(clearTimeout(S),i.delete(E.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:v}}},$M=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,GM=ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KM=ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,YM=pi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$M} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${GM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QM=ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XM=pi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${QM} 1s linear infinite;
`,WM=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZM=ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JM=pi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,e3=pi("div")`
  position: absolute;
`,t3=pi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,n3=ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r3=pi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${n3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,a3=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?P.createElement(r3,null,e):e:n==="blank"?null:P.createElement(t3,null,P.createElement(XM,{...a}),n!=="loading"&&P.createElement(e3,null,n==="error"?P.createElement(YM,{...a}):P.createElement(JM,{...a})))},s3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,i3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,o3="0%{opacity:0;} 100%{opacity:1;}",l3="0%{opacity:1;} 100%{opacity:0;}",c3=pi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,u3=pi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,d3=(t,e)=>{let n=t.includes("top")?1:-1,[a,i]=lx()?[o3,l3]:[s3(n),i3(n)];return{animation:e?`${ts(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ts(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},h3=P.memo(({toast:t,position:e,style:n,children:a})=>{let i=t.height?d3(t.position||e||"top-center",t.visible):{opacity:0},l=P.createElement(a3,{toast:t}),u=P.createElement(u3,{...t.ariaProps},Vf(t.message,t));return P.createElement(c3,{className:t.className,style:{...i,...n,...t.style}},typeof a=="function"?a({icon:l,message:u}):P.createElement(P.Fragment,null,l,u))});jM(P.createElement);var f3=({id:t,className:e,style:n,onHeightUpdate:a,children:i})=>{let l=P.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;a(t,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return P.createElement("div",{ref:l,className:e,style:n},i)},m3=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...i}},p3=vm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fh=16,g3=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:i,toasterId:l,containerStyle:u,containerClassName:m})=>{let{toasts:p,handlers:g}=HM(n,l);return P.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Fh,left:Fh,right:Fh,bottom:Fh,pointerEvents:"none",...u},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(v=>{let E=v.position||e,S=g.calculateOffset(v,{reverseOrder:t,gutter:a,defaultPosition:e}),A=m3(E,S);return P.createElement(f3,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?p3:"",style:A},v.type==="custom"?Vf(v.message,v):i?i(v):P.createElement(h3,{toast:v,position:E}))}))},ct=qt;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),bT=t=>{const e=v3(t);return e.charAt(0).toUpperCase()+e.slice(1)},fx=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),_3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...m},p)=>P.createElement("svg",{ref:p,...E3,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:fx("lucide",i),...!l&&!_3(m)&&{"aria-hidden":"true"},...m},[...u.map(([g,v])=>P.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=P.forwardRef(({className:a,...i},l)=>P.createElement(b3,{ref:l,iconNode:e,className:fx(`lucide-${y3(bT(t))}`,`lucide-${t}`,a),...i}));return n.displayName=bT(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],w3=De("arrow-right",T3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Uy=De("building-2",S3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],x3=De("calendar",A3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zn=De("check",C3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lf=De("chevron-down",R3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uf=De("circle-alert",N3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hh=De("circle-check-big",I3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],k3=De("circle-dot",D3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],mx=De("clipboard-list",O3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zl=De("clock",P3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],M3=De("cog",j3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],L3=De("credit-card",V3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],px=De("dollar-sign",U3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],B3=De("download",z3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],F3=De("factory",q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],$3=De("git-branch",H3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],TT=De("layers",G3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wT=De("layout-dashboard",K3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ey=De("loader-circle",Y3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gx=De("log-out",Q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W3=De("mail",X3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yx=De("map-pin",Z3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],e6=De("menu",J3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],zf=De("package",t6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],r6=De("palette",n6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],s6=De("pause",a6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],o6=De("pen",i6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],c6=De("pencil",l6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],d6=De("phone",u6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],f6=De("play",h6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gi=De("plus",m6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],g6=De("printer",p6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],v6=De("ruler",y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],E6=De("save",_6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yo=De("search",b6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],w6=De("shirt",T6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],A6=De("sparkles",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vx=De("square-pen",x6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],R6=De("tag",C6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ec=De("trash-2",N6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],D6=De("trending-up",I6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],O6=De("triangle-alert",k6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j6=De("upload",P6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],V6=De("user-check",M6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],U6=De("user-plus",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],B6=De("user",z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bf=De("users",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ya=De("x",F6),_x=P.createContext(void 0);function H6({children:t}){const[e,n]=P.useState(null),[a,i]=P.useState(!0),[l,u]=P.useState(null);P.useEffect(()=>{n(null),i(!1)},[]);const E={user:e,loading:a,error:l,login:async S=>{try{i(!0),u(null);const A=await df.login(S);n(A),i(!1),ct.success(`Bem-vindo, ${A.name||A.email}!`,{icon:f.jsx(V6,{size:20})})}catch(A){const C=Il(A);u(C),i(!1),n(null),ct.error(C)}},register:async S=>{try{i(!0),u(null);const A=await df.register(S);n(A),i(!1),ct.success("Conta criada com sucesso! Bem-vindo!",{icon:f.jsx(A6,{size:20})})}catch(A){const C=Il(A);u(C),i(!1),n(null),ct.error(C)}},logout:async()=>{try{i(!0),u(null),await df.logOut(),n(null),i(!1),ct.success("Logout realizado com sucesso!",{icon:f.jsx(gx,{size:20})})}catch(S){const A=Il(S);u(A),i(!1),ct.error(A)}},clearError:()=>{u(null)}};return f.jsx(_x.Provider,{value:E,children:t})}const tr=()=>{const t=P.useContext(_x);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},$6=({children:t})=>{const{user:e,loading:n}=tr();return n?f.jsx("div",{children:"Loading..."}):e?f.jsx(f.Fragment,{children:t}):f.jsx(wR,{to:Fa.login,replace:!0})},ST=t=>t,G6=()=>{let t=ST;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ST}}},K6=G6();function vo(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(a=>n.searchParams.append("args[]",a)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Bl(t){if(typeof t!="string")throw new Error(vo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Ex(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ex(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function bx(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ex(t))&&(a&&(a+=" "),a+=e);return a}function Y6(t,e,n=void 0){const a={};for(const i in t){const l=t[i];let u="",m=!0;for(let p=0;p<l.length;p+=1){const g=l[p];g&&(u+=(m===!0?"":" ")+e(g),m=!1,n&&n[g]&&(u+=" "+n[g]))}a[i]=u}return a}var ty={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function Q6(){if(AT)return lt;AT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function C(R){if(typeof R=="object"&&R!==null){var j=R.$$typeof;switch(j){case t:switch(R=R.type,R){case n:case i:case a:case p:case g:case S:return R;default:switch(R=R&&R.$$typeof,R){case u:case m:case E:case v:return R;case l:return R;default:return j}}case e:return j}}}return lt.ContextConsumer=l,lt.ContextProvider=u,lt.Element=t,lt.ForwardRef=m,lt.Fragment=n,lt.Lazy=E,lt.Memo=v,lt.Portal=e,lt.Profiler=i,lt.StrictMode=a,lt.Suspense=p,lt.SuspenseList=g,lt.isContextConsumer=function(R){return C(R)===l},lt.isContextProvider=function(R){return C(R)===u},lt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},lt.isForwardRef=function(R){return C(R)===m},lt.isFragment=function(R){return C(R)===n},lt.isLazy=function(R){return C(R)===E},lt.isMemo=function(R){return C(R)===v},lt.isPortal=function(R){return C(R)===e},lt.isProfiler=function(R){return C(R)===i},lt.isStrictMode=function(R){return C(R)===a},lt.isSuspense=function(R){return C(R)===p},lt.isSuspenseList=function(R){return C(R)===g},lt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===i||R===a||R===p||R===g||typeof R=="object"&&R!==null&&(R.$$typeof===E||R.$$typeof===v||R.$$typeof===u||R.$$typeof===l||R.$$typeof===m||R.$$typeof===A||R.getModuleId!==void 0)},lt.typeOf=C,lt}var xT;function X6(){return xT||(xT=1,ty.exports=Q6()),ty.exports}var Tx=X6();function qa(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wx(t){if(P.isValidElement(t)||Tx.isValidElementType(t)||!qa(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=wx(t[n])}),e}function Jn(t,e,n={clone:!0}){const a=n.clone?{...t}:t;return qa(t)&&qa(e)&&Object.keys(e).forEach(i=>{P.isValidElement(e[i])||Tx.isValidElementType(e[i])?a[i]=e[i]:qa(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&qa(t[i])?a[i]=Jn(t[i],e[i],n):n.clone?a[i]=qa(e[i])?wx(e[i]):e[i]:a[i]=e[i]}),a}function ku(t,e){return e?Jn(t,e,{clone:!1}):t}function CT(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(a=>a.startsWith("@container")).sort((a,i)=>{const l=/min-width:\s*([0-9.]+)/;return+(a.match(l)?.[1]||0)-+(i.match(l)?.[1]||0)});return n.length?n.reduce((a,i)=>{const l=e[i];return delete a[i],a[i]=l,a},{...e}):e}function W6(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Z6(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,a,i]=n,l=Number.isNaN(+a)?a||0:+a;return t.containerQueries(i).up(l)}function J6(t){const e=(l,u)=>l.replace("@media",u?`@container ${u}`:"@container");function n(l,u){l.up=(...m)=>e(t.breakpoints.up(...m),u),l.down=(...m)=>e(t.breakpoints.down(...m),u),l.between=(...m)=>e(t.breakpoints.between(...m),u),l.only=(...m)=>e(t.breakpoints.only(...m),u),l.not=(...m)=>{const p=e(t.breakpoints.not(...m),u);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const a={},i=l=>(n(a,l),a);return n(i),{...t,containerQueries:i}}const Em={xs:0,sm:600,md:900,lg:1200,xl:1536},RT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Em[t]}px)`},e5={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Em[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ns(t,e,n){const a=t.theme||{};if(Array.isArray(e)){const l=a.breakpoints||RT;return e.reduce((u,m,p)=>(u[l.up(l.keys[p])]=n(e[p]),u),{})}if(typeof e=="object"){const l=a.breakpoints||RT;return Object.keys(e).reduce((u,m)=>{if(W6(l.keys,m)){const p=Z6(a.containerQueries?a:e5,m);p&&(u[p]=n(e[m],m))}else if(Object.keys(l.values||Em).includes(m)){const p=l.up(m);u[p]=n(e[m],m)}else{const p=m;u[p]=e[p]}return u},{})}return n(e)}function t5(t={}){return t.keys?.reduce((n,a)=>{const i=t.up(a);return n[i]={},n},{})||{}}function NT(t,e){return t.reduce((n,a)=>{const i=n[a];return(!i||Object.keys(i).length===0)&&delete n[a],n},e)}function bm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const a=`vars.${e}`.split(".").reduce((i,l)=>i&&i[l]?i[l]:null,t);if(a!=null)return a}return e.split(".").reduce((a,i)=>a&&a[i]!=null?a[i]:null,t)}function qf(t,e,n,a=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||a:i=bm(t,n)||a,e&&(i=e(i,a,t)),i}function Lt(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:i}=t,l=u=>{if(u[e]==null)return null;const m=u[e],p=u.theme,g=bm(p,a)||{};return ns(u,m,E=>{let S=qf(g,i,E);return E===S&&typeof E=="string"&&(S=qf(g,i,`${e}${E==="default"?"":Bl(E)}`,E)),n===!1?S:{[n]:S}})};return l.propTypes={},l.filterProps=[e],l}function n5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const r5={m:"margin",p:"padding"},a5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},IT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s5=n5(t=>{if(t.length>2)if(IT[t])t=IT[t];else return[t];const[e,n]=t.split(""),a=r5[e],i=a5[n]||"";return Array.isArray(i)?i.map(l=>a+l):[a+i]}),r_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],a_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...r_,...a_];function dd(t,e,n,a){const i=bm(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?l=>typeof l=="string"?l:typeof i=="string"?i.startsWith("var(")&&l===0?0:i.startsWith("var(")&&l===1?i:`calc(${l} * ${i})`:i*l:Array.isArray(i)?l=>{if(typeof l=="string")return l;const u=Math.abs(l),m=i[u];return l>=0?m:typeof m=="number"?-m:typeof m=="string"&&m.startsWith("var(")?`calc(-1 * ${m})`:`-${m}`}:typeof i=="function"?i:()=>{}}function s_(t){return dd(t,"spacing",8)}function hd(t,e){return typeof e=="string"||e==null?e:t(e)}function i5(t,e){return n=>t.reduce((a,i)=>(a[i]=hd(e,n),a),{})}function o5(t,e,n,a){if(!e.includes(n))return null;const i=s5(n),l=i5(i,a),u=t[n];return ns(t,u,l)}function Sx(t,e){const n=s_(t.theme);return Object.keys(t).map(a=>o5(t,e,a,n)).reduce(ku,{})}function At(t){return Sx(t,r_)}At.propTypes={};At.filterProps=r_;function xt(t){return Sx(t,a_)}xt.propTypes={};xt.filterProps=a_;function Tm(...t){const e=t.reduce((a,i)=>(i.filterProps.forEach(l=>{a[l]=i}),a),{}),n=a=>Object.keys(a).reduce((i,l)=>e[l]?ku(i,e[l](a)):i,{});return n.propTypes={},n.filterProps=t.reduce((a,i)=>a.concat(i.filterProps),[]),n}function mr(t){return typeof t!="number"?t:`${t}px solid`}function yr(t,e){return Lt({prop:t,themeKey:"borders",transform:e})}const l5=yr("border",mr),c5=yr("borderTop",mr),u5=yr("borderRight",mr),d5=yr("borderBottom",mr),h5=yr("borderLeft",mr),f5=yr("borderColor"),m5=yr("borderTopColor"),p5=yr("borderRightColor"),g5=yr("borderBottomColor"),y5=yr("borderLeftColor"),v5=yr("outline",mr),_5=yr("outlineColor"),wm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=dd(t.theme,"shape.borderRadius",4),n=a=>({borderRadius:hd(e,a)});return ns(t,t.borderRadius,n)}return null};wm.propTypes={};wm.filterProps=["borderRadius"];Tm(l5,c5,u5,d5,h5,f5,m5,p5,g5,y5,wm,v5,_5);const Sm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=dd(t.theme,"spacing",8),n=a=>({gap:hd(e,a)});return ns(t,t.gap,n)}return null};Sm.propTypes={};Sm.filterProps=["gap"];const Am=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=dd(t.theme,"spacing",8),n=a=>({columnGap:hd(e,a)});return ns(t,t.columnGap,n)}return null};Am.propTypes={};Am.filterProps=["columnGap"];const xm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=dd(t.theme,"spacing",8),n=a=>({rowGap:hd(e,a)});return ns(t,t.rowGap,n)}return null};xm.propTypes={};xm.filterProps=["rowGap"];const E5=Lt({prop:"gridColumn"}),b5=Lt({prop:"gridRow"}),T5=Lt({prop:"gridAutoFlow"}),w5=Lt({prop:"gridAutoColumns"}),S5=Lt({prop:"gridAutoRows"}),A5=Lt({prop:"gridTemplateColumns"}),x5=Lt({prop:"gridTemplateRows"}),C5=Lt({prop:"gridTemplateAreas"}),R5=Lt({prop:"gridArea"});Tm(Sm,Am,xm,E5,b5,T5,w5,S5,A5,x5,C5,R5);function Dl(t,e){return e==="grey"?e:t}const N5=Lt({prop:"color",themeKey:"palette",transform:Dl}),I5=Lt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Dl}),D5=Lt({prop:"backgroundColor",themeKey:"palette",transform:Dl});Tm(N5,I5,D5);function Yn(t){return t<=1&&t!==0?`${t*100}%`:t}const k5=Lt({prop:"width",transform:Yn}),i_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const a=t.theme?.breakpoints?.values?.[n]||Em[n];return a?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${a}${t.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Yn(n)}};return ns(t,t.maxWidth,e)}return null};i_.filterProps=["maxWidth"];const O5=Lt({prop:"minWidth",transform:Yn}),P5=Lt({prop:"height",transform:Yn}),j5=Lt({prop:"maxHeight",transform:Yn}),M5=Lt({prop:"minHeight",transform:Yn});Lt({prop:"size",cssProperty:"width",transform:Yn});Lt({prop:"size",cssProperty:"height",transform:Yn});const V5=Lt({prop:"boxSizing"});Tm(k5,i_,O5,P5,j5,M5,V5);const Cm={border:{themeKey:"borders",transform:mr},borderTop:{themeKey:"borders",transform:mr},borderRight:{themeKey:"borders",transform:mr},borderBottom:{themeKey:"borders",transform:mr},borderLeft:{themeKey:"borders",transform:mr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wm},color:{themeKey:"palette",transform:Dl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Dl},backgroundColor:{themeKey:"palette",transform:Dl},p:{style:xt},pt:{style:xt},pr:{style:xt},pb:{style:xt},pl:{style:xt},px:{style:xt},py:{style:xt},padding:{style:xt},paddingTop:{style:xt},paddingRight:{style:xt},paddingBottom:{style:xt},paddingLeft:{style:xt},paddingX:{style:xt},paddingY:{style:xt},paddingInline:{style:xt},paddingInlineStart:{style:xt},paddingInlineEnd:{style:xt},paddingBlock:{style:xt},paddingBlockStart:{style:xt},paddingBlockEnd:{style:xt},m:{style:At},mt:{style:At},mr:{style:At},mb:{style:At},ml:{style:At},mx:{style:At},my:{style:At},margin:{style:At},marginTop:{style:At},marginRight:{style:At},marginBottom:{style:At},marginLeft:{style:At},marginX:{style:At},marginY:{style:At},marginInline:{style:At},marginInlineStart:{style:At},marginInlineEnd:{style:At},marginBlock:{style:At},marginBlockStart:{style:At},marginBlockEnd:{style:At},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sm},rowGap:{style:xm},columnGap:{style:Am},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yn},maxWidth:{style:i_},minWidth:{transform:Yn},height:{transform:Yn},maxHeight:{transform:Yn},minHeight:{transform:Yn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function L5(...t){const e=t.reduce((a,i)=>a.concat(Object.keys(i)),[]),n=new Set(e);return t.every(a=>n.size===Object.keys(a).length)}function U5(t,e){return typeof t=="function"?t(e):t}function z5(){function t(n,a,i,l){const u={[n]:a,theme:i},m=l[n];if(!m)return{[n]:a};const{cssProperty:p=n,themeKey:g,transform:v,style:E}=m;if(a==null)return null;if(g==="typography"&&a==="inherit")return{[n]:a};const S=bm(i,g)||{};return E?E(u):ns(u,a,C=>{let R=qf(S,v,C);return C===R&&typeof C=="string"&&(R=qf(S,v,`${n}${C==="default"?"":Bl(C)}`,C)),p===!1?R:{[p]:R}})}function e(n){const{sx:a,theme:i={},nested:l}=n||{};if(!a)return null;const u=i.unstable_sxConfig??Cm;function m(p){let g=p;if(typeof p=="function")g=p(i);else if(typeof p!="object")return p;if(!g)return null;const v=t5(i.breakpoints),E=Object.keys(v);let S=v;return Object.keys(g).forEach(A=>{const C=U5(g[A],i);if(C!=null)if(typeof C=="object")if(u[A])S=ku(S,t(A,C,i,u));else{const R=ns({theme:i},C,j=>({[A]:j}));L5(R,C)?S[A]=e({sx:C,theme:i,nested:!0}):S=ku(S,R)}else S=ku(S,t(A,C,i,u))}),!l&&i.modularCssLayers?{"@layer sx":CT(i,NT(E,S))}:CT(i,NT(E,S))}return Array.isArray(a)?a.map(m):m(a)}return e}const ql=z5();ql.filterProps=["sx"];function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},zy.apply(null,arguments)}function B5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function q5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var F5=(function(){function t(n){var a=this;this._insertTag=function(i){var l;a.tags.length===0?a.insertionPoint?l=a.insertionPoint.nextSibling:a.prepend?l=a.container.firstChild:l=a.before:l=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(i,l),a.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(a){a.forEach(this._insertTag)},e.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(q5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=B5(i);try{l.insertRule(a,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(a));this.ctr++},e.flush=function(){this.tags.forEach(function(a){var i;return(i=a.parentNode)==null?void 0:i.removeChild(a)}),this.tags=[],this.ctr=0},t})(),_n="-ms-",Ff="-moz-",Qe="-webkit-",Ax="comm",o_="rule",l_="decl",H5="@import",xx="@keyframes",$5="@layer",G5=Math.abs,Rm=String.fromCharCode,K5=Object.assign;function Y5(t,e){return dn(t,0)^45?(((e<<2^dn(t,0))<<2^dn(t,1))<<2^dn(t,2))<<2^dn(t,3):0}function Cx(t){return t.trim()}function Q5(t,e){return(t=e.exec(t))?t[0]:t}function Xe(t,e,n){return t.replace(e,n)}function By(t,e){return t.indexOf(e)}function dn(t,e){return t.charCodeAt(e)|0}function $u(t,e,n){return t.slice(e,n)}function ea(t){return t.length}function c_(t){return t.length}function $h(t,e){return e.push(t),t}function X5(t,e){return t.map(e).join("")}var Nm=1,Fl=1,Rx=0,Ln=0,Ft=0,tc="";function Im(t,e,n,a,i,l,u){return{value:t,root:e,parent:n,type:a,props:i,children:l,line:Nm,column:Fl,length:u,return:""}}function du(t,e){return K5(Im("",null,null,"",null,null,0),t,{length:-t.length},e)}function W5(){return Ft}function Z5(){return Ft=Ln>0?dn(tc,--Ln):0,Fl--,Ft===10&&(Fl=1,Nm--),Ft}function er(){return Ft=Ln<Rx?dn(tc,Ln++):0,Fl++,Ft===10&&(Fl=1,Nm++),Ft}function ha(){return dn(tc,Ln)}function ff(){return Ln}function fd(t,e){return $u(tc,t,e)}function Gu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Nx(t){return Nm=Fl=1,Rx=ea(tc=t),Ln=0,[]}function Ix(t){return tc="",t}function mf(t){return Cx(fd(Ln-1,qy(t===91?t+2:t===40?t+1:t)))}function J5(t){for(;(Ft=ha())&&Ft<33;)er();return Gu(t)>2||Gu(Ft)>3?"":" "}function eV(t,e){for(;--e&&er()&&!(Ft<48||Ft>102||Ft>57&&Ft<65||Ft>70&&Ft<97););return fd(t,ff()+(e<6&&ha()==32&&er()==32))}function qy(t){for(;er();)switch(Ft){case t:return Ln;case 34:case 39:t!==34&&t!==39&&qy(Ft);break;case 40:t===41&&qy(t);break;case 92:er();break}return Ln}function tV(t,e){for(;er()&&t+Ft!==57;)if(t+Ft===84&&ha()===47)break;return"/*"+fd(e,Ln-1)+"*"+Rm(t===47?t:er())}function nV(t){for(;!Gu(ha());)er();return fd(t,Ln)}function rV(t){return Ix(pf("",null,null,null,[""],t=Nx(t),0,[0],t))}function pf(t,e,n,a,i,l,u,m,p){for(var g=0,v=0,E=u,S=0,A=0,C=0,R=1,j=1,z=1,$=0,ne="",X=i,q=l,Y=a,I=ne;j;)switch(C=$,$=er()){case 40:if(C!=108&&dn(I,E-1)==58){By(I+=Xe(mf($),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:I+=mf($);break;case 9:case 10:case 13:case 32:I+=J5(C);break;case 92:I+=eV(ff()-1,7);continue;case 47:switch(ha()){case 42:case 47:$h(aV(tV(er(),ff()),e,n),p);break;default:I+="/"}break;case 123*R:m[g++]=ea(I)*z;case 125*R:case 59:case 0:switch($){case 0:case 125:j=0;case 59+v:z==-1&&(I=Xe(I,/\f/g,"")),A>0&&ea(I)-E&&$h(A>32?kT(I+";",a,n,E-1):kT(Xe(I," ","")+";",a,n,E-2),p);break;case 59:I+=";";default:if($h(Y=DT(I,e,n,g,v,i,m,ne,X=[],q=[],E),l),$===123)if(v===0)pf(I,e,Y,Y,X,l,E,m,q);else switch(S===99&&dn(I,3)===110?100:S){case 100:case 108:case 109:case 115:pf(t,Y,Y,a&&$h(DT(t,Y,Y,0,0,i,m,ne,i,X=[],E),q),i,q,E,m,a?X:q);break;default:pf(I,Y,Y,Y,[""],q,0,m,q)}}g=v=A=0,R=z=1,ne=I="",E=u;break;case 58:E=1+ea(I),A=C;default:if(R<1){if($==123)--R;else if($==125&&R++==0&&Z5()==125)continue}switch(I+=Rm($),$*R){case 38:z=v>0?1:(I+="\f",-1);break;case 44:m[g++]=(ea(I)-1)*z,z=1;break;case 64:ha()===45&&(I+=mf(er())),S=ha(),v=E=ea(ne=I+=nV(ff())),$++;break;case 45:C===45&&ea(I)==2&&(R=0)}}return l}function DT(t,e,n,a,i,l,u,m,p,g,v){for(var E=i-1,S=i===0?l:[""],A=c_(S),C=0,R=0,j=0;C<a;++C)for(var z=0,$=$u(t,E+1,E=G5(R=u[C])),ne=t;z<A;++z)(ne=Cx(R>0?S[z]+" "+$:Xe($,/&\f/g,S[z])))&&(p[j++]=ne);return Im(t,e,n,i===0?o_:m,p,g,v)}function aV(t,e,n){return Im(t,e,n,Ax,Rm(W5()),$u(t,2,-2),0)}function kT(t,e,n,a){return Im(t,e,n,l_,$u(t,0,a),$u(t,a+1,-1),a)}function kl(t,e){for(var n="",a=c_(t),i=0;i<a;i++)n+=e(t[i],i,t,e)||"";return n}function sV(t,e,n,a){switch(t.type){case $5:if(t.children.length)break;case H5:case l_:return t.return=t.return||t.value;case Ax:return"";case xx:return t.return=t.value+"{"+kl(t.children,a)+"}";case o_:t.value=t.props.join(",")}return ea(n=kl(t.children,a))?t.return=t.value+"{"+n+"}":""}function iV(t){var e=c_(t);return function(n,a,i,l){for(var u="",m=0;m<e;m++)u+=t[m](n,a,i,l)||"";return u}}function oV(t){return function(e){e.root||(e=e.return)&&t(e)}}function Dx(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lV=function(e,n,a){for(var i=0,l=0;i=l,l=ha(),i===38&&l===12&&(n[a]=1),!Gu(l);)er();return fd(e,Ln)},cV=function(e,n){var a=-1,i=44;do switch(Gu(i)){case 0:i===38&&ha()===12&&(n[a]=1),e[a]+=lV(Ln-1,n,a);break;case 2:e[a]+=mf(i);break;case 4:if(i===44){e[++a]=ha()===58?"&\f":"",n[a]=e[a].length;break}default:e[a]+=Rm(i)}while(i=er());return e},uV=function(e,n){return Ix(cV(Nx(e),n))},OT=new WeakMap,dV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,a=e.parent,i=e.column===a.column&&e.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OT.get(a))&&!i){OT.set(e,!0);for(var l=[],u=uV(n,l),m=a.props,p=0,g=0;p<u.length;p++)for(var v=0;v<m.length;v++,g++)e.props[g]=l[p]?u[p].replace(/&\f/g,m[v]):m[v]+" "+u[p]}}},hV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function kx(t,e){switch(Y5(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+Ff+t+_n+t+t;case 6828:case 4268:return Qe+t+_n+t+t;case 6165:return Qe+t+_n+"flex-"+t+t;case 5187:return Qe+t+Xe(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return Qe+t+_n+"flex-item-"+Xe(t,/flex-|-self/,"")+t;case 4675:return Qe+t+_n+"flex-line-pack"+Xe(t,/align-content|flex-|-self/,"")+t;case 5548:return Qe+t+_n+Xe(t,"shrink","negative")+t;case 5292:return Qe+t+_n+Xe(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Xe(t,"-grow","")+Qe+t+_n+Xe(t,"grow","positive")+t;case 4554:return Qe+Xe(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Xe(Xe(Xe(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Xe(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Xe(Xe(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4095:case 3583:case 4068:case 2532:return Xe(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ea(t)-1-e>6)switch(dn(t,e+1)){case 109:if(dn(t,e+4)!==45)break;case 102:return Xe(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+Ff+(dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~By(t,"stretch")?kx(Xe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dn(t,e+1)!==115)break;case 6444:switch(dn(t,ea(t)-3-(~By(t,"!important")&&10))){case 107:return Xe(t,":",":"+Qe)+t;case 101:return Xe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(dn(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+_n+"$2box$3")+t}break;case 5936:switch(dn(t,e+11)){case 114:return Qe+t+_n+Xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+_n+Xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+_n+Xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qe+t+_n+t+t}return t}var fV=function(e,n,a,i){if(e.length>-1&&!e.return)switch(e.type){case l_:e.return=kx(e.value,e.length);break;case xx:return kl([du(e,{value:Xe(e.value,"@","@"+Qe)})],i);case o_:if(e.length)return X5(e.props,function(l){switch(Q5(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kl([du(e,{props:[Xe(l,/:(read-\w+)/,":"+Ff+"$1")]})],i);case"::placeholder":return kl([du(e,{props:[Xe(l,/:(plac\w+)/,":"+Qe+"input-$1")]}),du(e,{props:[Xe(l,/:(plac\w+)/,":"+Ff+"$1")]}),du(e,{props:[Xe(l,/:(plac\w+)/,_n+"input-$1")]})],i)}return""})}},mV=[fV],pV=function(e){var n=e.key;if(n==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(R){var j=R.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||mV,l={},u,m=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(R){for(var j=R.getAttribute("data-emotion").split(" "),z=1;z<j.length;z++)l[j[z]]=!0;m.push(R)});var p,g=[dV,hV];{var v,E=[sV,oV(function(R){v.insert(R)})],S=iV(g.concat(i,E)),A=function(j){return kl(rV(j),S)};p=function(j,z,$,ne){v=$,A(j?j+"{"+z.styles+"}":z.styles),ne&&(C.inserted[z.name]=!0)}}var C={key:n,sheet:new F5({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return C.sheet.hydrate(m),C},gV=!0;function yV(t,e,n){var a="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(a+=i+" ")}),a}var Ox=function(e,n,a){var i=e.key+"-"+n.name;(a===!1||gV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},vV=function(e,n,a){Ox(e,n,a);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var l=n;do e.insert(n===l?"."+i:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function _V(t){for(var e=0,n,a=0,i=t.length;i>=4;++a,i-=4)n=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(a+2)&255)<<16;case 2:e^=(t.charCodeAt(a+1)&255)<<8;case 1:e^=t.charCodeAt(a)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var EV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bV=/[A-Z]|^ms/g,TV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Px=function(e){return e.charCodeAt(1)===45},PT=function(e){return e!=null&&typeof e!="boolean"},ny=Dx(function(t){return Px(t)?t:t.replace(bV,"-$&").toLowerCase()}),jT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(TV,function(a,i,l){return ta={name:i,styles:l,next:ta},i})}return EV[e]!==1&&!Px(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ku(t,e,n){if(n==null)return"";var a=n;if(a.__emotion_styles!==void 0)return a;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ta={name:i.name,styles:i.styles,next:ta},i.name;var l=n;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)ta={name:u.name,styles:u.styles,next:ta},u=u.next;var m=l.styles+";";return m}return wV(t,e,n)}case"function":{if(t!==void 0){var p=ta,g=n(t);return ta=p,Ku(t,e,g)}break}}var v=n;if(e==null)return v;var E=e[v];return E!==void 0?E:v}function wV(t,e,n){var a="";if(Array.isArray(n))for(var i=0;i<n.length;i++)a+=Ku(t,e,n[i])+";";else for(var l in n){var u=n[l];if(typeof u!="object"){var m=u;e!=null&&e[m]!==void 0?a+=l+"{"+e[m]+"}":PT(m)&&(a+=ny(l)+":"+jT(l,m)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var p=0;p<u.length;p++)PT(u[p])&&(a+=ny(l)+":"+jT(l,u[p])+";");else{var g=Ku(t,e,u);switch(l){case"animation":case"animationName":{a+=ny(l)+":"+g+";";break}default:a+=l+"{"+g+"}"}}}return a}var MT=/label:\s*([^\s;{]+)\s*(;|$)/g,ta;function jx(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,i="";ta=void 0;var l=t[0];if(l==null||l.raw===void 0)a=!1,i+=Ku(n,e,l);else{var u=l;i+=u[0]}for(var m=1;m<t.length;m++)if(i+=Ku(n,e,t[m]),a){var p=l;i+=p[m]}MT.lastIndex=0;for(var g="",v;(v=MT.exec(i))!==null;)g+="-"+v[1];var E=_V(i)+g;return{name:E,styles:i,next:ta}}var SV=function(e){return e()},AV=R1.useInsertionEffect?R1.useInsertionEffect:!1,xV=AV||SV,Mx=P.createContext(typeof HTMLElement<"u"?pV({key:"css"}):null);Mx.Provider;var CV=function(e){return P.forwardRef(function(n,a){var i=P.useContext(Mx);return e(n,i,a)})},RV=P.createContext({}),NV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,IV=Dx(function(t){return NV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),DV=IV,kV=function(e){return e!=="theme"},VT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?DV:kV},LT=function(e,n,a){var i;if(n){var l=n.shouldForwardProp;i=e.__emotion_forwardProp&&l?function(u){return e.__emotion_forwardProp(u)&&l(u)}:l}return typeof i!="function"&&a&&(i=e.__emotion_forwardProp),i},OV=function(e){var n=e.cache,a=e.serialized,i=e.isStringTag;return Ox(n,a,i),xV(function(){return vV(n,a,i)}),null},PV=function t(e,n){var a=e.__emotion_real===e,i=a&&e.__emotion_base||e,l,u;n!==void 0&&(l=n.label,u=n.target);var m=LT(e,n,a),p=m||VT(i),g=!p("as");return function(){var v=arguments,E=a&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&E.push("label:"+l+";"),v[0]==null||v[0].raw===void 0)E.push.apply(E,v);else{var S=v[0];E.push(S[0]);for(var A=v.length,C=1;C<A;C++)E.push(v[C],S[C])}var R=CV(function(j,z,$){var ne=g&&j.as||i,X="",q=[],Y=j;if(j.theme==null){Y={};for(var I in j)Y[I]=j[I];Y.theme=P.useContext(RV)}typeof j.className=="string"?X=yV(z.registered,q,j.className):j.className!=null&&(X=j.className+" ");var O=jx(E.concat(q),z.registered,Y);X+=z.key+"-"+O.name,u!==void 0&&(X+=" "+u);var M=g&&m===void 0?VT(ne):p,U={};for(var k in j)g&&k==="as"||M(k)&&(U[k]=j[k]);return U.className=X,$&&(U.ref=$),P.createElement(P.Fragment,null,P.createElement(OV,{cache:z,serialized:O,isStringTag:typeof ne=="string"}),P.createElement(ne,U))});return R.displayName=l!==void 0?l:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=E,R.__emotion_forwardProp=m,Object.defineProperty(R,"toString",{value:function(){return"."+u}}),R.withComponent=function(j,z){var $=t(j,zy({},n,z,{shouldForwardProp:LT(R,z,!0)}));return $.apply(void 0,E)},R}},jV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fy=PV.bind(null);jV.forEach(function(t){Fy[t]=Fy(t)});function MV(t,e){return Fy(t,e)}function VV(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const UT=[];function lo(t){return UT[0]=t,jx(UT)}const LV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,a)=>n.val-a.val),e.reduce((n,a)=>({...n,[a.key]:a.val}),{})};function UV(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5,...i}=t,l=LV(e),u=Object.keys(l);function m(S){return`@media (min-width:${typeof e[S]=="number"?e[S]:S}${n})`}function p(S){return`@media (max-width:${(typeof e[S]=="number"?e[S]:S)-a/100}${n})`}function g(S,A){const C=u.indexOf(A);return`@media (min-width:${typeof e[S]=="number"?e[S]:S}${n}) and (max-width:${(C!==-1&&typeof e[u[C]]=="number"?e[u[C]]:A)-a/100}${n})`}function v(S){return u.indexOf(S)+1<u.length?g(S,u[u.indexOf(S)+1]):m(S)}function E(S){const A=u.indexOf(S);return A===0?m(u[1]):A===u.length-1?p(u[A]):g(S,u[u.indexOf(S)+1]).replace("@media","@media not all and")}return{keys:u,values:l,up:m,down:p,between:g,only:v,not:E,unit:n,...i}}const zV={borderRadius:4};function Vx(t=8,e=s_({spacing:t})){if(t.mui)return t;const n=(...a)=>(a.length===0?[1]:a).map(l=>{const u=e(l);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function BV(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function Lx(t={},...e){const{breakpoints:n={},palette:a={},spacing:i,shape:l={},...u}=t,m=UV(n),p=Vx(i);let g=Jn({breakpoints:m,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:p,shape:{...zV,...l}},u);return g=J6(g),g.applyStyles=BV,g=e.reduce((v,E)=>Jn(v,E),g),g.unstable_sxConfig={...Cm,...u?.unstable_sxConfig},g.unstable_sx=function(E){return ql({sx:E,theme:this})},g}const qV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ux(t,e,n="Mui"){const a=qV[e];return a?`${n}-${a}`:`${K6.generate(t)}-${e}`}function FV(t,e,n="Mui"){const a={};return e.forEach(i=>{a[i]=Ux(t,i,n)}),a}function zx(t){const{variants:e,...n}=t,a={variants:e,style:lo(n),isProcessed:!0};return a.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=lo(i.style))}),a}const HV=Lx();function ry(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function so(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function $V(t){return t?(e,n)=>n[t]:null}function GV(t,e,n){t.theme=QV(t.theme)?n:t.theme[e]||t.theme}function gf(t,e,n){const a=typeof e=="function"?e(t):e;if(Array.isArray(a))return a.flatMap(i=>gf(t,i,n));if(Array.isArray(a?.variants)){let i;if(a.isProcessed)i=n?so(a.style,n):a.style;else{const{variants:l,...u}=a;i=n?so(lo(u),n):u}return Bx(t,a.variants,[i],n)}return a?.isProcessed?n?so(lo(a.style),n):a.style:n?so(lo(a),n):a}function Bx(t,e,n=[],a=void 0){let i;e:for(let l=0;l<e.length;l+=1){const u=e[l];if(typeof u.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!u.props(i))continue}else for(const m in u.props)if(t[m]!==u.props[m]&&t.ownerState?.[m]!==u.props[m])continue e;typeof u.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(a?so(lo(u.style(i)),a):u.style(i))):n.push(a?so(lo(u.style),a):u.style)}return n}function KV(t={}){const{themeId:e,defaultTheme:n=HV,rootShouldForwardProp:a=ry,slotShouldForwardProp:i=ry}=t;function l(m){GV(m,e,n)}return(m,p={})=>{VV(m,Y=>Y.filter(I=>I!==ql));const{name:g,slot:v,skipVariantsResolver:E,skipSx:S,overridesResolver:A=$V(WV(v)),...C}=p,R=g&&g.startsWith("Mui")||v?"components":"custom",j=E!==void 0?E:v&&v!=="Root"&&v!=="root"||!1,z=S||!1;let $=ry;v==="Root"||v==="root"?$=a:v?$=i:XV(m)&&($=void 0);const ne=MV(m,{shouldForwardProp:$,label:YV(),...C}),X=Y=>{if(Y.__emotion_real===Y)return Y;if(typeof Y=="function")return function(O){return gf(O,Y,O.theme.modularCssLayers?R:void 0)};if(qa(Y)){const I=zx(Y);return function(M){return I.variants?gf(M,I,M.theme.modularCssLayers?R:void 0):M.theme.modularCssLayers?so(I.style,R):I.style}}return Y},q=(...Y)=>{const I=[],O=Y.map(X),M=[];if(I.push(l),g&&A&&M.push(function(N){const ye=N.theme.components?.[g]?.styleOverrides;if(!ye)return null;const J={};for(const W in ye)J[W]=gf(N,ye[W],N.theme.modularCssLayers?"theme":void 0);return A(N,J)}),g&&!j&&M.push(function(N){const ye=N.theme?.components?.[g]?.variants;return ye?Bx(N,ye,[],N.theme.modularCssLayers?"theme":void 0):null}),z||M.push(ql),Array.isArray(O[0])){const b=O.shift(),N=new Array(I.length).fill(""),se=new Array(M.length).fill("");let ye;ye=[...N,...b,...se],ye.raw=[...N,...b.raw,...se],I.unshift(ye)}const U=[...I,...O,...M],k=ne(...U);return m.muiName&&(k.muiName=m.muiName),k};return ne.withConfig&&(q.withConfig=ne.withConfig),q}}function YV(t,e){return void 0}function QV(t){for(const e in t)return!1;return!0}function XV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function WV(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Hy(t,e,n=!1){const a={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=i;if(l==="components"||l==="slots")a[l]={...t[l],...a[l]};else if(l==="componentsProps"||l==="slotProps"){const u=t[l],m=e[l];if(!m)a[l]=u||{};else if(!u)a[l]=m;else{a[l]={...m};for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const g=p;a[l][g]=Hy(u[g],m[g],n)}}}else l==="className"&&n&&e.className?a.className=bx(t?.className,e?.className):l==="style"&&n&&e.style?a.style={...t?.style,...e?.style}:a[l]===void 0&&(a[l]=t[l])}return a}function ZV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function u_(t,e=0,n=1){return ZV(t,e,n)}function JV(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(a=>a+a)),n?`rgb${n.length===4?"a":""}(${n.map((a,i)=>i<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function li(t){if(t.type)return t;if(t.charAt(0)==="#")return li(JV(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(vo(9,t));let a=t.substring(e+1,t.length-1),i;if(n==="color"){if(a=a.split(" "),i=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(vo(10,i))}else a=a.split(",");return a=a.map(l=>parseFloat(l)),{type:n,values:a,colorSpace:i}}const eL=t=>{const e=li(t);return e.values.slice(0,3).map((n,a)=>e.type.includes("hsl")&&a!==0?`${n}%`:n).join(" ")},Eu=(t,e)=>{try{return eL(t)}catch{return t}};function Dm(t){const{type:e,colorSpace:n}=t;let{values:a}=t;return e.includes("rgb")?a=a.map((i,l)=>l<3?parseInt(i,10):i):e.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),e.includes("color")?a=`${n} ${a.join(" ")}`:a=`${a.join(", ")}`,`${e}(${a})`}function qx(t){t=li(t);const{values:e}=t,n=e[0],a=e[1]/100,i=e[2]/100,l=a*Math.min(i,1-i),u=(g,v=(g+n/30)%12)=>i-l*Math.max(Math.min(v-3,9-v,1),-1);let m="rgb";const p=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(m+="a",p.push(e[3])),Dm({type:m,values:p})}function $y(t){t=li(t);let e=t.type==="hsl"||t.type==="hsla"?li(qx(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function tL(t,e){const n=$y(t),a=$y(e);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)}function Fx(t,e){return t=li(t),e=u_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Dm(t)}function eo(t,e,n){try{return Fx(t,e)}catch{return t}}function km(t,e){if(t=li(t),e=u_(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Dm(t)}function nt(t,e,n){try{return km(t,e)}catch{return t}}function Om(t,e){if(t=li(t),e=u_(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Dm(t)}function rt(t,e,n){try{return Om(t,e)}catch{return t}}function nL(t,e=.15){return $y(t)>.5?km(t,e):Om(t,e)}function Gh(t,e,n){try{return nL(t,e)}catch{return t}}const rL=P.createContext(void 0);function aL(t){const{theme:e,name:n,props:a}=t;if(!e||!e.components||!e.components[n])return a;const i=e.components[n];return i.defaultProps?Hy(i.defaultProps,a,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?Hy(i,a,e.components.mergeClassNameAndStyle):a}function sL({props:t,name:e}){const n=P.useContext(rL);return aL({props:t,name:e,theme:{components:n}})}const zT={theme:void 0};function iL(t){let e,n;return function(i){let l=e;return(l===void 0||i.theme!==n)&&(zT.theme=i.theme,l=zx(t(zT)),e=l,n=i.theme),l}}function oL(t=""){function e(...a){if(!a.length)return"";const i=a[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...a.slice(1))})`:`, ${i}`}return(a,...i)=>`var(--${t?`${t}-`:""}${a}${e(...i)})`}const BT=(t,e,n,a=[])=>{let i=t;e.forEach((l,u)=>{u===e.length-1?Array.isArray(i)?i[Number(l)]=n:i&&typeof i=="object"&&(i[l]=n):i&&typeof i=="object"&&(i[l]||(i[l]=a.includes(l)?[]:{}),i=i[l])})},lL=(t,e,n)=>{function a(i,l=[],u=[]){Object.entries(i).forEach(([m,p])=>{(!n||n&&!n([...l,m]))&&p!=null&&(typeof p=="object"&&Object.keys(p).length>0?a(p,[...l,m],Array.isArray(p)?[...u,m]:u):e([...l,m],p,u))})}a(t)},cL=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>t.includes(a))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ay(t,e){const{prefix:n,shouldSkipGeneratingVar:a}=e||{},i={},l={},u={};return lL(t,(m,p,g)=>{if((typeof p=="string"||typeof p=="number")&&(!a||!a(m,p))){const v=`--${n?`${n}-`:""}${m.join("-")}`,E=cL(m,p);Object.assign(i,{[v]:E}),BT(l,m,`var(${v})`,g),BT(u,m,`var(${v}, ${E})`,g)}},m=>m[0]==="vars"),{css:i,vars:l,varsWithDefaults:u}}function uL(t,e={}){const{getSelector:n=z,disableCssColorScheme:a,colorSchemeSelector:i,enableContrastVars:l}=e,{colorSchemes:u={},components:m,defaultColorScheme:p="light",...g}=t,{vars:v,css:E,varsWithDefaults:S}=ay(g,e);let A=S;const C={},{[p]:R,...j}=u;if(Object.entries(j||{}).forEach(([X,q])=>{const{vars:Y,css:I,varsWithDefaults:O}=ay(q,e);A=Jn(A,O),C[X]={css:I,vars:Y}}),R){const{css:X,vars:q,varsWithDefaults:Y}=ay(R,e);A=Jn(A,Y),C[p]={css:X,vars:q}}function z(X,q){let Y=i;if(i==="class"&&(Y=".%s"),i==="data"&&(Y="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(Y=`[${i}="%s"]`),X){if(Y==="media")return t.defaultColorScheme===X?":root":{[`@media (prefers-color-scheme: ${u[X]?.palette?.mode||X})`]:{":root":q}};if(Y)return t.defaultColorScheme===X?`:root, ${Y.replace("%s",String(X))}`:Y.replace("%s",String(X))}return":root"}return{vars:A,generateThemeVars:()=>{let X={...v};return Object.entries(C).forEach(([,{vars:q}])=>{X=Jn(X,q)}),X},generateStyleSheets:()=>{const X=[],q=t.defaultColorScheme||"light";function Y(M,U){Object.keys(U).length&&X.push(typeof M=="string"?{[M]:{...U}}:M)}Y(n(void 0,{...E}),E);const{[q]:I,...O}=C;if(I){const{css:M}=I,U=u[q]?.palette?.mode,k=!a&&U?{colorScheme:U,...M}:{...M};Y(n(q,{...k}),k)}return Object.entries(O).forEach(([M,{css:U}])=>{const k=u[M]?.palette?.mode,b=!a&&k?{colorScheme:k,...U}:{...U};Y(n(M,{...b}),b)}),l&&X.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),X}}}function dL(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Yu={black:"#000",white:"#fff"},hL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ml={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},hu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},pl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},gl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},yl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Hx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yu.white,default:Yu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const $x=Hx();function Gx(){return{text:{primary:Yu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Gy=Gx();function qT(t,e,n,a){const i=a.light||a,l=a.dark||a*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Om(t.main,i):e==="dark"&&(t.dark=km(t.main,l)))}function FT(t,e,n,a,i){const l=i.light||i,u=i.dark||i*1.5;e[n]||(e.hasOwnProperty(a)?e[n]=e[a]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(l*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function fL(t="light"){return t==="dark"?{main:pl[200],light:pl[50],dark:pl[400]}:{main:pl[700],light:pl[400],dark:pl[800]}}function mL(t="light"){return t==="dark"?{main:fl[200],light:fl[50],dark:fl[400]}:{main:fl[500],light:fl[300],dark:fl[700]}}function pL(t="light"){return t==="dark"?{main:ml[500],light:ml[300],dark:ml[700]}:{main:ml[700],light:ml[400],dark:ml[800]}}function gL(t="light"){return t==="dark"?{main:gl[400],light:gl[300],dark:gl[700]}:{main:gl[700],light:gl[500],dark:gl[900]}}function yL(t="light"){return t==="dark"?{main:yl[400],light:yl[300],dark:yl[700]}:{main:yl[800],light:yl[500],dark:yl[900]}}function vL(t="light"){return t==="dark"?{main:hu[400],light:hu[300],dark:hu[700]}:{main:"#ed6c02",light:hu[500],dark:hu[900]}}function _L(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function d_(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2,colorSpace:i,...l}=t,u=t.primary||fL(e),m=t.secondary||mL(e),p=t.error||pL(e),g=t.info||gL(e),v=t.success||yL(e),E=t.warning||vL(e);function S(j){return i?_L(j):tL(j,Gy.text.primary)>=n?Gy.text.primary:$x.text.primary}const A=({color:j,name:z,mainShade:$=500,lightShade:ne=300,darkShade:X=700})=>{if(j={...j},!j.main&&j[$]&&(j.main=j[$]),!j.hasOwnProperty("main"))throw new Error(vo(11,z?` (${z})`:"",$));if(typeof j.main!="string")throw new Error(vo(12,z?` (${z})`:"",JSON.stringify(j.main)));return i?(FT(i,j,"light",ne,a),FT(i,j,"dark",X,a)):(qT(j,"light",ne,a),qT(j,"dark",X,a)),j.contrastText||(j.contrastText=S(j.main)),j};let C;return e==="light"?C=Hx():e==="dark"&&(C=Gx()),Jn({common:{...Yu},mode:e,primary:A({color:u,name:"primary"}),secondary:A({color:m,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:p,name:"error"}),warning:A({color:E,name:"warning"}),info:A({color:g,name:"info"}),success:A({color:v,name:"success"}),grey:hL,contrastThreshold:n,getContrastText:S,augmentColor:A,tonalOffset:a,...C},l)}function EL(t){const e={};return Object.entries(t).forEach(a=>{const[i,l]=a;typeof l=="object"&&(e[i]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),e}function bL(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function TL(t){return Math.round(t*1e5)/1e5}const HT={textTransform:"uppercase"},$T='"Roboto", "Helvetica", "Arial", sans-serif';function wL(t,e){const{fontFamily:n=$T,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:m=700,htmlFontSize:p=16,allVariants:g,pxToRem:v,...E}=typeof e=="function"?e(t):e,S=a/14,A=v||(j=>`${j/p*S}rem`),C=(j,z,$,ne,X)=>({fontFamily:n,fontWeight:j,fontSize:A(z),lineHeight:$,...n===$T?{letterSpacing:`${TL(ne/z)}em`}:{},...X,...g}),R={h1:C(i,96,1.167,-1.5),h2:C(i,60,1.2,-.5),h3:C(l,48,1.167,0),h4:C(l,34,1.235,.25),h5:C(l,24,1.334,0),h6:C(u,20,1.6,.15),subtitle1:C(l,16,1.75,.15),subtitle2:C(u,14,1.57,.1),body1:C(l,16,1.5,.15),body2:C(l,14,1.43,.15),button:C(u,14,1.75,.4,HT),caption:C(l,12,1.66,.4),overline:C(l,12,2.66,1,HT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jn({htmlFontSize:p,pxToRem:A,fontFamily:n,fontSize:a,fontWeightLight:i,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:m,...R},E,{clone:!1})}const SL=.2,AL=.14,xL=.12;function yt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${SL})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${AL})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${xL})`].join(",")}const CL=["none",yt(0,2,1,-1,0,1,1,0,0,1,3,0),yt(0,3,1,-2,0,2,2,0,0,1,5,0),yt(0,3,3,-2,0,3,4,0,0,1,8,0),yt(0,2,4,-1,0,4,5,0,0,1,10,0),yt(0,3,5,-1,0,5,8,0,0,1,14,0),yt(0,3,5,-1,0,6,10,0,0,1,18,0),yt(0,4,5,-2,0,7,10,1,0,2,16,1),yt(0,5,5,-3,0,8,10,1,0,3,14,2),yt(0,5,6,-3,0,9,12,1,0,3,16,2),yt(0,6,6,-3,0,10,14,1,0,4,18,3),yt(0,6,7,-4,0,11,15,1,0,4,20,3),yt(0,7,8,-4,0,12,17,2,0,5,22,4),yt(0,7,8,-4,0,13,19,2,0,5,24,4),yt(0,7,9,-4,0,14,21,2,0,5,26,4),yt(0,8,9,-5,0,15,22,2,0,6,28,5),yt(0,8,10,-5,0,16,24,2,0,6,30,5),yt(0,8,11,-5,0,17,26,2,0,6,32,5),yt(0,9,11,-5,0,18,28,2,0,7,34,6),yt(0,9,12,-6,0,19,29,2,0,7,36,6),yt(0,10,13,-6,0,20,31,3,0,8,38,7),yt(0,10,13,-6,0,21,33,3,0,8,40,7),yt(0,10,14,-6,0,22,35,3,0,8,42,7),yt(0,11,14,-7,0,23,36,3,0,9,44,8),yt(0,11,15,-7,0,24,38,3,0,9,46,8)],RL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},NL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GT(t){return`${Math.round(t)}ms`}function IL(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function DL(t){const e={...RL,...t.easing},n={...NL,...t.duration};return{getAutoHeightDuration:IL,create:(i=["all"],l={})=>{const{duration:u=n.standard,easing:m=e.easeInOut,delay:p=0,...g}=l;return(Array.isArray(i)?i:[i]).map(v=>`${v} ${typeof u=="string"?u:GT(u)} ${m} ${typeof p=="string"?p:GT(p)}`).join(",")},...t,easing:e,duration:n}}const kL={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function OL(t){return qa(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Kx(t={}){const e={...t};function n(a){const i=Object.entries(a);for(let l=0;l<i.length;l++){const[u,m]=i[l];!OL(m)||u.startsWith("unstable_")?delete a[u]:qa(m)&&(a[u]={...m},n(a[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function KT(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const PL=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let a=0;a<e.length;a+=1)n+=+e[a];return n};function jL(t){Object.assign(t,{alpha(e,n){const a=this||t;return a.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:a.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Fx(e,PL(n))},lighten(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #fff ${KT(n)})`:Om(e,n)},darken(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #000 ${KT(n)})`:km(e,n)}})}function Ky(t={},...e){const{breakpoints:n,mixins:a={},spacing:i,palette:l={},transitions:u={},typography:m={},shape:p,colorSpace:g,...v}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(vo(20));const E=d_({...l,colorSpace:g}),S=Lx(t);let A=Jn(S,{mixins:bL(S.breakpoints,a),palette:E,shadows:CL.slice(),typography:wL(E,m),transitions:DL(u),zIndex:{...kL}});return A=Jn(A,v),A=e.reduce((C,R)=>Jn(C,R),A),A.unstable_sxConfig={...Cm,...v?.unstable_sxConfig},A.unstable_sx=function(R){return ql({sx:R,theme:this})},A.toRuntimeSource=Kx,jL(A),A}function ML(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const VL=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=ML(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Yx(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Qx(t){return t==="dark"?VL:[]}function LL(t){const{palette:e={mode:"light"},opacity:n,overlays:a,colorSpace:i,...l}=t,u=d_({...e,colorSpace:i});return{palette:u,opacity:{...Yx(u.mode),...n},overlays:a||Qx(u.mode),...l}}function UL(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const zL=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],BL=t=>(e,n)=>{const a=t.rootSelector||":root",i=t.colorSchemeSelector;let l=i;if(i==="class"&&(l=".%s"),i==="data"&&(l="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(l=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return zL(t.cssVarPrefix).forEach(m=>{u[m]=n[m],delete n[m]}),l==="media"?{[a]:n,"@media (prefers-color-scheme: dark)":{[a]:u}}:l?{[l.replace("%s",e)]:u,[`${a}, ${l.replace("%s",e)}`]:n}:{[a]:{...n,...u}}}if(l&&l!=="media")return`${a}, ${l.replace("%s",String(e))}`}else if(e){if(l==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[a]:n}};if(l)return l.replace("%s",String(e))}return a};function qL(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ae(t,e,n){!t[e]&&n&&(t[e]=n)}function bu(t){return typeof t!="string"||!t.startsWith("hsl")?t:qx(t)}function Ba(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Eu(bu(t[e])))}function FL(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Wr=t=>{try{return t()}catch{}},HL=(t="mui")=>oL(t);function sy(t,e,n,a,i){if(!n)return;n=n===!0?{}:n;const l=i==="dark"?"dark":"light";if(!a){e[i]=LL({...n,palette:{mode:l,...n?.palette},colorSpace:t});return}const{palette:u,...m}=Ky({...a,palette:{mode:l,...n?.palette},colorSpace:t});return e[i]={...n,palette:u,opacity:{...Yx(l),...n?.opacity},overlays:n?.overlays||Qx(l)},m}function $L(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:a,disableCssColorScheme:i=!1,cssVarPrefix:l="mui",nativeColor:u=!1,shouldSkipGeneratingVar:m=UL,colorSchemeSelector:p=n.light&&n.dark?"media":void 0,rootSelector:g=":root",...v}=t,E=Object.keys(n)[0],S=a||(n.light&&E!=="light"?"light":E),A=HL(l),{[S]:C,light:R,dark:j,...z}=n,$={...z};let ne=C;if((S==="dark"&&!("dark"in n)||S==="light"&&!("light"in n))&&(ne=!0),!ne)throw new Error(vo(21,S));let X;u&&(X="oklch");const q=sy(X,$,ne,v,S);R&&!$.light&&sy(X,$,R,void 0,"light"),j&&!$.dark&&sy(X,$,j,void 0,"dark");let Y={defaultColorScheme:S,...q,cssVarPrefix:l,colorSchemeSelector:p,rootSelector:g,getCssVar:A,colorSchemes:$,font:{...EL(q.typography),...q.font},spacing:FL(v.spacing)};Object.keys(Y.colorSchemes).forEach(k=>{const b=Y.colorSchemes[k].palette,N=ye=>{const J=ye.split("-"),W=J[1],F=J[2];return A(ye,b[W][F])};b.mode==="light"&&(ae(b.common,"background","#fff"),ae(b.common,"onBackground","#000")),b.mode==="dark"&&(ae(b.common,"background","#000"),ae(b.common,"onBackground","#fff"));function se(ye,J,W){if(X){let F;return ye===eo&&(F=`transparent ${((1-W)*100).toFixed(0)}%`),ye===nt&&(F=`#000 ${(W*100).toFixed(0)}%`),ye===rt&&(F=`#fff ${(W*100).toFixed(0)}%`),`color-mix(in ${X}, ${J}, ${F})`}return ye(J,W)}if(qL(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ae(b.Alert,"errorColor",se(nt,b.error.light,.6)),ae(b.Alert,"infoColor",se(nt,b.info.light,.6)),ae(b.Alert,"successColor",se(nt,b.success.light,.6)),ae(b.Alert,"warningColor",se(nt,b.warning.light,.6)),ae(b.Alert,"errorFilledBg",N("palette-error-main")),ae(b.Alert,"infoFilledBg",N("palette-info-main")),ae(b.Alert,"successFilledBg",N("palette-success-main")),ae(b.Alert,"warningFilledBg",N("palette-warning-main")),ae(b.Alert,"errorFilledColor",Wr(()=>b.getContrastText(b.error.main))),ae(b.Alert,"infoFilledColor",Wr(()=>b.getContrastText(b.info.main))),ae(b.Alert,"successFilledColor",Wr(()=>b.getContrastText(b.success.main))),ae(b.Alert,"warningFilledColor",Wr(()=>b.getContrastText(b.warning.main))),ae(b.Alert,"errorStandardBg",se(rt,b.error.light,.9)),ae(b.Alert,"infoStandardBg",se(rt,b.info.light,.9)),ae(b.Alert,"successStandardBg",se(rt,b.success.light,.9)),ae(b.Alert,"warningStandardBg",se(rt,b.warning.light,.9)),ae(b.Alert,"errorIconColor",N("palette-error-main")),ae(b.Alert,"infoIconColor",N("palette-info-main")),ae(b.Alert,"successIconColor",N("palette-success-main")),ae(b.Alert,"warningIconColor",N("palette-warning-main")),ae(b.AppBar,"defaultBg",N("palette-grey-100")),ae(b.Avatar,"defaultBg",N("palette-grey-400")),ae(b.Button,"inheritContainedBg",N("palette-grey-300")),ae(b.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ae(b.Chip,"defaultBorder",N("palette-grey-400")),ae(b.Chip,"defaultAvatarColor",N("palette-grey-700")),ae(b.Chip,"defaultIconColor",N("palette-grey-700")),ae(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ae(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ae(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ae(b.LinearProgress,"primaryBg",se(rt,b.primary.main,.62)),ae(b.LinearProgress,"secondaryBg",se(rt,b.secondary.main,.62)),ae(b.LinearProgress,"errorBg",se(rt,b.error.main,.62)),ae(b.LinearProgress,"infoBg",se(rt,b.info.main,.62)),ae(b.LinearProgress,"successBg",se(rt,b.success.main,.62)),ae(b.LinearProgress,"warningBg",se(rt,b.warning.main,.62)),ae(b.Skeleton,"bg",X?se(eo,b.text.primary,.11):`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ae(b.Slider,"primaryTrack",se(rt,b.primary.main,.62)),ae(b.Slider,"secondaryTrack",se(rt,b.secondary.main,.62)),ae(b.Slider,"errorTrack",se(rt,b.error.main,.62)),ae(b.Slider,"infoTrack",se(rt,b.info.main,.62)),ae(b.Slider,"successTrack",se(rt,b.success.main,.62)),ae(b.Slider,"warningTrack",se(rt,b.warning.main,.62));const ye=X?se(nt,b.background.default,.6825):Gh(b.background.default,.8);ae(b.SnackbarContent,"bg",ye),ae(b.SnackbarContent,"color",Wr(()=>X?Gy.text.primary:b.getContrastText(ye))),ae(b.SpeedDialAction,"fabHoverBg",Gh(b.background.paper,.15)),ae(b.StepConnector,"border",N("palette-grey-400")),ae(b.StepContent,"border",N("palette-grey-400")),ae(b.Switch,"defaultColor",N("palette-common-white")),ae(b.Switch,"defaultDisabledColor",N("palette-grey-100")),ae(b.Switch,"primaryDisabledColor",se(rt,b.primary.main,.62)),ae(b.Switch,"secondaryDisabledColor",se(rt,b.secondary.main,.62)),ae(b.Switch,"errorDisabledColor",se(rt,b.error.main,.62)),ae(b.Switch,"infoDisabledColor",se(rt,b.info.main,.62)),ae(b.Switch,"successDisabledColor",se(rt,b.success.main,.62)),ae(b.Switch,"warningDisabledColor",se(rt,b.warning.main,.62)),ae(b.TableCell,"border",se(rt,se(eo,b.divider,1),.88)),ae(b.Tooltip,"bg",se(eo,b.grey[700],.92))}if(b.mode==="dark"){ae(b.Alert,"errorColor",se(rt,b.error.light,.6)),ae(b.Alert,"infoColor",se(rt,b.info.light,.6)),ae(b.Alert,"successColor",se(rt,b.success.light,.6)),ae(b.Alert,"warningColor",se(rt,b.warning.light,.6)),ae(b.Alert,"errorFilledBg",N("palette-error-dark")),ae(b.Alert,"infoFilledBg",N("palette-info-dark")),ae(b.Alert,"successFilledBg",N("palette-success-dark")),ae(b.Alert,"warningFilledBg",N("palette-warning-dark")),ae(b.Alert,"errorFilledColor",Wr(()=>b.getContrastText(b.error.dark))),ae(b.Alert,"infoFilledColor",Wr(()=>b.getContrastText(b.info.dark))),ae(b.Alert,"successFilledColor",Wr(()=>b.getContrastText(b.success.dark))),ae(b.Alert,"warningFilledColor",Wr(()=>b.getContrastText(b.warning.dark))),ae(b.Alert,"errorStandardBg",se(nt,b.error.light,.9)),ae(b.Alert,"infoStandardBg",se(nt,b.info.light,.9)),ae(b.Alert,"successStandardBg",se(nt,b.success.light,.9)),ae(b.Alert,"warningStandardBg",se(nt,b.warning.light,.9)),ae(b.Alert,"errorIconColor",N("palette-error-main")),ae(b.Alert,"infoIconColor",N("palette-info-main")),ae(b.Alert,"successIconColor",N("palette-success-main")),ae(b.Alert,"warningIconColor",N("palette-warning-main")),ae(b.AppBar,"defaultBg",N("palette-grey-900")),ae(b.AppBar,"darkBg",N("palette-background-paper")),ae(b.AppBar,"darkColor",N("palette-text-primary")),ae(b.Avatar,"defaultBg",N("palette-grey-600")),ae(b.Button,"inheritContainedBg",N("palette-grey-800")),ae(b.Button,"inheritContainedHoverBg",N("palette-grey-700")),ae(b.Chip,"defaultBorder",N("palette-grey-700")),ae(b.Chip,"defaultAvatarColor",N("palette-grey-300")),ae(b.Chip,"defaultIconColor",N("palette-grey-300")),ae(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ae(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ae(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ae(b.LinearProgress,"primaryBg",se(nt,b.primary.main,.5)),ae(b.LinearProgress,"secondaryBg",se(nt,b.secondary.main,.5)),ae(b.LinearProgress,"errorBg",se(nt,b.error.main,.5)),ae(b.LinearProgress,"infoBg",se(nt,b.info.main,.5)),ae(b.LinearProgress,"successBg",se(nt,b.success.main,.5)),ae(b.LinearProgress,"warningBg",se(nt,b.warning.main,.5)),ae(b.Skeleton,"bg",X?se(eo,b.text.primary,.13):`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ae(b.Slider,"primaryTrack",se(nt,b.primary.main,.5)),ae(b.Slider,"secondaryTrack",se(nt,b.secondary.main,.5)),ae(b.Slider,"errorTrack",se(nt,b.error.main,.5)),ae(b.Slider,"infoTrack",se(nt,b.info.main,.5)),ae(b.Slider,"successTrack",se(nt,b.success.main,.5)),ae(b.Slider,"warningTrack",se(nt,b.warning.main,.5));const ye=X?se(rt,b.background.default,.985):Gh(b.background.default,.98);ae(b.SnackbarContent,"bg",ye),ae(b.SnackbarContent,"color",Wr(()=>X?$x.text.primary:b.getContrastText(ye))),ae(b.SpeedDialAction,"fabHoverBg",Gh(b.background.paper,.15)),ae(b.StepConnector,"border",N("palette-grey-600")),ae(b.StepContent,"border",N("palette-grey-600")),ae(b.Switch,"defaultColor",N("palette-grey-300")),ae(b.Switch,"defaultDisabledColor",N("palette-grey-600")),ae(b.Switch,"primaryDisabledColor",se(nt,b.primary.main,.55)),ae(b.Switch,"secondaryDisabledColor",se(nt,b.secondary.main,.55)),ae(b.Switch,"errorDisabledColor",se(nt,b.error.main,.55)),ae(b.Switch,"infoDisabledColor",se(nt,b.info.main,.55)),ae(b.Switch,"successDisabledColor",se(nt,b.success.main,.55)),ae(b.Switch,"warningDisabledColor",se(nt,b.warning.main,.55)),ae(b.TableCell,"border",se(nt,se(eo,b.divider,1),.68)),ae(b.Tooltip,"bg",se(eo,b.grey[700],.92))}Ba(b.background,"default"),Ba(b.background,"paper"),Ba(b.common,"background"),Ba(b.common,"onBackground"),Ba(b,"divider"),Object.keys(b).forEach(ye=>{const J=b[ye];ye!=="tonalOffset"&&J&&typeof J=="object"&&(J.main&&ae(b[ye],"mainChannel",Eu(bu(J.main))),J.light&&ae(b[ye],"lightChannel",Eu(bu(J.light))),J.dark&&ae(b[ye],"darkChannel",Eu(bu(J.dark))),J.contrastText&&ae(b[ye],"contrastTextChannel",Eu(bu(J.contrastText))),ye==="text"&&(Ba(b[ye],"primary"),Ba(b[ye],"secondary")),ye==="action"&&(J.active&&Ba(b[ye],"active"),J.selected&&Ba(b[ye],"selected")))})}),Y=e.reduce((k,b)=>Jn(k,b),Y);const I={prefix:l,disableCssColorScheme:i,shouldSkipGeneratingVar:m,getSelector:BL(Y),enableContrastVars:u},{vars:O,generateThemeVars:M,generateStyleSheets:U}=uL(Y,I);return Y.vars=O,Object.entries(Y.colorSchemes[Y.defaultColorScheme]).forEach(([k,b])=>{Y[k]=b}),Y.generateThemeVars=M,Y.generateStyleSheets=U,Y.generateSpacing=function(){return Vx(v.spacing,s_(this))},Y.getColorSchemeSelector=dL(p),Y.spacing=Y.generateSpacing(),Y.shouldSkipGeneratingVar=m,Y.unstable_sxConfig={...Cm,...v?.unstable_sxConfig},Y.unstable_sx=function(b){return ql({sx:b,theme:this})},Y.toRuntimeSource=Kx,Y}function YT(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:d_({...n===!0?{}:n.palette,mode:e})})}function GL(t={},...e){const{palette:n,cssVariables:a=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:l=n?.mode,...u}=t,m=l||"light",p=i?.[m],g={...i,...n?{[m]:{...typeof p!="boolean"&&p,palette:n}}:void 0};if(a===!1){if(!("colorSchemes"in t))return Ky(t,...e);let v=n;"palette"in t||g[m]&&(g[m]!==!0?v=g[m].palette:m==="dark"&&(v={mode:"dark"}));const E=Ky({...t,palette:v},...e);return E.defaultColorScheme=m,E.colorSchemes=g,E.palette.mode==="light"&&(E.colorSchemes.light={...g.light!==!0&&g.light,palette:E.palette},YT(E,"dark",g.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...g.dark!==!0&&g.dark,palette:E.palette},YT(E,"light",g.light)),E}return!n&&!("light"in g)&&m==="light"&&(g.light=!0),$L({...u,colorSchemes:g,defaultColorScheme:m,...typeof a!="boolean"&&a},...e)}const KL=GL(),YL="$$material";function QL(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const XL=t=>QL(t)&&t!=="classes",WL=KV({themeId:YL,defaultTheme:KL,rootShouldForwardProp:XL}),ZL=iL;function JL(t){return sL(t)}function e9(t){return Ux("MuiSvgIcon",t)}FV("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const t9=t=>{const{color:e,fontSize:n,classes:a}=t,i={root:["root",e!=="inherit"&&`color${Bl(e)}`,`fontSize${Bl(n)}`]};return Y6(i,e9,a)},n9=WL("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Bl(n.color)}`],e[`fontSize${Bl(n.fontSize)}`]]}})(ZL(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Yy=P.forwardRef(function(e,n){const a=JL({props:e,name:"MuiSvgIcon"}),{children:i,className:l,color:u="inherit",component:m="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:v=!1,titleAccess:E,viewBox:S="0 0 24 24",...A}=a,C=P.isValidElement(i)&&i.type==="svg",R={...a,color:u,component:m,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:S,hasSvgAsChild:C},j={};v||(j.viewBox=S);const z=t9(R);return f.jsxs(n9,{as:m,className:bx(z.root,l),focusable:"false",color:g,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:n,...j,...A,...C&&i.props,ownerState:R,children:[C?i.props.children:i,E?f.jsx("title",{children:E}):null]})});Yy.muiName="SvgIcon";function r9(t,e){function n(a,i){return f.jsx(Yy,{"data-testid":void 0,ref:i,...a,children:t})}return n.muiName=Yy.muiName,P.memo(P.forwardRef(n))}const a9=r9(f.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),Hl=({variant:t="primary",size:e="md",isLoading:n=!1,children:a,className:i="",disabled:l,...u})=>{const p=`btn--${t}`,g=`btn--${e}`,v=`btn ${p} ${g} ${i}`.trim();return f.jsxs("button",{className:v,disabled:l||n,...u,children:[n&&f.jsxs("svg",{className:"btn__spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",opacity:"0.25"}),f.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",opacity:"0.75"})]}),a]})},QT=()=>{const[t,e]=P.useState({email:"",password:""}),[n,a]=P.useState(!1),{login:i,error:l,loading:u,clearError:m}=tr(),p=Xu(),g=E=>{const{name:S,value:A}=E.target;e(C=>({...C,[S]:A})),l&&m()},v=async E=>{if(E.preventDefault(),!t.email||!t.password){alert("Por favor, preencha todos os campos");return}try{await i(t),p(Fa.dashboard)}catch(S){console.error("Erro ao fazer login:",S)}};return f.jsx("div",{className:"login-container",children:f.jsx("div",{className:"login-form-container",children:f.jsxs("div",{className:"login-form-card",children:[f.jsxs("div",{className:"login-header",children:[f.jsx("h2",{className:"login-title",children:"Entrar"}),f.jsx("p",{className:"login-subtitle",children:"Preencha os campos abaixo para entrar em sua conta"})]}),f.jsxs("form",{className:"login-form",onSubmit:v,children:[l&&f.jsxs("div",{className:"login-error",role:"alert",children:[f.jsx(a9,{className:"login-error-icon"}),f.jsx("span",{children:l})]}),f.jsxs("div",{className:"login-field",children:[f.jsx("label",{className:"login-label",htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:g,placeholder:"Digite seu email",className:"login-input"})]}),f.jsxs("div",{className:"login-field",children:[f.jsx("label",{className:"login-label",htmlFor:"password",children:"Senha"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t.password,onChange:g,placeholder:"Digite sua senha",className:"login-input"})]}),f.jsxs("div",{className:"login-options",children:[f.jsxs("div",{className:"login-checkbox-container",children:[f.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:n,onChange:E=>a(E.target.checked),className:"login-checkbox"}),f.jsx("label",{className:"login-checkbox-label",htmlFor:"rememberMe",children:"Lembrar-me"})]}),f.jsx("a",{href:"#",className:"login-link",children:"Esqueceu sua senha?"})]}),f.jsx("div",{className:"login-buttons",children:f.jsx(Hl,{type:"submit",size:"lg",isLoading:u,disabled:!t.email||!t.password,className:"login-button",children:u?"Entrando...":"Entrar"})}),f.jsx("div",{className:"login-footer",children:f.jsxs("span",{className:"login-footer-text",children:["No tem uma conta?"," ",f.jsx(Gf,{to:Fa.register,className:"login-footer-link",children:"Cadastrar"})]})})]})]})})})},s9=()=>{const[t,e]=P.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",role:"user"}),[n,a]=P.useState(!1),{register:i,error:l,loading:u,clearError:m}=tr(),p=Xu(),g=S=>{const{name:A,value:C}=S.target;e(R=>({...R,[A]:C})),l&&m()},v=()=>!t.name||!t.email||!t.password||!t.confirmPassword?"Todos os campos so obrigatrios":t.password.length<6?"A senha deve ter pelo menos 6 caracteres":t.password!==t.confirmPassword?"As senhas no coincidem":n?null:"Voc deve aceitar os termos de uso",E=async S=>{S.preventDefault();const A=v();if(A){alert(A);return}try{await i(t),p(Fa.dashboard)}catch(C){console.error("Erro ao registrar usurio:",C)}};return f.jsx("div",{className:"register-container",children:f.jsx("div",{className:"register-form-container",children:f.jsxs("div",{className:"register-form-card",children:[f.jsxs("div",{className:"register-header",children:[f.jsx("h2",{className:"register-title",children:"Criar Conta"}),f.jsx("p",{className:"register-subtitle",children:"Preencha os campos abaixo para criar sua conta"})]}),f.jsxs("form",{className:"register-form",onSubmit:E,children:[l&&f.jsx("div",{className:"register-error",children:l}),f.jsxs("div",{className:"register-field",children:[f.jsx("label",{className:"register-label",htmlFor:"name",children:"Nome"}),f.jsx("input",{required:!0,autoComplete:"name",className:"register-input",type:"text",id:"name",name:"name",value:t.name,onChange:g,placeholder:"Digite seu nome"})]}),f.jsxs("div",{className:"register-field",children:[f.jsx("label",{className:"register-label",htmlFor:"email",children:"Email"}),f.jsx("input",{required:!0,autoComplete:"email",className:"register-input",type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Digite seu email"})]}),f.jsxs("div",{className:"register-field",children:[f.jsx("label",{htmlFor:"phone",className:"register-label",children:"Telefone (Opcional)"}),f.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:t.phone,onChange:g,className:"register-input",placeholder:"Digite seu telefone"})]}),f.jsxs("div",{className:"register-field",children:[f.jsx("label",{htmlFor:"password",className:"register-label",children:"Senha"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:g,className:"register-input",placeholder:"Digite sua senha (mn. 6 caracteres)"})]}),f.jsxs("div",{className:"register-field",children:[f.jsx("label",{htmlFor:"confirmPassword",className:"register-label",children:"Confirmar senha"}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:g,className:"register-input",placeholder:"Confirme sua senha"})]}),f.jsxs("div",{className:"register-checkbox-container",children:[f.jsx("input",{id:"accept-terms",name:"accept-terms",type:"checkbox",checked:n,onChange:S=>a(S.target.checked),className:"register-checkbox"}),f.jsxs("label",{htmlFor:"accept-terms",className:"register-checkbox-label",children:["Concordo com os"," ",f.jsx("a",{href:"#",className:"register-terms-link",children:"Termos de Uso"})," ","e"," ",f.jsx("a",{href:"#",className:"register-terms-link",children:"Poltica de Privacidade"})]})]}),f.jsx("div",{className:"register-buttons",children:f.jsx(Hl,{type:"submit",variant:"primary",size:"lg",isLoading:u,disabled:!t.name||!t.email||!t.password||!t.confirmPassword||!n,className:"register-button",children:u?"Cadastrando...":"Cadastrar"})}),f.jsx("div",{className:"register-footer",children:f.jsxs("p",{className:"register-footer-text",children:["J tem uma conta?"," ",f.jsx(Gf,{to:Fa.login,className:"register-footer-link",children:"Entrar"})]})})]})]})})})},XT="company_info",yf={async getCompanyInfo(){try{const t=We(we,"company",XT),e=await Nl(t);return e.exists()?{id:e.id,...e.data()}:null}catch(t){throw console.error("Erro ao buscar informaes da empresa:",t),t}},async saveCompanyInfo(t){try{const e=We(we,"company",XT);await jy(e,{...t,updatedAt:vt()},{merge:!0})}catch(e){throw console.error("Erro ao salvar informaes da empresa:",e),e}},async uploadLogo(t){try{const e=TM(RM,`company/logo_${Date.now()}_${t.name}`);return await EM(e,t),await bM(e)}catch(e){throw console.error("Erro ao fazer upload da logo:",e),e}}},i9=({children:t,activeTab:e="dashboard",onTabChange:n})=>{const[a,i]=Su.useState(!1),[l,u]=Su.useState(null),m=Xu();Su.useEffect(()=>{g();const A=()=>{g()};return window.addEventListener("companyInfoUpdated",A),()=>{window.removeEventListener("companyInfoUpdated",A)}},[]);const p=async()=>{try{await df.logOut(),m("/login")}catch(A){console.error("Erro ao deslogar:",A)}},g=async()=>{try{const A=await yf.getCompanyInfo();u(A)}catch(A){console.error("Erro ao carregar informaes da empresa:",A)}},v=()=>{i(!a)},E=[{icon:wT,label:"Dashboard",key:"dashboard"},{icon:U6,label:"Cadastros",key:"cadastros"},{icon:F3,label:"Faces",key:"faccoes"},{icon:$3,label:"Etapas",key:"etapas"},{icon:zf,label:"Produto",key:"produto"},{icon:mx,label:"Ordem de Produes",key:"ordemProducoes"},{icon:M3,label:"Gesto de Produes",key:"gestaoProducoes"},{icon:px,label:"Financeiro",key:"financeiro"}],S=A=>{n&&n(A)};return f.jsxs("div",{className:"layout-container",children:[f.jsxs("aside",{className:`sidebar ${a?"sidebar-open":""}`,children:[f.jsxs("div",{className:"sidebar-header",children:[f.jsxs("div",{className:"sidebar-logo",children:[l?.logoUrl?f.jsx("img",{src:l.logoUrl,alt:l.nome||"Logo",className:"company-logo-img"}):f.jsx(wT,{className:"logo-icon"}),f.jsxs("div",{className:"company-info",children:[f.jsx("span",{className:"logo-text",children:l?.nome||"Nome da empresa"}),l?.endereco&&f.jsx("span",{className:"company-address",children:l.endereco})]})]}),f.jsx("button",{className:"sidebar-close-btn",onClick:v,children:f.jsx(ya,{size:20})})]}),f.jsx("nav",{className:"sidebar-nav",children:f.jsx("ul",{className:"nav-list",children:E.map((A,C)=>f.jsx("li",{className:"nav-item",children:f.jsxs("button",{onClick:()=>S(A.key),className:`nav-link ${e===A.key?"nav-link-active":""}`,children:[f.jsx(A.icon,{size:20,className:"nav-icon"}),f.jsx("span",{className:"nav-label",children:A.label})]})},C))})}),f.jsx("div",{className:"sidebar-footer",children:f.jsxs("button",{className:"logout-btn",onClick:p,children:[f.jsx(gx,{size:20}),f.jsx("span",{children:"Sair"})]})})]}),f.jsxs("div",{className:"main-content",children:[f.jsxs("header",{className:"header",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("button",{className:"menu-toggle",onClick:v,children:f.jsx(e6,{size:24})}),f.jsx("h1",{className:"header-title",children:"Sistema de Gesto de Produo Txtil"})]}),f.jsx("div",{className:"header-right"})]}),f.jsx("main",{className:"page-content",children:t})]}),a&&f.jsx("div",{className:"sidebar-overlay",onClick:v})]})},Kh={async createTask(t,e){try{const n=new Date;return{id:(await ga(mt(we,"tasks"),{...e,completed:!1,userId:t,createdAt:Ge.fromDate(n),updatedAt:Ge.fromDate(n)})).id,...e,completed:!1,userId:t,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erro ao criar tarefa:",n),new Error("Erro ao criar tarefa")}},async getTasksByUser(t){try{const e=Dn(mt(we,"tasks"),In("userId","==",t)),n=await Tn(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,description:l.description,time:l.time,priority:l.priority,completed:l.completed,userId:l.userId,createdAt:l.createdAt.toDate(),updatedAt:l.updatedAt.toDate()})}),a.sort((i,l)=>i.time.localeCompare(l.time))}catch(e){throw console.error("Erro ao buscar tarefas:",e),new Error("Erro ao buscar tarefas")}},async updateTask(t,e){try{const n=We(we,"tasks",t);await Wn(n,{...e,updatedAt:Ge.fromDate(new Date)})}catch(n){throw console.error("Erro ao atualizar tarefa:",n),new Error("Erro ao atualizar tarefa")}},async deleteTask(t){try{await Pr(We(we,"tasks",t))}catch(e){throw console.error("Erro ao deletar tarefa:",e),new Error("Erro ao deletar tarefa")}},async toggleTaskCompletion(t,e){try{const n=We(we,"tasks",t);await Wn(n,{completed:e,updatedAt:Ge.fromDate(new Date)})}catch(n){throw console.error("Erro ao alterar status da tarefa:",n),new Error("Erro ao alterar status da tarefa")}}},o9=({isOpen:t,onClose:e,onSubmit:n,isLoading:a=!1})=>{const[i,l]=P.useState({description:"",time:"",priority:"media"}),u=g=>{const{name:v,value:E}=g.target;l(S=>({...S,[v]:E}))},m=async g=>{if(g.preventDefault(),!i.description.trim()||!i.time){alert("Por favor, preencha todos os campos obrigatrios");return}try{await n(i),l({description:"",time:"",priority:"media"}),e()}catch(v){console.error("Erro ao criar tarefa:",v)}},p=()=>{l({description:"",time:"",priority:"media"}),e()};return t?f.jsx("div",{className:"task-modal-overlay",onClick:p,children:f.jsxs("div",{className:"task-modal",onClick:g=>g.stopPropagation(),children:[f.jsxs("div",{className:"task-modal-header",children:[f.jsxs("div",{className:"task-modal-title-section",children:[f.jsx("h2",{className:"task-modal-title",children:"Nova Tarefa"}),f.jsx("p",{className:"task-modal-subtitle",children:"Adicione uma nova tarefa  sua agenda"})]}),f.jsx("button",{className:"task-modal-close",onClick:p,children:f.jsx(ya,{size:20})})]}),f.jsxs("form",{className:"task-modal-form",onSubmit:m,children:[f.jsxs("div",{className:"task-modal-field",children:[f.jsx("label",{className:"task-modal-label",htmlFor:"description",children:"Descrio da Tarefa"}),f.jsx("input",{id:"description",name:"description",type:"text",value:i.description,onChange:u,placeholder:"Digite a descrio da tarefa",className:"task-modal-input",required:!0})]}),f.jsxs("div",{className:"task-modal-field",children:[f.jsx("label",{className:"task-modal-label",htmlFor:"time",children:"Horrio"}),f.jsxs("div",{className:"task-modal-time-container",children:[f.jsx("input",{id:"time",name:"time",type:"time",value:i.time,onChange:u,className:"task-modal-input task-modal-time-input",required:!0}),f.jsx(zl,{className:"task-modal-time-icon",size:16})]})]}),f.jsxs("div",{className:"task-modal-field",children:[f.jsx("label",{className:"task-modal-label",htmlFor:"priority",children:"Prioridade"}),f.jsxs("select",{id:"priority",name:"priority",value:i.priority,onChange:u,className:"task-modal-select",children:[f.jsx("option",{value:"baixa",children:"Baixa"}),f.jsx("option",{value:"media",children:"Mdia"}),f.jsx("option",{value:"alta",children:"Alta"})]})]}),f.jsxs("div",{className:"task-modal-actions",children:[f.jsx(Hl,{type:"button",variant:"outline",onClick:p,disabled:a,children:"Cancelar"}),f.jsx(Hl,{type:"submit",variant:"primary",isLoading:a,disabled:!i.description.trim()||!i.time,children:"Adicionar"})]})]})]})}):null},l9=()=>{const{user:t}=tr(),[e,n]=P.useState([]),[a,i]=P.useState(!1),[l,u]=P.useState(!1),[m,p]=P.useState(!0),g=async()=>{if(t)try{p(!0);const R=await Kh.getTasksByUser(t.uid);n(R)}catch(R){console.error("Erro ao carregar tarefas:",R)}finally{p(!1)}};P.useEffect(()=>{g()},[t]);const v=async R=>{if(t)try{u(!0),await Kh.createTask(t.uid,R),await g()}catch(j){throw console.error("Erro ao criar tarefa:",j),j}finally{u(!1)}},E=async(R,j)=>{try{await Kh.toggleTaskCompletion(R,j),await g()}catch(z){console.error("Erro ao alterar status da tarefa:",z)}},S=async R=>{if(confirm("Tem certeza que deseja excluir esta tarefa?"))try{await Kh.deleteTask(R),await g()}catch(j){console.error("Erro ao excluir tarefa:",j)}},A=R=>{switch(R){case"alta":return"task-priority-high";case"media":return"task-priority-medium";case"baixa":return"task-priority-low";default:return"task-priority-medium"}},C=R=>{switch(R){case"alta":return"Alta";case"media":return"Mdia";case"baixa":return"Baixa";default:return"Mdia"}};return f.jsxs("div",{className:"agenda-card",children:[f.jsxs("div",{className:"agenda-header",children:[f.jsxs("div",{className:"agenda-title-section",children:[f.jsxs("div",{className:"agenda-title",children:[f.jsx(zl,{className:"agenda-icon",size:20}),f.jsx("h3",{children:"Agenda do Dia"})]}),f.jsx("p",{className:"agenda-subtitle",children:"Suas tarefas e compromissos de hoje"})]}),f.jsx("button",{className:"agenda-add-button",onClick:()=>i(!0),children:f.jsx(gi,{className:"agenda-add-icon",size:20})})]}),f.jsx("div",{className:"agenda-content",children:m?f.jsx("div",{className:"agenda-loading",children:f.jsx("p",{children:"Carregando tarefas..."})}):e.length===0?f.jsxs("div",{className:"agenda-empty",children:[f.jsx("p",{children:"Nenhuma tarefa cadastrada"}),f.jsx("p",{className:"agenda-empty-subtitle",children:"Clique no boto + para adicionar uma nova tarefa"})]}):f.jsx("div",{className:"agenda-tasks",children:e.map(R=>f.jsx("div",{className:`agenda-task ${R.completed?"task-completed":""}`,children:f.jsxs("div",{className:"task-content",children:[f.jsxs("div",{className:"task-main",children:[f.jsx("h4",{className:"task-description",children:R.description}),f.jsxs("div",{className:"task-meta",children:[f.jsx("span",{className:`task-priority ${A(R.priority)}`,children:C(R.priority)}),f.jsx("span",{className:"task-time",children:R.time})]})]}),f.jsxs("div",{className:"task-actions",children:[f.jsx("button",{className:`task-action task-complete ${R.completed?"task-completed-icon":""}`,onClick:()=>E(R.id,!R.completed),title:R.completed?"Marcar como pendente":"Marcar como concluda",children:f.jsx(Zn,{size:14})}),f.jsx("button",{className:"task-action task-edit",title:"Editar tarefa",children:f.jsx(vx,{size:14})}),f.jsx("button",{className:"task-action task-delete",onClick:()=>S(R.id),title:"Excluir tarefa",children:f.jsx(ec,{size:14})})]})]})},R.id))})}),f.jsx(o9,{isOpen:a,onClose:()=>i(!1),onSubmit:v,isLoading:l})]})},WT=()=>f.jsxs("div",{className:"tab-content",children:[f.jsxs("div",{className:"tab-header",children:[f.jsx("h2",{className:"tab-title",children:"Dashboard"}),f.jsx("p",{className:"tab-subtitle",children:"Viso geral do sistema de gesto de produo txtil"})]}),f.jsx("div",{className:"tab-body",children:f.jsxs("div",{className:"dashboard-grid",children:[f.jsxs("div",{className:"dashboard-card",children:[f.jsx("h3",{children:"Resumo Geral"}),f.jsx("p",{children:"Informaes gerais do sistema"})]}),f.jsxs("div",{className:"dashboard-card",children:[f.jsx("h3",{children:"Produo Atual"}),f.jsx("p",{children:"Status da produo em andamento"})]}),f.jsxs("div",{className:"dashboard-card",children:[f.jsx("h3",{children:"Financeiro"}),f.jsx("p",{children:"Resumo financeiro"})]}),f.jsx(l9,{})]})})]}),Yh={async getCategorias(t){try{const e=Dn(mt(we,"categorias"),In("userId","==",t),da("nome","asc"));return(await Tn(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar categorias:",e),e}},async createCategoria(t,e){try{return(await ga(mt(we,"categorias"),{...e,userId:t,ativo:!0,createdAt:vt()})).id}catch(n){throw console.error("Erro ao criar categoria:",n),n}},async updateCategoria(t,e){try{await Wn(We(we,"categorias",t),{...e,updatedAt:vt()})}catch(n){throw console.error("Erro ao atualizar categoria:",n),n}},async deleteCategoria(t){try{await Pr(We(we,"categorias",t))}catch(e){throw console.error("Erro ao deletar categoria:",e),e}}},Tu={async getCores(t){try{const e=Dn(mt(we,"cores"),In("userId","==",t),da("nome","asc"));return(await Tn(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar cores:",e),e}},async createCor(t,e){try{return(await ga(mt(we,"cores"),{...e,userId:t,ativo:!0,createdAt:vt()})).id}catch(n){throw console.error("Erro ao criar cor:",n),n}},async updateCor(t,e){try{await Wn(We(we,"cores",t),{...e,updatedAt:vt()})}catch(n){throw console.error("Erro ao atualizar cor:",n),n}},async deleteCor(t){try{await Pr(We(we,"cores",t))}catch(e){throw console.error("Erro ao deletar cor:",e),e}}},wu={async getTamanhos(t){try{const e=Dn(mt(we,"tamanhos"),In("userId","==",t),da("ordem","asc"));return(await Tn(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar tamanhos:",e),e}},async createTamanho(t,e){try{return(await ga(mt(we,"tamanhos"),{...e,userId:t,ativo:!0,createdAt:vt()})).id}catch(n){throw console.error("Erro ao criar tamanho:",n),n}},async updateTamanho(t,e){try{await Wn(We(we,"tamanhos",t),{...e,updatedAt:vt()})}catch(n){throw console.error("Erro ao atualizar tamanho:",n),n}},async deleteTamanho(t){try{await Pr(We(we,"tamanhos",t))}catch(e){throw console.error("Erro ao deletar tamanho:",e),e}}},Qs={async getProdutos(t){try{const e=Dn(mt(we,"produtos"),In("userId","==",t));return(await Tn(e)).docs.map(i=>{const l=i.data();return{id:i.id,refCodigo:l.refCodigo||"",descricao:l.descricao||"",categoria:{id:"",nome:"",ativo:!0,createdAt:new Date},cores:[],tamanhos:[],etapasProducao:[],categoriaId:l.categoriaId||"",coresIds:l.coresIds||[],tamanhosIds:l.tamanhosIds||[],etapasProducaoIds:l.etapasProducaoIds||[],ativo:l.ativo!==!1,userId:l.userId,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((i,l)=>{const u=parseInt(i.refCodigo)||0,m=parseInt(l.refCodigo)||0;return u-m})}catch(e){throw console.error("Erro ao buscar produtos:",e),e}},async createProduto(t,e){try{return(await ga(mt(we,"produtos"),{refCodigo:e.refCodigo,descricao:e.descricao,categoriaId:e.categoriaId,coresIds:e.coresIds,tamanhosIds:e.tamanhosIds,etapasProducaoIds:e.etapasProducao||[],userId:t,ativo:!0,createdAt:vt(),updatedAt:vt()})).id}catch(n){throw console.error("Erro ao criar produto:",n),n}},async updateProduto(t,e){try{await Wn(We(we,"produtos",t),{refCodigo:e.refCodigo,descricao:e.descricao,categoriaId:e.categoriaId,coresIds:e.coresIds,tamanhosIds:e.tamanhosIds,etapasProducaoIds:e.etapasProducao||[],updatedAt:vt()})}catch(n){throw console.error("Erro ao atualizar produto:",n),n}},async deleteProduto(t){try{await Pr(We(we,"produtos",t))}catch(e){throw console.error("Erro ao deletar produto:",e),e}}},Qh="faccoes",Xs={async createFaccao(t){try{return(await ga(mt(we,Qh),{...t,createdAt:vt(),updatedAt:vt()})).id}catch(e){throw console.error("Erro ao criar faco:",e),e}},async getFaccoes(){try{const t=Dn(mt(we,Qh),da("nome","asc"));return(await Tn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Erro ao buscar faces:",t),t}},async updateFaccao(t,e){try{const n=We(we,Qh,t);await Wn(n,{...e,updatedAt:vt()})}catch(n){throw console.error("Erro ao atualizar faco:",n),n}},async deleteFaccao(t){try{await Pr(We(we,Qh,t))}catch(e){throw console.error("Erro ao deletar faco:",e),e}}},c9=Object.freeze(Object.defineProperty({__proto__:null,faccaoService:Xs},Symbol.toStringTag,{value:"Module"})),Ga={async getStepsCount(){try{return(await Tn(mt(we,"productionSteps"))).size}catch(t){throw console.error("Erro ao buscar etapas:",t),new Error("Erro ao buscar etapas")}},async getAllSteps(){try{const t=Dn(mt(we,"productionSteps"),da("order","asc")),e=await Tn(t),n=[];return e.forEach(a=>{const i=a.data();n.push({id:a.id,name:i.name,description:i.description,order:i.order,userId:i.userId,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()})}),n}catch(t){throw console.error("Erro ao buscar etapas:",t),new Error("Erro ao buscar etapas")}},async createStep(t,e){try{const n=new Date;return{id:(await ga(mt(we,"productionSteps"),{...e,userId:t,createdAt:Ge.fromDate(n),updatedAt:Ge.fromDate(n)})).id,...e,userId:t,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erro ao criar etapa:",n),new Error("Erro ao criar etapa")}},async getStepsByUser(t){try{const e=Dn(mt(we,"productionSteps"),In("userId","==",t)),n=await Tn(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,name:l.name,description:l.description,order:l.order,userId:l.userId,createdAt:l.createdAt.toDate(),updatedAt:l.updatedAt.toDate()})}),a.sort((i,l)=>i.order-l.order)}catch(e){throw console.error("Erro ao buscar etapas:",e),new Error("Erro ao buscar etapas")}},async updateStep(t,e){try{const n=We(we,"productionSteps",t);await Wn(n,{...e,updatedAt:Ge.fromDate(new Date)})}catch(n){throw console.error("Erro ao atualizar etapa:",n),new Error("Erro ao atualizar etapa")}},async deleteStep(t){try{await Pr(We(we,"productionSteps",t))}catch(e){throw console.error("Erro ao deletar etapa:",e),new Error("Erro ao deletar etapa")}}},u9=()=>{const[t,e]=P.useState(!1),[n,a]=P.useState(!0),[i,l]=P.useState(!1),[u,m]=P.useState(null),[p,g]=P.useState({nome:"",endereco:"",logoUrl:""});P.useEffect(()=>{v()},[]);const v=async()=>{try{a(!0);const C=await yf.getCompanyInfo();C&&g(C)}catch(C){console.error("Erro ao carregar informaes:",C),m({type:"error",text:"Erro ao carregar informaes da empresa"})}finally{a(!1)}},E=C=>{const{name:R,value:j}=C.target;g(z=>({...z,[R]:j}))},S=async C=>{const R=C.target.files?.[0];if(R){if(!R.type.startsWith("image/")){m({type:"error",text:"Por favor, selecione uma imagem vlida"});return}if(R.size>5*1024*1024){m({type:"error",text:"A imagem deve ter no mximo 5MB"});return}try{l(!0);const j=await yf.uploadLogo(R);g(z=>({...z,logoUrl:j})),m({type:"success",text:"Logo enviada com sucesso!"})}catch(j){console.error("Erro ao fazer upload:",j),m({type:"error",text:"Erro ao fazer upload da logo"})}finally{l(!1)}}},A=async C=>{if(C.preventDefault(),!p.nome.trim()){m({type:"error",text:"O nome da empresa  obrigatrio"});return}try{e(!0),m(null),await yf.saveCompanyInfo({nome:p.nome,endereco:p.endereco,logoUrl:p.logoUrl}),m({type:"success",text:"Informaes salvas com sucesso!"}),window.dispatchEvent(new CustomEvent("companyInfoUpdated"))}catch(R){console.error("Erro ao salvar:",R),m({type:"error",text:"Erro ao salvar informaes"})}finally{e(!1)}};return n?f.jsxs("div",{className:"company-form-loading",children:[f.jsx(ey,{className:"loading-spinner",size:32}),f.jsx("p",{children:"Carregando informaes..."})]}):f.jsxs("div",{className:"company-form-container",children:[f.jsxs("div",{className:"company-form-header",children:[f.jsx(Uy,{size:32}),f.jsxs("div",{children:[f.jsx("h2",{children:"Informaes da Empresa"}),f.jsx("p",{children:"Configure o nome, logo e endereo da sua empresa"})]})]}),f.jsxs("form",{onSubmit:A,className:"company-form",children:[f.jsxs("div",{className:"form-group logo-section",children:[f.jsx("label",{className:"form-label",children:"Logomarca"}),f.jsxs("div",{className:"logo-upload-area",children:[p.logoUrl&&f.jsx("div",{className:"logo-preview",children:f.jsx("img",{src:p.logoUrl,alt:"Logo da empresa"})}),f.jsxs("label",{className:"logo-upload-btn",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:S,disabled:i}),i?f.jsxs(f.Fragment,{children:[f.jsx(ey,{className:"upload-icon spinning",size:20}),f.jsx("span",{children:"Enviando..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(j6,{className:"upload-icon",size:20}),f.jsx("span",{children:p.logoUrl?"Alterar Logo":"Enviar Logo"})]})]}),f.jsx("p",{className:"logo-upload-hint",children:"Formatos aceitos: JPG, PNG, GIF (mx. 5MB)"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"nome",className:"form-label",children:[f.jsx(Uy,{size:18}),"Nome da Empresa *"]}),f.jsx("input",{type:"text",id:"nome",name:"nome",value:p.nome,onChange:E,placeholder:"Digite o nome da empresa",className:"form-input",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"endereco",className:"form-label",children:[f.jsx(yx,{size:18}),"Endereo Completo"]}),f.jsx("textarea",{id:"endereco",name:"endereco",value:p.endereco,onChange:E,placeholder:"Rua, Nmero, Bairro, Cidade - Estado, CEP",className:"form-textarea",rows:3})]}),u&&f.jsx("div",{className:`form-message ${u.type}`,children:u.text}),f.jsx("button",{type:"submit",className:"form-submit-btn",disabled:t||i,children:t?f.jsxs(f.Fragment,{children:[f.jsx(ey,{className:"btn-icon spinning",size:20}),"Salvando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(E6,{className:"btn-icon",size:20}),"Salvar Informaes"]})})]})]})},d9=({onTabChange:t})=>{const[e,n]=Su.useState(!1),{user:a}=tr(),[i,l]=P.useState(0),[u,m]=P.useState(0),[p,g]=P.useState(0),[v,E]=P.useState(!0);return P.useEffect(()=>{(async()=>{if(a)try{const[A,C,R]=await Promise.all([Qs.getProdutos(a.uid),Xs.getFaccoes(),Ga.getStepsCount()]);l(A.length),m(C.length),g(R)}catch(A){console.error("Erro ao buscar dados:",A)}finally{E(!1)}})()},[a]),f.jsxs("div",{className:"cadastros-container",children:[f.jsxs("div",{className:"cadastros-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{className:"section-title",children:"Informaes da Empresa"}),f.jsx("p",{className:"section-description",children:"Configure o nome, logomarca e endereo da sua empresa"})]}),e?f.jsxs("div",{style:{marginBottom:"2rem"},children:[f.jsx("button",{onClick:()=>n(!1),style:{marginBottom:"1rem",padding:"0.5rem 1rem",background:"#e5e7eb",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:" Voltar"}),f.jsx(u9,{})]}):f.jsx("div",{className:"cards-container",children:f.jsxs("div",{className:"card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(Uy,{size:24,color:"#1e3a8a"})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{className:"card-title",children:"Dados da Empresa"}),f.jsx("p",{className:"card-description",children:"Configure nome, logo e endereo"})]}),f.jsx("button",{onClick:()=>n(!0),className:"card-button",children:"Configurar"})]})})]}),!e&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"cadastros-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{className:"section-title",children:"Cadastros"}),f.jsx("p",{className:"section-description",children:"Gerencie todas informaes bsicas do sistema"})]}),f.jsxs("div",{className:"cards-container",children:[f.jsxs("div",{className:"card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(Bf,{size:24,color:"#1e3a8a"})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{className:"card-title",children:"Faces / Terceirizados"}),f.jsx("p",{className:"card-description",children:"Gerencie seus parceiros de produo"}),f.jsxs("span",{className:"card-count",children:[v?"...":`${u} cadastrado${u===1?"":"s"}`," "]})]}),f.jsx("button",{onClick:()=>{t("faccoes")},className:"card-button",children:"Acessar"})]}),f.jsxs("div",{className:"card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(TT,{size:24,color:"#1e3a8a"})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{className:"card-title",children:"Etapas de Produo"}),f.jsx("p",{className:"card-description",children:"Configure as etapas do processo produtivo"}),f.jsx("span",{className:"card-count",children:v?"...":`${p} etapa${p===1?"":"s"}`})]}),f.jsx("button",{onClick:()=>{t("etapas")},className:"card-button",children:"Acessar"})]}),f.jsxs("div",{className:"card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(zf,{size:24,color:"#1e3a8a"})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{className:"card-title",children:"Produtos"}),f.jsx("p",{className:"card-description",children:"Catlogo de produtos e especificaes"}),f.jsx("span",{className:"card-count",children:v?"...":`${i} produto${i===1?"":"s"}`})]}),f.jsx("button",{onClick:()=>{t("produto")},className:"card-button",children:"Acessar"})]})]})]}),f.jsxs("div",{className:"acoes-rapidas-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{className:"section-title",children:"Aes Rpidas"}),f.jsx("p",{className:"section-description",children:"Cadastre rapidamente novos itens no sistema"})]}),f.jsxs("div",{className:"botoes-container",children:[f.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("faccoes")},children:[f.jsx(Bf,{size:20}),f.jsx("span",{children:" + Nova Faco"})]}),f.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("etapas")},children:[f.jsx(TT,{size:20}),f.jsx("span",{children:" + Nova Etapa"})]}),f.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("produto")},children:[f.jsx(zf,{size:20}),f.jsx("span",{children:" + Novo Produto"})]})]})]})]})]})},h9=({isOpen:t,onClose:e,onSave:n,faccaoToEdit:a})=>{const{user:i}=tr(),[l,u]=P.useState({nome:"",servicoPrestado:"",enderecoCompleto:"",telefone:"",email:"",ativo:!0}),[m,p]=P.useState(!1),[g,v]=P.useState(null),[E,S]=P.useState([]);P.useEffect(()=>{const C=async()=>{try{const R=await Ga.getStepsByUser(i.uid);S(R)}catch(R){console.error("Erro ao buscar etapas:",R)}t&&C()};C()},[t,i]),P.useEffect(()=>{u(a?{nome:a.nome,servicoPrestado:a.servicoPrestado,enderecoCompleto:a.enderecoCompleto,telefone:a.telefone,email:a.email,ativo:a.ativo}:{nome:"",servicoPrestado:"",enderecoCompleto:"",telefone:"",email:"",ativo:!0}),v(null)},[a,t]);const A=async C=>{if(C.preventDefault(),v(null),!l.nome.trim()){v("Nome  obrigatrio");return}try{p(!0),await n(l),e()}catch(R){console.error("Erro ao salvar faco:",R),v("Erro ao salvar faco. Tente novamente.")}finally{p(!1)}};return t?f.jsx("div",{className:"faccao-modal-overlay",onClick:e,children:f.jsxs("div",{className:"faccao-modal",onClick:C=>C.stopPropagation(),children:[f.jsxs("div",{className:"faccao-modal-header",children:[f.jsxs("div",{className:"faccao-modal-title-section",children:[f.jsx("h2",{className:"faccao-modal-title",children:a?"Editar Faco":"Cadastrar Nova Faco"}),f.jsx("p",{className:"faccao-modal-subtitle",children:a?"Atualize as informaes do parceiro de produo":"Adicione um novo parceiro de produo ao sistema"})]}),f.jsx("button",{className:"faccao-modal-close",onClick:e,type:"button",children:f.jsx(ya,{size:24})})]}),f.jsxs("form",{onSubmit:A,className:"faccao-modal-form",children:[f.jsxs("div",{className:"faccao-modal-row",children:[f.jsxs("div",{className:"faccao-modal-field",children:[f.jsx("label",{htmlFor:"nome",className:"faccao-modal-label",children:"Nome *"}),f.jsx("input",{type:"text",id:"nome",className:"faccao-modal-input",placeholder:"Nome da faco",value:l.nome,onChange:C=>u({...l,nome:C.target.value}),required:!0})]}),f.jsxs("div",{className:"faccao-modal-field",children:[f.jsx("label",{htmlFor:"servico",className:"faccao-modal-label",children:"Servio Prestado *"}),f.jsx("select",{id:"servico",className:"faccao-modal-select",value:l.servicoPrestado,onChange:C=>u({...l,servicoPrestado:C.target.value}),required:!0,children:E.length===0?f.jsx("option",{value:"",children:"Nenhuma etapa encontrada"}):E.map(C=>f.jsx("option",{value:C.name,children:C.name},C.id))})]})]}),f.jsxs("div",{className:"faccao-modal-field",children:[f.jsx("label",{htmlFor:"endereco",className:"faccao-modal-label",children:"Endereo Completo *"}),f.jsx("textarea",{id:"endereco",className:"faccao-modal-textarea",placeholder:"Rua, nmero, bairro, cidade, estado, CEP",value:l.enderecoCompleto,onChange:C=>u({...l,enderecoCompleto:C.target.value}),rows:3,required:!0})]}),f.jsxs("div",{className:"faccao-modal-row",children:[f.jsxs("div",{className:"faccao-modal-field",children:[f.jsx("label",{htmlFor:"telefone",className:"faccao-modal-label",children:"Telefone"}),f.jsx("input",{type:"tel",id:"telefone",className:"faccao-modal-input",placeholder:"(11) 99999-9999",value:l.telefone,onChange:C=>u({...l,telefone:C.target.value})})]}),f.jsxs("div",{className:"faccao-modal-field",children:[f.jsx("label",{htmlFor:"email",className:"faccao-modal-label",children:"E-mail"}),f.jsx("input",{type:"email",id:"email",className:"faccao-modal-input",placeholder:"contato@faccao.com",value:l.email,onChange:C=>u({...l,email:C.target.value})})]})]}),g&&f.jsx("div",{className:"faccao-modal-error",children:g}),f.jsxs("div",{className:"faccao-modal-actions",children:[f.jsx("button",{type:"button",className:"faccao-btn-cancel",onClick:e,disabled:m,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"faccao-btn-save",disabled:m,children:m?"Salvando...":"Salvar Faco"})]})]})]})}):null},f9=()=>{const[t,e]=P.useState([]),[n,a]=P.useState([]),[i,l]=P.useState(!0),[u,m]=P.useState(""),[p,g]=P.useState(!1),[v,E]=P.useState(null);P.useEffect(()=>{S()},[]),P.useEffect(()=>{if(u.trim()==="")a(t);else{const z=t.filter($=>$.nome.toLowerCase().includes(u.toLowerCase())||$.servicoPrestado.toLowerCase().includes(u.toLowerCase()));a(z)}},[u,t]);const S=async()=>{try{l(!0);const z=await Xs.getFaccoes();e(z),a(z)}catch(z){console.error("Erro ao carregar faces:",z)}finally{l(!1)}},A=async z=>{try{v?.id?(await Xs.updateFaccao(v.id,z),ct.success("Faco atualizada com sucesso!",{icon:f.jsx(Zn,{size:20})})):(await Xs.createFaccao(z),ct.success("Faco criada com sucesso!",{icon:f.jsx(Zn,{size:20})})),await S(),g(!1),E(null)}catch($){console.error("Erro ao salvar faco:",$);const ne=$ instanceof Error?$.message:"Erro ao salvar faco. Tente novamente.";throw ct.error(ne),$}},C=z=>{E(z),g(!0)},R=async z=>{if(window.confirm("Tem certeza que deseja excluir esta faco?"))try{await Xs.deleteFaccao(z),await S()}catch($){console.error("Erro ao deletar faco:",$),alert("Erro ao deletar faco. Tente novamente.")}},j=()=>{E(null),g(!0)};return f.jsxs("div",{className:"faccoes-container",children:[f.jsxs("div",{className:"faccoes-header",children:[f.jsxs("div",{className:"faccoes-title-section",children:[f.jsx("h1",{className:"faccoes-title",children:"Faces / Terceirizados"}),f.jsx("p",{className:"faccoes-subtitle",children:"Gerencie seus parceiros de produo"})]}),f.jsxs("button",{className:"faccoes-add-button",onClick:j,children:[f.jsx("span",{className:"faccoes-add-icon",children:"+"}),f.jsx("span",{className:"faccoes-add-text",children:"Nova Faco"})]})]}),f.jsx("div",{className:"faccoes-search-container",children:f.jsxs("div",{className:"faccoes-search-box",children:[f.jsx(yo,{size:20,className:"faccoes-search-icon"}),f.jsx("input",{type:"text",className:"faccoes-search-input",placeholder:"Buscar por nome ou servio...",value:u,onChange:z=>m(z.target.value)})]})}),f.jsx("div",{className:"faccoes-content",children:i?f.jsx("div",{className:"faccoes-loading",children:f.jsx("p",{children:"Carregando faces..."})}):n.length===0?f.jsxs("div",{className:"faccoes-empty",children:[f.jsx(Bf,{size:48}),f.jsx("p",{children:u?"Nenhuma faco encontrada com esse termo":"Nenhuma faco cadastrada"}),!u&&f.jsx("p",{className:"faccoes-empty-subtitle",children:'Clique em "Nova Faco" para adicionar um parceiro'})]}):f.jsx("div",{className:"faccoes-grid",children:n.map(z=>f.jsxs("div",{className:"faccao-card",children:[f.jsxs("div",{className:"faccao-card-header",children:[f.jsx("div",{className:"faccao-avatar",children:f.jsx(Bf,{size:24})}),f.jsxs("div",{className:"faccao-header-info",children:[f.jsx("h3",{className:"faccao-name",children:z.nome}),z.ativo&&f.jsx("span",{className:"faccao-status",children:"Ativo"})]}),f.jsxs("div",{className:"faccao-actions",children:[f.jsx("button",{className:"faccao-action-btn faccao-edit-btn",onClick:()=>C(z),title:"Editar",children:f.jsx(o6,{size:16})}),f.jsx("button",{className:"faccao-action-btn faccao-delete-btn",onClick:()=>z.id&&R(z.id),title:"Excluir",children:f.jsx(ec,{size:16})})]})]}),f.jsxs("div",{className:"faccao-card-body",children:[f.jsxs("div",{className:"faccao-info-row",children:[f.jsx(yx,{size:16,className:"faccao-icon"}),f.jsx("span",{className:"faccao-info-text",children:z.enderecoCompleto})]}),f.jsxs("div",{className:"faccao-servicos",children:[f.jsx("span",{className:"faccao-servicos-label",children:"Servio:"}),f.jsx("span",{className:"faccao-servico-tag",children:z.servicoPrestado})]}),f.jsxs("div",{className:"faccao-contact",children:[z.telefone&&f.jsxs("div",{className:"faccao-contact-item",children:[f.jsx(d6,{size:14,className:"faccao-contact-icon"}),f.jsxs("span",{children:["Telefone: ",z.telefone]})]}),z.email&&f.jsxs("div",{className:"faccao-contact-item",children:[f.jsx(W3,{size:14,className:"faccao-contact-icon"}),f.jsxs("span",{children:["E-mail: ",z.email]})]})]})]})]},z.id))})}),f.jsx(h9,{isOpen:p,onClose:()=>{g(!1),E(null)},onSave:A,faccaoToEdit:v})]})},m9=({isOpen:t,onClose:e,onSubmit:n,stepToEdit:a,isLoading:i=!1})=>{const[l,u]=P.useState({name:"",description:"",order:0});P.useEffect(()=>{u(a?{name:a.name,description:a.description,order:a.order}:{name:"",description:"",order:0})},[a,t]);const m=v=>{const{name:E,value:S}=v.target;u(A=>({...A,[E]:E==="order"?parseInt(S)||0:S}))},p=async v=>{if(v.preventDefault(),!l.name.trim()||!l.description.trim()){alert("Por favor, preencha todos os campos obrigatrios");return}try{await n(l),u({name:"",description:"",order:0}),e()}catch(E){console.error("Erro ao salvar etapa:",E)}},g=()=>{u({name:"",description:"",order:0}),e()};return t?f.jsx("div",{className:"step-modal-overlay",onClick:g,children:f.jsxs("div",{className:"step-modal",onClick:v=>v.stopPropagation(),children:[f.jsxs("div",{className:"step-modal-header",children:[f.jsxs("div",{className:"step-modal-title-section",children:[f.jsx("h2",{className:"step-modal-title",children:a?"Editar Etapa":"Nova Etapa"}),f.jsx("p",{className:"step-modal-subtitle",children:a?"Atualize as informaes da etapa":"Configure uma etapa do processo produtivo"})]}),f.jsx("button",{className:"step-modal-close",onClick:g,children:f.jsx(ya,{size:20})})]}),f.jsxs("form",{className:"step-modal-form",onSubmit:p,children:[f.jsxs("div",{className:"step-modal-field",children:[f.jsx("label",{className:"step-modal-label",htmlFor:"name",children:"Nome da Etapa"}),f.jsx("input",{id:"name",name:"name",type:"text",value:l.name,onChange:m,placeholder:"Ex: Corte, Costura, Silk...",className:"step-modal-input",required:!0})]}),f.jsxs("div",{className:"step-modal-field",children:[f.jsx("label",{className:"step-modal-label",htmlFor:"description",children:"Descrio"}),f.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:m,placeholder:"Descreva o que  feito nesta etapa",className:"step-modal-textarea",rows:4,required:!0})]}),f.jsxs("div",{className:"step-modal-field",children:[f.jsx("label",{className:"step-modal-label",htmlFor:"order",children:"Ordem de Execuo"}),f.jsx("input",{id:"order",name:"order",type:"number",min:"0",value:l.order,onChange:m,className:"step-modal-input",required:!0})]}),f.jsxs("div",{className:"step-modal-actions",children:[f.jsx(Hl,{type:"button",variant:"outline",onClick:g,disabled:i,children:"Cancelar"}),f.jsx(Hl,{type:"submit",variant:"primary",isLoading:i,disabled:!l.name.trim()||!l.description.trim(),children:a?"Salvar Alteraes":"Cadastrar"})]})]})]})}):null},p9=()=>{const{user:t}=tr(),[e,n]=P.useState([]),[a,i]=P.useState(!1),[l,u]=P.useState(null),[m,p]=P.useState(!1),[g,v]=P.useState(!0),E=async()=>{if(t)try{v(!0);const j=await Ga.getStepsByUser(t.uid);n(j)}catch(j){console.error("Erro ao carregar etapas:",j)}finally{v(!1)}};P.useEffect(()=>{E()},[t]);const S=async j=>{if(t)try{p(!0),l?(await Ga.updateStep(l.id,j),ct.success("Etapa atualizada com sucesso!",{icon:f.jsx(Zn,{size:20})})):(await Ga.createStep(t.uid,j),ct.success("Etapa criada com sucesso!",{icon:f.jsx(Zn,{size:20})})),await E(),u(null)}catch(z){console.error("Erro ao salvar etapa:",z);const $=z instanceof Error?z.message:"Erro ao salvar etapa. Tente novamente.";throw ct.error($),z}finally{p(!1)}},A=j=>{u(j),i(!0)},C=()=>{i(!1),u(null)},R=async j=>{if(confirm("Tem certeza que deseja excluir esta etapa?"))try{await Ga.deleteStep(j),await E()}catch(z){console.error("Erro ao excluir etapa:",z)}};return f.jsxs("div",{className:"tab-content",children:[f.jsxs("div",{className:"tab-header",children:[f.jsx("h2",{className:"tab-title",children:"Etapas de Produo"}),f.jsx("p",{className:"tab-subtitle",children:"Configure as etapas do processo produtivo"})]}),f.jsx("div",{className:"tab-body",children:f.jsxs("div",{className:"etapas-container",children:[f.jsxs("div",{className:"etapas-header",children:[f.jsxs("div",{className:"etapas-title-section",children:[f.jsx("h3",{className:"etapas-title",children:"Etapas de Produo"}),f.jsx("p",{className:"etapas-subtitle",children:"Configure as etapas do processo produtivo"})]}),f.jsxs("button",{className:"etapas-add-button",onClick:()=>{u(null),i(!0)},children:[f.jsx(gi,{className:"etapas-add-icon",size:16}),f.jsx("span",{className:"etapas-add-text",children:"Nova Etapa"})]})]}),f.jsx("div",{className:"etapas-content",children:g?f.jsx("div",{className:"etapas-loading",children:f.jsx("p",{children:"Carregando etapas..."})}):e.length===0?f.jsxs("div",{className:"etapas-empty",children:[f.jsx("p",{children:"Nenhuma etapa cadastrada"}),f.jsx("p",{className:"etapas-empty-subtitle",children:'Clique no boto "Nova Etapa" para adicionar uma etapa'})]}):f.jsx("div",{className:"etapas-table-container",children:f.jsxs("table",{className:"etapas-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Ordem"}),f.jsx("th",{children:"Nome"}),f.jsx("th",{children:"Descrio"}),f.jsx("th",{children:"Aes"})]})}),f.jsx("tbody",{children:e.map(j=>f.jsxs("tr",{children:[f.jsx("td",{className:"etapas-order",children:j.order}),f.jsx("td",{className:"etapas-name",children:j.name}),f.jsx("td",{className:"etapas-description",children:j.description}),f.jsxs("td",{className:"etapas-actions",children:[f.jsx("button",{className:"etapas-action etapas-edit",onClick:()=>A(j),title:"Editar etapa",children:f.jsx(vx,{size:14})}),f.jsx("button",{className:"etapas-action etapas-delete",onClick:()=>R(j.id),title:"Excluir etapa",children:f.jsx(ec,{size:14})})]})]},j.id))})]})})})]})}),f.jsx(m9,{isOpen:a,onClose:C,onSubmit:S,stepToEdit:l,isLoading:m})]})},g9=({categorias:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=P.useState(!1),[u,m]=P.useState(null),[p,g]=P.useState({nome:"",descricao:""}),v=A=>{A.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",descricao:""}),l(!1),m(null))},E=A=>{g({nome:A.nome,descricao:A.descricao||""}),m(A.id),l(!0)},S=()=>{g({nome:"",descricao:""}),l(!1),m(null)};return f.jsxs("div",{className:"categoria-form",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h3",{children:"Categorias de Produtos"}),f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[f.jsx(gi,{size:16}),"Adicionar Categoria"]})]}),i&&f.jsxs("form",{onSubmit:v,className:"form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"nome",children:"Nome da Categoria"}),f.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:A=>g({...p,nome:A.target.value}),placeholder:"Ex: Blusa, Regata, Cala...",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"descricao",children:"Descrio (Opcional)"}),f.jsx("textarea",{id:"descricao",value:p.descricao,onChange:A=>g({...p,descricao:A.target.value}),placeholder:"Descrio da categoria...",rows:3})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),f.jsx("button",{type:"button",onClick:S,className:"cancel-button",children:"Cancelar"})]})]}),f.jsx("div",{className:"categorias-list",children:t.map(A=>f.jsxs("div",{className:"categoria-item",children:[f.jsxs("div",{className:"categoria-info",children:[f.jsx("h4",{children:A.nome}),A.descricao&&f.jsx("p",{className:"descricao",children:A.descricao})]}),f.jsxs("div",{className:"categoria-actions",children:[f.jsx("button",{onClick:()=>E(A),className:"edit-button",children:"Editar"}),f.jsx("button",{onClick:()=>a(A.id),className:"delete-button",children:f.jsx(ya,{size:16})})]})]},A.id))})]})},y9=({cores:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=P.useState(!1),[u,m]=P.useState(null),[p,g]=P.useState({nome:"",codigo:"#000000"}),v=A=>{A.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",codigo:"#000000"}),l(!1),m(null))},E=A=>{g({nome:A.nome,codigo:A.codigo}),m(A.id),l(!0)},S=()=>{g({nome:"",codigo:"#000000"}),l(!1),m(null)};return f.jsxs("div",{className:"cor-form",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h3",{children:"Cores de Produtos"}),f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[f.jsx(gi,{size:16}),"Adicionar Cor"]})]}),i&&f.jsxs("form",{onSubmit:v,className:"form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"nome",children:"Nome da Cor"}),f.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:A=>g({...p,nome:A.target.value}),placeholder:"Ex: Preto, Marinho, Branco...",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"codigo",children:"Cdigo da Cor"}),f.jsxs("div",{className:"color-input-group",children:[f.jsx("input",{type:"color",id:"codigo",value:p.codigo,onChange:A=>g({...p,codigo:A.target.value}),className:"color-picker"}),f.jsx("input",{type:"text",value:p.codigo,onChange:A=>g({...p,codigo:A.target.value}),placeholder:"#000000",className:"color-code"})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),f.jsx("button",{type:"button",onClick:S,className:"cancel-button",children:"Cancelar"})]})]}),f.jsx("div",{className:"cores-list",children:t.map(A=>f.jsxs("div",{className:"cor-item",children:[f.jsxs("div",{className:"cor-info",children:[f.jsx("div",{className:"cor-preview",style:{backgroundColor:A.codigo}}),f.jsxs("div",{className:"cor-details",children:[f.jsx("h4",{children:A.nome}),f.jsx("p",{className:"codigo",children:A.codigo})]})]}),f.jsxs("div",{className:"cor-actions",children:[f.jsx("button",{onClick:()=>E(A),className:"edit-button",children:"Editar"}),f.jsx("button",{onClick:()=>a(A.id),className:"delete-button",children:f.jsx(ya,{size:16})})]})]},A.id))})]})},v9=({tamanhos:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=P.useState(!1),[u,m]=P.useState(null),[p,g]=P.useState({nome:"",ordem:1}),v=C=>{C.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",ordem:1}),l(!1),m(null))},E=C=>{g({nome:C.nome,ordem:C.ordem}),m(C.id),l(!0)},S=()=>{g({nome:"",ordem:1}),l(!1),m(null)},A=[...t].sort((C,R)=>C.ordem-R.ordem);return f.jsxs("div",{className:"tamanho-form",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h3",{children:"Tamanhos de Produtos"}),f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[f.jsx(gi,{size:16}),"Adicionar Tamanho"]})]}),i&&f.jsxs("form",{onSubmit:v,className:"form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"nome",children:"Nome do Tamanho"}),f.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:C=>g({...p,nome:C.target.value}),placeholder:"Ex: P, M, G, GG, XG...",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"ordem",children:"Ordem de Exibio"}),f.jsx("input",{type:"number",id:"ordem",value:p.ordem,onChange:C=>g({...p,ordem:parseInt(C.target.value)||1}),min:"1",placeholder:"1"}),f.jsx("small",{children:"Menor nmero aparece primeiro"})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),f.jsx("button",{type:"button",onClick:S,className:"cancel-button",children:"Cancelar"})]})]}),f.jsx("div",{className:"tamanhos-list",children:A.map(C=>f.jsxs("div",{className:"tamanho-item",children:[f.jsxs("div",{className:"tamanho-info",children:[f.jsx("div",{className:"tamanho-ordem",children:C.ordem}),f.jsx("h4",{children:C.nome})]}),f.jsxs("div",{className:"tamanho-actions",children:[f.jsx("button",{onClick:()=>E(C),className:"edit-button",children:"Editar"}),f.jsx("button",{onClick:()=>a(C.id),className:"delete-button",children:f.jsx(ya,{size:16})})]})]},C.id))})]})},_9=({produtos:t,categorias:e,cores:n,tamanhos:a,onAdd:i,onEdit:l,onDelete:u})=>{const[m,p]=P.useState(!1),[g,v]=P.useState(null),[E,S]=P.useState(!1),[A,C]=P.useState([]),[R,j]=P.useState({refCodigo:"",descricao:"",categoriaId:"",coresIds:[],tamanhosIds:[],etapasProducao:[]}),{user:z}=tr();P.useEffect(()=>{(async()=>{if(z)try{const b=await Ga.getStepsByUser(z.uid);C(b)}catch(b){console.error("Erro ao carregar etapas:",b)}})()},[z]);const $=k=>{k.preventDefault(),!(!R.refCodigo.trim()||!R.descricao.trim()||!R.categoriaId)&&(g?l(g,R):i(R),ne())},ne=()=>{j({refCodigo:"",descricao:"",categoriaId:"",coresIds:[],tamanhosIds:[],etapasProducao:[]}),p(!1),v(null),S(!1)},X=k=>{j({refCodigo:k.refCodigo,descricao:k.descricao,categoriaId:k.categoria.id,coresIds:k.cores.map(b=>b.id),tamanhosIds:k.tamanhos.map(b=>b.id),etapasProducao:k.etapasProducao?.map(b=>({etapaId:b.etapa.id,custo:b.custo,ordem:b.ordem}))||[]}),v(k.id),p(!0)},q=k=>{j({...R,categoriaId:k})},Y=k=>{const b=R.coresIds.includes(k)?R.coresIds.filter(N=>N!==k):[...R.coresIds,k];j({...R,coresIds:b})},I=k=>{const b=R.tamanhosIds.includes(k)?R.tamanhosIds.filter(N=>N!==k):[...R.tamanhosIds,k];j({...R,tamanhosIds:b})},O=k=>{const b=R.etapasProducao||[];if(b.some(se=>se.etapaId===k))j({...R,etapasProducao:b.filter(se=>se.etapaId!==k)});else{const se=A.find(ye=>ye.id===k);se&&j({...R,etapasProducao:[...b,{etapaId:se.id,custo:0,ordem:se.order}]})}},M=(k,b)=>{const N=R.etapasProducao||[];j({...R,etapasProducao:N.map(se=>se.etapaId===k?{...se,custo:Math.max(0,b)}:se)})},U=e.find(k=>k.id===R.categoriaId);return f.jsxs("div",{className:"produto-form",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h3",{children:"Produtos"}),f.jsxs("button",{type:"button",onClick:()=>p(!0),className:"add-button",children:[f.jsx(gi,{size:16}),"Adicionar Produto"]})]}),m&&f.jsxs("form",{onSubmit:$,className:"form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"refCodigo",children:"REF/CD"}),f.jsx("input",{type:"text",id:"refCodigo",value:R.refCodigo,onChange:k=>j({...R,refCodigo:k.target.value}),placeholder:"Ex: BLU-001, REG-002...",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"descricao",children:"Descrio"}),f.jsx("input",{type:"text",id:"descricao",value:R.descricao,onChange:k=>j({...R,descricao:k.target.value}),placeholder:"Descrio do produto...",required:!0})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Categoria"}),f.jsxs("div",{className:"dropdown",children:[f.jsxs("button",{type:"button",className:"dropdown-button",onClick:()=>S(!E),children:[U?U.nome:"Selecione uma categoria",f.jsx(Lf,{size:16})]}),E&&f.jsx("div",{className:"dropdown-menu",children:e.map(k=>f.jsx("button",{type:"button",onClick:()=>{q(k.id),S(!1)},className:"dropdown-item",children:k.nome},k.id))})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Cores"}),f.jsx("div",{className:"checkbox-grid",children:n.map(k=>f.jsxs("label",{className:"checkbox-item",children:[f.jsx("input",{type:"checkbox",checked:R.coresIds.includes(k.id),onChange:()=>Y(k.id)}),f.jsx("div",{className:"color-preview",style:{backgroundColor:k.codigo}}),f.jsx("span",{children:k.nome})]},k.id))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Tamanhos"}),f.jsx("div",{className:"checkbox-grid",children:a.sort((k,b)=>k.ordem-b.ordem).map(k=>f.jsxs("label",{className:"checkbox-item",children:[f.jsx("input",{type:"checkbox",checked:R.tamanhosIds.includes(k.id),onChange:()=>I(k.id)}),f.jsx("span",{children:k.nome})]},k.id))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Etapas de Produo e Custos"}),f.jsx("div",{className:"etapas-container-simple",children:A.length>0?f.jsx("div",{className:"etapas-grid",children:A.map(k=>{const b=R.etapasProducao?.find(se=>se.etapaId===k.id),N=!!b;return f.jsxs("div",{className:`etapa-card ${N?"active":""}`,children:[f.jsx("div",{className:"etapa-card-header",children:f.jsxs("label",{className:"etapa-card-checkbox",children:[f.jsx("input",{type:"checkbox",checked:N,onChange:()=>O(k.id)}),f.jsxs("div",{className:"etapa-card-info",children:[f.jsx("span",{className:"etapa-card-nome",children:k.name}),k.description&&f.jsx("span",{className:"etapa-card-desc",children:k.description})]})]})}),N&&f.jsxs("div",{className:"etapa-card-custo",children:[f.jsx("label",{children:"Custo"}),f.jsxs("div",{className:"currency-input",children:[f.jsx("span",{className:"currency-symbol",children:"R$"}),f.jsx("input",{type:"text",value:b?.custo?b.custo.toFixed(2).replace(".",","):"0,00",onChange:se=>{const ye=se.target.value.replace(/\D/g,"").padStart(3,"0"),J=parseInt(ye.slice(0,-2))+parseInt(ye.slice(-2))/100;M(k.id,J)},placeholder:"0,00"})]})]})]},k.id)})}):f.jsxs("div",{className:"etapas-empty",children:[f.jsx("p",{children:"Nenhuma etapa cadastrada ainda."}),f.jsx("span",{children:'Cadastre etapas na aba "Etapas" primeiro.'})]})})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-button",children:g?"Atualizar":"Salvar"}),f.jsx("button",{type:"button",onClick:ne,className:"cancel-button",children:"Cancelar"})]})]}),f.jsx("div",{className:"produtos-list",children:t.map(k=>f.jsxs("div",{className:"produto-item",children:[f.jsxs("div",{className:"produto-info",children:[f.jsxs("div",{className:"produto-header",children:[f.jsx("h4",{children:k.refCodigo}),f.jsx("span",{className:"categoria",children:k.categoria.nome})]}),f.jsx("p",{className:"descricao",children:k.descricao}),f.jsxs("div",{className:"produto-details",children:[f.jsxs("div",{className:"cores",children:[f.jsx("strong",{children:"Cores:"})," ",k.cores.map(b=>b.nome).join(", ")]}),f.jsxs("div",{className:"tamanhos",children:[f.jsx("strong",{children:"Tamanhos:"})," ",k.tamanhos.map(b=>b.nome).join(", ")]})]})]}),f.jsxs("div",{className:"produto-actions",children:[f.jsx("button",{onClick:()=>X(k),className:"edit-button",children:"Editar"}),f.jsx("button",{onClick:()=>u(k.id),className:"delete-button",children:f.jsx(ya,{size:16})})]})]},k.id))})]})},E9=()=>{const{user:t}=tr(),[e,n]=P.useState("produtos"),[a,i]=P.useState(!0),[l,u]=P.useState([]),[m,p]=P.useState([]),[g,v]=P.useState([]),[E,S]=P.useState([]);P.useEffect(()=>{t&&A()},[t]);const A=async()=>{if(t)try{i(!0);const[b,N,se,ye,J]=await Promise.all([Yh.getCategorias(t.uid),Tu.getCores(t.uid),wu.getTamanhos(t.uid),Ga.getStepsByUser(t.uid),Qs.getProdutos(t.uid)]);u(b),p(N),v(se);const W=J.map(F=>{const ie=b.find(fe=>fe.id===F.categoriaId),V=N.filter(fe=>F.coresIds?.includes(fe.id)),Z=se.filter(fe=>F.tamanhosIds?.includes(fe.id)),he=(F.etapasProducaoIds||[]).map(fe=>{const me=ye.find(_e=>_e.id===fe.etapaId);return me?{etapa:{id:me.id,nome:me.name,descricao:me.description||void 0,custo:fe.custo,ativo:!0,createdAt:me.createdAt},custo:fe.custo,ordem:fe.ordem}:null}).filter(fe=>fe!==null);return{...F,categoria:ie||F.categoria,cores:V.length>0?V:F.cores||[],tamanhos:Z.length>0?Z:F.tamanhos||[],etapasProducao:he}});S(W)}catch(b){console.error("Erro ao carregar dados:",b)}finally{i(!1)}},C=async b=>{if(t)try{await Yh.createCategoria(t.uid,b),await A()}catch(N){console.error("Erro ao adicionar categoria:",N),alert("Erro ao adicionar categoria")}},R=async(b,N)=>{try{await Yh.updateCategoria(b,N),await A()}catch(se){console.error("Erro ao editar categoria:",se),alert("Erro ao editar categoria")}},j=async b=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{await Yh.deleteCategoria(b),await A()}catch(N){console.error("Erro ao excluir categoria:",N),alert("Erro ao excluir categoria")}},z=async b=>{if(t)try{await Tu.createCor(t.uid,b),await A()}catch(N){console.error("Erro ao adicionar cor:",N),alert("Erro ao adicionar cor")}},$=async(b,N)=>{try{await Tu.updateCor(b,N),await A()}catch(se){console.error("Erro ao editar cor:",se),alert("Erro ao editar cor")}},ne=async b=>{if(confirm("Tem certeza que deseja excluir esta cor?"))try{await Tu.deleteCor(b),await A()}catch(N){console.error("Erro ao excluir cor:",N),alert("Erro ao excluir cor")}},X=async b=>{if(t)try{await wu.createTamanho(t.uid,b),await A()}catch(N){console.error("Erro ao adicionar tamanho:",N),alert("Erro ao adicionar tamanho")}},q=async(b,N)=>{try{await wu.updateTamanho(b,N),await A()}catch(se){console.error("Erro ao editar tamanho:",se),alert("Erro ao editar tamanho")}},Y=async b=>{if(confirm("Tem certeza que deseja excluir este tamanho?"))try{await wu.deleteTamanho(b),await A()}catch(N){console.error("Erro ao excluir tamanho:",N),alert("Erro ao excluir tamanho")}},I=async b=>{if(t)try{await Qs.createProduto(t.uid,b),await A(),ct.success("Produto criado com sucesso!",{icon:f.jsx(Zn,{size:20})})}catch(N){console.error("Erro ao adicionar produto:",N);const se=N instanceof Error?N.message:"Erro ao criar produto. Tente novamente.";ct.error(se)}},O=async(b,N)=>{try{await Qs.updateProduto(b,N),await A()}catch(se){console.error("Erro ao editar produto:",se),alert("Erro ao editar produto")}},M=async b=>{if(confirm("Tem certeza que deseja excluir este produto?"))try{await Qs.deleteProduto(b),await A()}catch(N){console.error("Erro ao excluir produto:",N),alert("Erro ao excluir produto")}},U=[{key:"produtos",label:"Produtos",icon:zf},{key:"categorias",label:"Categorias",icon:R6},{key:"cores",label:"Cores",icon:r6},{key:"tamanhos",label:"Tamanhos",icon:v6}],k=()=>{switch(e){case"produtos":return f.jsx(_9,{produtos:E,categorias:l,cores:m,tamanhos:g,onAdd:I,onEdit:O,onDelete:M});case"categorias":return f.jsx(g9,{categorias:l,onAdd:C,onEdit:R,onDelete:j});case"cores":return f.jsx(y9,{cores:m,onAdd:z,onEdit:$,onDelete:ne});case"tamanhos":return f.jsx(v9,{tamanhos:g,onAdd:X,onEdit:q,onDelete:Y});default:return null}};return f.jsxs("div",{className:"tab-content",children:[f.jsxs("div",{className:"tab-header",children:[f.jsx("h2",{className:"tab-title",children:"Produtos"}),f.jsx("p",{className:"tab-subtitle",children:"Gerencie produtos, categorias, cores e tamanhos"})]}),a?f.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:f.jsx("p",{children:"Carregando dados..."})}):f.jsxs("div",{className:"product-tabs",children:[f.jsx("div",{className:"product-tab-nav",children:U.map(b=>f.jsxs("button",{onClick:()=>n(b.key),className:`product-tab-button ${e===b.key?"active":""}`,children:[f.jsx(b.icon,{size:16}),b.label]},b.key))}),f.jsx("div",{className:"product-tab-content",children:k()})]})]})},b9="modulepreload",T9=function(t){return"/"+t},ZT={},w9=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let g=function(v){return Promise.all(v.map(E=>Promise.resolve(E).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");i=g(n.map(v=>{if(v=T9(v),v in ZT)return;ZT[v]=!0;const E=v.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const A=document.createElement("link");if(A.rel=E?"stylesheet":b9,E||(A.as="script"),A.crossOrigin="",A.href=v,p&&A.setAttribute("nonce",p),document.head.appendChild(A),E)return new Promise((C,R)=>{A.addEventListener("load",C),A.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return i.then(m=>{for(const p of m||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},Xh="ordensProducao",wl={async getOrders(t){const e=Dn(mt(we,Xh),In("userId","==",t),da("createdAt","desc"));return(await Tn(e)).docs.map(a=>{const i=a.data();return{id:a.id,codigo:i.codigo,produtoId:i.produtoId,produtoDescricao:i.produtoDescricao,produtoRef:i.produtoRef,prioridade:i.prioridade,status:i.status,dataInicio:i.dataInicio,dataPrevista:i.dataPrevista,responsavelId:i.responsavelId||void 0,responsavelNome:i.responsavelNome||void 0,createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId,grade:i.grade??[]}})},async createOrder(t,e,n,a){const i=e.grade.map(l=>({...l,total:Object.values(l.quantidades).reduce((u,m)=>u+m,0)}));await ga(mt(we,Xh),{produtoId:e.produtoId,produtoDescricao:n.descricao,produtoRef:n.refCodigo,prioridade:e.prioridade,dataInicio:e.dataInicio,dataPrevista:e.dataPrevista,responsavelId:e.responsavelId||null,responsavelNome:a||null,grade:i,userId:t,status:"em_producao",codigo:`OP${Date.now()}`,createdAt:vt(),updatedAt:vt()})},async updateOrder(t,e,n,a){const i=e.grade.map(l=>({...l,total:Object.values(l.quantidades).reduce((u,m)=>u+m,0)}));await Wn(We(we,Xh,t),{produtoId:e.produtoId,produtoDescricao:n.descricao,produtoRef:n.refCodigo,prioridade:e.prioridade,dataInicio:e.dataInicio,dataPrevista:e.dataPrevista,responsavelId:e.responsavelId||null,responsavelNome:a||null,grade:i,updatedAt:vt()})},async deleteOrder(t){await Pr(We(we,Xh,t))}},to="producaoProgresso",Wh=t=>{const e={};return e.etapaId=t.etapaId,e.etapaNome=t.etapaNome,e.ordem=t.ordem,e.finalizadas=t.finalizadas??0,e.defeituosas=t.defeituosas??0,e.status=t.status,t.responsavelId&&(e.responsavelId=t.responsavelId),t.responsavelNome&&(e.responsavelNome=t.responsavelNome),t.dataInicio&&(e.dataInicio=t.dataInicio),t.dataFim&&(e.dataFim=t.dataFim),t.observacoes&&t.observacoes.length>0&&(e.observacoes=t.observacoes),e},Zr={async getProgressByOrderId(t){const e=Dn(mt(we,to),In("ordemProducaoId","==",t)),n=await Tn(e);if(n.empty)return null;const a=n.docs[0],i=a.data();return{id:a.id,ordemProducaoId:i.ordemProducaoId,etapas:i.etapas??[],createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId}},async getAllProgress(t){const e=Dn(mt(we,to),In("userId","==",t),da("updatedAt","desc"));return(await Tn(e)).docs.map(a=>{const i=a.data();return{id:a.id,ordemProducaoId:i.ordemProducaoId,etapas:i.etapas??[],createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId}})},async initializeProgress(t,e,n){if(await this.getProgressByOrderId(e))return;const l=n.sort((u,m)=>u.order-m.order).map((u,m)=>{const p={etapaId:u.id,etapaNome:u.name,ordem:u.order,finalizadas:0,defeituosas:0,status:m===0?"em_andamento":"pausada"};return m===0&&(p.dataInicio=new Date().toISOString().split("T")[0]),p}).map(u=>Wh(u));await ga(mt(we,to),{ordemProducaoId:e,etapas:l,userId:t,createdAt:vt(),updatedAt:vt()})},async updateStageProgress(t,e){const n=We(we,to,t),a=await Nl(n);if(!a.exists())throw new Error("Progresso no encontrado");const l=a.data().etapas??[],u=l.findIndex(v=>v.etapaId===e.etapaId);if(u===-1)throw new Error("Etapa no encontrada no progresso");const m=l[u],p={};e.finalizadas!==void 0&&(p.finalizadas=e.finalizadas),e.defeituosas!==void 0&&(p.defeituosas=e.defeituosas),e.responsavelId!==void 0&&(p.responsavelId=e.responsavelId),e.status!==void 0&&(p.status=e.status),e.dataFim!==void 0&&(p.dataFim=e.dataFim),l[u]={etapaId:m.etapaId,etapaNome:m.etapaNome,ordem:m.ordem,finalizadas:p.finalizadas??m.finalizadas??0,defeituosas:p.defeituosas??m.defeituosas??0,status:p.status??m.status,...p},m.responsavelId&&(l[u].responsavelId=m.responsavelId),m.responsavelNome&&(l[u].responsavelNome=m.responsavelNome),m.dataInicio&&(l[u].dataInicio=m.dataInicio),m.observacoes&&m.observacoes.length>0&&(l[u].observacoes=m.observacoes);const g=l.map(v=>Wh(v));await Wn(n,{etapas:g,updatedAt:vt()})},async finalizeStage(t,e,n,a=0){await this.updateStageProgress(t,{etapaId:e,finalizadas:n,defeituosas:a,status:"finalizada",dataFim:new Date().toISOString().split("T")[0]})},async pauseStage(t,e){await this.updateStageProgress(t,{etapaId:e,status:"pausada"})},async resumeStage(t,e){await this.updateStageProgress(t,{etapaId:e,status:"em_andamento"})},async finalizeStageWithDetails(t,e,n,a,i){try{const l=We(we,to,t),u=await Nl(l);if(!u.exists())throw new Error("Progresso no encontrado");const v=(u.data().etapas||[]).map(E=>{if(E.etapaId===e){const A={etapaId:E.etapaId,etapaNome:E.etapaNome,ordem:E.ordem,finalizadas:n,defeituosas:a,status:"finalizada",dataFim:new Date().toISOString().split("T")[0]};return E.responsavelId&&(A.responsavelId=E.responsavelId),E.responsavelNome&&(A.responsavelNome=E.responsavelNome),E.dataInicio&&(A.dataInicio=E.dataInicio),i?A.observacoes=[i]:E.observacoes&&E.observacoes.length>0&&(A.observacoes=E.observacoes),A}const S={etapaId:E.etapaId,etapaNome:E.etapaNome,ordem:E.ordem,finalizadas:E.finalizadas||0,defeituosas:E.defeituosas||0,status:E.status};return E.responsavelId&&(S.responsavelId=E.responsavelId),E.responsavelNome&&(S.responsavelNome=E.responsavelNome),E.dataInicio&&(S.dataInicio=E.dataInicio),E.dataFim&&(S.dataFim=E.dataFim),E.observacoes&&E.observacoes.length>0&&(S.observacoes=E.observacoes),S}).map(E=>Wh(E));await Wn(l,{etapas:v,updatedAt:vt()})}catch(l){throw console.error("Erro ao finalizar etapa:",l),l}},async startNextStage(t,e,n,a){try{const i=We(we,to,t),l=await Nl(i);if(!l.exists())throw new Error("Progresso no encontrado");const g=(l.data().etapas||[]).map(v=>{if(v.etapaId===e)return{etapaId:v.etapaId,etapaNome:v.etapaNome,ordem:v.ordem,status:"em_andamento",responsavelId:n,responsavelNome:a,dataInicio:new Date().toISOString().split("T")[0],finalizadas:0,defeituosas:0};const E={etapaId:v.etapaId,etapaNome:v.etapaNome,ordem:v.ordem,finalizadas:v.finalizadas||0,defeituosas:v.defeituosas||0,status:v.status};return v.responsavelId&&(E.responsavelId=v.responsavelId),v.responsavelNome&&(E.responsavelNome=v.responsavelNome),v.dataInicio&&(E.dataInicio=v.dataInicio),v.dataFim&&(E.dataFim=v.dataFim),v.observacoes&&v.observacoes.length>0&&(E.observacoes=v.observacoes),E}).map(v=>Wh(v));await Wn(i,{etapas:g,updatedAt:vt()})}catch(i){throw console.error("Erro ao iniciar prxima etapa:",i),i}},async deleteProgress(t){try{await Pr(We(we,to,t))}catch(e){throw console.error("Erro ao deletar progresso:",e),e}}},no="lancamentosFinanceiros",JT=t=>{const e={};return Object.keys(t).forEach(n=>{t[n]!==void 0&&(e[n]=t[n])}),e},Ol={async createLancamento(t,e){try{const n=JT({...t,dataVencimento:Ge.fromDate(t.dataVencimento),status:"pendente",userId:e,createdAt:vt(),updatedAt:vt()});return(await ga(mt(we,no),n)).id}catch(n){throw console.error("Erro ao criar lanamento financeiro:",n),n}},async getLancamentosByUser(t){try{const e=Dn(mt(we,no),In("userId","==",t),da("dataVencimento","desc"));return(await Tn(e)).docs.map(a=>{const i=a.data();return{id:a.id,...i,dataVencimento:i.dataVencimento?.toDate()||new Date,dataPagamento:i.dataPagamento?.toDate(),createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Erro ao buscar lanamentos:",e),e}},async getLancamentosPendentes(t){try{const e=Dn(mt(we,no),In("userId","==",t),In("status","in",["pendente","atrasado"]),da("dataVencimento","asc")),a=(await Tn(e)).docs.map(l=>{const u=l.data();return{id:l.id,...u,dataVencimento:u.dataVencimento?.toDate()||new Date,dataPagamento:u.dataPagamento?.toDate(),createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date}}),i=new Date;i.setHours(0,0,0,0);for(const l of a){const u=new Date(l.dataVencimento);u.setHours(0,0,0,0),l.status==="pendente"&&u<i&&(await this.updateLancamento(l.id,{status:"atrasado"}),l.status="atrasado")}return a}catch(e){throw console.error("Erro ao buscar lanamentos pendentes:",e),e}},async getLancamentosPagos(t){try{const e=Dn(mt(we,no),In("userId","==",t),In("status","==","pago"),da("dataPagamento","desc"));return(await Tn(e)).docs.map(a=>{const i=a.data();return{id:a.id,...i,dataVencimento:i.dataVencimento?.toDate()||new Date,dataPagamento:i.dataPagamento?.toDate(),createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Erro ao buscar lanamentos pagos:",e),e}},async updateLancamento(t,e){try{const n=We(we,no,t),a=JT({...e,dataPagamento:e.dataPagamento?Ge.fromDate(e.dataPagamento):void 0,updatedAt:vt()});await Wn(n,a)}catch(n){throw console.error("Erro ao atualizar lanamento:",n),n}},async marcarComoPago(t){try{await this.updateLancamento(t,{status:"pago",dataPagamento:new Date})}catch(e){throw console.error("Erro ao marcar lanamento como pago:",e),e}},async deleteLancamento(t){try{await Pr(We(we,no,t))}catch(e){throw console.error("Erro ao deletar lanamento:",e),e}},async deleteLancamentosByOrdem(t){try{const e=Dn(mt(we,no),In("ordemProducaoId","==",t)),a=(await Tn(e)).docs.map(i=>Pr(i.ref));await Promise.all(a)}catch(e){throw console.error("Erro ao deletar lanamentos da ordem:",e),e}}},S9=[{label:"Alta",value:"alta"},{label:"Mdia",value:"media"},{label:"Baixa",value:"baixa"}],A9=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:a,orderToEdit:i})=>{const{user:l}=tr(),[u,m]=P.useState([]),[p,g]=P.useState([]),[v,E]=P.useState([]),[S,A]=P.useState(""),[C,R]=P.useState({produtoId:"",prioridade:"",dataInicio:"",dataPrevista:"",responsavelId:""}),[j,z]=P.useState([]),[$,ne]=P.useState(""),[X,q]=P.useState(!1),Y=P.useRef(null);P.useEffect(()=>{!l||!t||(async()=>{const[W,F,ie,V]=await Promise.all([Qs.getProdutos(l.uid),Tu.getCores(l.uid),wu.getTamanhos(l.uid),Xs.getFaccoes()]);g(F),E(V.filter(he=>he.ativo)),A(F[0]?.id||"");const Z=W.map(he=>{const fe=ie.filter(me=>he.tamanhosIds?.includes(me.id||""));return{...he,tamanhos:fe.length>0?fe:[]}});m(Z)})()},[l,t]),P.useEffect(()=>{t||(R({produtoId:"",prioridade:"",dataInicio:"",dataPrevista:"",responsavelId:""}),z([]),ne(""),q(!1))},[t]),P.useEffect(()=>{if(t&&i){R({produtoId:i.produtoId,prioridade:i.prioridade,dataInicio:i.dataInicio,dataPrevista:i.dataPrevista,responsavelId:i.responsavelId||""});const W=u.find(ie=>ie.id===i.produtoId);W&&ne(W.refCodigo);const F=i.grade.map(ie=>{if(ie.quantidades)return{corId:ie.corId,quantidades:ie.quantidades};{const V=u.find(Z=>Z.id===i.produtoId);if(V&&V.tamanhos){const Z={},he=[...V.tamanhos].sort((me,_e)=>me.ordem-_e.ordem),fe=["pp","p","m","g","gg"];return he.forEach((me,_e)=>{if(_e<fe.length){const ge=fe[_e],Ce=ie;Z[me.id]=Ce[ge]||0}}),{corId:ie.corId,quantidades:Z}}return{corId:ie.corId,quantidades:{}}}});z(F)}},[t,i,u]);const I=P.useMemo(()=>u.find(W=>W.id===C.produtoId),[u,C.produtoId]),O=P.useMemo(()=>!I||!I.tamanhosIds?[]:[...I.tamanhos].sort((W,F)=>W.ordem-F.ordem),[I]),M=P.useMemo(()=>{if(!$.trim())return u;const W=$.toLowerCase();return u.filter(F=>F.refCodigo.toLowerCase().includes(W)||F.descricao.toLowerCase().includes(W))},[u,$]),U=P.useMemo(()=>`1.5 fr repeat(${O.length}, 0.8fr) 1fr 0.4fr`,[O]);P.useEffect(()=>{const W=F=>{Y.current&&!Y.current.contains(F.target)&&q(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),P.useEffect(()=>{ne(I?I.refCodigo:"")},[I]);const k=()=>{if(!S||j.some(F=>F.corId===S))return;const W={};O.forEach(F=>{W[F.id]=0}),z(F=>[...F,{corId:S,quantidades:W}])},b=W=>{z(F=>F.filter(ie=>ie.corId!==W))},N=(W,F,ie)=>{z(V=>V.map(Z=>Z.corId===W?{...Z,quantidades:{...Z.quantidades,[F]:Number.isNaN(ie)?0:Math.max(0,Math.floor(ie))}}:Z))},se=W=>Object.values(W.quantidades).reduce((F,ie)=>F+ie,0),ye=j.reduce((W,F)=>W+se(F),0),J=async W=>{if(W.preventDefault(),!I||!C.prioridade||!C.dataInicio||!C.dataPrevista||j.length===0)return;const F={produtoId:I.id,prioridade:C.prioridade,dataInicio:C.dataInicio,dataPrevista:C.dataPrevista,responsavelId:C.responsavelId||void 0,grade:j.map(ie=>{const V=p.find(Z=>Z.id===ie.corId);return{corId:ie.corId,corNome:V?.nome??"Cor removida",quantidades:ie.quantidades}})};await n(F)};return t?f.jsx("div",{className:"order-modal-overlay",children:f.jsxs("div",{className:"order-modal",children:[f.jsxs("header",{className:"order-modal__header",children:[f.jsxs("div",{children:[f.jsx("h2",{children:i?"Editar Ordem de Produo":"Nova Ordem de Produo"}),f.jsx("p",{children:i?"Edite os dados da ordem de produo.":"Crie uma nova ordem com todas as especificaes."})]}),f.jsx("button",{className:"order-modal__close",onClick:e,children:f.jsx(ya,{size:18})})]}),f.jsxs("form",{className:"order-modal__form",onSubmit:J,children:[f.jsxs("div",{className:"order-modal__grid",children:[f.jsxs("label",{className:"order-modal__field",children:[f.jsx("span",{children:"Produto*"}),f.jsxs("div",{ref:Y,className:"order-modal__product-search",children:[f.jsxs("div",{className:"order-modal__product-input-wrapper",children:[f.jsx(yo,{size:18,className:"order-modal__search-icon"}),f.jsx("input",{type:"text",value:$,onChange:W=>{ne(W.target.value),q(!0),W.target.value||R(F=>({...F,produtoId:""}))},onFocus:()=>q(!0),placeholder:"Pesquisar por REF..."})]}),X&&$.trim()&&!I&&f.jsx("div",{className:"order-modal__product-dropdown",children:M.length>0?M.map(W=>f.jsxs("button",{type:"button",className:"order-modal__product-option",onClick:()=>{R(F=>({...F,produtoId:W.id})),ne(W.refCodigo),q(!1)},children:[f.jsx("div",{className:"order-modal__product-option-ref",children:W.refCodigo}),f.jsx("div",{className:"order-modal__product-option-desc",children:W.descricao})]},W.id)):f.jsx("div",{className:"order-modal__product-empty",children:"Nenhum produto encontrado"})}),I&&f.jsxs("div",{className:"order-modal__product-selected",children:[f.jsx("span",{className:"order-modal__product-selected-label",children:"Descrio:"}),f.jsx("span",{className:"order-modal__product-selected-value",children:I.descricao})]})]})]}),f.jsxs("label",{className:"order-modal__field",children:[f.jsx("span",{children:"Prioridade*"}),f.jsxs("select",{value:C.prioridade,onChange:W=>R(F=>({...F,prioridade:W.target.value})),required:!0,children:[f.jsx("option",{value:"",children:"Selecione uma prioridade"}),S9.map(W=>f.jsx("option",{value:W.value,children:W.label},W.value))]})]}),f.jsxs("label",{className:"order-modal__field",children:[f.jsx("span",{children:"Responsvel (Faco)"}),f.jsxs("select",{value:C.responsavelId,onChange:W=>R(F=>({...F,responsavelId:W.target.value})),children:[f.jsx("option",{value:"",children:"Nenhum responsvel"}),v.map(W=>f.jsx("option",{value:W.id,children:W.nome},W.id))]})]}),f.jsxs("label",{className:"order-modal__field",children:[f.jsx("span",{children:"Data de Incio"}),f.jsx("input",{type:"date",value:C.dataInicio,onChange:W=>R(F=>({...F,dataInicio:W.target.value}))})]}),f.jsxs("label",{className:"order-modal__field",children:[f.jsx("span",{children:"Data Prevista"}),f.jsx("input",{type:"date",value:C.dataPrevista,onChange:W=>R(F=>({...F,dataPrevista:W.target.value}))})]})]}),f.jsxs("section",{className:"order-modal__grade",children:[f.jsxs("div",{className:"order-modal__grade-header",children:[f.jsx("h3",{children:"Grade de Produo"}),f.jsxs("div",{className:"order-modal__grade-actions",children:[f.jsx("select",{value:S,onChange:W=>A(W.target.value),children:p.map(W=>f.jsx("option",{value:W.id,children:W.nome},W.id))}),f.jsx("button",{type:"button",className:"order-modal__grade-add",onClick:k,disabled:!S,children:f.jsx(gi,{size:18})})]})]}),f.jsxs("div",{className:"order-modal__grade-table",children:[f.jsxs("div",{className:"order-modal__grade-header-row",style:{gridTemplateColumns:U},children:[f.jsx("span",{children:"Cor"}),O.map(W=>f.jsx("span",{children:W.nome},W.id)),f.jsx("span",{children:"Total"}),f.jsx("span",{})]}),j.map(W=>{const F=p.find(ie=>ie.id===W.corId);return f.jsxs("div",{className:"order-modal__grade-row",style:{gridTemplateColumns:U},children:[f.jsx("span",{children:F?.nome??"Cor removida"}),O.map(ie=>f.jsx("input",{type:"number",min:0,value:W.quantidades[ie.id]||0,onChange:V=>N(W.corId,ie.id,Number(V.target.value))},ie.id)),f.jsx("span",{className:"order-modal__grade-total",children:se(W)}),f.jsx("button",{type:"button",className:"order-modal__grade-remove",onClick:()=>b(W.corId),children:f.jsx(ec,{size:18})})]},W.corId)}),j.length===0&&f.jsx("div",{className:"order-modal__grade-empty",children:"Nenhuma cor adicionado ainda"})]}),f.jsxs("footer",{className:"order-modal__grade-footer",children:[f.jsx("span",{children:"Total de peas:"}),f.jsx("strong",{children:ye})]})]}),f.jsxs("footer",{className:"order-modal__footer",children:[f.jsx("button",{type:"button",disabled:a,className:"order-modal__btn outline",onClick:e,children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:a,className:"order-modal__btn primary",children:a?i?"Atualizando...":"Criando...":i?"Atualizar Ordem":"Criar Ordem"})]})]})]})}):null},ew={alta:{label:"Alta",className:"badge priority-high"},media:{label:"Mdia",className:"badge priority-medium"},baixa:{label:"Baixa",className:"badge priority-low"}},tw={planejada:{label:"Planejada",className:"badge status-gray"},em_producao:{label:"Em Produo",className:"badge status-warning"},concluida:{label:"Concluda",className:"badge status-success"}},x9=()=>{const{user:t}=tr(),[e,n]=P.useState([]),[a,i]=P.useState([]),[l,u]=P.useState(""),[m,p]=P.useState(!1),[g,v]=P.useState(!1),[E,S]=P.useState(null),A=async()=>{if(!t)return;const[X,q]=await Promise.all([wl.getOrders(t.uid),Qs.getProdutos(t.uid)]);n(X),i(q)};P.useEffect(()=>{A()},[t]);const C=P.useMemo(()=>{const X=l.trim().toLowerCase();return X?e.filter(q=>{const Y=a.find(I=>I.id===q.produtoId);return q.codigo.toLowerCase().includes(X)||Y?.descricao.toLowerCase().includes(X)||Y?.refCodigo.toLowerCase().includes(X)}):e},[e,a,l]),R=X=>X.grade.reduce((q,Y)=>q+Y.total,0),j=async X=>{if(!t)return;const q=a.find(Y=>Y.id===X.produtoId);if(!q){ct.error("Produto no encontrado");return}try{v(!0);let Y;if(X.responsavelId){const{faccaoService:I}=await w9(async()=>{const{faccaoService:U}=await Promise.resolve().then(()=>c9);return{faccaoService:U}},[]);Y=(await I.getFaccoes()).find(U=>U.id===X.responsavelId)?.nome}E?(await wl.updateOrder(E.id,X,{descricao:q.descricao,refCodigo:q.refCodigo},Y),ct.success("Ordem de produo atualizada com sucesso!",{icon:f.jsx(Zn,{size:20})})):(await wl.createOrder(t.uid,X,{descricao:q.descricao,refCodigo:q.refCodigo},Y),ct.success("Ordem de produo criada com sucesso!",{icon:f.jsx(Zn,{size:20})})),await A(),p(!1),S(null)}catch(Y){console.error("Erro ao criar ordem de produo:",Y);const I=Y instanceof Error?Y.message:"Erro ao criar ordem de produo. Tente novamente.";ct.error(I)}finally{v(!1)}},z=X=>{S(X),p(!0)},$=()=>{S(null),p(!0)},ne=async X=>{const q=e.find(I=>I.id===X);if(!q)return;const Y=`Tem certeza que deseja excluir a ordem ${q.codigo}?

Esta ao no pode ser desfeita e tambm excluir os lanamentos financeiros associados.`;if(window.confirm(Y))try{try{const I=await Zr.getProgressByOrderId(X);I&&await Zr.deleteProgress(I.id)}catch(I){console.error("Erro ao deletar progresso:",I)}try{await Ol.deleteLancamentosByOrdem(X)}catch(I){console.error("Erro ao deletar lanamentos financeiros:",I)}await wl.deleteOrder(X),await A(),ct.success("Ordem de produo excluda com sucesso!",{icon:f.jsx(Zn,{size:20})})}catch(I){console.error("Erro ao excluir ordem:",I),ct.error("Erro ao excluir ordem de produo. Tente novamente.")}};return f.jsxs("div",{className:"ordens-container",children:[f.jsxs("header",{className:"ordens-header",children:[f.jsxs("div",{children:[f.jsx("h2",{children:"Ordens de Produo"}),f.jsx("p",{children:"Programe e gerencie suas ordens de produo"})]}),f.jsxs("button",{className:"ordens-new-btn",onClick:$,children:[f.jsx(gi,{size:20}),"Nova Ordem"]})]}),f.jsxs("div",{className:"ordens-search",children:[f.jsx(yo,{size:18}),f.jsx("input",{type:"text",placeholder:"Buscar por nmero da OP, produto ou referncia...",value:l,onChange:X=>u(X.target.value)})]}),f.jsxs("section",{className:"ordens-list",children:[C.map(X=>{const q=a.find(I=>I.id===X.produtoId),Y=q?.tamanhos?[...q.tamanhos].sort((I,O)=>I.ordem-O.ordem):[];return f.jsxs("article",{className:"ordem-card",children:[f.jsxs("div",{className:"ordem-card__header",children:[f.jsxs("div",{className:"ordem-card__header-left",children:[f.jsx("div",{className:"ordem-card__icon",children:f.jsx(mx,{size:24})}),f.jsxs("div",{className:"ordem-card__info-main",children:[f.jsx("div",{className:"ordem-card__code",children:X.codigo}),f.jsx("h3",{className:"ordem-card__title",children:q?.descricao??"Produto removido"}),f.jsxs("div",{className:"ordem-card__meta",children:[f.jsxs("div",{className:"ordem-card__meta-item",children:[f.jsx("span",{children:"REF:"}),f.jsx("strong",{children:q?.refCodigo??"--"})]}),f.jsx("span",{className:"badge badge-neutral",children:q?.categoria?.nome??"Categoria"})]})]})]}),f.jsxs("div",{className:"ordem-card__header-right",children:[f.jsxs("div",{className:"ordem-card__status",children:[f.jsx("span",{className:ew[X.prioridade].className,children:ew[X.prioridade].label}),f.jsx("span",{className:tw[X.status].className,children:tw[X.status].label})]}),f.jsxs("div",{className:"ordem-card__actions",children:[f.jsx("button",{className:"icon-button",children:f.jsx(g6,{size:16})}),f.jsx("button",{className:"icon-button",onClick:()=>z(X),children:f.jsx(c6,{size:16})}),f.jsx("button",{className:"icon-button icon-button-danger",onClick:()=>ne(X.id),title:"Excluir ordem",children:f.jsx(ec,{size:16})})]})]})]}),f.jsxs("div",{className:"ordem-card__body",children:[f.jsxs("div",{className:"ordem-card__dates",children:[f.jsxs("div",{className:"ordem-card__date-item",children:[f.jsx("div",{className:"ordem-card__date-icon",children:f.jsx(zl,{size:18})}),f.jsxs("div",{className:"ordem-card__date-content",children:[f.jsx("span",{className:"ordem-card__date-label",children:"Incio"}),f.jsx("span",{className:"ordem-card__date-value",children:X.dataInicio||"--"})]})]}),f.jsxs("div",{className:"ordem-card__date-item",children:[f.jsx("div",{className:"ordem-card__date-icon",children:f.jsx(x3,{size:18})}),f.jsxs("div",{className:"ordem-card__date-content",children:[f.jsx("span",{className:"ordem-card__date-label",children:"Previso"}),f.jsx("span",{className:"ordem-card__date-value",children:X.dataPrevista||"--"})]})]}),f.jsxs("div",{className:"ordem-card__date-item",children:[f.jsx("div",{className:"ordem-card__date-icon",children:f.jsx(k3,{size:18})}),f.jsxs("div",{className:"ordem-card__date-content",children:[f.jsx("span",{className:"ordem-card__date-label",children:"Total"}),f.jsxs("span",{className:"ordem-card__date-value",children:[R(X)," peas"]})]})]})]}),f.jsxs("div",{className:"ordem-card__grade-section",children:[f.jsx("h4",{className:"ordem-card__grade-title",children:"Grade de Produo"}),f.jsxs("div",{className:"ordem-card__table",children:[f.jsxs("div",{className:"ordem-card__table-header",children:[f.jsx("span",{children:"Cor"}),Y.map(I=>f.jsx("span",{children:I.nome},I.id)),f.jsx("span",{children:"Total"})]}),X.grade.map(I=>f.jsxs("div",{className:"ordem-card__table-row",children:[f.jsx("span",{children:I.corNome}),Y.map(O=>f.jsx("span",{children:I.quantidades[O.id]||0},O.id)),f.jsx("span",{children:I.total})]},I.corId))]})]})]})]},X.id)}),C.length===0&&f.jsxs("div",{className:"ordens-empty",children:[f.jsx(yo,{size:24}),'Nenhuma ordem encontrada. Clique em "Nova Ordem" para comear.']})]}),f.jsx(A9,{isOpen:m,onClose:()=>{p(!1),S(null)},onSubmit:j,isSubmitting:g,orderToEdit:E??void 0})]})},C9=({isOpen:t,onClose:e,order:n,currentStage:a,availableStages:i,faccoes:l,totalPecas:u,onSubmit:m,isSubmitting:p})=>{const[g,v]=P.useState({finalizadas:u,defeituosas:0,proximaEtapaId:"",responsavelProximaEtapaId:"",observacoes:""}),E=async C=>{if(C.preventDefault(),g.finalizadas+g.defeituosas>u){qt.error("O nmero de peas finalizadas e defeituosas no pode ser maior que o total de peas");return}if(!A){if(!g.proximaEtapaId){alert("Selecione a prxima etapa");return}if(!g.responsavelProximaEtapaId){alert("Selecione o responsvel pela prxima etapa");return}}await m(g)},S=()=>{p||(v({finalizadas:u,defeituosas:0,proximaEtapaId:"",responsavelProximaEtapaId:"",observacoes:""}),e())},A=i.length===0;return t?f.jsx("div",{className:"finalize-modal-overlay",children:f.jsxs("div",{className:"finalize-modal",children:[f.jsxs("header",{className:"finalize-modal-header",children:[f.jsxs("div",{children:[f.jsx("h2",{children:"Finalizar Etapa"}),f.jsxs("p",{children:[n.codigo," - ",a.etapaNome]})]}),f.jsx("button",{className:"finalize-modal-close",onClick:S,disabled:p,children:f.jsx(ya,{size:18})})]}),f.jsxs("form",{className:"finalize-modal-form",onSubmit:E,children:[f.jsxs("div",{className:"finalize-form-section",children:[f.jsx("h3",{className:"finalize-section-title",children:"Quantidades"}),f.jsxs("div",{className:"finalize-form-row",children:[f.jsxs("div",{className:"finalize-form-field",children:[f.jsxs("label",{children:["Peas Finalizadas*",f.jsxs("span",{className:"field-hint",children:["Total: ",u]})]}),f.jsx("input",{type:"number",min:0,max:u,value:g.finalizadas,onChange:C=>v({...g,finalizadas:parseInt(C.target.value)||0}),required:!0,disabled:p})]}),f.jsxs("div",{className:"finalize-form-field",children:[f.jsxs("label",{children:["Peas Defeituosas*",f.jsx("span",{className:"field-hint",children:"Opcional"})]}),f.jsx("input",{type:"number",min:0,value:g.defeituosas,onChange:C=>v({...g,defeituosas:parseInt(C.target.value)||0}),disabled:p})]})]}),g.finalizadas+g.defeituosas>u&&f.jsxs("div",{className:"finalize-alert",children:[f.jsx(Uf,{size:20}),f.jsxs("span",{children:["A soma no pode ser maior que ",u," peas"]})]})]}),f.jsxs("div",{className:"finalize-form-section",children:[f.jsx("h3",{className:"finalize-section-title",children:"Prxima Etapa"}),A?f.jsxs("div",{className:"finalize-alert",children:[f.jsx(Uf,{size:20}),f.jsx("span",{children:"Esta  a ltima etapa da produo. Ao finalizar, a ordem ser concluda."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"finalize-form-field",children:[f.jsx("label",{children:"Etapa*"}),f.jsxs("div",{className:"finalize-select-wrapper",children:[f.jsxs("select",{value:g.proximaEtapaId,onChange:C=>v({...g,proximaEtapaId:C.target.value}),required:!A,disabled:p||A,children:[f.jsx("option",{value:"",children:"Selecione a etapa"}),i.map(C=>f.jsx("option",{value:C.id,children:C.name},C.id))]}),f.jsx(Lf,{size:18,className:"select-icon"})]})]}),f.jsxs("div",{className:"finalize-form-field",children:[f.jsx("label",{children:"Responsvel*"}),f.jsxs("div",{className:"finalize-select-wrapper",children:[f.jsxs("select",{value:g.responsavelProximaEtapaId,onChange:C=>v({...g,responsavelProximaEtapaId:C.target.value}),required:!A,disabled:p||A,children:[f.jsx("option",{value:"",children:"Selecione o responsvel"}),l.map(C=>f.jsx("option",{value:C.id,children:C.nome},C.id))]}),f.jsx(Lf,{size:18,className:"select-icon"})]})]})]})]}),f.jsxs("div",{className:"finalize-form-section",children:[f.jsx("h3",{className:"finalize-section-title",children:"Observaes"}),f.jsxs("div",{className:"finalize-form-field",children:[f.jsxs("label",{children:["Problemas ou observaes",f.jsx("span",{className:"field-hint",children:"Opcional"})]}),f.jsx("textarea",{rows:4,value:g.observacoes,onChange:C=>v({...g,observacoes:C.target.value}),disabled:p,placeholder:"Descreva problemas encontrados, atrasos, ou outras observaes relevantes..."})]})]}),f.jsxs("footer",{className:"finalize-modal-footer",children:[f.jsx("button",{type:"button",className:"finalize-btn finalize-btn-cancel",onClick:S,disabled:p,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"finalize-btn finalize-btn-submit",disabled:p,children:p?"Finalizando...":"Finalizar Etapa"})]})]})]})}):null},R9=()=>{const{user:t}=tr(),[e,n]=P.useState([]),[a,i]=P.useState([]),[l,u]=P.useState([]),[m,p]=P.useState(new Map),[g,v]=P.useState(""),[E,S]=P.useState("all"),[A,C]=P.useState([]),[R,j]=P.useState(!1),[z,$]=P.useState(null),[ne,X]=P.useState(!1),q=P.useCallback(async()=>{if(t)try{const[F,ie,V,Z]=await Promise.all([wl.getOrders(t.uid),Ga.getStepsByUser(t.uid),Xs.getFaccoes(),Qs.getProdutos(t.uid)]);n(F),i(ie),C(V);const he=Z.map(me=>{const _e=(me.etapasProducaoIds||[]).map(ge=>{const Ce=ie.find(Oe=>Oe.id===ge.etapaId);return Ce?{etapa:{id:Ce.id,nome:Ce.name,descricao:Ce.description||void 0,custo:ge.custo,ativo:!0,createdAt:Ce.createdAt},custo:ge.custo,ordem:ge.ordem}:null}).filter(ge=>ge!==null);return{...me,etapasProducao:_e}});u(he);const fe=new Map;for(const me of F){let _e=await Zr.getProgressByOrderId(me.id);if(!_e){const ge=he.find(Ce=>Ce.id===me.produtoId);if(ge&&ge.etapasProducao&&ge.etapasProducao.length>0){const Ce=ge.etapasProducao.map(Oe=>{const Wt=ie.find(Zt=>Zt.id===Oe.etapa.id);return Wt?{...Wt,order:Oe.ordem}:null}).filter(Oe=>Oe!==null).sort((Oe,Wt)=>Oe.order-Wt.order);Ce.length>0&&(await Zr.initializeProgress(t.uid,me.id,Ce),_e=await Zr.getProgressByOrderId(me.id))}}_e&&fe.set(me.id,_e)}p(fe)}catch(F){console.error("Erro ao carregar dados:",F)}},[t]);P.useEffect(()=>{q()},[q]);const Y=P.useMemo(()=>{let F=e;if(g.trim()){const ie=g.trim().toLowerCase();F=F.filter(V=>V.codigo.toLowerCase().includes(ie)||V.produtoDescricao.toLowerCase().includes(ie)||V.produtoRef.toLowerCase().includes(ie)||V.responsavelNome?.toLowerCase().includes(ie))}return E!=="all"&&(F=F.filter(ie=>{const V=m.get(ie.id);return V?V.etapas.some(Z=>Z.etapaId===E&&Z.status==="em_andamento"):!1})),F},[e,g,E,m]),I=F=>F.grade.reduce((ie,V)=>ie+V.total,0),O=F=>{const ie=m.get(F);return ie?ie.etapas.find(V=>V.status==="em_andamento"):null},M=F=>{const ie=m.get(F);if(!ie)return null;const V=O(F);return V?ie.etapas.find(Z=>Z.ordem>V.ordem&&Z.status!=="finalizada"):ie.etapas.find(Z=>Z.status!=="finalizada")},U=F=>{const ie=m.get(F);return ie?ie.etapas.find(V=>V.status==="pausada"):null},k=F=>{const ie=m.get(F);if(!ie)return!1;const V=ie.etapas.some(he=>he.status==="em_andamento");return ie.etapas.some(he=>he.status==="pausada")&&!V},b=F=>{const ie=m.get(F);if(!ie)return{percent:0,finalizadas:0,defeituosas:0,restantes:0};const V=e.find(Zt=>Zt.id===F);if(!V)return{percent:0,finalizadas:0,defeituosas:0,restantes:0};const he=l.find(Zt=>Zt.id===V.produtoId)?.etapasProducao?.length||ie.etapas.length,fe=ie.etapas.filter(Zt=>Zt.status==="finalizada").length,me=he>0?Math.round(fe/he*100):0,_e=I(V),ge=ie.etapas.find(Zt=>Zt.status==="em_andamento");if(!ge){if(ie.etapas.every(vr=>vr.status==="finalizada")){const va=ie.etapas[ie.etapas.length-1]?.finalizadas||0,Mr=ie.etapas.reduce((nc,yi)=>nc+(yi.defeituosas||0),0),rs=_e-va-Mr;return{percent:me,finalizadas:va,defeituosas:Mr,restantes:rs}}return{percent:me,finalizadas:0,defeituosas:0,restantes:_e}}const Ce=ge.finalizadas||0,Oe=ie.etapas.reduce((Zt,vr)=>Zt+(vr.defeituosas||0),0),Wt=_e-Ce-Oe;return{percent:me,finalizadas:Ce,defeituosas:Oe,restantes:Wt}},N=F=>{$(F),j(!0)},se=async F=>{if(!t||!z)return;const ie=m.get(z);if(!ie)return;const V=O(z);if(!V)return;const Z=e.find(he=>he.id===z);if(Z)try{X(!0),await Zr.finalizeStageWithDetails(ie.id,V.etapaId,F.finalizadas,F.defeituosas,F.observacoes);const he=l.find(Ce=>Ce.id===Z.produtoId),fe=he?.etapasProducao?.find(Ce=>Ce.etapa.id===V.etapaId),me=A.find(Ce=>Ce.id===V.responsavelId);if(fe&&me){const Ce=new Date;Ce.setDate(Ce.getDate()+30),await Ol.createLancamento({ordemProducaoId:Z.id,ordemCodigo:Z.codigo,produtoId:Z.produtoId,produtoDescricao:he?.descricao||"Produto",etapaId:V.etapaId,etapaNome:V.etapaNome,faccaoId:me.id||"",faccaoNome:me.nome,valor:fe.custo,dataVencimento:Ce,observacoes:F.observacoes||void 0},t.uid)}const _e=a.find(Ce=>Ce.id===F.proximaEtapaId),ge=A.find(Ce=>Ce.id===F.responsavelProximaEtapaId);_e&&ge&&await Zr.startNextStage(ie.id,F.proximaEtapaId,F.responsavelProximaEtapaId,ge.nome),await q(),j(!1),$(null),ct.success("Etapa finalizada e lanamento financeiro criado!",{icon:f.jsx(Zn,{size:20})})}catch(he){console.error("Erro ao finalizar etapa:",he),ct.error("Erro ao finalizar etapa")}finally{X(!1)}},ye=async F=>{if(!t)return;const ie=m.get(F);if(!ie)return;const V=O(F);if(V)try{await Zr.pauseStage(ie.id,V.etapaId),await q()}catch(Z){console.error("Erro ao pausar etapa:",Z),alert("Erro ao pausar etapa")}},J=async F=>{if(!t)return;const ie=m.get(F);if(!ie)return;const V=U(F);if(V)try{await Zr.resumeStage(ie.id,V.etapaId),await q()}catch(Z){console.error("Erro ao retomar etapa:",Z),alert("Erro ao retomar etapa")}},W=async F=>{const ie=e.find(Z=>Z.id===F);if(!ie)return;const V=`Tem certeza que deseja excluir a ordem ${ie.codigo}?

Esta ao no pode ser desfeita e tambm excluir todo o progresso e lanamentos financeiros associados.`;if(window.confirm(V))try{const Z=m.get(F);if(Z)try{await Zr.deleteProgress(Z.id)}catch(he){console.error("Erro ao deletar progresso:",he)}try{await Ol.deleteLancamentosByOrdem(F)}catch(he){console.error("Erro ao deletar lanamentos financeiros:",he)}await wl.deleteOrder(F),await q(),ct.success("Ordem de produo excluda com sucesso!",{icon:f.jsx(Zn,{size:20})})}catch(Z){console.error("Erro ao excluir ordem:",Z),ct.error("Erro ao excluir ordem de produo. Tente novamente.")}};return f.jsxs("div",{className:"gestao-producoes-container",children:[f.jsx("header",{className:"gestao-producoes-header",children:f.jsxs("div",{children:[f.jsx("h2",{className:"gestao-producoes-title",children:"Gesto de Produo"}),f.jsx("p",{className:"gestao-producoes-subtitle",children:"Controle o andamento das ordens de produo em tempo real"})]})}),f.jsxs("div",{className:"gestao-producoes-filters",children:[f.jsxs("div",{className:"gestao-producoes-search",children:[f.jsx(yo,{size:18}),f.jsx("input",{type:"text",placeholder:"Buscar por OP, produto ou referncia...",value:g,onChange:F=>v(F.target.value)})]}),f.jsxs("div",{className:"gestao-producoes-stage-filter",children:[f.jsxs("select",{value:E,onChange:F=>S(F.target.value),children:[f.jsx("option",{value:"all",children:"Todas as Etapas"}),a.map(F=>f.jsx("option",{value:F.id,children:F.name},F.id))]}),f.jsx(Lf,{size:18,className:"select-icon"})]})]}),f.jsxs("section",{className:"gestao-producoes-list",children:[Y.map(F=>{const ie=O(F.id),V=U(F.id),Z=M(F.id),he=b(F.id),fe=I(F),me=k(F.id),_e=ie||V;return f.jsxs("article",{className:"gestao-producao-card",children:[f.jsxs("div",{className:"gestao-card-header",children:[f.jsxs("div",{className:"gestao-card-header-left",children:[f.jsx("div",{className:"gestao-card-icon",children:f.jsx(w6,{size:24})}),f.jsxs("div",{className:"gestao-card-info",children:[f.jsx("div",{className:"gestao-card-op",children:F.codigo}),f.jsx("h3",{className:"gestao-card-title",children:F.produtoDescricao}),f.jsxs("div",{className:"gestao-card-meta",children:[f.jsxs("span",{children:["REF: ",F.produtoRef]}),f.jsxs("span",{className:"gestao-card-pieces",children:[fe," peas"]})]})]})]}),f.jsxs("div",{className:"gestao-card-header-right",children:[f.jsx("span",{className:`gestao-badge gestao-badge-status ${me?"gestao-badge-paused":""}`,children:me?"Pausada":"Em Andamento"}),_e&&f.jsx("span",{className:"gestao-badge gestao-badge-stage",children:_e.etapaNome})]})]}),_e&&f.jsxs("div",{className:"gestao-card-progress",children:[f.jsxs("div",{className:"progress-header",children:[f.jsx("span",{className:"progress-title",children:"Progresso Geral"}),f.jsxs("span",{className:"progress-percent",children:[he.percent,"%"]})]}),f.jsx("div",{className:"progress-bar",children:f.jsx("div",{className:"progress-bar-fill",style:{width:`${he.percent}%`}})}),f.jsxs("div",{className:"progress-stats",children:[f.jsxs("span",{className:"progress-stat",children:[he.finalizadas," peas finalizadas"]}),f.jsxs("span",{className:"progress-stat",children:[he.defeituosas," defeituosas"]}),f.jsxs("span",{className:"progress-stat",children:[he.restantes," restantes"]})]})]}),f.jsxs("div",{className:"gestao-card-details",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx(B6,{size:16,className:"detail-icon"}),f.jsxs("div",{className:"detail-content",children:[f.jsx("span",{className:"detail-label",children:"Responsvel"}),f.jsx("span",{className:"detail-value",children:_e?.responsavelNome||F.responsavelNome||"No atribudo"})]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx(zl,{size:16,className:"detail-icon"}),f.jsxs("div",{className:"detail-content",children:[f.jsx("span",{className:"detail-label",children:"Iniciado em"}),f.jsx("span",{className:"detail-value",children:F.dataInicio||"--"})]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx(w3,{size:16,className:"detail-icon"}),f.jsxs("div",{className:"detail-content",children:[f.jsx("span",{className:"detail-label",children:"Prxima Etapa"}),f.jsx("span",{className:"detail-value",children:Z?.etapaNome||"Concluda"})]})]})]}),f.jsxs("div",{className:"gestao-card-actions",children:[me?f.jsxs("button",{className:"gestao-action-btn gestao-action-resume",onClick:()=>J(F.id),children:[f.jsx(f6,{size:16,className:"gestao-action-icon"}),"Retomar Produo"]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"gestao-action-btn gestao-action-finish",onClick:()=>N(F.id),disabled:!ie||ie.status!=="em_andamento",children:[f.jsx(Zn,{size:16,className:"gestao-action-icon"}),"Finalizar Etapa"]}),f.jsxs("button",{className:"gestao-action-btn gestao-action-pause",onClick:()=>ye(F.id),disabled:!ie||ie.status!=="em_andamento",children:[f.jsx(s6,{size:16,className:"gestao-action-icon"}),"Pausar"]})]}),f.jsxs("button",{className:"gestao-action-btn gestao-action-report",children:[f.jsx(O6,{size:16,className:"gestao-action-icon"}),"Reportar Problema"]}),f.jsxs("button",{className:"gestao-action-btn gestao-action-delete",onClick:()=>W(F.id),title:"Excluir ordem",children:[f.jsx(ec,{size:16,className:"gestao-action-icon"}),"Excluir"]})]})]},F.id)}),Y.length===0&&f.jsxs("div",{className:"gestao-producoes-empty",children:[f.jsx(yo,{size:24}),f.jsx("p",{children:"Nenhuma ordem de produo encontrada."})]})]}),R&&z&&(()=>{const F=e.find(me=>me.id===z),ie=O(z),V=m.get(z);if(!F||!ie||!V)return null;const fe=(l.find(me=>me.id===F.produtoId)?.etapasProducao||[]).filter(me=>{const _e=V.etapas.find(ge=>ge.etapaId===me.etapa.id);return _e?_e.ordem>ie.ordem:!1}).map(me=>{const _e=a.find(ge=>ge.id===me.etapa.id);return _e?{..._e,name:me.etapa.nome,description:me.etapa.descricao||""}:null}).filter(me=>me!==null).sort((me,_e)=>{const ge=V.etapas.find(Oe=>Oe.etapaId===me.id)?.ordem||0,Ce=V.etapas.find(Oe=>Oe.etapaId===_e.id)?.ordem||0;return ge-Ce});return f.jsx(C9,{isOpen:R,onClose:()=>{j(!1),$(null)},order:F,currentStage:ie,availableStages:fe,faccoes:A.filter(me=>me.ativo),totalPecas:I(F),onSubmit:se,isSubmitting:ne})})()]})},N9=()=>{const{user:t}=tr(),[e,n]=P.useState("pendencias"),[a,i]=P.useState(""),[l,u]=P.useState("todos"),[m,p]=P.useState([]),[g,v]=P.useState([]),[E,S]=P.useState(!0),A=P.useCallback(async()=>{if(t)try{S(!0);const[q,Y]=await Promise.all([Ol.getLancamentosPendentes(t.uid),Ol.getLancamentosPagos(t.uid)]);p(q),v(Y)}catch(q){console.error("Erro ao carregar lanamentos:",q),ct.error("Erro ao carregar dados financeiros")}finally{S(!1)}},[t]);P.useEffect(()=>{A()},[A]);const C=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),R=q=>new Intl.DateTimeFormat("pt-BR").format(new Date(q)),j=q=>{const Y=new Date;Y.setHours(0,0,0,0);const I=new Date(q);I.setHours(0,0,0,0);const O=Y.getTime()-I.getTime();return Math.floor(O/(1e3*60*60*24))},z={totalPendente:m.filter(q=>q.status==="pendente").reduce((q,Y)=>q+Y.valor,0),totalAtrasado:m.filter(q=>q.status==="atrasado").reduce((q,Y)=>q+Y.valor,0),totalPagoMes:g.filter(q=>{const Y=new Date(q.dataPagamento),I=new Date().getMonth(),O=new Date().getFullYear();return Y.getMonth()===I&&Y.getFullYear()===O}).reduce((q,Y)=>q+Y.valor,0),lancamentosPendentes:m.filter(q=>q.status==="pendente").length,lancamentosAtrasados:m.filter(q=>q.status==="atrasado").length,pagamentosMes:g.filter(q=>{const Y=new Date(q.dataPagamento),I=new Date().getMonth(),O=new Date().getFullYear();return Y.getMonth()===I&&Y.getFullYear()===O}).length},$=m.filter(q=>{const Y=q.ordemCodigo.toLowerCase().includes(a.toLowerCase())||q.faccaoNome.toLowerCase().includes(a.toLowerCase())||q.produtoDescricao.toLowerCase().includes(a.toLowerCase()),I=l==="todos"||q.status===l;return Y&&I}),ne=g.filter(q=>q.ordemCodigo.toLowerCase().includes(a.toLowerCase())||q.faccaoNome.toLowerCase().includes(a.toLowerCase())||q.produtoDescricao.toLowerCase().includes(a.toLowerCase())),X=async q=>{if(window.confirm("Confirmar pagamento deste lanamento?"))try{await Ol.marcarComoPago(q),await A(),ct.success("Pagamento registrado com sucesso!",{icon:f.jsx(Hh,{size:20})})}catch(Y){console.error("Erro ao registrar pagamento:",Y),ct.error("Erro ao registrar pagamento")}};return E?f.jsx("div",{className:"financeiro-container",children:f.jsx("div",{className:"financeiro-loading",children:"Carregando..."})}):f.jsxs("div",{className:"financeiro-container",children:[f.jsxs("div",{className:"financeiro-header",children:[f.jsxs("div",{className:"financeiro-header-title",children:[f.jsx("h2",{className:"financeiro-title",children:"Financeiro"}),f.jsx("p",{className:"financeiro-subtitle",children:"Controle de pagamentos e pendncias financeiras"})]}),f.jsxs("button",{className:"financeiro-export-btn",children:[f.jsx(B3,{size:18}),f.jsx("span",{children:"Exportar Relatrio"})]})]}),f.jsxs("div",{className:"financeiro-summary-grid",children:[f.jsxs("div",{className:"financeiro-card",children:[f.jsxs("div",{className:"financeiro-card-header",children:[f.jsx("span",{className:"financeiro-card-title",children:"Total Pendente"}),f.jsx("div",{className:"financeiro-card-icon financeiro-icon-orange",children:f.jsx(zl,{size:20})})]}),f.jsx("div",{className:"financeiro-card-value financeiro-value-orange",children:C(z.totalPendente)}),f.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosPendentes," lanamentos"]})]}),f.jsxs("div",{className:"financeiro-card",children:[f.jsxs("div",{className:"financeiro-card-header",children:[f.jsx("span",{className:"financeiro-card-title",children:"Total Atrasado"}),f.jsx("div",{className:"financeiro-card-icon financeiro-icon-red",children:f.jsx(Uf,{size:20})})]}),f.jsx("div",{className:"financeiro-card-value financeiro-value-red",children:C(z.totalAtrasado)}),f.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosAtrasados," em atraso"]})]}),f.jsxs("div",{className:"financeiro-card",children:[f.jsxs("div",{className:"financeiro-card-header",children:[f.jsx("span",{className:"financeiro-card-title",children:"Total Pago (Ms)"}),f.jsx("div",{className:"financeiro-card-icon financeiro-icon-green",children:f.jsx(Hh,{size:20})})]}),f.jsx("div",{className:"financeiro-card-value financeiro-value-green",children:C(z.totalPagoMes)}),f.jsxs("div",{className:"financeiro-card-sub",children:[z.pagamentosMes," pagamentos"]})]}),f.jsxs("div",{className:"financeiro-card",children:[f.jsxs("div",{className:"financeiro-card-header",children:[f.jsx("span",{className:"financeiro-card-title",children:"Total Geral"}),f.jsx("div",{className:"financeiro-card-icon financeiro-icon-blue",children:f.jsx(D6,{size:20})})]}),f.jsx("div",{className:"financeiro-card-value financeiro-value-gray",children:C(z.totalPendente+z.totalAtrasado)}),f.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosPendentes+z.lancamentosAtrasados," ","pendentes"]})]})]}),f.jsxs("div",{className:"financeiro-search-section",children:[f.jsxs("div",{className:"financeiro-search-bar",children:[f.jsx(yo,{size:18,className:"financeiro-search-icon"}),f.jsx("input",{type:"text",placeholder:"Buscar por OP, faco ou produto...",value:a,onChange:q=>i(q.target.value),className:"financeiro-search-input"})]}),e==="pendencias"&&f.jsx("div",{className:"financeiro-status-filter",children:f.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"financeiro-status-select",children:[f.jsx("option",{value:"todos",children:"Todos os Status"}),f.jsx("option",{value:"pendente",children:"Pendente"}),f.jsx("option",{value:"atrasado",children:"Atrasado"})]})})]}),f.jsxs("div",{className:"financeiro-nav-tabs",children:[f.jsx("button",{className:`financeiro-nav-tab ${e==="pendencias"?"active":""}`,onClick:()=>n("pendencias"),children:"Pendncias"}),f.jsx("button",{className:`financeiro-nav-tab ${e==="pagamentos"?"active":""}`,onClick:()=>n("pagamentos"),children:"Pagamentos Realizados"})]}),f.jsxs("div",{className:"financeiro-content-card",children:[f.jsx("div",{className:"financeiro-content-header",children:f.jsxs("div",{className:"financeiro-content-title-section",children:[f.jsx(px,{className:"financeiro-dollar-icon",size:24}),f.jsxs("div",{children:[f.jsx("h3",{className:"financeiro-content-title",children:e==="pendencias"?"Pendncias Financeiras":"Pagamentos Realizados"}),f.jsx("p",{className:"financeiro-content-subtitle",children:e==="pendencias"?"Acompanhe os pagamentos pendentes por etapa de produo":"Histrico de pagamentos realizados"})]})]})}),f.jsx("div",{className:"financeiro-table-container",children:e==="pendencias"?f.jsxs("table",{className:"financeiro-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Ordem"}),f.jsx("th",{children:"Faco"}),f.jsx("th",{children:"Etapa"}),f.jsx("th",{children:"Produto"}),f.jsx("th",{children:"Valor"}),f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Aes"})]})}),f.jsx("tbody",{children:$.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:8,className:"financeiro-empty-state",children:"Nenhuma pendncia encontrada"})}):$.map(q=>f.jsxs("tr",{children:[f.jsx("td",{children:q.ordemCodigo}),f.jsx("td",{children:q.faccaoNome}),f.jsx("td",{children:f.jsx("span",{className:"financeiro-badge financeiro-badge-default",children:q.etapaNome})}),f.jsx("td",{children:q.produtoDescricao}),f.jsx("td",{className:"financeiro-cell-value",children:C(q.valor)}),f.jsx("td",{children:R(q.dataVencimento)}),f.jsx("td",{children:f.jsx("span",{className:`financeiro-badge ${q.status==="atrasado"?"financeiro-badge-danger":"financeiro-badge-default"}`,children:q.status==="atrasado"?f.jsxs(f.Fragment,{children:[f.jsx(Uf,{size:14}),"Atrasado (",j(q.dataVencimento),"d)"]}):f.jsxs(f.Fragment,{children:[f.jsx(zl,{size:14}),"Pendente"]})})}),f.jsx("td",{children:f.jsxs("button",{className:"financeiro-action-btn",onClick:()=>X(q.id),children:[f.jsx(L3,{size:14}),"Pagar"]})})]},q.id))})]}):f.jsx(f.Fragment,{children:ne.length===0?f.jsxs("div",{className:"financeiro-empty-state-large",children:[f.jsx(Hh,{size:48,className:"financeiro-empty-icon"}),f.jsx("p",{children:"Nenhum pagamento realizado ainda"}),f.jsx("p",{className:"financeiro-empty-subtitle",children:"Os pagamentos realizados aparecero aqui"})]}):f.jsxs("table",{className:"financeiro-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Ordem"}),f.jsx("th",{children:"Faco"}),f.jsx("th",{children:"Etapa"}),f.jsx("th",{children:"Produto"}),f.jsx("th",{children:"Valor"}),f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Data Pagamento"}),f.jsx("th",{children:"Status"})]})}),f.jsx("tbody",{children:ne.map(q=>f.jsxs("tr",{children:[f.jsx("td",{children:q.ordemCodigo}),f.jsx("td",{children:q.faccaoNome}),f.jsx("td",{children:f.jsx("span",{className:"financeiro-badge financeiro-badge-default",children:q.etapaNome})}),f.jsx("td",{children:q.produtoDescricao}),f.jsx("td",{className:"financeiro-cell-value",children:C(q.valor)}),f.jsx("td",{children:R(q.dataVencimento)}),f.jsx("td",{children:q.dataPagamento?R(q.dataPagamento):"-"}),f.jsx("td",{children:f.jsxs("span",{className:"financeiro-badge financeiro-badge-success",children:[f.jsx(Hh,{size:14}),"Pago"]})})]},q.id))})]})})})]})]})},I9=()=>{const[t,e]=P.useState("dashboard"),[n,a]=P.useState(!0),i=P.useCallback(m=>({dashboard:"Dashboard",cadastros:"Cadastros",faccoes:"Faccoes",etapas:"Etapas",produto:"Produto",ordemProducoes:"Ordem de Produes",gestaoProducoes:"Gesto de Produes",financeiro:"Financeiro"})[m]||"Dashboard",[]);P.useEffect(()=>{if(n){a(!1);return}t&&ct.success(`Aba ${i(t)} aberta`,{icon:f.jsx(Zn,{size:20}),duration:2e3})},[t,n,i]);const l=()=>{switch(t){case"dashboard":return f.jsx(WT,{});case"cadastros":return f.jsx(d9,{onTabChange:u});case"faccoes":return f.jsx(f9,{});case"etapas":return f.jsx(p9,{});case"produto":return f.jsx(E9,{});case"ordemProducoes":return f.jsx(x9,{});case"gestaoProducoes":return f.jsx(R9,{});case"financeiro":return f.jsx(N9,{});default:return f.jsx(WT,{})}},u=m=>{e(m)};return f.jsx(i9,{activeTab:t,onTabChange:u,children:f.jsx("div",{className:"dashboard-container",children:l()})})},D9=()=>f.jsx(YR,{children:f.jsxs(AR,{children:[f.jsx(fu,{path:Fa.home,element:f.jsx(QT,{})}),f.jsx(fu,{path:Fa.login,element:f.jsx(QT,{})}),f.jsx(fu,{path:Fa.register,element:f.jsx(s9,{})}),f.jsx(fu,{path:Fa.dashboard,element:f.jsx($6,{children:f.jsx(I9,{})})})]})});function k9(){return f.jsxs(H6,{children:[f.jsx(D9,{}),f.jsx(g3,{position:"top-right",toastOptions:{duration:3500,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",borderRadius:"12px",padding:"16px 20px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"14px",fontWeight:"500"},success:{duration:3500,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:4500,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},iconTheme:{primary:"#ef4444",secondary:"#fff"}},loading:{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},iconTheme:{primary:"#3b82f6",secondary:"#fff"}}}})]})}P2.createRoot(document.getElementById("root")).render(f.jsx(P.StrictMode,{children:f.jsx(k9,{})}));
