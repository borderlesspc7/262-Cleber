function FC(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function $C(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qg={exports:{}},bu={};var V1;function HC(){if(V1)return bu;V1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var m in i)m!=="key"&&(l[m]=i[m])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return bu.Fragment=e,bu.jsx=n,bu.jsxs=n,bu}var L1;function GC(){return L1||(L1=1,qg.exports=HC()),qg.exports}var d=GC(),Fg={exports:{}},Ue={};var U1;function KC(){if(U1)return Ue;U1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function j(V,Z,me){this.props=V,this.context=Z,this.refs=C,this.updater=me||S}j.prototype.isReactComponent={},j.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=j.prototype;function F(V,Z,me){this.props=V,this.context=Z,this.refs=C,this.updater=me||S}var H=F.prototype=new z;H.constructor=F,A(H,j.prototype),H.isPureReactComponent=!0;var ee=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function D(V,Z,me,pe,be,Oe){return me=Oe.ref,{$$typeof:t,type:V,key:Z,ref:me!==void 0?me:null,props:Oe}}function N(V,Z){return D(V.type,Z,void 0,void 0,void 0,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return Z[me]})}var O=/\/+/g;function b(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Z.toString(36)}function k(){}function ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,Z,me,pe,be){var Oe=typeof V;(Oe==="undefined"||Oe==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(Oe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case t:case e:xe=!0;break;case v:return xe=V._init,ae(xe(V._payload),Z,me,pe,be)}}if(xe)return be=be(V),xe=pe===""?"."+b(V,0):pe,ee(be)?(me="",xe!=null&&(me=xe.replace(O,"$&/")+"/"),ae(be,Z,me,"",function(we){return we})):be!=null&&(M(be)&&(be=N(be,me+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(O,"$&/")+"/")+xe)),Z.push(be)),1;xe=0;var he=pe===""?".":pe+":";if(ee(V))for(var fe=0;fe<V.length;fe++)pe=V[fe],Oe=he+b(pe,fe),xe+=ae(pe,Z,me,Oe,be);else if(fe=w(V),typeof fe=="function")for(V=fe.call(V),fe=0;!(pe=V.next()).done;)pe=pe.value,Oe=he+b(pe,fe++),xe+=ae(pe,Z,me,Oe,be);else if(Oe==="object"){if(typeof V.then=="function")return ae(ie(V),Z,me,pe,be);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(V,Z,me){if(V==null)return V;var pe=[],be=0;return ae(V,pe,"","",function(Oe){return Z.call(me,Oe,be++)}),pe}function $(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var re=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ye(){}return Ue.Children={map:G,forEach:function(V,Z,me){G(V,function(){Z.apply(this,arguments)},me)},count:function(V){var Z=0;return G(V,function(){Z++}),Z},toArray:function(V){return G(V,function(Z){return Z})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ue.Component=j,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=F,Ue.StrictMode=a,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(V){return q.H.useMemoCache(V)}},Ue.cache=function(V){return function(){return V.apply(null,arguments)}},Ue.cloneElement=function(V,Z,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=A({},V.props),be=V.key,Oe=void 0;if(Z!=null)for(xe in Z.ref!==void 0&&(Oe=void 0),Z.key!==void 0&&(be=""+Z.key),Z)!X.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(pe[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)pe.children=me;else if(1<xe){for(var he=Array(xe),fe=0;fe<xe;fe++)he[fe]=arguments[fe+2];pe.children=he}return D(V.type,be,void 0,void 0,Oe,pe)},Ue.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ue.createElement=function(V,Z,me){var pe,be={},Oe=null;if(Z!=null)for(pe in Z.key!==void 0&&(Oe=""+Z.key),Z)X.call(Z,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(be[pe]=Z[pe]);var xe=arguments.length-2;if(xe===1)be.children=me;else if(1<xe){for(var he=Array(xe),fe=0;fe<xe;fe++)he[fe]=arguments[fe+2];be.children=he}if(V&&V.defaultProps)for(pe in xe=V.defaultProps,xe)be[pe]===void 0&&(be[pe]=xe[pe]);return D(V,Oe,void 0,void 0,null,be)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(V){return{$$typeof:m,render:V}},Ue.isValidElement=M,Ue.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:$}},Ue.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Ue.startTransition=function(V){var Z=q.T,me={};q.T=me;try{var pe=V(),be=q.S;be!==null&&be(me,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(ye,re)}catch(Oe){re(Oe)}finally{q.T=Z}},Ue.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ue.use=function(V){return q.H.use(V)},Ue.useActionState=function(V,Z,me){return q.H.useActionState(V,Z,me)},Ue.useCallback=function(V,Z){return q.H.useCallback(V,Z)},Ue.useContext=function(V){return q.H.useContext(V)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(V,Z){return q.H.useDeferredValue(V,Z)},Ue.useEffect=function(V,Z,me){var pe=q.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(V,Z)},Ue.useId=function(){return q.H.useId()},Ue.useImperativeHandle=function(V,Z,me){return q.H.useImperativeHandle(V,Z,me)},Ue.useInsertionEffect=function(V,Z){return q.H.useInsertionEffect(V,Z)},Ue.useLayoutEffect=function(V,Z){return q.H.useLayoutEffect(V,Z)},Ue.useMemo=function(V,Z){return q.H.useMemo(V,Z)},Ue.useOptimistic=function(V,Z){return q.H.useOptimistic(V,Z)},Ue.useReducer=function(V,Z,me){return q.H.useReducer(V,Z,me)},Ue.useRef=function(V){return q.H.useRef(V)},Ue.useState=function(V){return q.H.useState(V)},Ue.useSyncExternalStore=function(V,Z,me){return q.H.useSyncExternalStore(V,Z,me)},Ue.useTransition=function(){return q.H.useTransition()},Ue.version="19.1.1",Ue}var z1;function sv(){return z1||(z1=1,Fg.exports=KC()),Fg.exports}var I=sv();const Lu=$C(I),B1=FC({__proto__:null,default:Lu},[I]);var $g={exports:{}},Tu={},Hg={exports:{}},Gg={};var q1;function YC(){return q1||(q1=1,(function(t){function e(G,$){var re=G.length;G.push($);e:for(;0<re;){var ye=re-1>>>1,V=G[ye];if(0<i(V,$))G[ye]=$,G[re]=V,re=ye;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var $=G[0],re=G.pop();if(re!==$){G[0]=re;e:for(var ye=0,V=G.length,Z=V>>>1;ye<Z;){var me=2*(ye+1)-1,pe=G[me],be=me+1,Oe=G[be];if(0>i(pe,re))be<V&&0>i(Oe,pe)?(G[ye]=Oe,G[be]=re,ye=be):(G[ye]=pe,G[me]=re,ye=me);else if(be<V&&0>i(Oe,re))G[ye]=Oe,G[be]=re,ye=be;else break e}}return $}function i(G,$){var re=G.sortIndex-$.sortIndex;return re!==0?re:G.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var p=[],g=[],v=1,E=null,w=3,S=!1,A=!1,C=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ee(G){for(var $=n(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=G)a(g),$.sortIndex=$.expirationTime,e(p,$);else break;$=n(g)}}function q(G){if(C=!1,ee(G),!A)if(n(p)!==null)A=!0,X||(X=!0,b());else{var $=n(g);$!==null&&ae(q,$.startTime-G)}}var X=!1,D=-1,N=5,M=-1;function L(){return j?!0:!(t.unstable_now()-M<N)}function O(){if(j=!1,X){var G=t.unstable_now();M=G;var $=!0;try{e:{A=!1,C&&(C=!1,F(D),D=-1),S=!0;var re=w;try{t:{for(ee(G),E=n(p);E!==null&&!(E.expirationTime>G&&L());){var ye=E.callback;if(typeof ye=="function"){E.callback=null,w=E.priorityLevel;var V=ye(E.expirationTime<=G);if(G=t.unstable_now(),typeof V=="function"){E.callback=V,ee(G),$=!0;break t}E===n(p)&&a(p),ee(G)}else a(p);E=n(p)}if(E!==null)$=!0;else{var Z=n(g);Z!==null&&ae(q,Z.startTime-G),$=!1}}break e}finally{E=null,w=re,S=!1}$=void 0}}finally{$?b():X=!1}}}var b;if(typeof H=="function")b=function(){H(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ie=k.port2;k.port1.onmessage=O,b=function(){ie.postMessage(null)}}else b=function(){z(O,0)};function ae(G,$){D=z(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(G){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var re=w;w=$;try{return G()}finally{w=re}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=w;w=G;try{return $()}finally{w=re}},t.unstable_scheduleCallback=function(G,$,re){var ye=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=re+V,G={id:v++,callback:$,priorityLevel:G,startTime:re,expirationTime:V,sortIndex:-1},re>ye?(G.sortIndex=re,e(g,G),n(p)===null&&G===n(g)&&(C?(F(D),D=-1):C=!0,ae(q,re-ye))):(G.sortIndex=V,e(p,G),A||S||(A=!0,X||(X=!0,b()))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var $=w;return function(){var re=w;w=$;try{return G.apply(this,arguments)}finally{w=re}}}})(Gg)),Gg}var F1;function QC(){return F1||(F1=1,Hg.exports=YC()),Hg.exports}var Kg={exports:{}},Nn={};var $1;function XC(){if($1)return Nn;$1=1;var t=sv();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Nn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Nn.flushSync=function(p){var g=u.T,v=a.p;try{if(u.T=null,a.p=2,p)return p()}finally{u.T=g,a.p=v,a.d.f()}},Nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Nn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:S}):v==="script"&&a.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Nn.requestFormReset=function(p){a.d.r(p)},Nn.unstable_batchedUpdates=function(p,g){return p(g)},Nn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.1.1",Nn}var H1;function WC(){if(H1)return Kg.exports;H1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kg.exports=XC(),Kg.exports}var G1;function ZC(){if(G1)return Tu;G1=1;var t=QC(),e=sv(),n=WC();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(a(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),r;if(y===c)return m(f),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=y;else{for(var x=!1,R=f.child;R;){if(R===o){x=!0,o=f,c=y;break}if(R===c){x=!0,c=f,o=y;break}R=R.sibling}if(!x){for(R=y.child;R;){if(R===o){x=!0,o=y,c=f;break}if(R===c){x=!0,c=y,o=f;break}R=R.sibling}if(!x)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function b(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case j:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case H:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case N:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ye=[],V=-1;function Z(r){return{current:r}}function me(r){0>V||(r.current=ye[V],ye[V]=null,V--)}function pe(r,s){V++,ye[V]=r.current,r.current=s}var be=Z(null),Oe=Z(null),xe=Z(null),he=Z(null);function fe(r,s){switch(pe(xe,s),pe(Oe,r),pe(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?d1(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=d1(s),r=h1(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(be),pe(be,r)}function we(){me(be),me(Oe),me(xe)}function Je(r){r.memoizedState!==null&&pe(he,r);var s=be.current,o=h1(s,r.type);s!==o&&(pe(Oe,r),pe(be,o))}function Le(r){Oe.current===r&&(me(be),me(Oe)),he.current===r&&(me(he),gu._currentValue=re)}var St=Object.prototype.hasOwnProperty,ke=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,_t=t.unstable_shouldYield,Qe=t.unstable_requestPaint,ot=t.unstable_now,jr=t.unstable_getCurrentPriorityLevel,tt=t.unstable_ImmediatePriority,It=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,Vo=t.unstable_LowPriority,Ri=t.unstable_IdlePriority,yc=t.log,Ra=t.unstable_setDisableYieldValue,gs=null,Sn=null;function pr(r){if(typeof yc=="function"&&Ra(r),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(gs,r)}catch{}}var Pn=Math.clz32?Math.clz32:Id,Gm=Math.log,Rd=Math.LN2;function Id(r){return r>>>=0,r===0?32:31-(Gm(r)/Rd|0)|0}var Qr=256,ys=4194304;function kr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function gr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,y=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var R=c&134217727;return R!==0?(c=R&~y,c!==0?f=kr(c):(x&=R,x!==0?f=kr(x):o||(o=R&~r,o!==0&&(f=kr(o))))):(R=c&~y,R!==0?f=kr(R):x!==0?f=kr(x):o||(o=c&~r,o!==0&&(f=kr(o)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:f}function vs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Lo(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var r=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),r}function _s(){var r=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),r}function Uo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function qt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Dd(r,s,o,c,f,y){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,U=r.expirationTimes,W=r.hiddenUpdates;for(o=x&~o;0<o;){var oe=31-Pn(o),ue=1<<oe;R[oe]=0,U[oe]=-1;var J=W[oe];if(J!==null)for(W[oe]=null,oe=0;oe<J.length;oe++){var te=J[oe];te!==null&&(te.lane&=-536870913)}o&=~ue}c!==0&&Es(r,c,0),y!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=y&~(x&~s))}function Es(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Pn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function bs(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Pn(o),f=1<<c;f&s|r[c]&s&&(r[c]|=s),o&=~f}}function _c(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ec(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ia(){var r=$.p;return r!==0?r:(r=window.event,r===void 0?32:D1(r.type))}function Km(r,s){var o=$.p;try{return $.p=r,s()}finally{$.p=o}}var Xr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Xr,yn="__reactProps$"+Xr,Da="__reactContainer$"+Xr,Ii="__reactEvents$"+Xr,Di="__reactListeners$"+Xr,Ym="__reactHandles$"+Xr,Or="__reactResources$"+Xr,Ts="__reactMarker$"+Xr;function zo(r){delete r[Ft],delete r[yn],delete r[Ii],delete r[Di],delete r[Ym]}function Wr(r){var s=r[Ft];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Da]||o[Ft]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=g1(r);r!==null;){if(o=r[Ft])return o;r=g1(r)}return s}r=o,o=r.parentNode}return null}function Zr(r){if(r=r[Ft]||r[Da]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function ws(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function xs(r){var s=r[Or];return s||(s=r[Or]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(r){r[Ts]=!0}var jd=new Set,ji={};function Jr(r,s){ea(r,s),ea(r+"Capture",s)}function ea(r,s){for(ji[r]=s,r=0;r<s.length;r++)jd.add(s[r])}var ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ta={},Bo={};function Qm(r){return St.call(Bo,r)?!0:St.call(ta,r)?!1:ki.test(r)?Bo[r]=!0:(ta[r]=!0,!1)}function Oi(r,s,o){if(Qm(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Pi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function yr(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Mi,qo;function ja(r){if(Mi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Mi=s&&s[1]||"",qo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+r+qo}var Fo=!1;function $o(r,s){if(!r||Fo)return"";Fo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var J=te}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(te){J=te}r.call(ue.prototype)}}else{try{throw Error()}catch(te){J=te}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),x=y[0],R=y[1];if(x&&R){var U=x.split(`
`),W=R.split(`
`);for(f=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(c===U.length||f===W.length)for(c=U.length-1,f=W.length-1;1<=c&&0<=f&&U[c]!==W[f];)f--;for(;1<=c&&0<=f;c--,f--)if(U[c]!==W[f]){if(c!==1||f!==1)do if(c--,f--,0>f||U[c]!==W[f]){var oe=`
`+U[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=f);break}}}finally{Fo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ja(o):""}function Xm(r){switch(r.tag){case 26:case 27:case 5:return ja(r.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 15:return $o(r.type,!1);case 11:return $o(r.type.render,!1);case 1:return $o(r.type,!0);case 31:return ja("Activity");default:return""}}function Pr(r){try{var s="";do s+=Xm(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Dt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ss(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vi(r){var s=Ss(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function As(r){r._valueTracker||(r._valueTracker=Vi(r))}function mt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ss(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ka(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Li=/[\n"\\]/g;function hn(r){return r.replace(Li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bc(r,s,o,c,f,y,x,R){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Dt(s)):r.value!==""+Dt(s)&&(r.value=""+Dt(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?wc(r,x,Dt(s)):o!=null?wc(r,x,Dt(o)):c!=null&&r.removeAttribute("value"),f==null&&y!=null&&(r.defaultChecked=!!y),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Dt(R):r.removeAttribute("name")}function Tc(r,s,o,c,f,y,x,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Dt(o):"",s=s!=null?""+Dt(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function wc(r,s,o){s==="number"&&ka(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Cs(r,s,o,c){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Dt(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function kd(r,s,o){if(s!=null&&(s=""+Dt(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Dt(o):""}function Od(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(ae(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Dt(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function vr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Oa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Sc(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&xc(r,f,c)}else for(var y in s)s.hasOwnProperty(y)&&xc(r,y,s[y])}function Ho(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(r){return Md.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ac=null;function Cc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,Mn=null;function Vd(r){var s=Zr(r);if(s&&(r=s.stateNode)){var o=r[yn]||null;e:switch(r=s.stateNode,s.type){case"input":if(bc(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var f=c[yn]||null;if(!f)throw Error(a(90));bc(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&mt(c)}break e;case"textarea":kd(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Cs(r,!!o.multiple,s,!1)}}}var Ui=!1;function zi(r,s,o){if(Ui)return r(s,o);Ui=!0;try{var c=r(s);return c}finally{if(Ui=!1,(Ns!==null||Mn!==null)&&(Ah(),Ns&&(s=Ns,r=Mn,Mn=Ns=null,Vd(s),r)))for(s=0;s<r.length;s++)Vd(r[s])}}function Rs(r,s){var o=r.stateNode;if(o===null)return null;var c=o[yn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(Vn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Pa=!1}var _r=null,bt=null,Go=null;function Ld(){if(Go)return Go;var r,s=bt,o=s.length,c,f="value"in _r?_r.value:_r.textContent,y=f.length;for(r=0;r<o&&s[r]===f[r];r++);var x=o-r;for(c=1;c<=x&&s[o-c]===f[y-c];c++);return Go=f.slice(r,1<c?1-c:void 0)}function Bi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function qi(){return!0}function Nc(){return!1}function on(r){function s(o,c,f,y,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qi:Nc,this.isPropagationStopped=Nc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),s}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=on(An),$i=v({},An,{view:0,detail:0}),Hi=on($i),Ko,Gi,na,Ki=v({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==na&&(na&&r.type==="mousemove"?(Ko=r.screenX-na.screenX,Gi=r.screenY-na.screenY):Gi=Ko=0,na=r),Ko)},movementY:function(r){return"movementY"in r?r.movementY:Gi}}),Yi=on(Ki),Wm=v({},Ki,{dataTransfer:0}),Ud=on(Wm),Qi=v({},$i,{relatedTarget:0}),Yo=on(Qi),zd=v({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=on(zd),Ic=v({},An,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Bd=on(Ic),Qo=v({},An,{data:0}),Dc=on(Qo),qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ma={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $d(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Fd[r])?!!s[r]:!1}function Xo(){return $d}var Hd=v({},$i,{key:function(r){if(r.key){var s=qd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Bi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ma[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(r){return r.type==="keypress"?Bi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wo=on(Hd),Ln=v({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=on(Ln),Gd=v({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),Ds=on(Gd),h=v({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=on(h),T=v({},Ki,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),P=on(T),Q=v({},An,{newState:0,oldState:0}),ne=on(Q),ge=[9,13,27,32],Me=Vn&&"CompositionEvent"in window,xt=null;Vn&&"documentMode"in document&&(xt=document.documentMode);var ct=Vn&&"TextEvent"in window&&!xt,Ht=Vn&&(!Me||xt&&8<xt&&11>=xt),Qn=" ",ra=!1;function Vr(r,s){switch(r){case"keyup":return ge.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ur=!1;function kc(r,s){switch(r){case"compositionend":return Lr(s);case"keypress":return s.which!==32?null:(ra=!0,Qn);case"textInput":return r=s.data,r===Qn&&ra?null:r;default:return null}}function g2(r,s){if(Ur)return r==="compositionend"||!Me&&Vr(r,s)?(r=Ld(),Go=bt=_r=null,Ur=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ht&&s.locale!=="ko"?null:s.data;default:return null}}var y2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!y2[r.type]:s==="textarea"}function A0(r,s,o,c){Ns?Mn?Mn.push(c):Mn=[c]:Ns=c,s=jh(s,"onChange"),0<s.length&&(o=new Fi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Oc=null,Pc=null;function v2(r){i1(r,0)}function Kd(r){var s=ws(r);if(mt(s))return r}function C0(r,s){if(r==="change")return s}var N0=!1;if(Vn){var Zm;if(Vn){var Jm="oninput"in document;if(!Jm){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Jm=typeof R0.oninput=="function"}Zm=Jm}else Zm=!1;N0=Zm&&(!document.documentMode||9<document.documentMode)}function I0(){Oc&&(Oc.detachEvent("onpropertychange",D0),Pc=Oc=null)}function D0(r){if(r.propertyName==="value"&&Kd(Pc)){var s=[];A0(s,Pc,r,Cc(r)),zi(v2,s)}}function _2(r,s,o){r==="focusin"?(I0(),Oc=s,Pc=o,Oc.attachEvent("onpropertychange",D0)):r==="focusout"&&I0()}function E2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Kd(Pc)}function b2(r,s){if(r==="click")return Kd(s)}function T2(r,s){if(r==="input"||r==="change")return Kd(s)}function w2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Xn=typeof Object.is=="function"?Object.is:w2;function Mc(r,s){if(Xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!St.call(s,f)||!Xn(r[f],s[f]))return!1}return!0}function j0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function k0(r,s){var o=j0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=j0(o)}}function O0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?O0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function P0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ka(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ka(r.document)}return s}function ep(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var x2=Vn&&"documentMode"in document&&11>=document.documentMode,Zo=null,tp=null,Vc=null,np=!1;function M0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;np||Zo==null||Zo!==ka(c)||(c=Zo,"selectionStart"in c&&ep(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vc&&Mc(Vc,c)||(Vc=c,c=jh(tp,"onSelect"),0<c.length&&(s=new Fi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Zo)))}function Xi(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Jo={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},rp={},V0={};Vn&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Wi(r){if(rp[r])return rp[r];if(!Jo[r])return r;var s=Jo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in V0)return rp[r]=s[o];return r}var L0=Wi("animationend"),U0=Wi("animationiteration"),z0=Wi("animationstart"),S2=Wi("transitionrun"),A2=Wi("transitionstart"),C2=Wi("transitioncancel"),B0=Wi("transitionend"),q0=new Map,ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ap.push("scrollEnd");function zr(r,s){q0.set(r,s),Jr(s,[r])}var F0=new WeakMap;function Er(r,s){if(typeof r=="object"&&r!==null){var o=F0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Pr(s)},F0.set(r,s),s)}return{value:r,source:s,stack:Pr(s)}}var br=[],el=0,sp=0;function Yd(){for(var r=el,s=sp=el=0;s<r;){var o=br[s];br[s++]=null;var c=br[s];br[s++]=null;var f=br[s];br[s++]=null;var y=br[s];if(br[s++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}y!==0&&$0(o,f,y)}}function Qd(r,s,o,c){br[el++]=r,br[el++]=s,br[el++]=o,br[el++]=c,sp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function ip(r,s,o,c){return Qd(r,s,o,c),Xd(r)}function tl(r,s){return Qd(r,null,null,s),Xd(r)}function $0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(f=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,f&&s!==null&&(f=31-Pn(o),r=y.hiddenUpdates,c=r[f],c===null?r[f]=[s]:c.push(s),s.lane=o|536870912),y):null}function Xd(r){if(50<lu)throw lu=0,hg=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var nl={};function N2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(r,s,o,c){return new N2(r,s,o,c)}function op(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Va(r,s){var o=r.alternate;return o===null?(o=Wn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function H0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Wd(r,s,o,c,f,y){var x=0;if(c=r,typeof r=="function")op(r)&&(x=1);else if(typeof r=="string")x=IC(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Wn(31,o,s,f),r.elementType=M,r.lanes=y,r;case A:return Zi(o.children,f,y,s);case C:x=8,f|=24;break;case j:return r=Wn(12,o,s,f|2),r.elementType=j,r.lanes=y,r;case q:return r=Wn(13,o,s,f),r.elementType=q,r.lanes=y,r;case X:return r=Wn(19,o,s,f),r.elementType=X,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:case H:x=10;break e;case F:x=9;break e;case ee:x=11;break e;case D:x=14;break e;case N:x=16,c=null;break e}x=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Wn(x,o,s,f),s.elementType=r,s.type=c,s.lanes=y,s}function Zi(r,s,o,c){return r=Wn(7,r,c,s),r.lanes=o,r}function lp(r,s,o){return r=Wn(6,r,null,s),r.lanes=o,r}function cp(r,s,o){return s=Wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var rl=[],al=0,Zd=null,Jd=0,Tr=[],wr=0,Ji=null,La=1,Ua="";function eo(r,s){rl[al++]=Jd,rl[al++]=Zd,Zd=r,Jd=s}function G0(r,s,o){Tr[wr++]=La,Tr[wr++]=Ua,Tr[wr++]=Ji,Ji=r;var c=La;r=Ua;var f=32-Pn(c)-1;c&=~(1<<f),o+=1;var y=32-Pn(s)+f;if(30<y){var x=f-f%5;y=(c&(1<<x)-1).toString(32),c>>=x,f-=x,La=1<<32-Pn(s)+f|o<<f|c,Ua=y+r}else La=1<<y|o<<f|c,Ua=r}function up(r){r.return!==null&&(eo(r,1),G0(r,1,0))}function dp(r){for(;r===Zd;)Zd=rl[--al],rl[al]=null,Jd=rl[--al],rl[al]=null;for(;r===Ji;)Ji=Tr[--wr],Tr[wr]=null,Ua=Tr[--wr],Tr[wr]=null,La=Tr[--wr],Tr[wr]=null}var Un=null,Ot=null,at=!1,to=null,aa=!1,hp=Error(a(519));function no(r){var s=Error(a(418,""));throw zc(Er(s,r)),hp}function K0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Ft]=r,s[yn]=c,o){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(o=0;o<uu.length;o++)Fe(uu[o],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),Tc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),As(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),Od(s,c.value,c.defaultValue,c.children),As(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||u1(s.textContent,o)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=kh),s=!0):s=!1,s||no(r)}function Y0(r){for(Un=r.return;Un;)switch(Un.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:Un=Un.return}}function Lc(r){if(r!==Un)return!1;if(!at)return Y0(r),at=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ng(r.type,r.memoizedProps)),o=!o),o&&Ot&&no(r),Y0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ot=qr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ot=null}}else s===27?(s=Ot,Ks(r.type)?(r=jg,jg=null,Ot=r):Ot=s):Ot=Un?qr(r.stateNode.nextSibling):null;return!0}function Uc(){Ot=Un=null,at=!1}function Q0(){var r=to;return r!==null&&(Hn===null?Hn=r:Hn.push.apply(Hn,r),to=null),r}function zc(r){to===null?to=[r]:to.push(r)}var fp=Z(null),ro=null,za=null;function js(r,s,o){pe(fp,s._currentValue),s._currentValue=o}function Ba(r){r._currentValue=fp.current,me(fp)}function mp(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function pp(r,s,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var y=f.dependencies;if(y!==null){var x=f.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=f;for(var U=0;U<s.length;U++)if(R.context===s[U]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),mp(y.return,o,r),c||(x=null);break e}y=R.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),mp(x,o,r),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===r){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Bc(r,s,o,c){r=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var R=f.type;Xn(f.pendingProps.value,x.value)||(r!==null?r.push(R):r=[R])}}else if(f===he.current){if(x=f.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}f=f.return}r!==null&&pp(s,r,o,c),s.flags|=262144}function eh(r){for(r=r.firstContext;r!==null;){if(!Xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ao(r){ro=r,za=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return X0(ro,r)}function th(r,s){return ro===null&&ao(r),X0(r,s)}function X0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},za===null){if(r===null)throw Error(a(308));za=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else za=za.next=s;return o}var R2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},I2=t.unstable_scheduleCallback,D2=t.unstable_NormalPriority,ln={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gp(){return{controller:new R2,data:new Map,refCount:0}}function qc(r){r.refCount--,r.refCount===0&&I2(D2,function(){r.controller.abort()})}var Fc=null,yp=0,sl=0,il=null;function j2(r,s){if(Fc===null){var o=Fc=[];yp=0,sl=_g(),il={status:"pending",value:void 0,then:function(c){o.push(c)}}}return yp++,s.then(W0,W0),s}function W0(){if(--yp===0&&Fc!==null){il!==null&&(il.status="fulfilled");var r=Fc;Fc=null,sl=0,il=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function k2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Z0=G.S;G.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&j2(r,s),Z0!==null&&Z0(r,s)};var so=Z(null);function vp(){var r=so.current;return r!==null?r:Tt.pooledCache}function nh(r,s){s===null?pe(so,so.current):pe(so,s.pool)}function J0(){var r=vp();return r===null?null:{parent:ln._currentValue,pool:r}}var $c=Error(a(460)),e_=Error(a(474)),rh=Error(a(542)),_p={then:function(){}};function t_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ah(){}function n_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ah,ah),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,a_(r),r;default:if(typeof s.status=="string")s.then(ah,ah);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,a_(r),r}throw Hc=s,$c}}var Hc=null;function r_(){if(Hc===null)throw Error(a(459));var r=Hc;return Hc=null,r}function a_(r){if(r===$c||r===rh)throw Error(a(483))}var ks=!1;function Ep(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ps(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Xd(r),$0(r,null,o),s}return Qd(r,c,s,o),Xd(r)}function Gc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,bs(r,o)}}function Tp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?f=y=s:y=y.next=s}else f=y=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var wp=!1;function Kc(){if(wp){var r=il;if(r!==null)throw r}}function Yc(r,s,o,c){wp=!1;var f=r.updateQueue;ks=!1;var y=f.firstBaseUpdate,x=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var U=R,W=U.next;U.next=null,x===null?y=W:x.next=W,x=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,R=oe.lastBaseUpdate,R!==x&&(R===null?oe.firstBaseUpdate=W:R.next=W,oe.lastBaseUpdate=U))}if(y!==null){var ue=f.baseState;x=0,oe=W=U=null,R=y;do{var J=R.lane&-536870913,te=J!==R.lane;if(te?(We&J)===J:(c&J)===J){J!==0&&J===sl&&(wp=!0),oe!==null&&(oe=oe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var je=r,Ne=R;J=s;var yt=o;switch(Ne.tag){case 1:if(je=Ne.payload,typeof je=="function"){ue=je.call(yt,ue,J);break e}ue=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ne.payload,J=typeof je=="function"?je.call(yt,ue,J):je,J==null)break e;ue=v({},ue,J);break e;case 2:ks=!0}}J=R.callback,J!==null&&(r.flags|=64,te&&(r.flags|=8192),te=f.callbacks,te===null?f.callbacks=[J]:te.push(J))}else te={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},oe===null?(W=oe=te,U=ue):oe=oe.next=te,x|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;te=R,R=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);oe===null&&(U=ue),f.baseState=U,f.firstBaseUpdate=W,f.lastBaseUpdate=oe,y===null&&(f.shared.lanes=0),Fs|=x,r.lanes=x,r.memoizedState=ue}}function s_(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function i_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)s_(o[r],s)}var ol=Z(null),sh=Z(0);function o_(r,s){r=Ya,pe(sh,r),pe(ol,s),Ya=r|s.baseLanes}function xp(){pe(sh,Ya),pe(ol,ol.current)}function Sp(){Ya=sh.current,me(ol),me(sh)}var Ms=0,ze=null,pt=null,Zt=null,ih=!1,ll=!1,io=!1,oh=0,Qc=0,cl=null,O2=0;function Gt(){throw Error(a(321))}function Ap(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Xn(r[o],s[o]))return!1;return!0}function Cp(r,s,o,c,f,y){return Ms=y,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=r===null||r.memoizedState===null?$_:H_,io=!1,y=o(c,f),io=!1,ll&&(y=c_(s,o,c,f)),l_(r),y}function l_(r){G.H=fh;var s=pt!==null&&pt.next!==null;if(Ms=0,Zt=pt=ze=null,ih=!1,Qc=0,cl=null,s)throw Error(a(300));r===null||fn||(r=r.dependencies,r!==null&&eh(r)&&(fn=!0))}function c_(r,s,o,c){ze=r;var f=0;do{if(ll&&(cl=null),Qc=0,ll=!1,25<=f)throw Error(a(301));if(f+=1,Zt=pt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=B2,y=s(o,c)}while(ll);return y}function P2(){var r=G.H,s=r.useState()[0];return s=typeof s.then=="function"?Xc(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(ze.flags|=1024),s}function Np(){var r=oh!==0;return oh=0,r}function Rp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ip(r){if(ih){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ih=!1}Ms=0,Zt=pt=ze=null,ll=!1,Qc=oh=0,cl=null}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function Jt(){if(pt===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Zt===null?ze.memoizedState:Zt.next;if(s!==null)Zt=s,pt=r;else{if(r===null)throw ze.alternate===null?Error(a(467)):Error(a(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Zt===null?ze.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function Dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(r){var s=Qc;return Qc+=1,cl===null&&(cl=[]),r=n_(cl,r,s),s=ze,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?$_:H_),r}function lh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xc(r);if(r.$$typeof===H)return Cn(r)}throw Error(a(438,String(r)))}function jp(r){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dp(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function qa(r,s){return typeof s=="function"?s(r):s}function ch(r){var s=Jt();return kp(s,pt,r)}function kp(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=r.baseQueue,y=c.pending;if(y!==null){if(f!==null){var x=f.next;f.next=y.next,y.next=x}s.baseQueue=f=y,c.pending=null}if(y=r.baseState,f===null)r.memoizedState=y;else{s=f.next;var R=x=null,U=null,W=s,oe=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(We&ue)===ue:(Ms&ue)===ue){var J=W.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===sl&&(oe=!0);else if((Ms&J)===J){W=W.next,J===sl&&(oe=!0);continue}else ue={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(R=U=ue,x=y):U=U.next=ue,ze.lanes|=J,Fs|=J;ue=W.action,io&&o(y,ue),y=W.hasEagerState?W.eagerState:o(y,ue)}else J={lane:ue,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(R=U=J,x=y):U=U.next=J,ze.lanes|=ue,Fs|=ue;W=W.next}while(W!==null&&W!==s);if(U===null?x=y:U.next=R,!Xn(y,r.memoizedState)&&(fn=!0,oe&&(o=il,o!==null)))throw o;r.memoizedState=y,r.baseState=x,r.baseQueue=U,c.lastRenderedState=y}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Op(r){var s=Jt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,y=s.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do y=r(y,x.action),x=x.next;while(x!==f);Xn(y,s.memoizedState)||(fn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function u_(r,s,o){var c=ze,f=Jt(),y=at;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var x=!Xn((pt||f).memoizedState,o);x&&(f.memoizedState=o,fn=!0),f=f.queue;var R=f_.bind(null,c,f,r);if(Wc(2048,8,R,[r]),f.getSnapshot!==s||x||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,ul(9,uh(),h_.bind(null,c,f,o,s),null),Tt===null)throw Error(a(349));y||(Ms&124)!==0||d_(c,s,o)}return o}function d_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=Dp(),ze.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function h_(r,s,o,c){s.value=o,s.getSnapshot=c,m_(s)&&p_(r)}function f_(r,s,o){return o(function(){m_(s)&&p_(r)})}function m_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Xn(r,o)}catch{return!0}}function p_(r){var s=tl(r,2);s!==null&&nr(s,r,2)}function Pp(r){var s=Fn();if(typeof r=="function"){var o=r;if(r=o(),io){pr(!0);try{o()}finally{pr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:r},s}function g_(r,s,o,c){return r.baseState=o,kp(r,pt,typeof c=="function"?c:qa)}function M2(r,s,o,c,f){if(hh(r))throw Error(a(485));if(r=s.action,r!==null){var y={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};G.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,y_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function y_(r,s){var o=s.action,c=s.payload,f=r.state;if(s.isTransition){var y=G.T,x={};G.T=x;try{var R=o(f,c),U=G.S;U!==null&&U(x,R),v_(r,s,R)}catch(W){Mp(r,s,W)}finally{G.T=y}}else try{y=o(f,c),v_(r,s,y)}catch(W){Mp(r,s,W)}}function v_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){__(r,s,c)},function(c){return Mp(r,s,c)}):__(r,s,o)}function __(r,s,o){s.status="fulfilled",s.value=o,E_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,y_(r,o)))}function Mp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,E_(s),s=s.next;while(s!==c)}r.action=null}function E_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function b_(r,s){return s}function T_(r,s){if(at){var o=Tt.formState;if(o!==null){e:{var c=ze;if(at){if(Ot){t:{for(var f=Ot,y=aa;f.nodeType!==8;){if(!y){f=null;break t}if(f=qr(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){Ot=qr(f.nextSibling),c=f.data==="F!";break e}}no(c)}c=!1}c&&(s=o[0])}}return o=Fn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:s},o.queue=c,o=B_.bind(null,ze,c),c.dispatch=o,c=Pp(!1),y=Bp.bind(null,ze,!1,c.queue),c=Fn(),f={state:s,dispatch:null,action:r,pending:null},c.queue=f,o=M2.bind(null,ze,f,y,o),f.dispatch=o,c.memoizedState=r,[s,o,!1]}function w_(r){var s=Jt();return x_(s,pt,r)}function x_(r,s,o){if(s=kp(r,s,b_)[0],r=ch(qa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Xc(s)}catch(x){throw x===$c?rh:x}else c=s;s=Jt();var f=s.queue,y=f.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,ul(9,uh(),V2.bind(null,f,o),null)),[c,y,r]}function V2(r,s){r.action=s}function S_(r){var s=Jt(),o=pt;if(o!==null)return x_(s,o,r);Jt(),s=s.memoizedState,o=Jt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ul(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Dp(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function uh(){return{destroy:void 0,resource:void 0}}function A_(){return Jt().memoizedState}function dh(r,s,o,c){var f=Fn();c=c===void 0?null:c,ze.flags|=r,f.memoizedState=ul(1|s,uh(),o,c)}function Wc(r,s,o,c){var f=Jt();c=c===void 0?null:c;var y=f.memoizedState.inst;pt!==null&&c!==null&&Ap(c,pt.memoizedState.deps)?f.memoizedState=ul(s,y,o,c):(ze.flags|=r,f.memoizedState=ul(1|s,y,o,c))}function C_(r,s){dh(8390656,8,r,s)}function N_(r,s){Wc(2048,8,r,s)}function R_(r,s){return Wc(4,2,r,s)}function I_(r,s){return Wc(4,4,r,s)}function D_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function j_(r,s,o){o=o!=null?o.concat([r]):null,Wc(4,4,D_.bind(null,s,r),o)}function Vp(){}function k_(r,s){var o=Jt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Ap(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function O_(r,s){var o=Jt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Ap(s,c[1]))return c[0];if(c=r(),io){pr(!0);try{r()}finally{pr(!1)}}return o.memoizedState=[c,s],c}function Lp(r,s,o){return o===void 0||(Ms&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=VE(),ze.lanes|=r,Fs|=r,o)}function P_(r,s,o,c){return Xn(o,s)?o:ol.current!==null?(r=Lp(r,o,c),Xn(r,s)||(fn=!0),r):(Ms&42)===0?(fn=!0,r.memoizedState=o):(r=VE(),ze.lanes|=r,Fs|=r,s)}function M_(r,s,o,c,f){var y=$.p;$.p=y!==0&&8>y?y:8;var x=G.T,R={};G.T=R,Bp(r,!1,s,o);try{var U=f(),W=G.S;if(W!==null&&W(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=k2(U,c);Zc(r,s,oe,tr(r))}else Zc(r,s,c,tr(r))}catch(ue){Zc(r,s,{then:function(){},status:"rejected",reason:ue},tr())}finally{$.p=y,G.T=x}}function L2(){}function Up(r,s,o,c){if(r.tag!==5)throw Error(a(476));var f=V_(r).queue;M_(r,f,s,re,o===null?L2:function(){return L_(r),o(c)})}function V_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function L_(r){var s=V_(r).next.queue;Zc(r,s,{},tr())}function zp(){return Cn(gu)}function U_(){return Jt().memoizedState}function z_(){return Jt().memoizedState}function U2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=tr();r=Os(o);var c=Ps(s,r,o);c!==null&&(nr(c,s,o),Gc(c,s,o)),s={cache:gp()},r.payload=s;return}s=s.return}}function z2(r,s,o){var c=tr();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},hh(r)?q_(s,o):(o=ip(r,s,o,c),o!==null&&(nr(o,r,c),F_(o,s,c)))}function B_(r,s,o){var c=tr();Zc(r,s,o,c)}function Zc(r,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(r))q_(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,R=y(x,o);if(f.hasEagerState=!0,f.eagerState=R,Xn(R,x))return Qd(r,s,f,0),Tt===null&&Yd(),!1}catch{}if(o=ip(r,s,f,c),o!==null)return nr(o,r,c),F_(o,s,c),!0}return!1}function Bp(r,s,o,c){if(c={lane:2,revertLane:_g(),action:c,hasEagerState:!1,eagerState:null,next:null},hh(r)){if(s)throw Error(a(479))}else s=ip(r,o,c,2),s!==null&&nr(s,r,2)}function hh(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function q_(r,s){ll=ih=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function F_(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,bs(r,o)}}var fh={readContext:Cn,use:lh,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},$_={readContext:Cn,use:lh,useCallback:function(r,s){return Fn().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:C_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,dh(4194308,4,D_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return dh(4194308,4,r,s)},useInsertionEffect:function(r,s){dh(4,2,r,s)},useMemo:function(r,s){var o=Fn();s=s===void 0?null:s;var c=r();if(io){pr(!0);try{r()}finally{pr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Fn();if(o!==void 0){var f=o(s);if(io){pr(!0);try{o(s)}finally{pr(!1)}}}else f=s;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=z2.bind(null,ze,r),[c.memoizedState,r]},useRef:function(r){var s=Fn();return r={current:r},s.memoizedState=r},useState:function(r){r=Pp(r);var s=r.queue,o=B_.bind(null,ze,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Vp,useDeferredValue:function(r,s){var o=Fn();return Lp(o,r,s)},useTransition:function(){var r=Pp(!1);return r=M_.bind(null,ze,r.queue,!0,!1),Fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=ze,f=Fn();if(at){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Tt===null)throw Error(a(349));(We&124)!==0||d_(c,s,o)}f.memoizedState=o;var y={value:o,getSnapshot:s};return f.queue=y,C_(f_.bind(null,c,y,r),[r]),c.flags|=2048,ul(9,uh(),h_.bind(null,c,y,o,s),null),o},useId:function(){var r=Fn(),s=Tt.identifierPrefix;if(at){var o=Ua,c=La;o=(c&~(1<<32-Pn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=oh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=O2++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:zp,useFormState:T_,useActionState:T_,useOptimistic:function(r){var s=Fn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bp.bind(null,ze,!0,o),o.dispatch=s,[r,s]},useMemoCache:jp,useCacheRefresh:function(){return Fn().memoizedState=U2.bind(null,ze)}},H_={readContext:Cn,use:lh,useCallback:k_,useContext:Cn,useEffect:N_,useImperativeHandle:j_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:O_,useReducer:ch,useRef:A_,useState:function(){return ch(qa)},useDebugValue:Vp,useDeferredValue:function(r,s){var o=Jt();return P_(o,pt.memoizedState,r,s)},useTransition:function(){var r=ch(qa)[0],s=Jt().memoizedState;return[typeof r=="boolean"?r:Xc(r),s]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:zp,useFormState:w_,useActionState:w_,useOptimistic:function(r,s){var o=Jt();return g_(o,pt,r,s)},useMemoCache:jp,useCacheRefresh:z_},B2={readContext:Cn,use:lh,useCallback:k_,useContext:Cn,useEffect:N_,useImperativeHandle:j_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:O_,useReducer:Op,useRef:A_,useState:function(){return Op(qa)},useDebugValue:Vp,useDeferredValue:function(r,s){var o=Jt();return pt===null?Lp(o,r,s):P_(o,pt.memoizedState,r,s)},useTransition:function(){var r=Op(qa)[0],s=Jt().memoizedState;return[typeof r=="boolean"?r:Xc(r),s]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:zp,useFormState:S_,useActionState:S_,useOptimistic:function(r,s){var o=Jt();return pt!==null?g_(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:jp,useCacheRefresh:z_},dl=null,Jc=0;function mh(r){var s=Jc;return Jc+=1,dl===null&&(dl=[]),n_(dl,r,s)}function eu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ph(r,s){throw s.$$typeof===E?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function G_(r){var s=r._init;return s(r._payload)}function K_(r){function s(K,B){if(r){var Y=K.deletions;Y===null?(K.deletions=[B],K.flags|=16):Y.push(B)}}function o(K,B){if(!r)return null;for(;B!==null;)s(K,B),B=B.sibling;return null}function c(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function f(K,B){return K=Va(K,B),K.index=0,K.sibling=null,K}function y(K,B,Y){return K.index=Y,r?(Y=K.alternate,Y!==null?(Y=Y.index,Y<B?(K.flags|=67108866,B):Y):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function x(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function R(K,B,Y,le){return B===null||B.tag!==6?(B=lp(Y,K.mode,le),B.return=K,B):(B=f(B,Y),B.return=K,B)}function U(K,B,Y,le){var Te=Y.type;return Te===A?oe(K,B,Y.props.children,le,Y.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&G_(Te)===B.type)?(B=f(B,Y.props),eu(B,Y),B.return=K,B):(B=Wd(Y.type,Y.key,Y.props,null,K.mode,le),eu(B,Y),B.return=K,B)}function W(K,B,Y,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=cp(Y,K.mode,le),B.return=K,B):(B=f(B,Y.children||[]),B.return=K,B)}function oe(K,B,Y,le,Te){return B===null||B.tag!==7?(B=Zi(Y,K.mode,le,Te),B.return=K,B):(B=f(B,Y),B.return=K,B)}function ue(K,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=lp(""+B,K.mode,Y),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return Y=Wd(B.type,B.key,B.props,null,K.mode,Y),eu(Y,B),Y.return=K,Y;case S:return B=cp(B,K.mode,Y),B.return=K,B;case N:var le=B._init;return B=le(B._payload),ue(K,B,Y)}if(ae(B)||b(B))return B=Zi(B,K.mode,Y,null),B.return=K,B;if(typeof B.then=="function")return ue(K,mh(B),Y);if(B.$$typeof===H)return ue(K,th(K,B),Y);ph(K,B)}return null}function J(K,B,Y,le){var Te=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Te!==null?null:R(K,B,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===Te?U(K,B,Y,le):null;case S:return Y.key===Te?W(K,B,Y,le):null;case N:return Te=Y._init,Y=Te(Y._payload),J(K,B,Y,le)}if(ae(Y)||b(Y))return Te!==null?null:oe(K,B,Y,le,null);if(typeof Y.then=="function")return J(K,B,mh(Y),le);if(Y.$$typeof===H)return J(K,B,th(K,Y),le);ph(K,Y)}return null}function te(K,B,Y,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Y)||null,R(B,K,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return K=K.get(le.key===null?Y:le.key)||null,U(B,K,le,Te);case S:return K=K.get(le.key===null?Y:le.key)||null,W(B,K,le,Te);case N:var Be=le._init;return le=Be(le._payload),te(K,B,Y,le,Te)}if(ae(le)||b(le))return K=K.get(Y)||null,oe(B,K,le,Te,null);if(typeof le.then=="function")return te(K,B,Y,mh(le),Te);if(le.$$typeof===H)return te(K,B,Y,th(B,le),Te);ph(B,le)}return null}function je(K,B,Y,le){for(var Te=null,Be=null,Se=B,Re=B=0,pn=null;Se!==null&&Re<Y.length;Re++){Se.index>Re?(pn=Se,Se=null):pn=Se.sibling;var nt=J(K,Se,Y[Re],le);if(nt===null){Se===null&&(Se=pn);break}r&&Se&&nt.alternate===null&&s(K,Se),B=y(nt,B,Re),Be===null?Te=nt:Be.sibling=nt,Be=nt,Se=pn}if(Re===Y.length)return o(K,Se),at&&eo(K,Re),Te;if(Se===null){for(;Re<Y.length;Re++)Se=ue(K,Y[Re],le),Se!==null&&(B=y(Se,B,Re),Be===null?Te=Se:Be.sibling=Se,Be=Se);return at&&eo(K,Re),Te}for(Se=c(Se);Re<Y.length;Re++)pn=te(Se,K,Re,Y[Re],le),pn!==null&&(r&&pn.alternate!==null&&Se.delete(pn.key===null?Re:pn.key),B=y(pn,B,Re),Be===null?Te=pn:Be.sibling=pn,Be=pn);return r&&Se.forEach(function(Zs){return s(K,Zs)}),at&&eo(K,Re),Te}function Ne(K,B,Y,le){if(Y==null)throw Error(a(151));for(var Te=null,Be=null,Se=B,Re=B=0,pn=null,nt=Y.next();Se!==null&&!nt.done;Re++,nt=Y.next()){Se.index>Re?(pn=Se,Se=null):pn=Se.sibling;var Zs=J(K,Se,nt.value,le);if(Zs===null){Se===null&&(Se=pn);break}r&&Se&&Zs.alternate===null&&s(K,Se),B=y(Zs,B,Re),Be===null?Te=Zs:Be.sibling=Zs,Be=Zs,Se=pn}if(nt.done)return o(K,Se),at&&eo(K,Re),Te;if(Se===null){for(;!nt.done;Re++,nt=Y.next())nt=ue(K,nt.value,le),nt!==null&&(B=y(nt,B,Re),Be===null?Te=nt:Be.sibling=nt,Be=nt);return at&&eo(K,Re),Te}for(Se=c(Se);!nt.done;Re++,nt=Y.next())nt=te(Se,K,Re,nt.value,le),nt!==null&&(r&&nt.alternate!==null&&Se.delete(nt.key===null?Re:nt.key),B=y(nt,B,Re),Be===null?Te=nt:Be.sibling=nt,Be=nt);return r&&Se.forEach(function(qC){return s(K,qC)}),at&&eo(K,Re),Te}function yt(K,B,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var Te=Y.key;B!==null;){if(B.key===Te){if(Te=Y.type,Te===A){if(B.tag===7){o(K,B.sibling),le=f(B,Y.props.children),le.return=K,K=le;break e}}else if(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&G_(Te)===B.type){o(K,B.sibling),le=f(B,Y.props),eu(le,Y),le.return=K,K=le;break e}o(K,B);break}else s(K,B);B=B.sibling}Y.type===A?(le=Zi(Y.props.children,K.mode,le,Y.key),le.return=K,K=le):(le=Wd(Y.type,Y.key,Y.props,null,K.mode,le),eu(le,Y),le.return=K,K=le)}return x(K);case S:e:{for(Te=Y.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(K,B.sibling),le=f(B,Y.children||[]),le.return=K,K=le;break e}else{o(K,B);break}else s(K,B);B=B.sibling}le=cp(Y,K.mode,le),le.return=K,K=le}return x(K);case N:return Te=Y._init,Y=Te(Y._payload),yt(K,B,Y,le)}if(ae(Y))return je(K,B,Y,le);if(b(Y)){if(Te=b(Y),typeof Te!="function")throw Error(a(150));return Y=Te.call(Y),Ne(K,B,Y,le)}if(typeof Y.then=="function")return yt(K,B,mh(Y),le);if(Y.$$typeof===H)return yt(K,B,th(K,Y),le);ph(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(K,B.sibling),le=f(B,Y),le.return=K,K=le):(o(K,B),le=lp(Y,K.mode,le),le.return=K,K=le),x(K)):o(K,B)}return function(K,B,Y,le){try{Jc=0;var Te=yt(K,B,Y,le);return dl=null,Te}catch(Se){if(Se===$c||Se===rh)throw Se;var Be=Wn(29,Se,null,K.mode);return Be.lanes=le,Be.return=K,Be}}}var hl=K_(!0),Y_=K_(!1),xr=Z(null),sa=null;function Vs(r){var s=r.alternate;pe(cn,cn.current&1),pe(xr,r),sa===null&&(s===null||ol.current!==null||s.memoizedState!==null)&&(sa=r)}function Q_(r){if(r.tag===22){if(pe(cn,cn.current),pe(xr,r),sa===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(sa=r)}}else Ls()}function Ls(){pe(cn,cn.current),pe(xr,xr.current)}function Fa(r){me(xr),sa===r&&(sa=null),me(cn)}var cn=Z(0);function gh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Dg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function qp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Fp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=tr(),f=Os(c);f.payload=s,o!=null&&(f.callback=o),s=Ps(r,f,c),s!==null&&(nr(s,r,c),Gc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=tr(),f=Os(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Ps(r,f,c),s!==null&&(nr(s,r,c),Gc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=tr(),c=Os(o);c.tag=2,s!=null&&(c.callback=s),s=Ps(r,c,o),s!==null&&(nr(s,r,o),Gc(s,r,o))}};function X_(r,s,o,c,f,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,x):s.prototype&&s.prototype.isPureReactComponent?!Mc(o,c)||!Mc(f,y):!0}function W_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Fp.enqueueReplaceState(s,s.state,null)}function oo(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var yh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Z_(r){yh(r)}function J_(r){console.error(r)}function eE(r){yh(r)}function vh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function tE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $p(r,s,o){return o=Os(o),o.tag=3,o.payload={element:null},o.callback=function(){vh(r,s)},o}function nE(r){return r=Os(r),r.tag=3,r}function rE(r,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;r.payload=function(){return f(y)},r.callback=function(){tE(s,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){tE(s,o,c),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function q2(r,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Bc(s,o,f,!0),o=xr.current,o!==null){switch(o.tag){case 13:return sa===null?mg():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===_p?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),gg(r,c,f)),!1;case 22:return o.flags|=65536,c===_p?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),gg(r,c,f)),!1}throw Error(a(435,o.tag))}return gg(r,c,f),mg(),!1}if(at)return s=xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==hp&&(r=Error(a(422),{cause:c}),zc(Er(r,o)))):(c!==hp&&(s=Error(a(423),{cause:c}),zc(Er(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=Er(c,o),f=$p(r.stateNode,c,f),Tp(r,f),Pt!==4&&(Pt=2)),!1;var y=Error(a(520),{cause:c});if(y=Er(y,o),ou===null?ou=[y]:ou.push(y),Pt!==4&&(Pt=2),s===null)return!0;c=Er(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=$p(o.stateNode,c,r),Tp(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($s===null||!$s.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=nE(f),rE(f,r,o,c),Tp(o,f),!1}o=o.return}while(o!==null);return!1}var aE=Error(a(461)),fn=!1;function vn(r,s,o,c){s.child=r===null?Y_(s,null,o,c):hl(s,r.child,o,c)}function sE(r,s,o,c,f){o=o.render;var y=s.ref;if("ref"in c){var x={};for(var R in c)R!=="ref"&&(x[R]=c[R])}else x=c;return ao(s),c=Cp(r,s,o,x,y,f),R=Np(),r!==null&&!fn?(Rp(r,s,f),$a(r,s,f)):(at&&R&&up(s),s.flags|=1,vn(r,s,c,f),s.child)}function iE(r,s,o,c,f){if(r===null){var y=o.type;return typeof y=="function"&&!op(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,oE(r,s,y,c,f)):(r=Wd(o.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Zp(r,f)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:Mc,o(x,c)&&r.ref===s.ref)return $a(r,s,f)}return s.flags|=1,r=Va(y,c),r.ref=s.ref,r.return=s,s.child=r}function oE(r,s,o,c,f){if(r!==null){var y=r.memoizedProps;if(Mc(y,c)&&r.ref===s.ref)if(fn=!1,s.pendingProps=c=y,Zp(r,f))(r.flags&131072)!==0&&(fn=!0);else return s.lanes=r.lanes,$a(r,s,f)}return Hp(r,s,o,c,f)}function lE(r,s,o){var c=s.pendingProps,f=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(f=s.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return cE(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&nh(s,y!==null?y.cachePool:null),y!==null?o_(s,y):xp(),Q_(s);else return s.lanes=s.childLanes=536870912,cE(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(nh(s,y.cachePool),o_(s,y),Ls(),s.memoizedState=null):(r!==null&&nh(s,null),xp(),Ls());return vn(r,s,f,o),s.child}function cE(r,s,o,c){var f=vp();return f=f===null?null:{parent:ln._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&nh(s,null),xp(),Q_(s),r!==null&&Bc(r,s,c,!0),null}function _h(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Hp(r,s,o,c,f){return ao(s),o=Cp(r,s,o,c,void 0,f),c=Np(),r!==null&&!fn?(Rp(r,s,f),$a(r,s,f)):(at&&c&&up(s),s.flags|=1,vn(r,s,o,f),s.child)}function uE(r,s,o,c,f,y){return ao(s),s.updateQueue=null,o=c_(s,c,o,f),l_(r),c=Np(),r!==null&&!fn?(Rp(r,s,y),$a(r,s,y)):(at&&c&&up(s),s.flags|=1,vn(r,s,o,y),s.child)}function dE(r,s,o,c,f){if(ao(s),s.stateNode===null){var y=nl,x=o.contextType;typeof x=="object"&&x!==null&&(y=Cn(x)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Fp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Ep(s),x=o.contextType,y.context=typeof x=="object"&&x!==null?Cn(x):nl,y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(qp(s,o,x,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Fp.enqueueReplaceState(y,y.state,null),Yc(s,c,y,f),Kc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var R=s.memoizedProps,U=oo(o,R);y.props=U;var W=y.context,oe=o.contextType;x=nl,typeof oe=="object"&&oe!==null&&(x=Cn(oe));var ue=o.getDerivedStateFromProps;oe=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||W!==x)&&W_(s,y,c,x),ks=!1;var J=s.memoizedState;y.state=J,Yc(s,c,y,f),Kc(),W=s.memoizedState,R||J!==W||ks?(typeof ue=="function"&&(qp(s,o,ue,c),W=s.memoizedState),(U=ks||X_(s,o,U,c,J,W,x))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),y.props=c,y.state=W,y.context=x,c=U):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,bp(r,s),x=s.memoizedProps,oe=oo(o,x),y.props=oe,ue=s.pendingProps,J=y.context,W=o.contextType,U=nl,typeof W=="object"&&W!==null&&(U=Cn(W)),R=o.getDerivedStateFromProps,(W=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==ue||J!==U)&&W_(s,y,c,U),ks=!1,J=s.memoizedState,y.state=J,Yc(s,c,y,f),Kc();var te=s.memoizedState;x!==ue||J!==te||ks||r!==null&&r.dependencies!==null&&eh(r.dependencies)?(typeof R=="function"&&(qp(s,o,R,c),te=s.memoizedState),(oe=ks||X_(s,o,oe,c,J,te,U)||r!==null&&r.dependencies!==null&&eh(r.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,U)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),y.props=c,y.state=te,y.context=U,c=oe):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,_h(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=hl(s,r.child,null,f),s.child=hl(s,null,o,f)):vn(r,s,o,f),s.memoizedState=y.state,r=s.child):r=$a(r,s,f),r}function hE(r,s,o,c){return Uc(),s.flags|=256,vn(r,s,o,c),s.child}var Gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kp(r){return{baseLanes:r,cachePool:J0()}}function Yp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Sr),r}function fE(r,s,o){var c=s.pendingProps,f=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),x&&(f=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(at){if(f?Vs(s):Ls(),at){var R=Ot,U;if(U=R){e:{for(U=R,R=aa;U.nodeType!==8;){if(!R){R=null;break e}if(U=qr(U.nextSibling),U===null){R=null;break e}}R=U}R!==null?(s.memoizedState={dehydrated:R,treeContext:Ji!==null?{id:La,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},U=Wn(18,null,null,0),U.stateNode=R,U.return=s,s.child=U,Un=s,Ot=null,U=!0):U=!1}U||no(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Dg(R)?s.lanes=32:s.lanes=536870912,null;Fa(s)}return R=c.children,c=c.fallback,f?(Ls(),f=s.mode,R=Eh({mode:"hidden",children:R},f),c=Zi(c,f,o,null),R.return=s,c.return=s,R.sibling=c,s.child=R,f=s.child,f.memoizedState=Kp(o),f.childLanes=Yp(r,x,o),s.memoizedState=Gp,c):(Vs(s),Qp(s,R))}if(U=r.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(y)s.flags&256?(Vs(s),s.flags&=-257,s=Xp(r,s,o)):s.memoizedState!==null?(Ls(),s.child=r.child,s.flags|=128,s=null):(Ls(),f=c.fallback,R=s.mode,c=Eh({mode:"visible",children:c.children},R),f=Zi(f,R,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,hl(s,r.child,null,o),c=s.child,c.memoizedState=Kp(o),c.childLanes=Yp(r,x,o),s.memoizedState=Gp,s=f);else if(Vs(s),Dg(R)){if(x=R.nextSibling&&R.nextSibling.dataset,x)var W=x.dgst;x=W,c=Error(a(419)),c.stack="",c.digest=x,zc({value:c,source:null,stack:null}),s=Xp(r,s,o)}else if(fn||Bc(r,s,o,!1),x=(o&r.childLanes)!==0,fn||x){if(x=Tt,x!==null&&(c=o&-o,c=(c&42)!==0?1:_c(c),c=(c&(x.suspendedLanes|o))!==0?0:c,c!==0&&c!==U.retryLane))throw U.retryLane=c,tl(r,c),nr(x,r,c),aE;R.data==="$?"||mg(),s=Xp(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,Ot=qr(R.nextSibling),Un=s,at=!0,to=null,aa=!1,r!==null&&(Tr[wr++]=La,Tr[wr++]=Ua,Tr[wr++]=Ji,La=r.id,Ua=r.overflow,Ji=s),s=Qp(s,c.children),s.flags|=4096);return s}return f?(Ls(),f=c.fallback,R=s.mode,U=r.child,W=U.sibling,c=Va(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,W!==null?f=Va(W,f):(f=Zi(f,R,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,R=r.child.memoizedState,R===null?R=Kp(o):(U=R.cachePool,U!==null?(W=ln._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=J0(),R={baseLanes:R.baseLanes|o,cachePool:U}),f.memoizedState=R,f.childLanes=Yp(r,x,o),s.memoizedState=Gp,c):(Vs(s),o=r.child,r=o.sibling,o=Va(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Qp(r,s){return s=Eh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Eh(r,s){return r=Wn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Xp(r,s,o){return hl(s,r.child,null,o),r=Qp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),mp(r.return,s,o)}function Wp(r,s,o,c,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=f)}function pE(r,s,o){var c=s.pendingProps,f=c.revealOrder,y=c.tail;if(vn(r,s,c.children,o),c=cn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mE(r,o,s);else if(r.tag===19)mE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(pe(cn,c),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&gh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Wp(s,!1,f,o,y);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&gh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Wp(s,!0,o,null,y);break;case"together":Wp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $a(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Fs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Bc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=Va(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Va(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Zp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&eh(r)))}function F2(r,s,o){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),js(s,ln,r.memoizedState.cache),Uc();break;case 27:case 5:Je(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:js(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Vs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?fE(r,s,o):(Vs(s),r=$a(r,s,o),r!==null?r.sibling:null);Vs(s);break;case 19:var f=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Bc(r,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return pE(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pe(cn,cn.current),c)break;return null;case 22:case 23:return s.lanes=0,lE(r,s,o);case 24:js(s,ln,r.memoizedState.cache)}return $a(r,s,o)}function gE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)fn=!0;else{if(!Zp(r,o)&&(s.flags&128)===0)return fn=!1,F2(r,s,o);fn=(r.flags&131072)!==0}else fn=!1,at&&(s.flags&1048576)!==0&&G0(s,Jd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")op(c)?(r=oo(c,r),s.tag=1,s=dE(null,s,c,r,o)):(s.tag=0,s=Hp(null,s,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===ee){s.tag=11,s=sE(null,s,c,r,o);break e}else if(f===D){s.tag=14,s=iE(null,s,c,r,o);break e}}throw s=ie(c)||c,Error(a(306,s,""))}}return s;case 0:return Hp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=oo(c,s.pendingProps),dE(r,s,c,f,o);case 3:e:{if(fe(s,s.stateNode.containerInfo),r===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;f=y.element,bp(r,s),Yc(s,c,null,o);var x=s.memoizedState;if(c=x.cache,js(s,ln,c),c!==y.cache&&pp(s,[ln],o,!0),Kc(),c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=hE(r,s,c,o);break e}else if(c!==f){f=Er(Error(a(424)),s),zc(f),s=hE(r,s,c,o);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ot=qr(r.firstChild),Un=s,at=!0,to=null,aa=!0,o=Y_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Uc(),c===f){s=$a(r,s,o);break e}vn(r,s,c,o)}s=s.child}return s;case 26:return _h(r,s),r===null?(o=E1(s.type,null,s.pendingProps,null))?s.memoizedState=o:at||(o=s.type,r=s.pendingProps,c=Oh(xe.current).createElement(o),c[Ft]=s,c[yn]=r,En(c,o,r),$t(c),s.stateNode=c):s.memoizedState=E1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Je(s),r===null&&at&&(c=s.stateNode=y1(s.type,s.pendingProps,xe.current),Un=s,aa=!0,f=Ot,Ks(s.type)?(jg=f,Ot=qr(c.firstChild)):Ot=f),vn(r,s,s.pendingProps.children,o),_h(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&at&&((f=c=Ot)&&(c=yC(c,s.type,s.pendingProps,aa),c!==null?(s.stateNode=c,Un=s,Ot=qr(c.firstChild),aa=!1,f=!0):f=!1),f||no(s)),Je(s),f=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,c=y.children,Ng(f,y)?c=null:x!==null&&Ng(f,x)&&(s.flags|=32),s.memoizedState!==null&&(f=Cp(r,s,P2,null,null,o),gu._currentValue=f),_h(r,s),vn(r,s,c,o),s.child;case 6:return r===null&&at&&((r=o=Ot)&&(o=vC(o,s.pendingProps,aa),o!==null?(s.stateNode=o,Un=s,Ot=null,r=!0):r=!1),r||no(s)),null;case 13:return fE(r,s,o);case 4:return fe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=hl(s,null,c,o):vn(r,s,c,o),s.child;case 11:return sE(r,s,s.type,s.pendingProps,o);case 7:return vn(r,s,s.pendingProps,o),s.child;case 8:return vn(r,s,s.pendingProps.children,o),s.child;case 12:return vn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,js(s,s.type,c.value),vn(r,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,ao(s),f=Cn(f),c=c(f),s.flags|=1,vn(r,s,c,o),s.child;case 14:return iE(r,s,s.type,s.pendingProps,o);case 15:return oE(r,s,s.type,s.pendingProps,o);case 19:return pE(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=Eh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Va(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return lE(r,s,o);case 24:return ao(s),c=Cn(ln),r===null?(f=vp(),f===null&&(f=Tt,y=gp(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),s.memoizedState={parent:c,cache:f},Ep(s),js(s,ln,f)):((r.lanes&o)!==0&&(bp(r,s),Yc(s,null,null,o),Kc()),f=r.memoizedState,y=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),js(s,ln,c)):(c=y.cache,js(s,ln,c),c!==f.cache&&pp(s,[ln],o,!0))),vn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Ha(r){r.flags|=4}function yE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!S1(s)){if(s=xr.current,s!==null&&((We&4194048)===We?sa!==null:(We&62914560)!==We&&(We&536870912)===0||s!==sa))throw Hc=_p,e_;r.flags|=8192}}function bh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?_s():536870912,r.lanes|=s,gl|=s)}function tu(r,s){if(!at)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function $2(r,s,o){var c=s.pendingProps;switch(dp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ba(ln),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Lc(s)?Ha(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Q0())),jt(s),null;case 26:return o=s.memoizedState,r===null?(Ha(s),o!==null?(jt(s),yE(s,o)):(jt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ha(s),jt(s),yE(s,o)):(jt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Ha(s),jt(s),s.flags&=-16777217),null;case 27:Le(s),o=xe.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ha(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return jt(s),null}r=be.current,Lc(s)?K0(s):(r=y1(f,c,o),s.stateNode=r,Ha(s))}return jt(s),null;case 5:if(Le(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ha(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return jt(s),null}if(r=be.current,Lc(s))K0(s);else{switch(f=Oh(xe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[Ft]=s,r[yn]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(En(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ha(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ha(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=xe.current,Lc(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,f=Un,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[Ft]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||u1(r.nodeValue,o)),r||no(s)}else r=Oh(r).createTextNode(c),r[Ft]=s,s.stateNode=r}return jt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Lc(s),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ft]=s}else Uc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),f=!1}else f=Q0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Fa(s),s):(Fa(s),null)}if(Fa(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),bh(s,s.updateQueue),jt(s),null;case 4:return we(),r===null&&wg(s.stateNode.containerInfo),jt(s),null;case 10:return Ba(s.type),jt(s),null;case 19:if(me(cn),f=s.memoizedState,f===null)return jt(s),null;if(c=(s.flags&128)!==0,y=f.rendering,y===null)if(c)tu(f,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=gh(r),y!==null){for(s.flags|=128,tu(f,!1),r=y.updateQueue,s.updateQueue=r,bh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)H0(o,r),o=o.sibling;return pe(cn,cn.current&1|2),s.child}r=r.sibling}f.tail!==null&&ot()>xh&&(s.flags|=128,c=!0,tu(f,!1),s.lanes=4194304)}else{if(!c)if(r=gh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,bh(s,r),tu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!at)return jt(s),null}else 2*ot()-f.renderingStartTime>xh&&o!==536870912&&(s.flags|=128,c=!0,tu(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(r=f.last,r!==null?r.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=ot(),s.sibling=null,r=cn.current,pe(cn,c?r&1|2:r&1),s):(jt(s),null);case 22:case 23:return Fa(s),Sp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),o=s.updateQueue,o!==null&&bh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&me(so),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ba(ln),jt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function H2(r,s){switch(dp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ba(ln),we(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Le(s),null;case 13:if(Fa(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Uc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return me(cn),null;case 4:return we(),null;case 10:return Ba(s.type),null;case 22:case 23:return Fa(s),Sp(),r!==null&&me(so),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ba(ln),null;case 25:return null;default:return null}}function vE(r,s){switch(dp(s),s.tag){case 3:Ba(ln),we();break;case 26:case 27:case 5:Le(s);break;case 4:we();break;case 13:Fa(s);break;case 19:me(cn);break;case 10:Ba(s.type);break;case 22:case 23:Fa(s),Sp(),r!==null&&me(so);break;case 24:Ba(ln)}}function nu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var y=o.create,x=o.inst;c=y(),x.destroy=c}o=o.next}while(o!==f)}}catch(R){Et(s,s.return,R)}}function Us(r,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){var x=c.inst,R=x.destroy;if(R!==void 0){x.destroy=void 0,f=s;var U=o,W=R;try{W()}catch(oe){Et(f,U,oe)}}}c=c.next}while(c!==y)}}catch(oe){Et(s,s.return,oe)}}function _E(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{i_(s,o)}catch(c){Et(r,r.return,c)}}}function EE(r,s,o){o.props=oo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Et(r,s,c)}}function ru(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){Et(r,s,f)}}function ia(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Et(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Et(r,s,f)}else o.current=null}function bE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Et(r,r.return,f)}}function Jp(r,s,o){try{var c=r.stateNode;hC(c,r.type,o,s),c[yn]=s}catch(f){Et(r,r.return,f)}}function TE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ks(r.type)||r.tag===4}function eg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||TE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ks(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tg(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=kh));else if(c!==4&&(c===27&&Ks(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(tg(r,s,o),r=r.sibling;r!==null;)tg(r,s,o),r=r.sibling}function Th(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Ks(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Th(r,s,o),r=r.sibling;r!==null;)Th(r,s,o),r=r.sibling}function wE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);En(s,c,o),s[Ft]=r,s[yn]=o}catch(y){Et(r,r.return,y)}}var Ga=!1,Kt=!1,ng=!1,xE=typeof WeakSet=="function"?WeakSet:Set,mn=null;function G2(r,s){if(r=r.containerInfo,Ag=zh,r=P0(r),ep(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,R=-1,U=-1,W=0,oe=0,ue=r,J=null;t:for(;;){for(var te;ue!==o||f!==0&&ue.nodeType!==3||(R=x+f),ue!==y||c!==0&&ue.nodeType!==3||(U=x+c),ue.nodeType===3&&(x+=ue.nodeValue.length),(te=ue.firstChild)!==null;)J=ue,ue=te;for(;;){if(ue===r)break t;if(J===o&&++W===f&&(R=x),J===y&&++oe===c&&(U=x),(te=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=te}o=R===-1||U===-1?null:{start:R,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cg={focusedElem:r,selectionRange:o},zh=!1,mn=s;mn!==null;)if(s=mn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,mn=r;else for(;mn!==null;){switch(s=mn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var je=oo(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(je,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ne){Et(o,o.return,Ne)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Ig(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ig(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,mn=r;break}mn=s.return}}function SE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:zs(r,o),c&4&&nu(5,o);break;case 1:if(zs(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){Et(o,o.return,x)}else{var f=oo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){Et(o,o.return,x)}}c&64&&_E(o),c&512&&ru(o,o.return);break;case 3:if(zs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{i_(r,s)}catch(x){Et(o,o.return,x)}}break;case 27:s===null&&c&4&&wE(o);case 26:case 5:zs(r,o),s===null&&c&4&&bE(o),c&512&&ru(o,o.return);break;case 12:zs(r,o);break;case 13:zs(r,o),c&4&&NE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=tC.bind(null,o),_C(r,o))));break;case 22:if(c=o.memoizedState!==null||Ga,!c){s=s!==null&&s.memoizedState!==null||Kt,f=Ga;var y=Kt;Ga=c,(Kt=s)&&!y?Bs(r,o,(o.subtreeFlags&8772)!==0):zs(r,o),Ga=f,Kt=y}break;case 30:break;default:zs(r,o)}}function AE(r){var s=r.alternate;s!==null&&(r.alternate=null,AE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&zo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var At=null,$n=!1;function Ka(r,s,o){for(o=o.child;o!==null;)CE(r,s,o),o=o.sibling}function CE(r,s,o){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(gs,o)}catch{}switch(o.tag){case 26:Kt||ia(o,s),Ka(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||ia(o,s);var c=At,f=$n;Ks(o.type)&&(At=o.stateNode,$n=!1),Ka(r,s,o),hu(o.stateNode),At=c,$n=f;break;case 5:Kt||ia(o,s);case 6:if(c=At,f=$n,At=null,Ka(r,s,o),At=c,$n=f,At!==null)if($n)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(o.stateNode)}catch(y){Et(o,s,y)}else try{At.removeChild(o.stateNode)}catch(y){Et(o,s,y)}break;case 18:At!==null&&($n?(r=At,p1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Eu(r)):p1(At,o.stateNode));break;case 4:c=At,f=$n,At=o.stateNode.containerInfo,$n=!0,Ka(r,s,o),At=c,$n=f;break;case 0:case 11:case 14:case 15:Kt||Us(2,o,s),Kt||Us(4,o,s),Ka(r,s,o);break;case 1:Kt||(ia(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&EE(o,s,c)),Ka(r,s,o);break;case 21:Ka(r,s,o);break;case 22:Kt=(c=Kt)||o.memoizedState!==null,Ka(r,s,o),Kt=c;break;default:Ka(r,s,o)}}function NE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Eu(r)}catch(o){Et(s,s.return,o)}}function K2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new xE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new xE),s;default:throw Error(a(435,r.tag))}}function rg(r,s){var o=K2(r);s.forEach(function(c){var f=nC.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function Zn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=r,x=s,R=x;e:for(;R!==null;){switch(R.tag){case 27:if(Ks(R.type)){At=R.stateNode,$n=!1;break e}break;case 5:At=R.stateNode,$n=!1;break e;case 3:case 4:At=R.stateNode.containerInfo,$n=!0;break e}R=R.return}if(At===null)throw Error(a(160));CE(y,x,f),At=null,$n=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)RE(s,r),s=s.sibling}var Br=null;function RE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zn(s,r),Jn(r),c&4&&(Us(3,r,r.return),nu(3,r),Us(5,r,r.return));break;case 1:Zn(s,r),Jn(r),c&512&&(Kt||o===null||ia(o,o.return)),c&64&&Ga&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Br;if(Zn(s,r),Jn(r),c&512&&(Kt||o===null||ia(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Ts]||y[Ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),En(y,c,o),y[Ft]=r,$t(y),c=y;break e;case"link":var x=w1("link","href",f).get(c+(o.href||""));if(x){for(var R=0;R<x.length;R++)if(y=x[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(R,1);break t}}y=f.createElement(c),En(y,c,o),f.head.appendChild(y);break;case"meta":if(x=w1("meta","content",f).get(c+(o.content||""))){for(R=0;R<x.length;R++)if(y=x[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(R,1);break t}}y=f.createElement(c),En(y,c,o),f.head.appendChild(y);break;default:throw Error(a(468,c))}y[Ft]=r,$t(y),c=y}r.stateNode=c}else x1(f,r.type,r.stateNode);else r.stateNode=T1(f,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?x1(f,r.type,r.stateNode):T1(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Jp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Zn(s,r),Jn(r),c&512&&(Kt||o===null||ia(o,o.return)),o!==null&&c&4&&Jp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Zn(s,r),Jn(r),c&512&&(Kt||o===null||ia(o,o.return)),r.flags&32){f=r.stateNode;try{vr(f,"")}catch(te){Et(r,r.return,te)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,Jp(r,f,o!==null?o.memoizedProps:f)),c&1024&&(ng=!0);break;case 6:if(Zn(s,r),Jn(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(te){Et(r,r.return,te)}}break;case 3:if(Vh=null,f=Br,Br=Ph(s.containerInfo),Zn(s,r),Br=f,Jn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Eu(s.containerInfo)}catch(te){Et(r,r.return,te)}ng&&(ng=!1,IE(r));break;case 4:c=Br,Br=Ph(r.stateNode.containerInfo),Zn(s,r),Jn(r),Br=c;break;case 12:Zn(s,r),Jn(r);break;case 13:Zn(s,r),Jn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(cg=ot()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,rg(r,c)));break;case 22:f=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,W=Ga,oe=Kt;if(Ga=W||f,Kt=oe||U,Zn(s,r),Kt=oe,Ga=W,Jn(r),c&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||U||Ga||Kt||lo(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(y=U.stateNode,f)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{R=U.stateNode;var ue=U.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){Et(U,U.return,te)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(te){Et(U,U.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,rg(r,o))));break;case 19:Zn(s,r),Jn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,rg(r,c)));break;case 30:break;case 21:break;default:Zn(s,r),Jn(r)}}function Jn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(TE(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,y=eg(r);Th(r,y,f);break;case 5:var x=o.stateNode;o.flags&32&&(vr(x,""),o.flags&=-33);var R=eg(r);Th(r,R,x);break;case 3:case 4:var U=o.stateNode.containerInfo,W=eg(r);tg(r,W,U);break;default:throw Error(a(161))}}catch(oe){Et(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function IE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;IE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function zs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)SE(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),lo(s);break;case 1:ia(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&EE(s,s.return,o),lo(s);break;case 27:hu(s.stateNode);case 26:case 5:ia(s,s.return),lo(s);break;case 22:s.memoizedState===null&&lo(s);break;case 30:lo(s);break;default:lo(s)}r=r.sibling}}function Bs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=r,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:Bs(f,y,o),nu(4,y);break;case 1:if(Bs(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){Et(c,c.return,W)}if(c=y,f=c.updateQueue,f!==null){var R=c.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)s_(U[f],R)}catch(W){Et(c,c.return,W)}}o&&x&64&&_E(y),ru(y,y.return);break;case 27:wE(y);case 26:case 5:Bs(f,y,o),o&&c===null&&x&4&&bE(y),ru(y,y.return);break;case 12:Bs(f,y,o);break;case 13:Bs(f,y,o),o&&x&4&&NE(f,y);break;case 22:y.memoizedState===null&&Bs(f,y,o),ru(y,y.return);break;case 30:break;default:Bs(f,y,o)}s=s.sibling}}function ag(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&qc(o))}function sg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&qc(r))}function oa(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)DE(r,s,o,c),s=s.sibling}function DE(r,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oa(r,s,o,c),f&2048&&nu(9,s);break;case 1:oa(r,s,o,c);break;case 3:oa(r,s,o,c),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&qc(r)));break;case 12:if(f&2048){oa(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,x=y.id,R=y.onPostCommit;typeof R=="function"&&R(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Et(s,s.return,U)}}else oa(r,s,o,c);break;case 13:oa(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?oa(r,s,o,c):au(r,s):y._visibility&2?oa(r,s,o,c):(y._visibility|=2,fl(r,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&ag(x,s);break;case 24:oa(r,s,o,c),f&2048&&sg(s.alternate,s);break;default:oa(r,s,o,c)}}function fl(r,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,x=s,R=o,U=c,W=x.flags;switch(x.tag){case 0:case 11:case 15:fl(y,x,R,U,f),nu(8,x);break;case 23:break;case 22:var oe=x.stateNode;x.memoizedState!==null?oe._visibility&2?fl(y,x,R,U,f):au(y,x):(oe._visibility|=2,fl(y,x,R,U,f)),f&&W&2048&&ag(x.alternate,x);break;case 24:fl(y,x,R,U,f),f&&W&2048&&sg(x.alternate,x);break;default:fl(y,x,R,U,f)}s=s.sibling}}function au(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,f=c.flags;switch(c.tag){case 22:au(o,c),f&2048&&ag(c.alternate,c);break;case 24:au(o,c),f&2048&&sg(c.alternate,c);break;default:au(o,c)}s=s.sibling}}var su=8192;function ml(r){if(r.subtreeFlags&su)for(r=r.child;r!==null;)jE(r),r=r.sibling}function jE(r){switch(r.tag){case 26:ml(r),r.flags&su&&r.memoizedState!==null&&jC(Br,r.memoizedState,r.memoizedProps);break;case 5:ml(r);break;case 3:case 4:var s=Br;Br=Ph(r.stateNode.containerInfo),ml(r),Br=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=su,su=16777216,ml(r),su=s):ml(r));break;default:ml(r)}}function kE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function iu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];mn=c,PE(c,r)}kE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)OE(r),r=r.sibling}function OE(r){switch(r.tag){case 0:case 11:case 15:iu(r),r.flags&2048&&Us(9,r,r.return);break;case 3:iu(r);break;case 12:iu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,wh(r)):iu(r);break;default:iu(r)}}function wh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];mn=c,PE(c,r)}kE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Us(8,s,s.return),wh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,wh(s));break;default:wh(s)}r=r.sibling}}function PE(r,s){for(;mn!==null;){var o=mn;switch(o.tag){case 0:case 11:case 15:Us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:qc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,mn=c;else e:for(o=r;mn!==null;){c=mn;var f=c.sibling,y=c.return;if(AE(c),c===o){mn=null;break e}if(f!==null){f.return=y,mn=f;break e}mn=y}}}var Y2={getCacheForType:function(r){var s=Cn(ln),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Q2=typeof WeakMap=="function"?WeakMap:Map,ut=0,Tt=null,qe=null,We=0,dt=0,er=null,qs=!1,pl=!1,ig=!1,Ya=0,Pt=0,Fs=0,co=0,og=0,Sr=0,gl=0,ou=null,Hn=null,lg=!1,cg=0,xh=1/0,Sh=null,$s=null,_n=0,Hs=null,yl=null,vl=0,ug=0,dg=null,ME=null,lu=0,hg=null;function tr(){if((ut&2)!==0&&We!==0)return We&-We;if(G.T!==null){var r=sl;return r!==0?r:_g()}return Ia()}function VE(){Sr===0&&(Sr=(We&536870912)===0||at?vc():536870912);var r=xr.current;return r!==null&&(r.flags|=32),Sr}function nr(r,s,o){(r===Tt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(_l(r,0),Gs(r,We,Sr,!1)),qt(r,o),((ut&2)===0||r!==Tt)&&(r===Tt&&((ut&2)===0&&(co|=o),Pt===4&&Gs(r,We,Sr,!1)),la(r))}function LE(r,s,o){if((ut&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||vs(r,s),f=c?Z2(r,s):pg(r,s,!0),y=c;do{if(f===0){pl&&!c&&Gs(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!X2(o)){f=pg(r,s,!1),y=!1;continue}if(f===2){if(y=s,r.errorRecoveryDisabledLanes&y)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var R=r;f=ou;var U=R.current.memoizedState.isDehydrated;if(U&&(_l(R,x).flags|=256),x=pg(R,x,!1),x!==2){if(ig&&!U){R.errorRecoveryDisabledLanes|=y,co|=y,f=4;break e}y=Hn,Hn=f,y!==null&&(Hn===null?Hn=y:Hn.push.apply(Hn,y))}f=x}if(y=!1,f!==2)continue}}if(f===1){_l(r,0),Gs(r,s,0,!0);break}e:{switch(c=r,y=f,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Gs(c,s,Sr,!qs);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=cg+300-ot(),10<f)){if(Gs(c,s,Sr,!qs),gr(c,0,!0)!==0)break e;c.timeoutHandle=f1(UE.bind(null,c,o,Hn,Sh,lg,s,Sr,co,gl,qs,y,2,-0,0),f);break e}UE(c,o,Hn,Sh,lg,s,Sr,co,gl,qs,y,0,-0,0)}}break}while(!0);la(r)}function UE(r,s,o,c,f,y,x,R,U,W,oe,ue,J,te){if(r.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:DC},jE(s),ue=kC(),ue!==null)){r.cancelPendingCommit=ue(GE.bind(null,r,s,y,o,c,f,x,R,U,oe,1,J,te)),Gs(r,y,x,!W);return}GE(r,s,y,o,c,f,x,R,U)}function X2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!Xn(y(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gs(r,s,o,c){s&=~og,s&=~co,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var f=s;0<f;){var y=31-Pn(f),x=1<<y;c[y]=-1,f&=~x}o!==0&&Es(r,o,s)}function Ah(){return(ut&6)===0?(cu(0),!1):!0}function fg(){if(qe!==null){if(dt===0)var r=qe.return;else r=qe,za=ro=null,Ip(r),dl=null,Jc=0,r=qe;for(;r!==null;)vE(r.alternate,r),r=r.return;qe=null}}function _l(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,mC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),fg(),Tt=r,qe=o=Va(r.current,null),We=s,dt=0,er=null,qs=!1,pl=vs(r,s),ig=!1,gl=Sr=og=co=Fs=Pt=0,Hn=ou=null,lg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var f=31-Pn(c),y=1<<f;s|=r[f],c&=~y}return Ya=s,Yd(),o}function zE(r,s){ze=null,G.H=fh,s===$c||s===rh?(s=r_(),dt=3):s===e_?(s=r_(),dt=4):dt=s===aE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,er=s,qe===null&&(Pt=1,vh(r,Er(s,r.current)))}function BE(){var r=G.H;return G.H=fh,r===null?fh:r}function qE(){var r=G.A;return G.A=Y2,r}function mg(){Pt=4,qs||(We&4194048)!==We&&xr.current!==null||(pl=!0),(Fs&134217727)===0&&(co&134217727)===0||Tt===null||Gs(Tt,We,Sr,!1)}function pg(r,s,o){var c=ut;ut|=2;var f=BE(),y=qE();(Tt!==r||We!==s)&&(Sh=null,_l(r,s)),s=!1;var x=Pt;e:do try{if(dt!==0&&qe!==null){var R=qe,U=er;switch(dt){case 8:fg(),x=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(s=!0);var W=dt;if(dt=0,er=null,El(r,R,U,W),o&&pl){x=0;break e}break;default:W=dt,dt=0,er=null,El(r,R,U,W)}}W2(),x=Pt;break}catch(oe){zE(r,oe)}while(!0);return s&&r.shellSuspendCounter++,za=ro=null,ut=c,G.H=f,G.A=y,qe===null&&(Tt=null,We=0,Yd()),x}function W2(){for(;qe!==null;)FE(qe)}function Z2(r,s){var o=ut;ut|=2;var c=BE(),f=qE();Tt!==r||We!==s?(Sh=null,xh=ot()+500,_l(r,s)):pl=vs(r,s);e:do try{if(dt!==0&&qe!==null){s=qe;var y=er;t:switch(dt){case 1:dt=0,er=null,El(r,s,y,1);break;case 2:case 9:if(t_(y)){dt=0,er=null,$E(s);break}s=function(){dt!==2&&dt!==9||Tt!==r||(dt=7),la(r)},y.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:t_(y)?(dt=0,er=null,$E(s)):(dt=0,er=null,El(r,s,y,7));break;case 5:var x=null;switch(qe.tag){case 26:x=qe.memoizedState;case 5:case 27:var R=qe;if(!x||S1(x)){dt=0,er=null;var U=R.sibling;if(U!==null)qe=U;else{var W=R.return;W!==null?(qe=W,Ch(W)):qe=null}break t}}dt=0,er=null,El(r,s,y,5);break;case 6:dt=0,er=null,El(r,s,y,6);break;case 8:fg(),Pt=6;break e;default:throw Error(a(462))}}J2();break}catch(oe){zE(r,oe)}while(!0);return za=ro=null,G.H=c,G.A=f,ut=o,qe!==null?0:(Tt=null,We=0,Yd(),Pt)}function J2(){for(;qe!==null&&!_t();)FE(qe)}function FE(r){var s=gE(r.alternate,r,Ya);r.memoizedProps=r.pendingProps,s===null?Ch(r):qe=s}function $E(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=uE(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=uE(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Ip(s);default:vE(o,s),s=qe=H0(s,Ya),s=gE(o,s,Ya)}r.memoizedProps=r.pendingProps,s===null?Ch(r):qe=s}function El(r,s,o,c){za=ro=null,Ip(s),dl=null,Jc=0;var f=s.return;try{if(q2(r,f,s,o,We)){Pt=1,vh(r,Er(o,r.current)),qe=null;return}}catch(y){if(f!==null)throw qe=f,y;Pt=1,vh(r,Er(o,r.current)),qe=null;return}s.flags&32768?(at||c===1?r=!0:pl||(We&536870912)!==0?r=!1:(qs=r=!0,(c===2||c===9||c===3||c===6)&&(c=xr.current,c!==null&&c.tag===13&&(c.flags|=16384))),HE(s,r)):Ch(s)}function Ch(r){var s=r;do{if((s.flags&32768)!==0){HE(s,qs);return}r=s.return;var o=$2(s.alternate,s,Ya);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=r}while(s!==null);Pt===0&&(Pt=5)}function HE(r,s){do{var o=H2(r.alternate,r);if(o!==null){o.flags&=32767,qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){qe=r;return}qe=r=o}while(r!==null);Pt=6,qe=null}function GE(r,s,o,c,f,y,x,R,U){r.cancelPendingCommit=null;do Nh();while(_n!==0);if((ut&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=sp,Dd(r,o,y,x,R,U),r===Tt&&(qe=Tt=null,We=0),yl=s,Hs=r,vl=o,ug=y,dg=f,ME=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rC(mr,function(){return WE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,f=$.p,$.p=2,x=ut,ut|=4;try{G2(r,s,o)}finally{ut=x,$.p=f,G.T=c}}_n=1,KE(),YE(),QE()}}function KE(){if(_n===1){_n=0;var r=Hs,s=yl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var c=$.p;$.p=2;var f=ut;ut|=4;try{RE(s,r);var y=Cg,x=P0(r.containerInfo),R=y.focusedElem,U=y.selectionRange;if(x!==R&&R&&R.ownerDocument&&O0(R.ownerDocument.documentElement,R)){if(U!==null&&ep(R)){var W=U.start,oe=U.end;if(oe===void 0&&(oe=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(oe,R.value.length);else{var ue=R.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var te=J.getSelection(),je=R.textContent.length,Ne=Math.min(U.start,je),yt=U.end===void 0?Ne:Math.min(U.end,je);!te.extend&&Ne>yt&&(x=yt,yt=Ne,Ne=x);var K=k0(R,Ne),B=k0(R,yt);if(K&&B&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var Y=ue.createRange();Y.setStart(K.node,K.offset),te.removeAllRanges(),Ne>yt?(te.addRange(Y),te.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),te.addRange(Y))}}}}for(ue=[],te=R;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var le=ue[R];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}zh=!!Ag,Cg=Ag=null}finally{ut=f,$.p=c,G.T=o}}r.current=s,_n=2}}function YE(){if(_n===2){_n=0;var r=Hs,s=yl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var c=$.p;$.p=2;var f=ut;ut|=4;try{SE(r,s.alternate,s)}finally{ut=f,$.p=c,G.T=o}}_n=3}}function QE(){if(_n===4||_n===3){_n=0,Qe();var r=Hs,s=yl,o=vl,c=ME;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_n=5:(_n=0,yl=Hs=null,XE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&($s=null),Ec(o),s=s.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(gs,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=G.T,f=$.p,$.p=2,G.T=null;try{for(var y=r.onRecoverableError,x=0;x<c.length;x++){var R=c[x];y(R.value,{componentStack:R.stack})}}finally{G.T=s,$.p=f}}(vl&3)!==0&&Nh(),la(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===hg?lu++:(lu=0,hg=r):lu=0,cu(0)}}function XE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,qc(s)))}function Nh(r){return KE(),YE(),QE(),WE()}function WE(){if(_n!==5)return!1;var r=Hs,s=ug;ug=0;var o=Ec(vl),c=G.T,f=$.p;try{$.p=32>o?32:o,G.T=null,o=dg,dg=null;var y=Hs,x=vl;if(_n=0,yl=Hs=null,vl=0,(ut&6)!==0)throw Error(a(331));var R=ut;if(ut|=4,OE(y.current),DE(y,y.current,x,o),ut=R,cu(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(gs,y)}catch{}return!0}finally{$.p=f,G.T=c,XE(r,s)}}function ZE(r,s,o){s=Er(o,s),s=$p(r.stateNode,s,2),r=Ps(r,s,2),r!==null&&(qt(r,2),la(r))}function Et(r,s,o){if(r.tag===3)ZE(r,r,o);else for(;s!==null;){if(s.tag===3){ZE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($s===null||!$s.has(c))){r=Er(o,r),o=nE(2),c=Ps(s,o,2),c!==null&&(rE(o,c,s,r),qt(c,2),la(c));break}}s=s.return}}function gg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Q2;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(ig=!0,f.add(o),r=eC.bind(null,r,s,o),s.then(r,r))}function eC(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(We&o)===o&&(Pt===4||Pt===3&&(We&62914560)===We&&300>ot()-cg?(ut&2)===0&&_l(r,0):og|=o,gl===We&&(gl=0)),la(r)}function JE(r,s){s===0&&(s=_s()),r=tl(r,s),r!==null&&(qt(r,s),la(r))}function tC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),JE(r,o)}function nC(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),JE(r,o)}function rC(r,s){return ke(r,s)}var Rh=null,bl=null,yg=!1,Ih=!1,vg=!1,uo=0;function la(r){r!==bl&&r.next===null&&(bl===null?Rh=bl=r:bl=bl.next=r),Ih=!0,yg||(yg=!0,sC())}function cu(r,s){if(!vg&&Ih){vg=!0;do for(var o=!1,c=Rh;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var x=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-Pn(42|r)+1)-1,y&=f&~(x&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,r1(c,y))}else y=We,y=gr(c,c===Tt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||vs(c,y)||(o=!0,r1(c,y));c=c.next}while(o);vg=!1}}function aC(){e1()}function e1(){Ih=yg=!1;var r=0;uo!==0&&(fC()&&(r=uo),uo=0);for(var s=ot(),o=null,c=Rh;c!==null;){var f=c.next,y=t1(c,s);y===0?(c.next=null,o===null?Rh=f:o.next=f,f===null&&(bl=o)):(o=c,(r!==0||(y&3)!==0)&&(Ih=!0)),c=f}cu(r)}function t1(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var x=31-Pn(y),R=1<<x,U=f[x];U===-1?((R&o)===0||(R&c)!==0)&&(f[x]=Lo(R,s)):U<=s&&(r.expiredLanes|=R),y&=~R}if(s=Tt,o=We,o=gr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&et(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||vs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&et(c),Ec(o)){case 2:case 8:o=It;break;case 32:o=mr;break;case 268435456:o=Ri;break;default:o=mr}return c=n1.bind(null,r),o=ke(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&et(c),r.callbackPriority=2,r.callbackNode=null,2}function n1(r,s){if(_n!==0&&_n!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Nh()&&r.callbackNode!==o)return null;var c=We;return c=gr(r,r===Tt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(LE(r,c,s),t1(r,ot()),r.callbackNode!=null&&r.callbackNode===o?n1.bind(null,r):null)}function r1(r,s){if(Nh())return null;LE(r,s,!0)}function sC(){pC(function(){(ut&6)!==0?ke(tt,aC):e1()})}function _g(){return uo===0&&(uo=vc()),uo}function a1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mr(""+r)}function s1(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function iC(r,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var y=a1((f[yn]||null).action),x=c.submitter;x&&(s=(s=x[yn]||null)?a1(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var R=new Fi("action","action",null,c,f);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(uo!==0){var U=x?s1(f,x):new FormData(f);Up(o,{pending:!0,data:U,method:f.method,action:y},null,U)}}else typeof y=="function"&&(R.preventDefault(),U=x?s1(f,x):new FormData(f),Up(o,{pending:!0,data:U,method:f.method,action:y},y,U))},currentTarget:f}]})}}for(var Eg=0;Eg<ap.length;Eg++){var bg=ap[Eg],oC=bg.toLowerCase(),lC=bg[0].toUpperCase()+bg.slice(1);zr(oC,"on"+lC)}zr(L0,"onAnimationEnd"),zr(U0,"onAnimationIteration"),zr(z0,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(S2,"onTransitionRun"),zr(A2,"onTransitionStart"),zr(C2,"onTransitionCancel"),zr(B0,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function i1(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var x=c.length-1;0<=x;x--){var R=c[x],U=R.instance,W=R.currentTarget;if(R=R.listener,U!==y&&f.isPropagationStopped())break e;y=R,f.currentTarget=W;try{y(f)}catch(oe){yh(oe)}f.currentTarget=null,y=U}else for(x=0;x<c.length;x++){if(R=c[x],U=R.instance,W=R.currentTarget,R=R.listener,U!==y&&f.isPropagationStopped())break e;y=R,f.currentTarget=W;try{y(f)}catch(oe){yh(oe)}f.currentTarget=null,y=U}}}}function Fe(r,s){var o=s[Ii];o===void 0&&(o=s[Ii]=new Set);var c=r+"__bubble";o.has(c)||(o1(s,r,2,!1),o.add(c))}function Tg(r,s,o){var c=0;s&&(c|=4),o1(o,r,c,s)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function wg(r){if(!r[Dh]){r[Dh]=!0,jd.forEach(function(o){o!=="selectionchange"&&(cC.has(o)||Tg(o,!1,r),Tg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Dh]||(s[Dh]=!0,Tg("selectionchange",!1,s))}}function o1(r,s,o,c){switch(D1(s)){case 2:var f=MC;break;case 8:f=VC;break;default:f=Vg}o=f.bind(null,s,o,r),f=void 0,!Pa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function xg(r,s,o,c,f){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var R=c.stateNode.containerInfo;if(R===f)break;if(x===4)for(x=c.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;R!==null;){if(x=Wr(R),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){c=y=x;continue e}R=R.parentNode}}c=c.return}zi(function(){var W=y,oe=Cc(o),ue=[];e:{var J=q0.get(r);if(J!==void 0){var te=Fi,je=r;switch(r){case"keypress":if(Bi(o)===0)break e;case"keydown":case"keyup":te=Wo;break;case"focusin":je="focus",te=Yo;break;case"focusout":je="blur",te=Yo;break;case"beforeblur":case"afterblur":te=Yo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Ds;break;case L0:case U0:case z0:te=Rc;break;case B0:te=_;break;case"scroll":case"scrollend":te=Hi;break;case"wheel":te=P;break;case"copy":case"cut":case"paste":te=Bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=jc;break;case"toggle":case"beforetoggle":te=ne}var Ne=(s&4)!==0,yt=!Ne&&(r==="scroll"||r==="scrollend"),K=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var B=W,Y;B!==null;){var le=B;if(Y=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Y===null||K===null||(le=Rs(B,K),le!=null&&Ne.push(du(B,le,Y))),yt)break;B=B.return}0<Ne.length&&(J=new te(J,je,null,o,oe),ue.push({event:J,listeners:Ne}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",J&&o!==Ac&&(je=o.relatedTarget||o.fromElement)&&(Wr(je)||je[Da]))break e;if((te||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,te?(je=o.relatedTarget||o.toElement,te=W,je=je?Wr(je):null,je!==null&&(yt=l(je),Ne=je.tag,je!==yt||Ne!==5&&Ne!==27&&Ne!==6)&&(je=null)):(te=null,je=W),te!==je)){if(Ne=Yi,le="onMouseLeave",K="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=jc,le="onPointerLeave",K="onPointerEnter",B="pointer"),yt=te==null?J:ws(te),Y=je==null?J:ws(je),J=new Ne(le,B+"leave",te,o,oe),J.target=yt,J.relatedTarget=Y,le=null,Wr(oe)===W&&(Ne=new Ne(K,B+"enter",je,o,oe),Ne.target=Y,Ne.relatedTarget=yt,le=Ne),yt=le,te&&je)t:{for(Ne=te,K=je,B=0,Y=Ne;Y;Y=Tl(Y))B++;for(Y=0,le=K;le;le=Tl(le))Y++;for(;0<B-Y;)Ne=Tl(Ne),B--;for(;0<Y-B;)K=Tl(K),Y--;for(;B--;){if(Ne===K||K!==null&&Ne===K.alternate)break t;Ne=Tl(Ne),K=Tl(K)}Ne=null}else Ne=null;te!==null&&l1(ue,J,te,Ne,!1),je!==null&&yt!==null&&l1(ue,yt,je,Ne,!0)}}e:{if(J=W?ws(W):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Te=C0;else if(S0(J))if(N0)Te=T2;else{Te=E2;var Be=_2}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&Ho(W.elementType)&&(Te=C0):Te=b2;if(Te&&(Te=Te(r,W))){A0(ue,Te,o,oe);break e}Be&&Be(r,J,W),r==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&wc(J,"number",J.value)}switch(Be=W?ws(W):window,r){case"focusin":(S0(Be)||Be.contentEditable==="true")&&(Zo=Be,tp=W,Vc=null);break;case"focusout":Vc=tp=Zo=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,M0(ue,o,oe);break;case"selectionchange":if(x2)break;case"keydown":case"keyup":M0(ue,o,oe)}var Se;if(Me)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ur?Vr(r,o)&&(Re="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(Ht&&o.locale!=="ko"&&(Ur||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ur&&(Se=Ld()):(_r=oe,bt="value"in _r?_r.value:_r.textContent,Ur=!0)),Be=jh(W,Re),0<Be.length&&(Re=new Dc(Re,r,null,o,oe),ue.push({event:Re,listeners:Be}),Se?Re.data=Se:(Se=Lr(o),Se!==null&&(Re.data=Se)))),(Se=ct?kc(r,o):g2(r,o))&&(Re=jh(W,"onBeforeInput"),0<Re.length&&(Be=new Dc("onBeforeInput","beforeinput",null,o,oe),ue.push({event:Be,listeners:Re}),Be.data=Se)),iC(ue,r,W,o,oe)}i1(ue,s)})}function du(r,s,o){return{instance:r,listener:s,currentTarget:o}}function jh(r,s){for(var o=s+"Capture",c=[];r!==null;){var f=r,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Rs(r,o),f!=null&&c.unshift(du(r,f,y)),f=Rs(r,s),f!=null&&c.push(du(r,f,y))),r.tag===3)return c;r=r.return}return[]}function Tl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function l1(r,s,o,c,f){for(var y=s._reactName,x=[];o!==null&&o!==c;){var R=o,U=R.alternate,W=R.stateNode;if(R=R.tag,U!==null&&U===c)break;R!==5&&R!==26&&R!==27||W===null||(U=W,f?(W=Rs(o,y),W!=null&&x.unshift(du(o,W,U))):f||(W=Rs(o,y),W!=null&&x.push(du(o,W,U)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var uC=/\r\n?/g,dC=/\u0000|\uFFFD/g;function c1(r){return(typeof r=="string"?r:""+r).replace(uC,`
`).replace(dC,"")}function u1(r,s){return s=c1(s),c1(r)===s}function kh(){}function gt(r,s,o,c,f,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||vr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&vr(r,""+c);break;case"className":Pi(r,"class",c);break;case"tabIndex":Pi(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(r,o,c);break;case"style":Sc(r,c,y);break;case"data":if(s!=="object"){Pi(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Mr(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&gt(r,s,"name",f.name,f,null),gt(r,s,"formEncType",f.formEncType,f,null),gt(r,s,"formMethod",f.formMethod,f,null),gt(r,s,"formTarget",f.formTarget,f,null)):(gt(r,s,"encType",f.encType,f,null),gt(r,s,"method",f.method,f,null),gt(r,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Mr(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=kh);break;case"onScroll":c!=null&&Fe("scroll",r);break;case"onScrollEnd":c!=null&&Fe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Mr(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Fe("beforetoggle",r),Fe("toggle",r),Oi(r,"popover",c);break;case"xlinkActuate":yr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":yr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":yr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":yr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":yr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":yr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":yr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":yr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":yr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Oi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pd.get(o)||o,Oi(r,o,c))}}function Sg(r,s,o,c,f,y){switch(o){case"style":Sc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?vr(r,c):(typeof c=="number"||typeof c=="bigint")&&vr(r,""+c);break;case"onScroll":c!=null&&Fe("scroll",r);break;case"onScrollEnd":c!=null&&Fe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ji.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),y=r[yn]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Oi(r,o,c)}}}function En(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",r),Fe("load",r);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:gt(r,s,y,x,o,null)}}f&&gt(r,s,"srcSet",o.srcSet,o,null),c&&gt(r,s,"src",o.src,o,null);return;case"input":Fe("invalid",r);var R=y=x=f=null,U=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":x=oe;break;case"checked":U=oe;break;case"defaultChecked":W=oe;break;case"value":y=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:gt(r,s,c,oe,o,null)}}Tc(r,y,R,U,W,x,f,!1),As(r);return;case"select":Fe("invalid",r),c=x=y=null;for(f in o)if(o.hasOwnProperty(f)&&(R=o[f],R!=null))switch(f){case"value":y=R;break;case"defaultValue":x=R;break;case"multiple":c=R;default:gt(r,s,f,R,o,null)}s=y,o=x,r.multiple=!!c,s!=null?Cs(r,!!c,s,!1):o!=null&&Cs(r,!!c,o,!0);return;case"textarea":Fe("invalid",r),y=f=c=null;for(x in o)if(o.hasOwnProperty(x)&&(R=o[x],R!=null))switch(x){case"value":c=R;break;case"defaultValue":f=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:gt(r,s,x,R,o,null)}Od(r,c,f,y),As(r);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":gt(r,s,U,c,o,null));return;case"dialog":Fe("beforetoggle",r),Fe("toggle",r),Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":Fe("load",r);break;case"video":case"audio":for(c=0;c<uu.length;c++)Fe(uu[c],r);break;case"image":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"embed":case"source":case"link":Fe("error",r),Fe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:gt(r,s,W,c,o,null)}return;default:if(Ho(s)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&Sg(r,s,oe,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&gt(r,s,R,c,o,null))}function hC(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,x=null,R=null,U=null,W=null,oe=null;for(te in o){var ue=o[te];if(o.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=ue;default:c.hasOwnProperty(te)||gt(r,s,te,null,c,ue)}}for(var J in c){var te=c[J];if(ue=o[J],c.hasOwnProperty(J)&&(te!=null||ue!=null))switch(J){case"type":y=te;break;case"name":f=te;break;case"checked":W=te;break;case"defaultChecked":oe=te;break;case"value":x=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,s));break;default:te!==ue&&gt(r,s,J,te,c,ue)}}bc(r,x,R,U,W,oe,y,f);return;case"select":te=x=R=J=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":te=U;default:c.hasOwnProperty(y)||gt(r,s,y,null,c,U)}for(f in c)if(y=c[f],U=o[f],c.hasOwnProperty(f)&&(y!=null||U!=null))switch(f){case"value":J=y;break;case"defaultValue":R=y;break;case"multiple":x=y;default:y!==U&&gt(r,s,f,y,c,U)}s=R,o=x,c=te,J!=null?Cs(r,!!o,J,!1):!!c!=!!o&&(s!=null?Cs(r,!!o,s,!0):Cs(r,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(R in o)if(f=o[R],o.hasOwnProperty(R)&&f!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:gt(r,s,R,null,c,f)}for(x in c)if(f=c[x],y=o[x],c.hasOwnProperty(x)&&(f!=null||y!=null))switch(x){case"value":J=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==y&&gt(r,s,x,f,c,y)}kd(r,J,te);return;case"option":for(var je in o)J=o[je],o.hasOwnProperty(je)&&J!=null&&!c.hasOwnProperty(je)&&(je==="selected"?r.selected=!1:gt(r,s,je,null,c,J));for(U in c)J=c[U],te=o[U],c.hasOwnProperty(U)&&J!==te&&(J!=null||te!=null)&&(U==="selected"?r.selected=J&&typeof J!="function"&&typeof J!="symbol":gt(r,s,U,J,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)J=o[Ne],o.hasOwnProperty(Ne)&&J!=null&&!c.hasOwnProperty(Ne)&&gt(r,s,Ne,null,c,J);for(W in c)if(J=c[W],te=o[W],c.hasOwnProperty(W)&&J!==te&&(J!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:gt(r,s,W,J,c,te)}return;default:if(Ho(s)){for(var yt in o)J=o[yt],o.hasOwnProperty(yt)&&J!==void 0&&!c.hasOwnProperty(yt)&&Sg(r,s,yt,void 0,c,J);for(oe in c)J=c[oe],te=o[oe],!c.hasOwnProperty(oe)||J===te||J===void 0&&te===void 0||Sg(r,s,oe,J,c,te);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!c.hasOwnProperty(K)&&gt(r,s,K,null,c,J);for(ue in c)J=c[ue],te=o[ue],!c.hasOwnProperty(ue)||J===te||J==null&&te==null||gt(r,s,ue,J,c,te)}var Ag=null,Cg=null;function Oh(r){return r.nodeType===9?r:r.ownerDocument}function d1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h1(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ng(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rg=null;function fC(){var r=window.event;return r&&r.type==="popstate"?r===Rg?!1:(Rg=r,!0):(Rg=null,!1)}var f1=typeof setTimeout=="function"?setTimeout:void 0,mC=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(r){return m1.resolve(null).then(r).catch(gC)}:f1;function gC(r){setTimeout(function(){throw r})}function Ks(r){return r==="head"}function p1(r,s){var o=s,c=0,f=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var x=r.ownerDocument;if(o&1&&hu(x.documentElement),o&2&&hu(x.body),o&4)for(o=x.head,hu(o),x=o.firstChild;x;){var R=x.nextSibling,U=x.nodeName;x[Ts]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=R}}if(f===0){r.removeChild(y),Eu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Eu(s)}function Ig(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ig(o),zo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function yC(r,s,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ts])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=qr(r.nextSibling),r===null)break}return null}function vC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=qr(r.nextSibling),r===null))return null;return r}function Dg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function _C(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function qr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var jg=null;function g1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function y1(r,s,o){switch(s=Oh(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function hu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);zo(r)}var Ar=new Map,v1=new Set;function Ph(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Qa=$.d;$.d={f:EC,r:bC,D:TC,C:wC,L:xC,m:SC,X:CC,S:AC,M:NC};function EC(){var r=Qa.f(),s=Ah();return r||s}function bC(r){var s=Zr(r);s!==null&&s.tag===5&&s.type==="form"?L_(s):Qa.r(r)}var wl=typeof document>"u"?null:document;function _1(r,s,o){var c=wl;if(c&&typeof s=="string"&&s){var f=hn(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),v1.has(f)||(v1.add(f),r={rel:r,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),En(s,"link",r),$t(s),c.head.appendChild(s)))}}function TC(r){Qa.D(r),_1("dns-prefetch",r,null)}function wC(r,s){Qa.C(r,s),_1("preconnect",r,s)}function xC(r,s,o){Qa.L(r,s,o);var c=wl;if(c&&r&&s){var f='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+hn(o.imageSizes)+'"]')):f+='[href="'+hn(r)+'"]';var y=f;switch(s){case"style":y=xl(r);break;case"script":y=Sl(r)}Ar.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Ar.set(y,r),c.querySelector(f)!==null||s==="style"&&c.querySelector(fu(y))||s==="script"&&c.querySelector(mu(y))||(s=c.createElement("link"),En(s,"link",r),$t(s),c.head.appendChild(s)))}}function SC(r,s){Qa.m(r,s);var o=wl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+hn(c)+'"][href="'+hn(r)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Sl(r)}if(!Ar.has(y)&&(r=v({rel:"modulepreload",href:r},s),Ar.set(y,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(y)))return}c=o.createElement("link"),En(c,"link",r),$t(c),o.head.appendChild(c)}}}function AC(r,s,o){Qa.S(r,s,o);var c=wl;if(c&&r){var f=xs(c).hoistableStyles,y=xl(r);s=s||"default";var x=f.get(y);if(!x){var R={loading:0,preload:null};if(x=c.querySelector(fu(y)))R.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Ar.get(y))&&kg(r,o);var U=x=c.createElement("link");$t(U),En(U,"link",r),U._p=new Promise(function(W,oe){U.onload=W,U.onerror=oe}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Mh(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:R},f.set(y,x)}}}function CC(r,s){Qa.X(r,s);var o=wl;if(o&&r){var c=xs(o).hoistableScripts,f=Sl(r),y=c.get(f);y||(y=o.querySelector(mu(f)),y||(r=v({src:r,async:!0},s),(s=Ar.get(f))&&Og(r,s),y=o.createElement("script"),$t(y),En(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function NC(r,s){Qa.M(r,s);var o=wl;if(o&&r){var c=xs(o).hoistableScripts,f=Sl(r),y=c.get(f);y||(y=o.querySelector(mu(f)),y||(r=v({src:r,async:!0,type:"module"},s),(s=Ar.get(f))&&Og(r,s),y=o.createElement("script"),$t(y),En(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function E1(r,s,o,c){var f=(f=xe.current)?Ph(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=xl(o.href),o=xs(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=xl(o.href);var y=xs(f).hoistableStyles,x=y.get(r);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,x),(y=f.querySelector(fu(r)))&&!y._p&&(x.instance=y,x.state.loading=5),Ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ar.set(r,o),y||RC(f,r,o,x.state))),s&&c===null)throw Error(a(528,""));return x}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Sl(o),o=xs(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function xl(r){return'href="'+hn(r)+'"'}function fu(r){return'link[rel="stylesheet"]['+r+"]"}function b1(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function RC(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",o),$t(s),r.head.appendChild(s))}function Sl(r){return'[src="'+hn(r)+'"]'}function mu(r){return"script[async]"+r}function T1(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+hn(o.href)+'"]');if(c)return s.instance=c,$t(c),c;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),$t(c),En(c,"style",f),Mh(c,o.precedence,r),s.instance=c;case"stylesheet":f=xl(o.href);var y=r.querySelector(fu(f));if(y)return s.state.loading|=4,s.instance=y,$t(y),y;c=b1(o),(f=Ar.get(f))&&kg(c,f),y=(r.ownerDocument||r).createElement("link"),$t(y);var x=y;return x._p=new Promise(function(R,U){x.onload=R,x.onerror=U}),En(y,"link",c),s.state.loading|=4,Mh(y,o.precedence,r),s.instance=y;case"script":return y=Sl(o.src),(f=r.querySelector(mu(y)))?(s.instance=f,$t(f),f):(c=o,(f=Ar.get(y))&&(c=v({},o),Og(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),$t(f),En(f,"link",c),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Mh(c,o.precedence,r));return s.instance}function Mh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,x=0;x<c.length;x++){var R=c[x];if(R.dataset.precedence===s)y=R;else if(y!==f)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function kg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Vh=null;function w1(r,s,o){if(Vh===null){var c=new Map,f=Vh=new Map;f.set(o,c)}else f=Vh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var y=o[f];if(!(y[Ts]||y[Ft]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=r+x;var R=c.get(x);R?R.push(y):c.set(x,[y])}}return c}function x1(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function IC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pu=null;function DC(){}function jC(r,s,o){if(pu===null)throw Error(a(475));var c=pu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=xl(o.href),y=r.querySelector(fu(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Lh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,$t(y);return}y=r.ownerDocument||r,o=b1(o),(f=Ar.get(f))&&kg(o,f),y=y.createElement("link"),$t(y);var x=y;x._p=new Promise(function(R,U){x.onload=R,x.onerror=U}),En(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Lh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function kC(){if(pu===null)throw Error(a(475));var r=pu;return r.stylesheets&&r.count===0&&Pg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Pg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Lh(){if(this.count--,this.count===0){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Uh=null;function Pg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Uh=new Map,s.forEach(OC,r),Uh=null,Lh.call(r))}function OC(r,s){if(!(s.state.loading&4)){var o=Uh.get(r);if(o)var c=o.get(null);else{o=new Map,Uh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var x=f[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}f=s.instance,x=f.getAttribute("data-precedence"),y=o.get(x)||c,y===c&&o.set(null,f),o.set(x,f),this.count++,c=Lh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var gu={$$typeof:H,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function PC(r,s,o,c,f,y,x,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function A1(r,s,o,c,f,y,x,R,U,W,oe,ue){return r=new PC(r,s,o,x,R,U,W,ue),s=1,y===!0&&(s|=24),y=Wn(3,null,null,s),r.current=y,y.stateNode=r,s=gp(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Ep(y),r}function C1(r){return r?(r=nl,r):nl}function N1(r,s,o,c,f,y){f=C1(f),c.context===null?c.context=f:c.pendingContext=f,c=Os(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Ps(r,c,s),o!==null&&(nr(o,r,s),Gc(o,r,s))}function R1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Mg(r,s){R1(r,s),(r=r.alternate)&&R1(r,s)}function I1(r){if(r.tag===13){var s=tl(r,67108864);s!==null&&nr(s,r,67108864),Mg(r,67108864)}}var zh=!0;function MC(r,s,o,c){var f=G.T;G.T=null;var y=$.p;try{$.p=2,Vg(r,s,o,c)}finally{$.p=y,G.T=f}}function VC(r,s,o,c){var f=G.T;G.T=null;var y=$.p;try{$.p=8,Vg(r,s,o,c)}finally{$.p=y,G.T=f}}function Vg(r,s,o,c){if(zh){var f=Lg(c);if(f===null)xg(r,s,c,Bh,o),j1(r,c);else if(UC(f,r,s,o,c))c.stopPropagation();else if(j1(r,c),s&4&&-1<LC.indexOf(r)){for(;f!==null;){var y=Zr(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=kr(y.pendingLanes);if(x!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;x;){var U=1<<31-Pn(x);R.entanglements[1]|=U,x&=~U}la(y),(ut&6)===0&&(xh=ot()+500,cu(0))}}break;case 13:R=tl(y,2),R!==null&&nr(R,y,2),Ah(),Mg(y,2)}if(y=Lg(c),y===null&&xg(r,s,c,Bh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else xg(r,s,c,null,o)}}function Lg(r){return r=Cc(r),Ug(r)}var Bh=null;function Ug(r){if(Bh=null,r=Wr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Bh=r,null}function D1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case tt:return 2;case It:return 8;case mr:case Vo:return 32;case Ri:return 268435456;default:return 32}default:return 32}}var zg=!1,Ys=null,Qs=null,Xs=null,yu=new Map,vu=new Map,Ws=[],LC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j1(r,s){switch(r){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":yu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(s.pointerId)}}function _u(r,s,o,c,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Zr(s),s!==null&&I1(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function UC(r,s,o,c,f){switch(s){case"focusin":return Ys=_u(Ys,r,s,o,c,f),!0;case"dragenter":return Qs=_u(Qs,r,s,o,c,f),!0;case"mouseover":return Xs=_u(Xs,r,s,o,c,f),!0;case"pointerover":var y=f.pointerId;return yu.set(y,_u(yu.get(y)||null,r,s,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,vu.set(y,_u(vu.get(y)||null,r,s,o,c,f)),!0}return!1}function k1(r){var s=Wr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Km(r.priority,function(){if(o.tag===13){var c=tr();c=_c(c);var f=tl(o,c);f!==null&&nr(f,o,c),Mg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Lg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Ac=c,o.target.dispatchEvent(c),Ac=null}else return s=Zr(o),s!==null&&I1(s),r.blockedOn=o,!1;s.shift()}return!0}function O1(r,s,o){qh(r)&&o.delete(s)}function zC(){zg=!1,Ys!==null&&qh(Ys)&&(Ys=null),Qs!==null&&qh(Qs)&&(Qs=null),Xs!==null&&qh(Xs)&&(Xs=null),yu.forEach(O1),vu.forEach(O1)}function Fh(r,s){r.blockedOn===s&&(r.blockedOn=null,zg||(zg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zC)))}var $h=null;function P1(r){$h!==r&&($h=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$h===r&&($h=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],f=r[s+2];if(typeof c!="function"){if(Ug(c||o)===null)continue;break}var y=Zr(o);y!==null&&(r.splice(s,3),s-=3,Up(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Eu(r){function s(U){return Fh(U,r)}Ys!==null&&Fh(Ys,r),Qs!==null&&Fh(Qs,r),Xs!==null&&Fh(Xs,r),yu.forEach(s),vu.forEach(s);for(var o=0;o<Ws.length;o++){var c=Ws[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)k1(o),o.blockedOn===null&&Ws.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],x=f[yn]||null;if(typeof y=="function")x||P1(o);else if(x){var R=null;if(y&&y.hasAttribute("formAction")){if(f=y,x=y[yn]||null)R=x.formAction;else if(Ug(f)!==null)continue}else R=x.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),P1(o)}}}function Bg(r){this._internalRoot=r}Hh.prototype.render=Bg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=tr();N1(o,c,r,s,null,null)},Hh.prototype.unmount=Bg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;N1(r.current,2,null,r,null,null),Ah(),s[Da]=null}};function Hh(r){this._internalRoot=r}Hh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ia();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ws.length&&s!==0&&s<Ws[o].priority;o++);Ws.splice(o,0,r),o===0&&k1(r)}};var M1=e.version;if(M1!=="19.1.1")throw Error(a(527,M1,"19.1.1"));$.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var BC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{gs=Gh.inject(BC),Sn=Gh}catch{}}return Tu.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",f=Z_,y=J_,x=eE,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=A1(r,1,!1,null,null,o,c,f,y,x,R,null),r[Da]=s.current,wg(r),new Bg(s)},Tu.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,f="",y=Z_,x=J_,R=eE,U=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),s=A1(r,1,!0,s,o??null,c,f,y,x,R,U,W),s.context=C1(null),o=s.current,c=tr(),c=_c(c),f=Os(c),f.callback=null,Ps(o,f,c),o=c,s.current.lanes=o,qt(s,o),la(s),r[Da]=s.current,wg(r),new Hh(s)},Tu.version="19.1.1",Tu}var K1;function JC(){if(K1)return $g.exports;K1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$g.exports=ZC(),$g.exports}var eN=JC();var Y1="popstate";function tN(t={}){function e(a,i){let{pathname:l,search:u,hash:m}=a.location;return yy("",{pathname:l,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:Ku(i)}return rN(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nN(){return Math.random().toString(36).substring(2,10)}function Q1(t,e){return{usr:t.state,key:t.key,idx:e}}function yy(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ic(e):e,state:n,key:e&&e.key||a||nN()}}function Ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function rN(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,m="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function E(){m="POP";let j=v(),z=j==null?null:j-g;g=j,p&&p({action:m,location:C.location,delta:z})}function w(j,z){m="PUSH";let F=yy(C.location,j,z);g=v()+1;let H=Q1(F,g),ee=C.createHref(F);try{u.pushState(H,"",ee)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(ee)}l&&p&&p({action:m,location:C.location,delta:1})}function S(j,z){m="REPLACE";let F=yy(C.location,j,z);g=v();let H=Q1(F,g),ee=C.createHref(F);u.replaceState(H,"",ee),l&&p&&p({action:m,location:C.location,delta:0})}function A(j){return aN(j)}let C={get action(){return m},get location(){return t(i,u)},listen(j){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Y1,E),p=j,()=>{i.removeEventListener(Y1,E),p=null}},createHref(j){return e(i,j)},createURL:A,encodeLocation(j){let z=A(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(j){return u.go(j)}};return C}function aN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Ku(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function yw(t,e,n="/"){return sN(t,e,n,!1)}function sN(t,e,n,a){let i=typeof e=="string"?ic(e):e,l=os(i.pathname||"/",n);if(l==null)return null;let u=vw(t);iN(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let g=yN(l);m=pN(u[p],g,a)}return m}function vw(t,e=[],n=[],a="",i=!1){let l=(u,m,p=i,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Rt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let E=rs([a,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(Rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),vw(u.children,e,w,E,p)),!(u.path==null&&!u.index)&&e.push({path:E,score:fN(E,u.index),routesMeta:w})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let p of _w(u.path))l(u,m,!0,p)}),e}function _w(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=_w(a.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),i&&m.push(...u),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function iN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mN(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var oN=/^:[\w-]+$/,lN=3,cN=2,uN=1,dN=10,hN=-2,X1=t=>t==="*";function fN(t,e){let n=t.split("/"),a=n.length;return n.some(X1)&&(a+=hN),e&&(a+=cN),n.filter(i=>!X1(i)).reduce((i,l)=>i+(oN.test(l)?lN:l===""?uN:dN),a)}function mN(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function pN(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=If({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!E&&g&&n&&!a[a.length-1].route.index&&(E=If({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(i,E.params),u.push({params:i,pathname:rs([l,E.pathname]),pathnameBase:bN(rs([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=rs([l,E.pathnameBase]))}return u}function If(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=gN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:E},w)=>{if(v==="*"){let A=m[w]||"";u=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const S=m[w];return E&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function gN(t,e=!1,n=!0){$r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function yN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function os(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}var vN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function _N(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?ic(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=W1(n.substring(1),"/"):l=W1(n,e)):l=e,{pathname:l,search:TN(a),hash:wN(i)}}function W1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yg(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iv(t){let e=EN(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function ov(t,e,n,a=!1){let i;typeof t=="string"?i=ic(t):(i={...t},Rt(!i.pathname||!i.pathname.includes("?"),Yg("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),Yg("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),Yg("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,m;if(u==null)m=n;else{let E=e.length-1;if(!a&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),E-=1;i.pathname=w.join("/")}m=E>=0?e[E]:"/"}let p=_N(i,m),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var rs=t=>t.join("/").replace(/\/\/+/g,"/"),bN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xN=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function SN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function AN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bw(t,e){let n=t;if(typeof n!="string"||!vN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,i=!1;if(Ew)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),m=os(u.pathname,e);u.origin===l.origin&&m!=null?n=m+u.search+u.hash:i=!0}catch{$r(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tw=["POST","PUT","PATCH","DELETE"];new Set(Tw);var CN=["GET",...Tw];new Set(CN);var oc=I.createContext(null);oc.displayName="DataRouter";var nm=I.createContext(null);nm.displayName="DataRouterState";var NN=I.createContext(!1),ww=I.createContext({isTransitioning:!1});ww.displayName="ViewTransition";var RN=I.createContext(new Map);RN.displayName="Fetchers";var IN=I.createContext(null);IN.displayName="Await";var fr=I.createContext(null);fr.displayName="Navigation";var ud=I.createContext(null);ud.displayName="Location";var Ca=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var lv=I.createContext(null);lv.displayName="RouteError";var xw="REACT_ROUTER_ERROR",DN="REDIRECT",jN="ROUTE_ERROR_RESPONSE";function kN(t){if(t.startsWith(`${xw}:${DN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ON(t){if(t.startsWith(`${xw}:${jN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xN(e.status,e.statusText,e.data)}catch{}}function PN(t,{relative:e}={}){Rt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=I.useContext(fr),{hash:i,pathname:l,search:u}=dd(t,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:rs([n,l])),a.createHref({pathname:m,search:u,hash:i})}function lc(){return I.useContext(ud)!=null}function bi(){return Rt(lc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ud).location}var Sw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(t){I.useContext(fr).static||I.useLayoutEffect(t)}function cc(){let{isDataRoute:t}=I.useContext(Ca);return t?YN():MN()}function MN(){Rt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(oc),{basename:e,navigator:n}=I.useContext(fr),{matches:a}=I.useContext(Ca),{pathname:i}=bi(),l=JSON.stringify(iv(a)),u=I.useRef(!1);return Aw(()=>{u.current=!0}),I.useCallback((p,g={})=>{if($r(u.current,Sw),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=ov(p,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:rs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,i,t])}I.createContext(null);function dd(t,{relative:e}={}){let{matches:n}=I.useContext(Ca),{pathname:a}=bi(),i=JSON.stringify(iv(n));return I.useMemo(()=>ov(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function VN(t,e){return Cw(t,e)}function Cw(t,e,n,a,i){Rt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(fr),{matches:u}=I.useContext(Ca),m=u[u.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",E=m&&m.route;{let F=E&&E.path||"";Rw(g,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=bi(),S;if(e){let F=typeof e=="string"?ic(e):e;Rt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let A=S.pathname||"/",C=A;if(v!=="/"){let F=v.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let j=yw(t,{pathname:C});$r(E||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$r(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=qN(j&&j.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:rs([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:rs([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,a,i);return e&&z?I.createElement(ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function LN(){let t=KN(),e=SN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,u)}var UN=I.createElement(LN,null),Nw=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ON(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(Ca.Provider,{value:this.props.routeContext},I.createElement(lv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(zN,{error:t},e):e}};Nw.contextType=NN;var Qg=new WeakMap;function zN({children:t,error:e}){let{basename:n}=I.useContext(fr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=kN(e.digest);if(a){let i=Qg.get(e);if(i)throw i;let l=bw(a.location,n);if(Ew&&!Qg.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw Qg.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function BN({routeContext:t,match:e,children:n}){let a=I.useContext(oc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ca.Provider,{value:t},n)}function qN(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);Rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:w,errors:S}=n,A=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||A){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&a?(v,E)=>{a(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:AN(n.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,w)=>{let S,A=!1,C=null,j=null;n&&(S=u&&E.route.id?u[E.route.id]:void 0,C=E.route.errorElement||UN,m&&(p<0&&w===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):p===w&&(A=!0,j=E.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,w+1)),F=()=>{let H;return S?H=C:A?H=j:E.route.Component?H=I.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=v,I.createElement(BN,{match:E,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:H})};return n&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?I.createElement(Nw,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):F()},null)}function cv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FN(t){let e=I.useContext(oc);return Rt(e,cv(t)),e}function $N(t){let e=I.useContext(nm);return Rt(e,cv(t)),e}function HN(t){let e=I.useContext(Ca);return Rt(e,cv(t)),e}function uv(t){let e=HN(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function GN(){return uv("useRouteId")}function KN(){let t=I.useContext(lv),e=$N("useRouteError"),n=uv("useRouteError");return t!==void 0?t:e.errors?.[n]}function YN(){let{router:t}=FN("useNavigate"),e=uv("useNavigate"),n=I.useRef(!1);return Aw(()=>{n.current=!0}),I.useCallback(async(i,l={})=>{$r(n.current,Sw),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var Z1={};function Rw(t,e,n){!e&&!Z1[t]&&(Z1[t]=!0,$r(!1,n))}I.memo(QN);function QN({routes:t,future:e,state:n,onError:a}){return Cw(t,void 0,n,a,e)}function XN({to:t,replace:e,state:n,relative:a}){Rt(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(fr);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Ca),{pathname:u}=bi(),m=cc(),p=ov(t,iv(l),u,a==="path"),g=JSON.stringify(p);return I.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function Dl(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WN({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:u}){Rt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:m,navigator:i,static:l,unstable_useTransitions:u,future:{}}),[m,i,l,u]);typeof n=="string"&&(n=ic(n));let{pathname:g="/",search:v="",hash:E="",state:w=null,key:S="default"}=n,A=I.useMemo(()=>{let C=os(g,m);return C==null?null:{location:{pathname:C,search:v,hash:E,state:w,key:S},navigationType:a}},[m,g,v,E,w,S,a]);return $r(A!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:I.createElement(fr.Provider,{value:p},I.createElement(ud.Provider,{children:e,value:A}))}function ZN({children:t,location:e}){return VN(vy(t),e)}function vy(t,e=[]){let n=[];return I.Children.forEach(t,(a,i)=>{if(!I.isValidElement(a))return;let l=[...e,i];if(a.type===I.Fragment){n.push.apply(n,vy(a.props.children,l));return}Rt(a.type===Dl,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=vy(a.props.children,l)),n.push(u)}),n}var hf="get",ff="application/x-www-form-urlencoded";function rm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function JN(t){return rm(t)&&t.tagName.toLowerCase()==="button"}function eR(t){return rm(t)&&t.tagName.toLowerCase()==="form"}function tR(t){return rm(t)&&t.tagName.toLowerCase()==="input"}function nR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rR(t,e){return t.button===0&&(!e||e==="_self")&&!nR(t)}var Kh=null;function aR(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var sR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(t){return t!=null&&!sR.has(t)?($r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ff}"`),null):t}function iR(t,e){let n,a,i,l,u;if(eR(t)){let m=t.getAttribute("action");a=m?os(m,e):null,n=t.getAttribute("method")||hf,i=Xg(t.getAttribute("enctype"))||ff,l=new FormData(t)}else if(JN(t)||tR(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(a=p?os(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||hf,i=Xg(t.getAttribute("formenctype"))||Xg(m.getAttribute("enctype"))||ff,l=new FormData(m,t),!aR()){let{name:g,type:v,value:E}=t;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,E)}}else{if(rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hf,a=null,i=ff,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oR(t,e,n,a){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${a}`:i.pathname=`${i.pathname}.${a}`:i.pathname==="/"?i.pathname=`_root.${a}`:e&&os(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function lR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uR(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await lR(l,n);return u.links?u.links():[]}return[]}));return mR(a.flat(1).filter(cR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J1(t,e,n,a,i,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function dR(t,e,{includeHydrateFallback:n}={}){return hR(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function hR(t){return[...new Set(t)]}function fR(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function mR(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(fR(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function Iw(){let t=I.useContext(oc);return dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pR(){let t=I.useContext(nm);return dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hv=I.createContext(void 0);hv.displayName="FrameworkContext";function Dw(){let t=I.useContext(hv);return dv(t,"You must render this element inside a <HydratedRouter> element"),t}function gR(t,e){let n=I.useContext(hv),[a,i]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,w=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=z=>{z.forEach(F=>{u(F.isIntersecting)})},j=new IntersectionObserver(C,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[t]),I.useEffect(()=>{if(a){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[a]);let S=()=>{i(!0)},A=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:wu(m,S),onBlur:wu(p,A),onMouseEnter:wu(g,S),onMouseLeave:wu(v,A),onTouchStart:wu(E,S)}]:[!1,w,{}]}function wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yR({page:t,...e}){let{router:n}=Iw(),a=I.useMemo(()=>yw(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?I.createElement(_R,{page:t,matches:a,...e}):null}function vR(t){let{manifest:e,routeModules:n}=Dw(),[a,i]=I.useState([]);return I.useEffect(()=>{let l=!1;return uR(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function _R({page:t,matches:e,...n}){let a=bi(),{future:i,manifest:l,routeModules:u}=Dw(),{basename:m}=Iw(),{loaderData:p,matches:g}=pR(),v=I.useMemo(()=>J1(t,e,g,l,a,"data"),[t,e,g,l,a]),E=I.useMemo(()=>J1(t,e,g,l,a,"assets"),[t,e,g,l,a]),w=I.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let C=new Set,j=!1;if(e.forEach(F=>{let H=l.routes[F.route.id];!H||!H.hasLoader||(!v.some(ee=>ee.route.id===F.route.id)&&F.route.id in p&&u[F.route.id]?.shouldRevalidate||H.hasClientLoader?j=!0:C.add(F.route.id))}),C.size===0)return[];let z=oR(t,m,i.unstable_trailingSlashAwareDataRequests,"data");return j&&C.size>0&&z.searchParams.set("_routes",e.filter(F=>C.has(F.route.id)).map(F=>F.route.id).join(",")),[z.pathname+z.search]},[m,i.unstable_trailingSlashAwareDataRequests,p,a,l,v,e,t,u]),S=I.useMemo(()=>dR(E,l),[E,l]),A=vR(E);return I.createElement(I.Fragment,null,w.map(C=>I.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>I.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:j})=>I.createElement("link",{key:C,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function ER(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bR&&(window.__reactRouterVersion="7.13.0")}catch{}function TR({basename:t,children:e,unstable_useTransitions:n,window:a}){let i=I.useRef();i.current==null&&(i.current=tN({window:a,v5Compat:!0}));let l=i.current,[u,m]=I.useState({action:l.action,location:l.location}),p=I.useCallback(g=>{n===!1?m(g):I.startTransition(()=>m(g))},[n]);return I.useLayoutEffect(()=>l.listen(p),[l,p]),I.createElement(WN,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=I.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:m,target:p,to:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:w,...S},A){let{basename:C,unstable_useTransitions:j}=I.useContext(fr),z=typeof g=="string"&&jw.test(g),F=bw(g,C);g=F.to;let H=PN(g,{relative:i}),[ee,q,X]=gR(a,S),D=AR(g,{replace:u,state:m,target:p,preventScrollReset:v,relative:i,viewTransition:E,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function N(L){e&&e(L),L.defaultPrevented||D(L)}let M=I.createElement("a",{...S,...X,href:F.absoluteURL||H,onClick:F.isExternal||l?e:N,ref:ER(A,q),target:p,"data-discover":!z&&n==="render"?"true":void 0});return ee&&!z?I.createElement(I.Fragment,null,M,I.createElement(yR,{page:H})):M});Ql.displayName="Link";var wR=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:m,children:p,...g},v){let E=dd(u,{relative:g.relative}),w=bi(),S=I.useContext(nm),{navigator:A,basename:C}=I.useContext(fr),j=S!=null&&DR(E)&&m===!0,z=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,F=w.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),H=H?H.toLowerCase():null,z=z.toLowerCase()),H&&C&&(H=os(H,C)||H);const ee=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let q=F===z||!i&&F.startsWith(z)&&F.charAt(ee)==="/",X=H!=null&&(H===z||!i&&H.startsWith(z)&&H.charAt(z.length)==="/"),D={isActive:q,isPending:X,isTransitioning:j},N=q?e:void 0,M;typeof a=="function"?M=a(D):M=[a,q?"active":null,X?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(D):l;return I.createElement(Ql,{...g,"aria-current":N,className:M,ref:v,style:L,to:u,viewTransition:m},typeof p=="function"?p(D):p)});wR.displayName="NavLink";var xR=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=hf,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:w,...S},A)=>{let{unstable_useTransitions:C}=I.useContext(fr),j=RR(),z=IR(m,{relative:g}),F=u.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&jw.test(m),ee=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let X=q.nativeEvent.submitter,D=X?.getAttribute("formmethod")||u,N=()=>j(X||q.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:l,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:w});C&&n!==!1?I.startTransition(()=>N()):N()};return I.createElement("form",{ref:A,method:F,action:z,onSubmit:a?p:ee,...S,"data-discover":!H&&t==="render"?"true":void 0})});xR.displayName="Form";function SR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kw(t){let e=I.useContext(oc);return Rt(e,SR(t)),e}function AR(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=cc(),v=bi(),E=dd(t,{relative:l});return I.useCallback(w=>{if(rR(w,e)){w.preventDefault();let S=n!==void 0?n:Ku(v)===Ku(E),A=()=>g(t,{replace:S,state:a,preventScrollReset:i,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:m});p?I.startTransition(()=>A()):A()}},[v,g,E,n,a,e,t,i,l,u,m,p])}var CR=0,NR=()=>`__${String(++CR)}__`;function RR(){let{router:t}=kw("useSubmit"),{basename:e}=I.useContext(fr),n=GN(),a=t.fetch,i=t.navigate;return I.useCallback(async(l,u={})=>{let{action:m,method:p,encType:g,formData:v,body:E}=iR(l,e);if(u.navigate===!1){let w=u.fetcherKey||NR();await a(w,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await i(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,i,e,n])}function IR(t,{relative:e}={}){let{basename:n}=I.useContext(fr),a=I.useContext(Ca);Rt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...dd(t||".",{relative:e})},u=bi();if(t==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:rs([n,l.pathname])),Ku(l)}function DR(t,{relative:e}={}){let n=I.useContext(ww);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kw("useViewTransitionState"),i=dd(t,{relative:e});if(!n.isTransitioning)return!1;let l=os(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=os(n.nextLocation.pathname,a)||n.nextLocation.pathname;return If(i.pathname,u)!=null||If(i.pathname,l)!=null}const sr={home:"/",forgotPassword:"/forgot-password",login:"/login",register:"/register",dashboard:"/dashboard",cadastros:"/cadastros"},jR=()=>{};var eb={};const Ow=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kR=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const i=t[n++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],m=t[n++],p=((i&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,m=u?t[i+1]:0,p=i+2<t.length,g=p?t[i+2]:0,v=l>>2,E=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,S=g&63;p||(S=64,u||(w=64)),a.push(n[v],n[E],n[w],n[S])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],m=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||m==null||g==null||E==null)throw new OR;const w=l<<2|m>>4;if(a.push(w),g!==64){const S=m<<4&240|g>>2;if(a.push(S),E!==64){const A=g<<6&192|E;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(t){const e=Ow(t);return Pw.encodeByteArray(e,!0)},Df=function(t){return PR(t).replace(/\./g,"")},Mw=function(t){try{return Pw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VR=()=>MR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mw(t[1]);return e&&JSON.parse(e)},am=()=>{try{return jR()||VR()||LR()||UR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vw=t=>am()?.emulatorHosts?.[t],Lw=t=>{const e=Vw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Uw=()=>am()?.config,zw=t=>am()?.[`_${t}`];class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Ti(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fv(t){return(await fetch(t,{credentials:"include"})).ok}function Bw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Df(JSON.stringify(n)),Df(JSON.stringify(u)),""].join(".")}const Uu={};function BR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function qR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tb=!1;function mv(t,e){if(typeof window>"u"||typeof document>"u"||!Ti(window.location.host)||Uu[t]===e||Uu[t]||tb)return;Uu[t]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",l=BR().prod.length>0;function u(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{tb=!0,u()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=qR(a),S=n("text"),A=document.getElementById(S)||document.createElement("span"),C=n("learnmore"),j=document.getElementById(C)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;m(H),v(j,C);const ee=g();p(F,z),H.append(F,A,j,ee),document.body.appendChild(H)}l?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function $R(){const t=am()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QR(){return!$R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function WR(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const ZR="FirebaseError";class Na extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=ZR,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?JR(l,a):"Error",m=`${this.serviceName}: ${u} (${i}).`;return new Na(i,m,a)}}function JR(t,e){return t.replace(eI,(n,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const eI=/\{\$([^}]+)}/g;function tI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const i of n){if(!a.includes(i))return!1;const l=t[i],u=e[i];if(nb(l)&&nb(u)){if(!bo(l,u))return!1}else if(l!==u)return!1}for(const i of a)if(!n.includes(i))return!1;return!0}function nb(t){return t!==null&&typeof t=="object"}function fd(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nI(t,e){const n=new rI(t,e);return n.subscribe.bind(n)}class rI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let i;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");aI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:a},i.next===void 0&&(i.next=Wg),i.error===void 0&&(i.error=Wg),i.complete===void 0&&(i.complete=Wg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wg(){}function Ut(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const po="[DEFAULT]";class sI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new zR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oI(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&u.resolve(i)}return i}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(a)??new Set;i.add(e),this.onInitCallbacks.set(a,i);const l=this.instances.get(a);return l&&e(l,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const i of a)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:iI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(t){return t===po?void 0:t}function oI(t){return t.instantiationMode==="EAGER"}class lI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const cI={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},uI=$e.INFO,dI={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},hI=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),i=dI[e];if(i)console[i](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pv{constructor(e){this.name=e,this._logLevel=uI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const fI=(t,e)=>e.some(n=>t instanceof n);let rb,ab;function mI(){return rb||(rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pI(){return ab||(ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qw=new WeakMap,_y=new WeakMap,Fw=new WeakMap,Zg=new WeakMap,gv=new WeakMap;function gI(t){const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(li(t.result)),i()},u=()=>{a(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&qw.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function yI(t){if(_y.has(t))return;const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});_y.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vI(t){Ey=t(Ey)}function _I(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(Jg(this),e,...n);return Fw.set(a,e.sort?e.sort():[e]),li(a)}:pI().includes(t)?function(...e){return t.apply(Jg(this),e),li(qw.get(this))}:function(...e){return li(t.apply(Jg(this),e))}}function EI(t){return typeof t=="function"?_I(t):(t instanceof IDBTransaction&&yI(t),fI(t,mI())?new Proxy(t,Ey):t)}function li(t){if(t instanceof IDBRequest)return gI(t);if(Zg.has(t))return Zg.get(t);const e=EI(t);return e!==t&&(Zg.set(t,e),gv.set(e,t)),e}const Jg=t=>gv.get(t);function bI(t,e,{blocked:n,upgrade:a,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),m=li(u);return a&&u.addEventListener("upgradeneeded",p=>{a(li(u.result),p.oldVersion,p.newVersion,li(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const TI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],ey=new Map;function sb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,i=wI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(i||TI.includes(n)))return;const l=async function(u,...m){const p=this.transaction(u,i?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),i&&p.done]))[0]};return ey.set(e,l),l}vI(t=>({...t,get:(e,n,a)=>sb(e,n)||t.get(e,n,a),has:(e,n)=>!!sb(e,n)||t.has(e,n)}));class xI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function SI(t){return t.getComponent()?.type==="VERSION"}const by="@firebase/app",ib="0.14.3";const ls=new pv("@firebase/app"),AI="@firebase/app-compat",CI="@firebase/analytics-compat",NI="@firebase/analytics",RI="@firebase/app-check-compat",II="@firebase/app-check",DI="@firebase/auth",jI="@firebase/auth-compat",kI="@firebase/database",OI="@firebase/data-connect",PI="@firebase/database-compat",MI="@firebase/functions",VI="@firebase/functions-compat",LI="@firebase/installations",UI="@firebase/installations-compat",zI="@firebase/messaging",BI="@firebase/messaging-compat",qI="@firebase/performance",FI="@firebase/performance-compat",$I="@firebase/remote-config",HI="@firebase/remote-config-compat",GI="@firebase/storage",KI="@firebase/storage-compat",YI="@firebase/firestore",QI="@firebase/ai",XI="@firebase/firestore-compat",WI="firebase",ZI="12.3.0";const Ty="[DEFAULT]",JI={[by]:"fire-core",[AI]:"fire-core-compat",[NI]:"fire-analytics",[CI]:"fire-analytics-compat",[II]:"fire-app-check",[RI]:"fire-app-check-compat",[DI]:"fire-auth",[jI]:"fire-auth-compat",[kI]:"fire-rtdb",[OI]:"fire-data-connect",[PI]:"fire-rtdb-compat",[MI]:"fire-fn",[VI]:"fire-fn-compat",[LI]:"fire-iid",[UI]:"fire-iid-compat",[zI]:"fire-fcm",[BI]:"fire-fcm-compat",[qI]:"fire-perf",[FI]:"fire-perf-compat",[$I]:"fire-rc",[HI]:"fire-rc-compat",[GI]:"fire-gcs",[KI]:"fire-gcs-compat",[YI]:"fire-fst",[XI]:"fire-fst-compat",[QI]:"fire-vertex","fire-js":"fire-js",[WI]:"fire-js-all"};const jf=new Map,eD=new Map,wy=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(wy.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(const n of jf.values())ob(n,t);for(const n of eD.values())ob(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t==null?!1:t.settings!==void 0}const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new hd("app","Firebase",tD);class nD{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const jo=ZI;function $w(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a={name:Ty,automaticDataCollectionEnabled:!0,...e},i=a.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=Uw()),!n)throw ci.create("no-options");const l=jf.get(i);if(l){if(bo(n,l.options)&&bo(a,l.config))return l;throw ci.create("duplicate-app",{appName:i})}const u=new lI(i);for(const p of wy.values())u.addComponent(p);const m=new nD(n,a,u);return jf.set(i,m),m}function yv(t=Ty){const e=jf.get(t);if(!e&&t===Ty&&Uw())return $w();if(!e)throw ci.create("no-app",{appName:t});return e}function va(t,e,n){let a=JI[t]??t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const u=[`Unable to register library "${a}" with version "${e}":`];i&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(u.join(" "));return}To(new hi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const rD="firebase-heartbeat-database",aD=1,Yu="firebase-heartbeat-store";let ty=null;function Hw(){return ty||(ty=bI(rD,aD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),ty}async function sD(t){try{const n=(await Hw()).transaction(Yu),a=await n.objectStore(Yu).get(Gw(t));return await n.done,a}catch(e){if(e instanceof Na)ls.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e?.message});ls.warn(n.message)}}}async function lb(t,e){try{const a=(await Hw()).transaction(Yu,"readwrite");await a.objectStore(Yu).put(e,Gw(t)),await a.done}catch(n){if(n instanceof Na)ls.warn(n.message);else{const a=ci.create("idb-set",{originalErrorMessage:n?.message});ls.warn(a.message)}}}function Gw(t){return`${t.name}!${t.options.appId}`}const iD=1024,oD=30;class lD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uD(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>oD){const i=dD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cb(),{heartbeatsToSend:n,unsentEntries:a}=cD(this._heartbeatsCache.heartbeats),i=Df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ls.warn(e),""}}}function cb(){return new Date().toISOString().substring(0,10)}function cD(t,e=iD){const n=[];let a=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),ub(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ub(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class uD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?WR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ub(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function dD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}function hD(t){To(new hi("platform-logger",e=>new xI(e),"PRIVATE")),To(new hi("heartbeat",e=>new lD(e),"PRIVATE")),va(by,ib,t),va(by,ib,"esm2020"),va("fire-js","")}hD("");var fD="firebase",mD="12.3.0";va(fD,mD,"app");function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pD=Kw,Yw=new hd("auth","Firebase",Kw());const kf=new pv("@firebase/auth");function gD(t,...e){kf.logLevel<=$e.WARN&&kf.warn(`Auth (${jo}): ${t}`,...e)}function mf(t,...e){kf.logLevel<=$e.ERROR&&kf.error(`Auth (${jo}): ${t}`,...e)}function Hr(t,...e){throw vv(t,...e)}function _a(t,...e){return vv(t,...e)}function Qw(t,e,n){const a={...pD(),[e]:n};return new hd("auth","Firebase",a).create(e,{appName:t.name})}function as(t){return Qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vv(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return Yw.create(t,...e)}function Ie(t,e,...n){if(!t)throw vv(e,...n)}function Ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mf(e),new Error(e)}function cs(t,e){t||Ja(e)}function xy(){return typeof self<"u"&&self.location?.href||""}function yD(){return db()==="http:"||db()==="https:"}function db(){return typeof self<"u"&&self.location?.protocol||null}function vD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yD()||GR()||"connection"in navigator)?navigator.onLine:!0}function _D(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class md{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||KR()}get(){return vD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _v(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Xw{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ED={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TD=new md(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ps(t,e,n,a,i={}){return Ww(t,i,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const m=fd({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return HR()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ti(t.emulatorConfig.host)&&(g.credentials="include"),Xw.fetch()(await Zw(t,t.config.apiHost,n,m),g)})}async function Ww(t,e,n){t._canInitEmulator=!1;const a={...ED,...e};try{const i=new xD(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Yh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Yh(t,"user-disabled",u);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Qw(t,v,g);Hr(t,v)}}catch(i){if(i instanceof Na)throw i;Hr(t,"network-request-failed",{message:String(i)})}}async function pd(t,e,n,a,i={}){const l=await ps(t,e,n,a,i);return"mfaPendingCredential"in l&&Hr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Zw(t,e,n,a){const i=`${e}${n}?${a}`,l=t,u=l.config.emulator?_v(t.config,i):`${t.config.apiScheme}://${i}`;return bD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function wD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(_a(this.auth,"network-request-failed")),TD.get())})}}function Yh(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const i=_a(t,e,a);return i.customData._tokenResponse=n,i}function hb(t){return t!==void 0&&t.enterprise!==void 0}class SD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AD(t,e){return ps(t,"GET","/v2/recaptchaConfig",ms(t,e))}async function CD(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function Of(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ND(t,e=!1){const n=Ut(t),a=await n.getIdToken(e),i=Ev(a);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l?.sign_in_provider;return{claims:i,token:a,authTime:zu(ny(i.auth_time)),issuedAtTime:zu(ny(i.iat)),expirationTime:zu(ny(i.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ny(t){return Number(t)*1e3}function Ev(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mw(n);return i?JSON.parse(i):(mf("Failed to decode base64 JWT payload"),null)}catch(i){return mf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fb(t){const e=Ev(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Na&&RD(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function RD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ID{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pf(t){const e=t.auth,n=await t.getIdToken(),a=await Qu(t,Of(e,{idToken:n}));Ie(a?.users.length,e,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const l=i.providerUserInfo?.length?Jw(i.providerUserInfo):[],u=jD(t.providerData,l),m=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!u?.length,g=m?p:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Sy(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function DD(t){const e=Ut(t);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jD(t,e){return[...t.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function Jw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kD(t,e){const n=await Ww(t,{},async()=>{const a=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=await Zw(t,i,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return t.emulatorConfig&&Ti(t.emulatorConfig.host)&&(p.credentials="include"),Xw.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OD(t,e){return ps(t,"POST","/v2/accounts:revokeToken",ms(t,e))}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=fb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:i,expiresIn:l}=await kD(e,n);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:i,expirationTime:l}=n,u=new zl;return a&&(Ie(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),i&&(Ie(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Ja("not implemented")}}function Js(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:a,...i}){this.providerId="firebase",this.proactiveRefresh=new ID(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ND(this,e)}reload(){return DD(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Qu(this,CD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,i=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:S,providerData:A,stsTokenManager:C}=n;Ie(E&&C,e,"internal-error");const j=zl.fromJSON(this.name,C);Ie(typeof E=="string",e,"internal-error"),Js(a,e.name),Js(i,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),Js(l,e.name),Js(u,e.name),Js(m,e.name),Js(p,e.name),Js(g,e.name),Js(v,e.name);const z=new Fr({uid:E,auth:e,email:i,emailVerified:w,displayName:a,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(z.providerData=A.map(F=>({...F}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,n,a=!1){const i=new zl;i.updateFromServerResponse(n);const l=new Fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await Pf(l),l}static async _fromGetAccountInfoResponse(e,n,a){const i=n.users[0];Ie(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?Jw(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!l?.length,m=new zl;m.updateFromIdToken(a);const p=new Fr({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Sy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const mb=new Map;function es(t){cs(t instanceof Function,"Expected a class definition");let e=mb.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mb.set(t,e),e)}class ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ex.type="NONE";const pb=ex;function pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=pf(this.userKey,i.apiKey,l),this.fullPersistenceKey=pf("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Of(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Bl(es(pb),e,a);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=i[0]||es(pb);const u=pf(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(u);if(v){let E;if(typeof v=="string"){const w=await Of(e,{idToken:v}).catch(()=>{});if(!w)break;E=await Fr._fromGetAccountInfoResponse(e,w,v)}else E=Fr._fromJSON(e,v);g!==l&&(m=E),l=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bl(l,e,a):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Bl(l,e,a))}}function gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ix(e))return"Blackberry";if(ox(e))return"Webos";if(nx(e))return"Safari";if((e.includes("chrome/")||rx(e))&&!e.includes("edge/"))return"Chrome";if(sx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if(a?.length===2)return a[1]}return"Other"}function tx(t=kn()){return/firefox\//i.test(t)}function nx(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rx(t=kn()){return/crios\//i.test(t)}function ax(t=kn()){return/iemobile/i.test(t)}function sx(t=kn()){return/android/i.test(t)}function ix(t=kn()){return/blackberry/i.test(t)}function ox(t=kn()){return/webos/i.test(t)}function bv(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PD(t=kn()){return bv(t)&&!!window.navigator?.standalone}function MD(){return YR()&&document.documentMode===10}function lx(t=kn()){return bv(t)||sx(t)||ox(t)||ix(t)||/windows phone/i.test(t)||ax(t)}function cx(t,e=[]){let n;switch(t){case"Browser":n=gb(kn());break;case"Worker":n=`${gb(kn())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${a}`}class VD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LD(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ms(t,e))}const UD=6;class zD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class BD{constructor(e,n,a,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new VD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Of(this,{idToken:e}),a=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(a=m.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(as(this));const n=e?Ut(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LD(this),n=new zD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await OD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,i);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wi(t){return Ut(t)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=nI(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qD(t){im=t}function ux(t){return im.loadJS(t)}function FD(){return im.recaptchaEnterpriseScript}function $D(){return im.gapiScript}function HD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GD{constructor(){this.enterprise=new KD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YD="recaptcha-enterprise",dx="NO_RECAPTCHA";class QD{constructor(e){this.type=YD,this.auth=wi(e)}async verify(e="verify",n=!1){async function a(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{AD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new SD(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{m(p)})})}function i(l,u,m){const p=window.grecaptcha;hb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(dx)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(m=>{if(!n&&hb(window.grecaptcha))i(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FD();p.length!==0&&(p+=m),ux(p).then(()=>{i(m,l,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function vb(t,e,n,a=!1,i=!1){const l=new QD(t);let u;if(i)u=dx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mf(t,e,n,a,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await vb(t,e,n,n==="getOobCode");return a(t,l)}else return a(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await vb(t,e,n,n==="getOobCode");return a(t,u)}else return Promise.reject(l)})}function XD(t,e){const n=sm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(bo(l,e??{}))return i;Hr(i,"already-initialized")}return n.initialize({options:e})}function WD(t,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(es);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e?.popupRedirectResolver)}function ZD(t,e,n){const a=wi(t);Ie(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=hx(e),{host:u,port:m}=JD(e),p=m===null?"":`:${m}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){Ie(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ie(bo(g,a.config.emulator)&&bo(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Ti(u)?(fv(`${l}//${u}${p}`),mv("Auth",!0)):ej()}function hx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JD(t){const e=hx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:_b(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:_b(u)}}}function _b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ej(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,n){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}async function tj(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}async function nj(t,e){return pd(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}async function rj(t,e){return ps(t,"POST","/v1/accounts:sendOobCode",ms(t,e))}async function aj(t,e){return rj(t,e)}async function sj(t,e){return pd(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function ij(t,e){return pd(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}class Xu extends Tv{constructor(e,n,a,i=null){super("password",a),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Xu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mf(e,n,"signInWithPassword",nj);case"emailLink":return sj(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mf(e,a,"signUpPassword",tj);case"emailLink":return ij(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ql(t,e){return pd(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}const oj="http://localhost";class wo extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i,...l}=n;if(!a||!i)return null;const u=new wo(a,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ql(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ql(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ql(e,n)}buildRequest(){const e={requestUri:oj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fd(n)}return e}}function lj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cj(t){const e=Ru(Iu(t)).link,n=e?Ru(Iu(e)).deep_link_id:null,a=Ru(Iu(t)).deep_link_id;return(a?Ru(Iu(a)).link:null)||a||n||e||t}class wv{constructor(e){const n=Ru(Iu(e)),a=n.apiKey??null,i=n.oobCode??null,l=lj(n.mode??null);Ie(a&&i&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cj(e);try{return new wv(n)}catch{return null}}}class uc{constructor(){this.providerId=uc.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=wv.parseLink(n);return Ie(a,"argument-error"),Xu._fromEmailAndCode(e,a.code,a.tenantId)}}uc.PROVIDER_ID="password";uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gd extends fx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ei extends gd{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";class ti extends gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ti.credential(n,a)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";class ni extends gd{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";class ri extends gd{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ri.credential(n,a)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";async function uj(t,e){return pd(t,"POST","/v1/accounts:signUp",ms(t,e))}class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,i=!1){const l=await Fr._fromIdTokenResponse(e,a,i),u=Eb(a);return new xo({user:l,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const i=Eb(a);return new xo({user:e,providerId:i,_tokenResponse:a,operationType:n})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Vf extends Na{constructor(e,n,a,i){super(n.code,n.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,i){return new Vf(e,n,a,i)}}function mx(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,l,e,a):l})}async function dj(t,e,n=!1){const a=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",a)}async function hj(t,e,n=!1){const{auth:a}=t;if(ir(a.app))return Promise.reject(as(a));const i="reauthenticate";try{const l=await Qu(t,mx(a,i,e,t),n);Ie(l.idToken,a,"internal-error");const u=Ev(l.idToken);Ie(u,a,"internal-error");const{sub:m}=u;return Ie(t.uid===m,a,"user-mismatch"),xo._forOperation(t,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Hr(a,"user-mismatch"),l}}async function px(t,e,n=!1){if(ir(t.app))return Promise.reject(as(t));const a="signIn",i=await mx(t,a,e),l=await xo._fromIdTokenResponse(t,a,i);return n||await t._updateCurrentUser(l.user),l}async function fj(t,e){return px(wi(t),e)}async function gx(t){const e=wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mj(t,e,n){const a=wi(t);await Mf(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",aj)}async function pj(t,e,n){if(ir(t.app))return Promise.reject(as(t));const a=wi(t),u=await Mf(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gx(t),p}),m=await xo._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(m.user),m}function gj(t,e,n){return ir(t.app)?Promise.reject(as(t)):fj(Ut(t),uc.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&gx(t),a})}function yj(t,e,n,a){return Ut(t).onIdTokenChanged(e,n,a)}function vj(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function _j(t,e,n,a){return Ut(t).onAuthStateChanged(e,n,a)}function Ej(t){return Ut(t).signOut()}const Lf="__sak";class yx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bj=1e3,Tj=10;class vx extends yx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),i=this.localCache[n];a!==i&&e(n,i,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);MD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tj):i()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vx.type="LOCAL";const wj=vx;class _x extends yx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_x.type="SESSION";const Ex=_x;function xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const a=new om(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const m=Array.from(u).map(async g=>g(n.origin,l)),p=await xj(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];function xv(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}class Sj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const g=xv("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);u={messageChannel:i,onMessage(E){const w=E;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ea(){return window}function Aj(t){Ea().location.href=t}function bx(){return typeof Ea().WorkerGlobalScope<"u"&&typeof Ea().importScripts=="function"}async function Cj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nj(){return navigator?.serviceWorker?.controller||null}function Rj(){return bx()?self:null}const Tx="firebaseLocalStorageDb",Ij=1,Uf="firebaseLocalStorage",wx="fbase_key";class yd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function Dj(){const t=indexedDB.deleteDatabase(Tx);return new yd(t).toPromise()}function Ay(){const t=indexedDB.open(Tx,Ij);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(Uf,{keyPath:wx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(Uf)?e(a):(a.close(),await Dj(),e(await Ay()))})})}async function bb(t,e,n){const a=lm(t,!0).put({[wx]:e,value:n});return new yd(a).toPromise()}async function jj(t,e){const n=lm(t,!1).get(e),a=await new yd(n).toPromise();return a===void 0?null:a.value}function Tb(t,e){const n=lm(t,!0).delete(e);return new yd(n).toPromise()}const kj=800,Oj=3;class xx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Oj)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(Rj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new Sj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await bb(e,Lf,"1"),await Tb(e,Lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>bb(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>jj(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=lm(i,!1).getAll();return new yd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xx.type="LOCAL";const Pj=xx;new md(3e4,6e4);function Mj(t,e){return e?es(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Sv extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vj(t){return px(t.auth,new Sv(t),t.bypassAuthState)}function Lj(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),hj(n,new Sv(t),t.bypassAuthState)}async function Uj(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),dj(n,new Sv(t),t.bypassAuthState)}class Sx{constructor(e,n,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:i,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vj;case"linkViaPopup":case"linkViaRedirect":return Uj;case"reauthViaPopup":case"reauthViaRedirect":return Lj;default:Hr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zj=new md(2e3,1e4);class Ml extends Sx{constructor(e,n,a,i,l){super(e,n,i,l),this.provider=a,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zj.get())};e()}}Ml.currentPopupAction=null;const Bj="pendingRedirect",gf=new Map;class qj extends Sx{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=gf.get(this.auth._key());if(!e){try{const a=await Fj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}gf.set(this.auth._key(),e)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fj(t,e){const n=Gj(e),a=Hj(t);if(!await a._isAvailable())return!1;const i=await a._get(n)==="true";return await a._remove(n),i}function $j(t,e){gf.set(t._key(),e)}function Hj(t){return es(t._redirectPersistence)}function Gj(t){return pf(Bj,t.config.apiKey,t.name)}async function Kj(t,e,n=!1){if(ir(t.app))return Promise.reject(as(t));const a=wi(t),i=Mj(a,e),u=await new qj(a,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}const Yj=600*1e3;class Qj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ax(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_a(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yj&&this.cachedEventUids.clear(),this.cachedEventUids.has(wb(e))}saveEventToCache(e){this.cachedEventUids.add(wb(e)),this.lastProcessedEventTime=Date.now()}}function wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ax({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Xj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ax(t);default:return!1}}async function Wj(t,e={}){return ps(t,"GET","/v1/projects",e)}const Zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jj=/^https?/;async function ek(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Wj(t);for(const n of e)try{if(tk(n))return}catch{}Hr(t,"unauthorized-domain")}function tk(t){const e=xy(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!Jj.test(n))return!1;if(Zj.test(t))return a===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}const nk=new md(3e4,6e4);function xb(){const t=Ea().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rk(t){return new Promise((e,n)=>{function a(){xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xb(),n(_a(t,"network-request-failed"))},timeout:nk.get()})}if(Ea().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ea().gapi?.load)a();else{const i=HD("iframefcb");return Ea()[i]=()=>{gapi.load?a():n(_a(t,"network-request-failed"))},ux(`${$D()}?onload=${i}`).catch(l=>n(l))}}).catch(e=>{throw yf=null,e})}let yf=null;function ak(t){return yf=yf||rk(t),yf}const sk=new md(5e3,15e3),ik="__/auth/iframe",ok="emulator/auth/iframe",lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uk(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,ok):`https://${t.config.authDomain}/${ik}`,a={apiKey:e.apiKey,appName:t.name,v:jo},i=ck.get(t.config.apiHost);i&&(a.eid=i);const l=t._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${fd(a).slice(1)}`}async function dk(t){const e=await ak(t),n=Ea().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:uk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lk,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const u=_a(t,"network-request-failed"),m=Ea().setTimeout(()=>{l(u)},sk.get());function p(){Ea().clearTimeout(m),i(a)}a.ping(p).then(p,()=>{l(u)})}))}const hk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fk=500,mk=600,pk="_blank",gk="http://localhost";class Sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yk(t,e,n,a=fk,i=mk){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...hk,width:a.toString(),height:i.toString(),top:l,left:u},g=kn().toLowerCase();n&&(m=rx(g)?pk:n),tx(g)&&(e=e||gk,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[S,A])=>`${w}${S}=${A},`,"");if(PD(g)&&m!=="_self")return vk(e||"",m),new Sb(null);const E=window.open(e||"",m,v);Ie(E,t,"popup-blocked");try{E.focus()}catch{}return new Sb(E)}function vk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const _k="__/auth/handler",Ek="emulator/auth/handler",bk=encodeURIComponent("fac");async function Ab(t,e,n,a,i,l){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:jo,eventId:i};if(e instanceof fx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",tI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof gd){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await t._getAppCheckToken(),g=p?`#${bk}=${encodeURIComponent(p)}`:"";return`${Tk(t)}?${fd(m).slice(1)}${g}`}function Tk({config:t}){return t.emulator?_v(t,Ek):`https://${t.authDomain}/${_k}`}const ry="webStorageSupport";class wk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ex,this._completeRedirectFn=Kj,this._overrideRedirectResult=$j}async _openPopup(e,n,a,i){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ab(e,n,a,xy(),i);return yk(e,l,xv())}async _openRedirect(e,n,a,i){await this._originValidation(e);const l=await Ab(e,n,a,xy(),i);return Aj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(cs(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await dk(e),a=new Qj(e);return n.register("authEvent",i=>(Ie(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ry,{type:ry},i=>{const l=i?.[0]?.[ry];l!==void 0&&n(!!l),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ek(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lx()||nx()||bv()}}const xk=wk;var Cb="@firebase/auth",Nb="1.11.0";class Sk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ak(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ck(t){To(new hi("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=a.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cx(t)},g=new BD(a,i,l,p);return WD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),To(new hi("auth-internal",e=>{const n=wi(e.getProvider("auth").getImmediate());return(a=>new Sk(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(Cb,Nb,Ak(t)),va(Cb,Nb,"esm2020")}const Nk=300,Rk=zw("authIdTokenMaxAge")||Nk;let Rb=null;const Ik=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Rk)return;const i=n?.token;Rb!==i&&(Rb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dk(t=yv()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XD(t,{popupRedirectResolver:xk,persistence:[Pj,wj,Ex]}),a=zw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=Ik(l.toString());vj(n,u,()=>u(n.currentUser)),yj(n,m=>u(m))}}const i=Vw("auth");return i&&ZD(n,`http://${i}`),n}function jk(){return document.getElementsByTagName("head")?.[0]??document}qD({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=i=>{const l=_a("internal-error");l.customData=i,n(l)},a.type="text/javascript",a.charset="UTF-8",jk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ck("Browser");var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ui,Cx;(function(){var t;function e(D,N){function M(){}M.prototype=N.prototype,D.F=N.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(L,O,b){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return N.prototype[O].apply(L,k)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,M){M||(M=0);const L=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)L[O]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(O=0;O<16;++O)L[O]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=D.g[0],M=D.g[1],O=D.g[2];let b=D.g[3],k;k=N+(b^M&(O^b))+L[0]+3614090360&4294967295,N=M+(k<<7&4294967295|k>>>25),k=b+(O^N&(M^O))+L[1]+3905402710&4294967295,b=N+(k<<12&4294967295|k>>>20),k=O+(M^b&(N^M))+L[2]+606105819&4294967295,O=b+(k<<17&4294967295|k>>>15),k=M+(N^O&(b^N))+L[3]+3250441966&4294967295,M=O+(k<<22&4294967295|k>>>10),k=N+(b^M&(O^b))+L[4]+4118548399&4294967295,N=M+(k<<7&4294967295|k>>>25),k=b+(O^N&(M^O))+L[5]+1200080426&4294967295,b=N+(k<<12&4294967295|k>>>20),k=O+(M^b&(N^M))+L[6]+2821735955&4294967295,O=b+(k<<17&4294967295|k>>>15),k=M+(N^O&(b^N))+L[7]+4249261313&4294967295,M=O+(k<<22&4294967295|k>>>10),k=N+(b^M&(O^b))+L[8]+1770035416&4294967295,N=M+(k<<7&4294967295|k>>>25),k=b+(O^N&(M^O))+L[9]+2336552879&4294967295,b=N+(k<<12&4294967295|k>>>20),k=O+(M^b&(N^M))+L[10]+4294925233&4294967295,O=b+(k<<17&4294967295|k>>>15),k=M+(N^O&(b^N))+L[11]+2304563134&4294967295,M=O+(k<<22&4294967295|k>>>10),k=N+(b^M&(O^b))+L[12]+1804603682&4294967295,N=M+(k<<7&4294967295|k>>>25),k=b+(O^N&(M^O))+L[13]+4254626195&4294967295,b=N+(k<<12&4294967295|k>>>20),k=O+(M^b&(N^M))+L[14]+2792965006&4294967295,O=b+(k<<17&4294967295|k>>>15),k=M+(N^O&(b^N))+L[15]+1236535329&4294967295,M=O+(k<<22&4294967295|k>>>10),k=N+(O^b&(M^O))+L[1]+4129170786&4294967295,N=M+(k<<5&4294967295|k>>>27),k=b+(M^O&(N^M))+L[6]+3225465664&4294967295,b=N+(k<<9&4294967295|k>>>23),k=O+(N^M&(b^N))+L[11]+643717713&4294967295,O=b+(k<<14&4294967295|k>>>18),k=M+(b^N&(O^b))+L[0]+3921069994&4294967295,M=O+(k<<20&4294967295|k>>>12),k=N+(O^b&(M^O))+L[5]+3593408605&4294967295,N=M+(k<<5&4294967295|k>>>27),k=b+(M^O&(N^M))+L[10]+38016083&4294967295,b=N+(k<<9&4294967295|k>>>23),k=O+(N^M&(b^N))+L[15]+3634488961&4294967295,O=b+(k<<14&4294967295|k>>>18),k=M+(b^N&(O^b))+L[4]+3889429448&4294967295,M=O+(k<<20&4294967295|k>>>12),k=N+(O^b&(M^O))+L[9]+568446438&4294967295,N=M+(k<<5&4294967295|k>>>27),k=b+(M^O&(N^M))+L[14]+3275163606&4294967295,b=N+(k<<9&4294967295|k>>>23),k=O+(N^M&(b^N))+L[3]+4107603335&4294967295,O=b+(k<<14&4294967295|k>>>18),k=M+(b^N&(O^b))+L[8]+1163531501&4294967295,M=O+(k<<20&4294967295|k>>>12),k=N+(O^b&(M^O))+L[13]+2850285829&4294967295,N=M+(k<<5&4294967295|k>>>27),k=b+(M^O&(N^M))+L[2]+4243563512&4294967295,b=N+(k<<9&4294967295|k>>>23),k=O+(N^M&(b^N))+L[7]+1735328473&4294967295,O=b+(k<<14&4294967295|k>>>18),k=M+(b^N&(O^b))+L[12]+2368359562&4294967295,M=O+(k<<20&4294967295|k>>>12),k=N+(M^O^b)+L[5]+4294588738&4294967295,N=M+(k<<4&4294967295|k>>>28),k=b+(N^M^O)+L[8]+2272392833&4294967295,b=N+(k<<11&4294967295|k>>>21),k=O+(b^N^M)+L[11]+1839030562&4294967295,O=b+(k<<16&4294967295|k>>>16),k=M+(O^b^N)+L[14]+4259657740&4294967295,M=O+(k<<23&4294967295|k>>>9),k=N+(M^O^b)+L[1]+2763975236&4294967295,N=M+(k<<4&4294967295|k>>>28),k=b+(N^M^O)+L[4]+1272893353&4294967295,b=N+(k<<11&4294967295|k>>>21),k=O+(b^N^M)+L[7]+4139469664&4294967295,O=b+(k<<16&4294967295|k>>>16),k=M+(O^b^N)+L[10]+3200236656&4294967295,M=O+(k<<23&4294967295|k>>>9),k=N+(M^O^b)+L[13]+681279174&4294967295,N=M+(k<<4&4294967295|k>>>28),k=b+(N^M^O)+L[0]+3936430074&4294967295,b=N+(k<<11&4294967295|k>>>21),k=O+(b^N^M)+L[3]+3572445317&4294967295,O=b+(k<<16&4294967295|k>>>16),k=M+(O^b^N)+L[6]+76029189&4294967295,M=O+(k<<23&4294967295|k>>>9),k=N+(M^O^b)+L[9]+3654602809&4294967295,N=M+(k<<4&4294967295|k>>>28),k=b+(N^M^O)+L[12]+3873151461&4294967295,b=N+(k<<11&4294967295|k>>>21),k=O+(b^N^M)+L[15]+530742520&4294967295,O=b+(k<<16&4294967295|k>>>16),k=M+(O^b^N)+L[2]+3299628645&4294967295,M=O+(k<<23&4294967295|k>>>9),k=N+(O^(M|~b))+L[0]+4096336452&4294967295,N=M+(k<<6&4294967295|k>>>26),k=b+(M^(N|~O))+L[7]+1126891415&4294967295,b=N+(k<<10&4294967295|k>>>22),k=O+(N^(b|~M))+L[14]+2878612391&4294967295,O=b+(k<<15&4294967295|k>>>17),k=M+(b^(O|~N))+L[5]+4237533241&4294967295,M=O+(k<<21&4294967295|k>>>11),k=N+(O^(M|~b))+L[12]+1700485571&4294967295,N=M+(k<<6&4294967295|k>>>26),k=b+(M^(N|~O))+L[3]+2399980690&4294967295,b=N+(k<<10&4294967295|k>>>22),k=O+(N^(b|~M))+L[10]+4293915773&4294967295,O=b+(k<<15&4294967295|k>>>17),k=M+(b^(O|~N))+L[1]+2240044497&4294967295,M=O+(k<<21&4294967295|k>>>11),k=N+(O^(M|~b))+L[8]+1873313359&4294967295,N=M+(k<<6&4294967295|k>>>26),k=b+(M^(N|~O))+L[15]+4264355552&4294967295,b=N+(k<<10&4294967295|k>>>22),k=O+(N^(b|~M))+L[6]+2734768916&4294967295,O=b+(k<<15&4294967295|k>>>17),k=M+(b^(O|~N))+L[13]+1309151649&4294967295,M=O+(k<<21&4294967295|k>>>11),k=N+(O^(M|~b))+L[4]+4149444226&4294967295,N=M+(k<<6&4294967295|k>>>26),k=b+(M^(N|~O))+L[11]+3174756917&4294967295,b=N+(k<<10&4294967295|k>>>22),k=O+(N^(b|~M))+L[2]+718787259&4294967295,O=b+(k<<15&4294967295|k>>>17),k=M+(b^(O|~N))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+b&4294967295}a.prototype.v=function(D,N){N===void 0&&(N=D.length);const M=N-this.blockSize,L=this.C;let O=this.h,b=0;for(;b<N;){if(O==0)for(;b<=M;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<N;)if(L[O++]=D.charCodeAt(b++),O==this.blockSize){i(this,L),O=0;break}}else for(;b<N;)if(L[O++]=D[b++],O==this.blockSize){i(this,L),O=0;break}}this.h=O,this.o+=N},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)D[N++]=this.g[M]>>>L&255;return D};function l(D,N){var M=m;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=N(D)}function u(D,N){this.h=N;const M=[];let L=!0;for(let O=D.length-1;O>=0;O--){const b=D[O]|0;L&&b==N||(M[O]=b,L=!1)}this.g=M}var m={};function p(D){return-128<=D&&D<128?l(D,function(N){return new u([N|0],N<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(D<0)return j(g(-D));const N=[];let M=1;for(let L=0;D>=M;L++)N[L]=D/M|0,M*=4294967296;return new u(N,0)}function v(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return j(v(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(N,8));let L=E;for(let b=0;b<D.length;b+=8){var O=Math.min(8,D.length-b);const k=parseInt(D.substring(b,b+O),N);O<8?(O=g(Math.pow(N,O)),L=L.j(O).add(g(k))):(L=L.j(M),L=L.add(g(k)))}return L}var E=p(0),w=p(1),S=p(16777216);t=u.prototype,t.m=function(){if(C(this))return-j(this).m();let D=0,N=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);D+=(L>=0?L:4294967296+L)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(C(this))return"-"+j(this).toString(D);const N=g(Math.pow(D,6));var M=this;let L="";for(;;){const O=ee(M,N).g;M=z(M,O.j(N));let b=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=O,A(M))return b+L;for(;b.length<6;)b="0"+b;L=b+L}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function C(D){return D.h==-1}t.l=function(D){return D=z(this,D),C(D)?-1:A(D)?0:1};function j(D){const N=D.g.length,M=[];for(let L=0;L<N;L++)M[L]=~D.g[L];return new u(M,~D.h).add(w)}t.abs=function(){return C(this)?j(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),M=[];let L=0;for(let O=0;O<=N;O++){let b=L+(this.i(O)&65535)+(D.i(O)&65535),k=(b>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);L=k>>>16,b&=65535,k&=65535,M[O]=k<<16|b}return new u(M,M[M.length-1]&-2147483648?-1:0)};function z(D,N){return D.add(j(N))}t.j=function(D){if(A(this)||A(D))return E;if(C(this))return C(D)?j(this).j(j(D)):j(j(this).j(D));if(C(D))return j(this.j(j(D)));if(this.l(S)<0&&D.l(S)<0)return g(this.m()*D.m());const N=this.g.length+D.g.length,M=[];for(var L=0;L<2*N;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<D.g.length;O++){const b=this.i(L)>>>16,k=this.i(L)&65535,ie=D.i(O)>>>16,ae=D.i(O)&65535;M[2*L+2*O]+=k*ae,F(M,2*L+2*O),M[2*L+2*O+1]+=b*ae,F(M,2*L+2*O+1),M[2*L+2*O+1]+=k*ie,F(M,2*L+2*O+1),M[2*L+2*O+2]+=b*ie,F(M,2*L+2*O+2)}for(D=0;D<N;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=N;D<2*N;D++)M[D]=0;return new u(M,0)};function F(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function H(D,N){this.g=D,this.h=N}function ee(D,N){if(A(N))throw Error("division by zero");if(A(D))return new H(E,E);if(C(D))return N=ee(j(D),N),new H(j(N.g),j(N.h));if(C(N))return N=ee(D,j(N)),new H(j(N.g),N.h);if(D.g.length>30){if(C(D)||C(N))throw Error("slowDivide_ only works with positive integers.");for(var M=w,L=N;L.l(D)<=0;)M=q(M),L=q(L);var O=X(M,1),b=X(L,1);for(L=X(L,2),M=X(M,2);!A(L);){var k=b.add(L);k.l(D)<=0&&(O=O.add(M),b=k),L=X(L,1),M=X(M,1)}return N=z(D,O.j(N)),new H(O,N)}for(O=E;D.l(N)>=0;){for(M=Math.max(1,Math.floor(D.m()/N.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),b=g(M),k=b.j(N);C(k)||k.l(D)>0;)M-=L,b=g(M),k=b.j(N);A(b)&&(b=w),O=O.add(b),D=z(D,k)}return new H(O,D)}t.B=function(D){return ee(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<N;L++)M[L]=this.i(L)&D.i(L);return new u(M,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<N;L++)M[L]=this.i(L)|D.i(L);return new u(M,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<N;L++)M[L]=this.i(L)^D.i(L);return new u(M,this.h^D.h)};function q(D){const N=D.g.length+1,M=[];for(let L=0;L<N;L++)M[L]=D.i(L)<<1|D.i(L-1)>>>31;return new u(M,D.h)}function X(D,N){const M=N>>5;N%=32;const L=D.g.length-M,O=[];for(let b=0;b<L;b++)O[b]=N>0?D.i(b+M)>>>N|D.i(b+M+1)<<32-N:D.i(b+M);return new u(O,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Cx=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ui=u}).apply(typeof Ib<"u"?Ib:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nx,Du,Rx,vf,Cy,Ix,Dx,jx;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function i(h,_){if(_)e:{var T=a;h=h.split(".");for(var P=0;P<h.length-1;P++){var Q=h[P];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],P=T[h],_=_(P),_!=P&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var T=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&T.push([P,_[P]]);return T}});var l=l||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=p,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function E(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(P,Q,ne){for(var ge=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ge[Me-2]=arguments[Me];return _.prototype[Q].apply(P,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let P=0;P<_;P++)T[P]=h[P];return T}return[]}function A(h,_){for(let P=1;P<arguments.length;P++){const Q=arguments[P];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const ne=Q.length||0;h.length=T+ne;for(let ge=0;ge<ne;ge++)h[T+ge]=Q[ge]}else h.push(Q)}}class C{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(h){u.setTimeout(()=>{throw h},0)}function z(){var h=D;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const P=H.get();P.set(_,T),this.h?this.h.next=P:this.g=P,this.h=P}}var H=new C(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let q,X=!1,D=new F,N=()=>{const h=Promise.resolve(void 0);q=()=>{h.then(M)}};function M(){for(var h;h=z();){try{h.h.call(h.g)}catch(T){j(T)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}X=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function k(h){return/^[\s\xa0]*$/.test(h)}function ie(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(ie,O),ie.prototype.init=function(h,_){const T=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function $(h,_,T,P,Q){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!P,this.ha=Q,this.key=++G,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,_,T){for(const P in h)_.call(T,h[P],P,h)}function V(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function Z(h){const _={};for(const T in h)_[T]=h[T];return _}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(h,_){let T,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(T in P)h[T]=P[T];for(let ne=0;ne<me.length;ne++)T=me[ne],Object.prototype.hasOwnProperty.call(P,T)&&(h[T]=P[T])}}function be(h){this.src=h,this.g={},this.h=0}be.prototype.add=function(h,_,T,P,Q){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const ge=xe(h,_,P,Q);return ge>-1?(_=h[ge],T||(_.fa=!1)):(_=new $(_,this.src,ne,!!P,Q),_.fa=T,h.push(_)),_};function Oe(h,_){const T=_.type;if(T in h.g){var P=h.g[T],Q=Array.prototype.indexOf.call(P,_,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(P,Q,1),ne&&(re(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function xe(h,_,T,P){for(let Q=0;Q<h.length;++Q){const ne=h[Q];if(!ne.da&&ne.listener==_&&ne.capture==!!T&&ne.ha==P)return Q}return-1}var he="closure_lm_"+(Math.random()*1e6|0),fe={};function we(h,_,T,P,Q){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)we(h,_[ne],T,P,Q);return null}return T=jr(T),h&&h[ae]?h.J(_,T,m(P)?!!P.capture:!1,Q):Je(h,_,T,!1,P,Q)}function Je(h,_,T,P,Q,ne){if(!_)throw Error("Invalid event type");const ge=m(Q)?!!Q.capture:!!Q;let Me=Qe(h);if(Me||(h[he]=Me=new be(h)),T=Me.add(_,T,P,ge,ne),T.proxy)return T;if(P=Le(),T.proxy=P,P.src=h,P.listener=T,h.addEventListener)b||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),P,Q);else if(h.attachEvent)h.attachEvent(et(_.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Le(){function h(T){return _.call(h.src,h.listener,T)}const _=_t;return h}function St(h,_,T,P,Q){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)St(h,_[ne],T,P,Q);else P=m(P)?!!P.capture:!!P,T=jr(T),h&&h[ae]?(h=h.i,ne=String(_).toString(),ne in h.g&&(_=h.g[ne],T=xe(_,T,P,Q),T>-1&&(re(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Qe(h))&&(_=h.g[_.toString()],h=-1,_&&(h=xe(_,T,P,Q)),(T=h>-1?_[h]:null)&&ke(T))}function ke(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ae])Oe(_.i,h);else{var T=h.type,P=h.proxy;_.removeEventListener?_.removeEventListener(T,P,h.capture):_.detachEvent?_.detachEvent(et(T),P):_.addListener&&_.removeListener&&_.removeListener(P),(T=Qe(_))?(Oe(T,h),T.h==0&&(T.src=null,_[he]=null)):re(h)}}}function et(h){return h in fe?fe[h]:fe[h]="on"+h}function _t(h,_){if(h.da)h=!0;else{_=new ie(_,this);const T=h.listener,P=h.ha||h.src;h.fa&&ke(h),h=T.call(P,_)}return h}function Qe(h){return h=h[he],h instanceof be?h:null}var ot="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(h){return typeof h=="function"?h:(h[ot]||(h[ot]=function(_){return h.handleEvent(_)}),h[ot])}function tt(){L.call(this),this.i=new be(this),this.M=this,this.G=null}E(tt,L),tt.prototype[ae]=!0,tt.prototype.removeEventListener=function(h,_,T,P){St(this,h,_,T,P)};function It(h,_){var T,P=h.G;if(P)for(T=[];P;P=P.G)T.push(P);if(h=h.M,P=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var Q=_;_=new O(P,h),pe(_,Q)}Q=!0;let ne,ge;if(T)for(ge=T.length-1;ge>=0;ge--)ne=_.g=T[ge],Q=mr(ne,P,!0,_)&&Q;if(ne=_.g=h,Q=mr(ne,P,!0,_)&&Q,Q=mr(ne,P,!1,_)&&Q,T)for(ge=0;ge<T.length;ge++)ne=_.g=T[ge],Q=mr(ne,P,!1,_)&&Q}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let P=0;P<T.length;P++)re(T[P]);delete h.g[_],h.h--}}this.G=null},tt.prototype.J=function(h,_,T,P){return this.i.add(String(h),_,!1,T,P)},tt.prototype.K=function(h,_,T,P){return this.i.add(String(h),_,!0,T,P)};function mr(h,_,T,P){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let ne=0;ne<_.length;++ne){const ge=_[ne];if(ge&&!ge.da&&ge.capture==T){const Me=ge.listener,xt=ge.ha||ge.src;ge.fa&&Oe(h.i,ge),Q=Me.call(xt,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function Vo(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Ri(h){h.g=Vo(()=>{h.g=null,h.i&&(h.i=!1,Ri(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class yc extends L{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ri(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(h){L.call(this),this.h=h,this.g={}}E(Ra,L);var gs=[];function Sn(h){ye(h.g,function(_,T){this.g.hasOwnProperty(T)&&ke(_)},h),h.g={}}Ra.prototype.N=function(){Ra.Z.N.call(this),Sn(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=u.JSON.stringify,Pn=u.JSON.parse,Gm=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Rd(){}function Id(){}var Qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ys(){O.call(this,"d")}E(ys,O);function kr(){O.call(this,"c")}E(kr,O);var gr={},vs=null;function Lo(){return vs=vs||new tt}gr.Ia="serverreachability";function vc(h){O.call(this,gr.Ia,h)}E(vc,O);function _s(h){const _=Lo();It(_,new vc(_))}gr.STAT_EVENT="statevent";function Uo(h,_){O.call(this,gr.STAT_EVENT,h),this.stat=_}E(Uo,O);function qt(h){const _=Lo();It(_,new Uo(_,h))}gr.Ja="timingevent";function Dd(h,_){O.call(this,gr.Ja,h),this.size=_}E(Dd,O);function Es(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function bs(){this.g=!0}bs.prototype.ua=function(){this.g=!1};function _c(h,_,T,P,Q,ne){h.info(function(){if(h.g)if(ne){var ge="",Me=ne.split("&");for(let ct=0;ct<Me.length;ct++){var xt=Me[ct].split("=");if(xt.length>1){const Ht=xt[0];xt=xt[1];const Qn=Ht.split("_");ge=Qn.length>=2&&Qn[1]=="type"?ge+(Ht+"="+xt+"&"):ge+(Ht+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+_+`
`+T+`
`+ge})}function Ec(h,_,T,P,Q,ne,ge){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+_+`
`+T+`
`+ne+" "+ge})}function Ia(h,_,T,P){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xr(h,T)+(P?" "+P:"")})}function Km(h,_){h.info(function(){return"TIMEOUT: "+_})}bs.prototype.info=function(){};function Xr(h,_){if(!h.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var T=ne[h];if(!(T.length<2)){var P=T[1];if(Array.isArray(P)&&!(P.length<1)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<P.length;ge++)P[ge]=""}}}}return pr(ne)}catch{return _}}var Ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Da;function Ii(){}E(Ii,Rd),Ii.prototype.g=function(){return new XMLHttpRequest},Da=new Ii;function Di(h){return encodeURIComponent(String(h))}function Ym(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Or(h,_,T,P){this.j=h,this.i=_,this.l=T,this.S=P||1,this.V=new Ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var zo={},Wr={};function Zr(h,_,T){h.M=1,h.A=ka(Dt(_)),h.u=T,h.R=!0,ws(h,null)}function ws(h,_){h.F=Date.now(),ji(h),h.B=Dt(h.A);var T=h.B,P=h.S;Array.isArray(P)||(P=[String(P)]),Pd(T.i,"t",P),h.C=0,T=h.j.L,h.h=new Ts,h.g=Xo(h.j,T?_:null,!h.u),h.P>0&&(h.O=new yc(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,P=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(gs[0]=Q.toString()),Q=gs);for(let ne=0;ne<Q.length;ne++){const ge=we(T,Q[ne],P||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.J?Z(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),_s(),_c(h.i,h.v,h.B,h.l,h.S,h.u)}Or.prototype.ba=function(h){h=h.target;const _=this.O;_&&An(h)==3?_.j():this.Y(h)},Or.prototype.Y=function(h){try{if(h==this.g)e:{const Me=An(this.g),xt=this.g.ya(),ct=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Fi(this.g)))){this.K||Me!=4||xt==7||(xt==8||ct<=0?_s(3):_s(2)),ea(this);var _=this.g.ca();this.X=_;var T=xs(this);if(this.o=_==200,Ec(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(P)){var ne=P;break t}}ne=null}if(h=ne)Ia(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bo(this,h);else{this.o=!1,this.m=3,qt(12),ta(this),ki(this);break e}}if(this.R){h=!0;let Ht;for(;!this.K&&this.C<T.length;)if(Ht=jd(this,T),Ht==Wr){Me==4&&(this.m=4,qt(14),h=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==zo){this.m=4,qt(15),Ia(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ia(this.i,this.l,Ht,null),Bo(this,Ht);if($t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||T.length!=0||this.h.h||(this.m=1,qt(16),h=!1),this.o=this.o&&h,!h)Ia(this.i,this.l,T,"[Invalid Chunked Response]"),ta(this),ki(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ic(ge),ge.P=!0,qt(11))}}else Ia(this.i,this.l,T,null),Bo(this,T);Me==4&&ta(this),this.o&&!this.K&&(Me==4?Dc(this.j,this):(this.o=!1,ji(this)))}else $i(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),ta(this),ki(this)}}}catch{}};function xs(h){if(!$t(h))return h.g.la();const _=Fi(h.g);if(_==="")return"";let T="";const P=_.length,Q=An(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ta(h),ki(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<P;ne++)h.h.h=!0,T+=h.h.i.decode(_[ne],{stream:!(Q&&ne==P-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function $t(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function jd(h,_){var T=h.C,P=_.indexOf(`
`,T);return P==-1?Wr:(T=Number(_.substring(T,P)),isNaN(T)?zo:(P+=1,P+T>_.length?Wr:(_=_.slice(P,P+T),h.C=P+T,_)))}Or.prototype.cancel=function(){this.K=!0,ta(this)};function ji(h){h.T=Date.now()+h.H,Jr(h,h.H)}function Jr(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Es(g(h.aa,h),_)}function ea(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Or.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Km(this.i,this.B),this.M!=2&&(_s(),qt(17)),ta(this),this.m=2,ki(this)):Jr(this,this.T-h)};function ki(h){h.j.I==0||h.K||Dc(h.j,h)}function ta(h){ea(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Sn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Bo(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Mi(T.h,h))){if(!h.L&&Mi(T.h,h)&&T.I==3){try{var P=T.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Qo(T),na(T);else break e;Rc(T),qt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Es(g(T.Va,T),6e3));yr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ma(T,11)}else if((h.L||T.g==h)&&Qo(T),!k(_))for(Q=T.Ba.g.parse(_),_=0;_<Q.length;_++){let ct=Q[_];const Ht=ct[0];if(!(Ht<=T.K))if(T.K=Ht,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const Qn=ct[3];Qn!=null&&(T.ka=Qn,T.j.info("VER="+T.ka));const ra=ct[4];ra!=null&&(T.za=ra,T.j.info("SVER="+T.za));const Vr=ct[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(P=1.5*Vr,T.O=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Lr=h.g;if(Lr){const Ur=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var ne=P.h;ne.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(qo(ne,ne.h),ne.h=null))}if(P.G){const kc=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;kc&&(P.wa=kc,mt(P.J,P.G,kc))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),P=T;var ge=h;if(P.na=$d(P,P.L?P.ba:null,P.W),ge.L){ja(P.h,ge);var Me=ge,xt=P.O;xt&&(Me.H=xt),Me.D&&(ea(Me),ji(Me)),P.g=ge}else zd(P);T.i.length>0&&Yi(T)}else ct[0]!="stop"&&ct[0]!="close"||Ma(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ma(T,7):Gi(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}_s(4)}catch{}}var Qm=class{constructor(h,_){this.g=h,this.map=_}};function Oi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yr(h){return h.h?1:h.g?h.g.size:0}function Mi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function qo(h,_){h.g?h.g.add(_):h.h=_}function ja(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Oi.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xm(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const P=h[T].indexOf("=");let Q,ne=null;P>=0?(Q=h[T].substring(0,P),ne=h[T].substring(P+1)):Q=h[T],_(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Pr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Pr?(this.l=h.l,Ss(this,h.j),this.o=h.o,this.g=h.g,Vi(this,h.u),this.h=h.h,As(this,Md(h.i)),this.m=h.m):h&&(_=String(h).match($o))?(this.l=!1,Ss(this,_[1]||"",!0),this.o=Li(_[2]||""),this.g=Li(_[3]||"",!0),Vi(this,_[4]),this.h=Li(_[5]||"",!0),As(this,_[6]||"",!0),this.m=Li(_[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}Pr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(hn(_,Tc,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(hn(_,Tc,!0),"@"),h.push(Di(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(hn(T,T.charAt(0)=="/"?Cs:wc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",hn(T,Od)),h.join("")},Pr.prototype.resolve=function(h){const _=Dt(this);let T=!!h.j;T?Ss(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var P=h.h;if(T)Vi(_,h.u);else if(T=!!h.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(P=_.h.slice(0,Q+1)+P)}if(Q=P,Q==".."||Q==".")P="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){P=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ge=0;ge<Q.length;){const Me=Q[ge++];Me=="."?P&&ge==Q.length&&ne.push(""):Me==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),P&&ge==Q.length&&ne.push("")):(ne.push(Me),P=!0)}P=ne.join("/")}else P=Q}return T?_.h=P:T=h.i.toString()!=="",T?As(_,Md(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Dt(h){return new Pr(h)}function Ss(h,_,T){h.j=T?Li(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Vi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function As(h,_,T){_ instanceof vr?(h.i=_,Ac(h.i,h.l)):(T||(_=hn(_,kd)),h.i=new vr(_,h.l))}function mt(h,_,T){h.i.set(_,T)}function ka(h){return mt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function hn(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,bc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Tc=/[#\/\?@]/g,wc=/[#\?:]/g,Cs=/[#\?]/g,kd=/[#\?@]/g,Od=/#/g;function vr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Oa(h){h.g||(h.g=new Map,h.h=0,h.i&&Xm(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=vr.prototype,t.add=function(h,_){Oa(this),this.i=null,h=Mr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function xc(h,_){Oa(h),_=Mr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Sc(h,_){return Oa(h),_=Mr(h,_),h.g.has(_)}t.forEach=function(h,_){Oa(this),this.g.forEach(function(T,P){T.forEach(function(Q){h.call(_,Q,P,this)},this)},this)};function Ho(h,_){Oa(h);let T=[];if(typeof _=="string")Sc(h,_)&&(T=T.concat(h.g.get(Mr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return Oa(this),this.i=null,h=Mr(this,h),Sc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Ho(this,h),h.length>0?String(h[0]):_):_};function Pd(h,_,T){xc(h,_),T.length>0&&(h.i=null,h.g.set(Mr(h,_),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var T=_[P];const Q=Di(T);T=Ho(this,T);for(let ne=0;ne<T.length;ne++){let ge=Q;T[ne]!==""&&(ge+="="+Di(T[ne])),h.push(ge)}}return this.i=h.join("&")};function Md(h){const _=new vr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Mr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ac(h,_){_&&!h.j&&(Oa(h),h.i=null,h.g.forEach(function(T,P){const Q=P.toLowerCase();P!=Q&&(xc(this,P),Pd(this,Q,T))},h)),h.j=_}function Cc(h,_){const T=new bs;if(u.Image){const P=new Image;P.onload=v(Mn,T,"TestLoadImage: loaded",!0,_,P),P.onerror=v(Mn,T,"TestLoadImage: error",!1,_,P),P.onabort=v(Mn,T,"TestLoadImage: abort",!1,_,P),P.ontimeout=v(Mn,T,"TestLoadImage: timeout",!1,_,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else _(!1)}function Ns(h,_){const T=new bs,P=new AbortController,Q=setTimeout(()=>{P.abort(),Mn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:P.signal}).then(ne=>{clearTimeout(Q),ne.ok?Mn(T,"TestPingServer: ok",!0,_):Mn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Mn(T,"TestPingServer: error",!1,_)})}function Mn(h,_,T,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(T)}catch{}}function Vd(){this.g=new Gm}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ui,Rd),Ui.prototype.g=function(){return new zi(this.i,this.h)};function zi(h,_){tt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(zi,tt),t=zi.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Pa(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vn(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rs(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rs(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Vn(this):Pa(this),this.readyState==3&&Rs(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Vn(this))},t.Na=function(h){this.g&&(this.response=h,Vn(this))},t.ga=function(){this.g&&Vn(this)};function Vn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Pa(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Pa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Is(h){let _="";return ye(h,function(T,P){_+=P,_+=":",_+=T,_+=`\r
`}),_}function _r(h,_,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Is(T),typeof h=="string"?T!=null&&Di(T):mt(h,_,T))}function bt(h){tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(bt,tt);var Go=/^https?$/i,Ld=["POST","PUT"];t=bt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Da.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){Bi(this,ne);return}if(h=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)T.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())T.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Ld,_,void 0)>=0)||P||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of T)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){Bi(this,ne)}};function Bi(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,qi(h),on(h)}function qi(h){h.A||(h.A=!0,It(h,"complete"),It(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,It(this,"complete"),It(this,"abort"),on(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),on(this,!0)),bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Nc(this):this.Xa())},t.Xa=function(){Nc(this)};function Nc(h){if(h.h&&typeof l<"u"){if(h.v&&An(h)==4)setTimeout(h.Ca.bind(h),0);else if(It(h,"readystatechange"),An(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var P;if(P=ne===0){let ge=String(h.D).match($o)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),P=!Go.test(ge?ge.toLowerCase():"")}T=P}if(T)It(h,"complete"),It(h,"success");else{h.o=6;try{var Q=An(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",qi(h)}}finally{on(h)}}}}function on(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||It(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function An(h){return h.g?h.g.readyState:0}t.ca=function(){try{return An(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Pn(_)}};function Fi(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const _={};h=(h.g&&An(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(k(h[P]))continue;var T=Ym(h[P]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=_[Q]||[];_[Q]=ne,ne.push(T)}V(_,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Ko(h){this.za=0,this.i=[],this.j=new bs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Oi(h&&h.concurrentRequestLimit),this.Ba=new Vd,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ko.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,P){qt(0),this.W=h,this.H=_||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.J=$d(this,null,this.W),Yi(this)};function Gi(h){if(Ki(h),h.I==3){var _=h.V++,T=Dt(h.J);if(mt(T,"SID",h.M),mt(T,"RID",_),mt(T,"TYPE","terminate"),Qi(h,T),_=new Or(h,h.j,_),_.M=2,_.A=ka(Dt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=Xo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ji(_)}Fd(h)}function na(h){h.g&&(Ic(h),h.g.cancel(),h.g=null)}function Ki(h){na(h),h.v&&(u.clearTimeout(h.v),h.v=null),Qo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Yi(h){if(!Pi(h.h)&&!h.m){h.m=!0;var _=h.Ea;q||N(),X||(q(),X=!0),D.add(_,h),h.D=0}}function Wm(h,_){return yr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Es(g(h.Ea,h,_),qd(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Or(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=Z(ne),pe(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Yo(this,Q,_),T=Dt(this.J),mt(T,"RID",h),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),Qi(this,T),ne&&(this.R?_="headers="+Di(Is(ne))+"&"+_:this.u&&_r(T,this.u,ne)),qo(this.h,Q),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",_),mt(T,"SID","null"),Q.U=!0,Zr(Q,T,null)):Zr(Q,T,_),this.I=2}}else this.I==3&&(h?Ud(this,h):this.i.length==0||Pi(this.h)||Ud(this))};function Ud(h,_){var T;_?T=_.l:T=h.V++;const P=Dt(h.J);mt(P,"SID",h.M),mt(P,"RID",T),mt(P,"AID",h.K),Qi(h,P),h.u&&h.o&&_r(P,h.u,h.o),T=new Or(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Yo(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),qo(h.h,T),Zr(T,P,_)}function Qi(h,_){h.H&&ye(h.H,function(T,P){mt(_,P,T)}),h.l&&ye({},function(T,P){mt(_,P,T)})}function Yo(h,_,T){T=Math.min(h.i.length,T);const P=h.l?g(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Me=-1;for(;;){const xt=["count="+T];Me==-1?T>0?(Me=Q[0].g,xt.push("ofs="+Me)):Me=0:xt.push("ofs="+Me);let ct=!0;for(let Ht=0;Ht<T;Ht++){var ne=Q[Ht].g;const Qn=Q[Ht].map;if(ne-=Me,ne<0)Me=Math.max(0,Q[Ht].g-100),ct=!1;else try{ne="req"+ne+"_"||"";try{var ge=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ra,Vr]of ge){let Lr=Vr;m(Vr)&&(Lr=pr(Vr)),xt.push(ne+ra+"="+encodeURIComponent(Lr))}}catch(ra){throw xt.push(ne+"type="+encodeURIComponent("_badmap")),ra}}catch{P&&P(Qn)}}if(ct){ge=xt.join("&");break e}}ge=void 0}return h=h.i.splice(0,T),_.G=h,ge}function zd(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;q||N(),X||(q(),X=!0),D.add(_,h),h.A=0}}function Rc(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Es(g(h.Da,h),qd(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Bd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Es(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),na(this),Bd(this))};function Ic(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Bd(h){h.g=new Or(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Dt(h.na);mt(_,"RID","rpc"),mt(_,"SID",h.M),mt(_,"AID",h.K),mt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&mt(_,"TO",h.ia),mt(_,"TYPE","xmlhttp"),Qi(h,_),h.u&&h.o&&_r(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ka(Dt(_)),T.u=null,T.R=!0,ws(T,h)}t.Va=function(){this.C!=null&&(this.C=null,na(this),Rc(this),qt(19))};function Qo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Dc(h,_){var T=null;if(h.g==_){Qo(h),Ic(h),h.g=null;var P=2}else if(Mi(h.h,_))T=_.G,ja(h.h,_),P=1;else return;if(h.I!=0){if(_.o)if(P==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Q=h.D;P=Lo(),It(P,new Dd(P,T)),Yi(h)}else zd(h);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(P==1&&Wm(h,_)||P==2&&Rc(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),Q){case 1:Ma(h,5);break;case 4:Ma(h,10);break;case 3:Ma(h,6);break;default:Ma(h,2)}}}function qd(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Ma(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),P=h.Ua;const Q=!P;P=new Pr(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ss(P,"https"),ka(P),Q?Cc(P.toString(),T):Ns(P.toString(),T)}else qt(2);h.I=0,h.l&&h.l.pa(_),Fd(h),Ki(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Fd(h){if(h.I=0,h.ja=[],h.l){const _=Fo(h.h);(_.length!=0||h.i.length!=0)&&(A(h.ja,_),A(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function $d(h,_,T){var P=T instanceof Pr?Dt(T):new Pr(T);if(P.g!="")_&&(P.g=_+"."+P.g),Vi(P,P.u);else{var Q=u.location;P=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Pr(null);P&&Ss(ne,P),_&&(ne.g=_),Q&&Vi(ne,Q),T&&(ne.h=T),P=ne}return T=h.G,_=h.wa,T&&_&&mt(P,T,_),mt(P,"VER",h.ka),Qi(h,P),P}function Xo(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new bt(new Ui({ab:T})):new bt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}t=Hd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Wo(){}Wo.prototype.g=function(h,_){return new Ln(h,_)};function Ln(h,_){tt.call(this),this.g=new Ko(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!k(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ds(this)}E(Ln,tt),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Gi(this.g)},Ln.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=pr(h),h=T);_.i.push(new Qm(_.Ya++,h)),_.I==3&&Yi(_)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Gi(this.g),delete this.g,Ln.Z.N.call(this)};function jc(h){ys.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(jc,ys);function Gd(){kr.call(this),this.status=1}E(Gd,kr);function Ds(h){this.g=h}E(Ds,Hd),Ds.prototype.ra=function(){It(this.g,"a")},Ds.prototype.qa=function(h){It(this.g,new jc(h))},Ds.prototype.pa=function(h){It(this.g,new Gd)},Ds.prototype.oa=function(){It(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,jx=function(){return new Wo},Dx=function(){return Lo()},Ix=gr,Cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ft.NO_ERROR=0,Ft.TIMEOUT=8,Ft.HTTP_ERROR=6,vf=Ft,yn.COMPLETE="complete",Rx=yn,Id.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Du=Id,bt.prototype.listenOnce=bt.prototype.K,bt.prototype.getLastError=bt.prototype.Ha,bt.prototype.getLastErrorCode=bt.prototype.ya,bt.prototype.getStatus=bt.prototype.ca,bt.prototype.getResponseJson=bt.prototype.La,bt.prototype.getResponseText=bt.prototype.la,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Fa,Nx=bt}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const Db="@firebase/firestore",jb="4.9.2";let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let dc="12.3.0";const So=new pv("@firebase/firestore");function jl(){return So.logLevel}function _e(t,...e){if(So.logLevel<=$e.DEBUG){const n=e.map(Av);So.debug(`Firestore (${dc}): ${t}`,...n)}}function us(t,...e){if(So.logLevel<=$e.ERROR){const n=e.map(Av);So.error(`Firestore (${dc}): ${t}`,...n)}}function Xl(t,...e){if(So.logLevel<=$e.WARN){const n=e.map(Av);So.warn(`Firestore (${dc}): ${t}`,...n)}}function Av(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function De(t,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,kx(t,a,n)}function kx(t,e,n){let a=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw us(a),new Error(a)}function lt(t,e,n,a){let i="Unexpected state";typeof n=="string"?i=n:a=n,t||kx(e,i,a)}function Ve(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Na{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ox{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class Ok{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Pk{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let l=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ss,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ss)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new Ox(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class Mk{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vk{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new Mk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const a=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const i=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Uk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=Uk(40);for(let l=0;l<i.length;++l)a.length<20&&i[l]<n&&(a+=e.charAt(i[l]%62))}return a}}function He(t,e){return t<e?-1:t>e?1:0}function Ny(t,e){const n=Math.min(t.length,e.length);for(let a=0;a<n;a++){const i=t.charAt(a),l=e.charAt(a);if(i!==l)return ay(i)===ay(l)?He(i,l):ay(i)?1:-1}return He(t.length,e.length)}const zk=55296,Bk=57343;function ay(t){const e=t.charCodeAt(0);return e>=zk&&e<=Bk}function Wl(t,e,n){return t.length===e.length&&t.every(((a,i)=>n(a,e[i])))}const Ob="__name__";class da{constructor(e,n,a){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&De(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let i=0;i<a;i++){const l=da.compareSegments(e.get(i),n.get(i));if(l!==0)return l}return He(e.length,n.length)}static compareSegments(e,n){const a=da.isNumericId(e),i=da.isNumericId(n);return a&&!i?-1:!a&&i?1:a&&i?da.extractNumericId(e).compare(da.extractNumericId(n)):Ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class wt extends da{construct(e,n,a){return new wt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((i=>i.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends da{construct(e,n,a){return new wn(e,n,a)}static isValidIdentifier(e){return qk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ob}static keyField(){return new wn([Ob])}static fromServerFormat(e){const n=[];let a="",i=0;const l=()=>{if(a.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let u=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else m==="`"?(u=!u,i++):m!=="."||u?(a+=m,i++):(l(),i++)}if(l(),u)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(wt.fromString(e))}static fromName(e){return new Ae(wt.fromString(e).popFirst(5))}static empty(){return new Ae(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new wt(e.slice()))}}function Px(t,e,n){if(!n)throw new ve(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fk(t,e,n,a){if(e===!0&&a===!0)throw new ve(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pb(t){if(!Ae.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mb(t){if(Ae.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(t);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function vd(t,e){if(!Mx(t))throw new ve(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const i=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in t)){n=`JSON missing required field: '${a}'`;break}const u=t[a];if(i&&typeof u!==i){n=`JSON field '${a}' must be a ${i}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${a}' field to equal '${l.value}'`;break}}if(n)throw new ve(ce.INVALID_ARGUMENT,n);return!0}const Vb=-62135596800,Lb=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Lb);return new Xe(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vb)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vd(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:an("string",Xe._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Xe(0,0))}static max(){return new Pe(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function $k(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(a===1e9?new Xe(n+1,0):new Xe(n,a));return new fi(i,Ae.empty(),e)}function Hk(t){return new fi(t.readTime,t.key,Wu)}class fi{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new fi(Pe.min(),Ae.empty(),Wu)}static max(){return new fi(Pe.max(),Ae.empty(),Wu)}}function Gk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const Kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Kk)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((a,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,a)=>{n(e)}))}static reject(e){return new de(((n,a)=>{a(e)}))}static waitFor(e){return new de(((n,a)=>{let i=0,l=0,u=!1;e.forEach((m=>{++i,m.next((()=>{++l,u&&l===i&&n()}),(p=>a(p)))})),u=!0,l===i&&n()}))}static or(e){let n=de.resolve(!1);for(const a of e)n=n.next((i=>i?de.resolve(i):a()));return n}static forEach(e,n){const a=[];return e.forEach(((i,l)=>{a.push(n.call(this,i,l))})),this.waitFor(a)}static mapArray(e,n){return new de(((a,i)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((v=>{u[g]=v,++m,m===l&&a(u)}),(v=>i(v)))}}))}static doWhile(e,n){return new de(((a,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):a()};l()}))}}function Qk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}class um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}um.ce=-1;const Nv=-1;function dm(t){return t==null}function zf(t){return t===0&&1/t==-1/0}function Xk(t){return typeof t=="number"&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Vx="";function Wk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ub(e)),e=Zk(t.get(n),e);return Ub(e)}function Zk(t,e){let n=e;const a=t.length;for(let i=0;i<a;i++){const l=t.charAt(i);switch(l){case"\0":n+="";break;case Vx:n+="";break;default:n+=l}}return n}function Ub(t){return t+Vx+""}function zb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return n+a.left.size;i<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,n,a,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,a,i,l){this.key=e,this.value=n,this.color=a??bn.RED,this.left=i??bn.EMPTY,this.right=l??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,i,l){return new bn(e??this.key,n??this.value,a??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let i=this;const l=a(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,a),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,a,i,l){return this}insert(e,n,a){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=a.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new dn(wn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class Ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ux("Invalid base64 string: "+l):l}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const Jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=Jk.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pi(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}const zx="server_timestamp",Bx="__type__",qx="__previous_value__",Fx="__local_write_time__";function Rv(t){return(t?.mapValue?.fields||{})[Bx]?.stringValue===zx}function hm(t){const e=t.mapValue.fields[qx];return Rv(e)?hm(e):e}function Zu(t){const e=mi(t.mapValue.fields[Fx].timestampValue);return new Xe(e.seconds,e.nanos)}class eO{constructor(e,n,a,i,l,u,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Bf="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Bf}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const $x="__type__",tO="__max__",Wh={mapValue:{}},Hx="__vector__",qf="value";function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rv(t)?4:rO(t)?9007199254740991:nO(t)?10:11:De(28295,{value:t})}function Aa(t,e){if(t===e)return!0;const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const u=mi(i.timestampValue),m=mi(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return pi(i.bytesValue).isEqual(pi(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Yt(i.geoPointValue.latitude)===Yt(l.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Yt(i.integerValue)===Yt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const u=Yt(i.doubleValue),m=Yt(l.doubleValue);return u===m?zf(u)===zf(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:case 11:return(function(i,l){const u=i.mapValue.fields||{},m=l.mapValue.fields||{};if(zb(u)!==zb(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Aa(u[p],m[p])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function ed(t,e){return(t.values||[]).find((n=>Aa(n,e)))!==void 0}function Zl(t,e){if(t===e)return 0;const n=gi(t),a=gi(e);if(n!==a)return He(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Yt(l.integerValue||l.doubleValue),p=Yt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(Zu(t),Zu(e));case 5:return Ny(t.stringValue,e.stringValue);case 6:return(function(l,u){const m=pi(l),p=pi(u);return m.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),p=u.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=He(m[g],p[g]);if(v!==0)return v}return He(m.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=He(Yt(l.latitude),Yt(u.latitude));return m!==0?m:He(Yt(l.longitude),Yt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Fb(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},p=u.fields||{},g=m[qf]?.arrayValue,v=p[qf]?.arrayValue,E=He(g?.values?.length||0,v?.values?.length||0);return E!==0?E:Fb(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Wh.mapValue&&u===Wh.mapValue)return 0;if(l===Wh.mapValue)return 1;if(u===Wh.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const w=Ny(p[E],v[E]);if(w!==0)return w;const S=Zl(m[p[E]],g[v[E]]);if(S!==0)return S}return He(p.length,v.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=mi(t),a=mi(e),i=He(n.seconds,a.seconds);return i!==0?i:He(n.nanos,a.nanos)}function Fb(t,e){const n=t.values||[],a=e.values||[];for(let i=0;i<n.length&&i<a.length;++i){const l=Zl(n[i],a[i]);if(l)return l}return He(n.length,a.length)}function Jl(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const a=mi(n);return`time(${a.seconds},${a.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let a="[",i=!0;for(const l of n.values||[])i?i=!1:a+=",",a+=Ry(l);return a+"]"})(t.arrayValue):"mapValue"in t?(function(n){const a=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const u of a)l?l=!1:i+=",",i+=`${u}:${Ry(n.fields[u])}`;return i+"}"})(t.mapValue):De(61005,{value:t})}function _f(t){switch(gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hm(t);return e?16+_f(e):16;case 5:return 2*t.stringValue.length;case 6:return pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((i,l)=>i+_f(l)),0)})(t.arrayValue);case 10:case 11:return(function(a){let i=0;return xi(a.fields,((l,u)=>{i+=l.length+_f(u)})),i})(t.mapValue);default:throw De(13486,{value:t})}}function $b(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Iy(t){return!!t&&"integerValue"in t}function Iv(t){return!!t&&"arrayValue"in t}function Hb(t){return!!t&&"nullValue"in t}function Gb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function nO(t){return(t?.mapValue?.fields||{})[$x]?.stringValue===Hx}function Bu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xi(t.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Bu(a))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return{...t}}function rO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tO}class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=wn.emptyPath(),a={},i=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,i),a={},i=[],n=m.popLast()}u?a[m.lastSegment()]=Bu(u):i.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,i)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=n.mapValue.fields[e.get(a)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,a){xi(n,((i,l)=>e[i]=l));for(const i of a)delete e[i]}clone(){return new Kn(Bu(this.value))}}function Gx(t){const e=[];return xi(t.fields,((n,a)=>{const i=new wn([n]);if(Ef(a)){const l=Gx(a.mapValue).fields;if(l.length===0)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)})),new lr(e)}class jn{constructor(e,n,a,i,l,u,m){this.key=e,this.documentType=n,this.version=a,this.readTime=i,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new jn(e,0,Pe.min(),Pe.min(),Pe.min(),Kn.empty(),0)}static newFoundDocument(e,n,a,i){return new jn(e,1,n,Pe.min(),a,i,0)}static newNoDocument(e,n){return new jn(e,2,n,Pe.min(),Pe.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Pe.min(),Pe.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ff{constructor(e,n){this.position=e,this.inclusive=n}}function Kb(t,e,n){let a=0;for(let i=0;i<t.position.length;i++){const l=e[i],u=t.position[i];if(l.field.isKeyField()?a=Ae.comparator(Ae.fromName(u.referenceValue),n.key):a=Zl(u,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function Yb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Aa(t.position[n],e.position[n]))return!1;return!0}class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function aO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Kx{}class rn extends Kx{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new iO(e,n,a):n==="array-contains"?new cO(e,a):n==="in"?new uO(e,a):n==="not-in"?new dO(e,a):n==="array-contains-any"?new hO(e,a):new rn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new oO(e,a):new lO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends Kx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kr(e,n)}matches(e){return Yx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yx(t){return t.op==="and"}function Qx(t){return sO(t)&&Yx(t)}function sO(t){for(const e of t.filters)if(e instanceof Kr)return!1;return!0}function Dy(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(Qx(t))return t.filters.map((e=>Dy(e))).join(",");{const e=t.filters.map((n=>Dy(n))).join(",");return`${t.op}(${e})`}}function Xx(t,e){return t instanceof rn?(function(a,i){return i instanceof rn&&a.op===i.op&&a.field.isEqual(i.field)&&Aa(a.value,i.value)})(t,e):t instanceof Kr?(function(a,i){return i instanceof Kr&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce(((l,u,m)=>l&&Xx(u,i.filters[m])),!0):!1})(t,e):void De(19439)}function Wx(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jl(n.value)}`})(t):t instanceof Kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Wx).join(" ,")+"}"})(t):"Filter"}class iO extends rn{constructor(e,n,a){super(e,n,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class oO extends rn{constructor(e,n){super(e,"in",n),this.keys=Zx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lO extends rn{constructor(e,n){super(e,"not-in",n),this.keys=Zx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Zx(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class cO extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iv(n)&&ed(n.arrayValue,this.value)}}class uO extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ed(this.value.arrayValue,n)}}class dO extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ed(this.value.arrayValue,n)}}class hO extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>ed(this.value.arrayValue,a)))}}class fO{constructor(e,n=null,a=[],i=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=i,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function Qb(t,e=null,n=[],a=[],i=null,l=null,u=null){return new fO(t,e,n,a,i,l,u)}function Dv(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Dy(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Jl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Jl(a))).join(",")),e.Te=n}return e.Te}function jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yb(t.startAt,e.startAt)&&Yb(t.endAt,e.endAt)}function jy(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mc{constructor(e,n=null,a=[],i=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=i,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mO(t,e,n,a,i,l,u,m){return new mc(t,e,n,a,i,l,u,m)}function kv(t){return new mc(t)}function Xb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jx(t){return t.collectionGroup!==null}function qu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new dn(wn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new td(l,a))})),n.has(wn.keyField().canonicalString())||e.Ie.push(new td(wn.keyField(),a))}return e.Ie}function ba(t){const e=Ve(t);return e.Ee||(e.Ee=pO(e,qu(t))),e.Ee}function pO(t,e){if(t.limitType==="F")return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new td(i.field,l)}));const n=t.endAt?new Ff(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new Ff(t.startAt.position,t.startAt.inclusive):null;return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,a)}}function ky(t,e){const n=t.filters.concat([e]);return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fm(t,e){return jv(ba(t),ba(e))&&t.limitType===e.limitType}function eS(t){return`${Dv(ba(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((i=>Wx(i))).join(", ")}]`),dm(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((i=>Jl(i))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((i=>Jl(i))).join(",")),`Target(${a})`})(ba(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&(function(a,i){const l=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Ae.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(t,e)&&(function(a,i){for(const l of qu(a))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(a,i){for(const l of a.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(a,i){return!(a.startAt&&!(function(u,m,p){const g=Kb(u,m,p);return u.inclusive?g<=0:g<0})(a.startAt,qu(a),i)||a.endAt&&!(function(u,m,p){const g=Kb(u,m,p);return u.inclusive?g>=0:g>0})(a.endAt,qu(a),i))})(t,e)}function gO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tS(t){return(e,n)=>{let a=!1;for(const i of qu(t)){const l=yO(i,e,n);if(l!==0)return l;a=a||i.field.isKeyField()}return 0}}function yO(t,e,n){const a=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(l,u,m){const p=u.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Zl(p,g):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return De(19790,{direction:t.dir})}}class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[i,l]of a)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[n]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,((n,a)=>{for(const[i,l]of a)e(i,l)}))}isEmpty(){return Lx(this.inner)}size(){return this.innerSize}}const vO=new kt(Ae.comparator);function ds(){return vO}const nS=new kt(Ae.comparator);function ju(...t){let e=nS;for(const n of t)e=e.insert(n.key,n);return e}function rS(t){let e=nS;return t.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function go(){return Fu()}function aS(){return Fu()}function Fu(){return new ko((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _O=new kt(Ae.comparator),EO=new dn(Ae.comparator);function Ke(...t){let e=EO;for(const n of t)e=e.add(n);return e}const bO=new dn(He);function TO(){return bO}function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function sS(t){return{integerValue:""+t}}function wO(t,e){return Xk(e)?sS(e):Ov(t,e)}class pm{constructor(){this._=void 0}}function xO(t,e,n){return t instanceof nd?(function(i,l){const u={fields:{[Bx]:{stringValue:zx},[Fx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Rv(l)&&(l=hm(l)),l&&(u.fields[qx]=l),{mapValue:u}})(n,e):t instanceof rd?oS(t,e):t instanceof ad?lS(t,e):(function(i,l){const u=iS(i,l),m=Wb(u)+Wb(i.Ae);return Iy(u)&&Iy(i.Ae)?sS(m):Ov(i.serializer,m)})(t,e)}function SO(t,e,n){return t instanceof rd?oS(t,e):t instanceof ad?lS(t,e):n}function iS(t,e){return t instanceof Hf?(function(a){return Iy(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class nd extends pm{}class rd extends pm{constructor(e){super(),this.elements=e}}function oS(t,e){const n=cS(e);for(const a of t.elements)n.some((i=>Aa(i,a)))||n.push(a);return{arrayValue:{values:n}}}class ad extends pm{constructor(e){super(),this.elements=e}}function lS(t,e){let n=cS(e);for(const a of t.elements)n=n.filter((i=>!Aa(i,a)));return{arrayValue:{values:n}}}class Hf extends pm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Wb(t){return Yt(t.integerValue||t.doubleValue)}function cS(t){return Iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class AO{constructor(e,n){this.field=e,this.transform=n}}function CO(t,e){return t.field.isEqual(e.field)&&(function(a,i){return a instanceof rd&&i instanceof rd||a instanceof ad&&i instanceof ad?Wl(a.elements,i.elements,Aa):a instanceof Hf&&i instanceof Hf?Aa(a.Ae,i.Ae):a instanceof nd&&i instanceof nd})(t.transform,e.transform)}class NO{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gm{}function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pv(t.key,Rr.none()):new _d(t.key,t.data,Rr.none());{const n=t.data,a=Kn.empty();let i=new dn(wn.comparator);for(let l of e.fields)if(!i.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?a.delete(l):a.set(l,u),i=i.add(l)}return new Si(t.key,a,new lr(i.toArray()),Rr.none())}}function RO(t,e,n){t instanceof _d?(function(i,l,u){const m=i.value.clone(),p=Jb(i.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof Si?(function(i,l,u){if(!bf(i.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Jb(i.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(dS(i)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(i,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function $u(t,e,n,a){return t instanceof _d?(function(l,u,m,p){if(!bf(l.precondition,u))return m;const g=l.value.clone(),v=eT(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,a):t instanceof Si?(function(l,u,m,p){if(!bf(l.precondition,u))return m;const g=eT(l.fieldTransforms,p,u),v=u.data;return v.setAll(dS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,a):(function(l,u,m){return bf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function IO(t,e){let n=null;for(const a of t.fieldTransforms){const i=e.data.field(a.field),l=iS(a.transform,i||null);l!=null&&(n===null&&(n=Kn.empty()),n.set(a.field,l))}return n||null}function Zb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Wl(a,i,((l,u)=>CO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _d extends gm{constructor(e,n,a,i=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Si extends gm{constructor(e,n,a,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}})),e}function Jb(t,e,n){const a=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const l=t[i],u=l.transform,m=e.data.field(l.field);a.set(l.field,SO(u,m,n[i]))}return a}function eT(t,e,n){const a=new Map;for(const i of t){const l=i.transform,u=n.data.field(i.field);a.set(i.field,xO(l,u,e))}return a}class Pv extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DO extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jO{constructor(e,n,a,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&RO(l,e,a[i])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=$u(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=$u(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=aS();return this.mutations.forEach((i=>{const l=e.get(i.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=n.has(i.key)?null:m;const p=uS(u,m);p!==null&&a.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((n,a)=>Zb(n,a)))&&Wl(this.baseMutations,e.baseMutations,((n,a)=>Zb(n,a)))}}class Mv{constructor(e,n,a,i){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=i}static from(e,n,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let i=(function(){return _O})();const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,a[u].version);return new Mv(e,n,a,i)}}class kO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OO{constructor(e,n){this.count=e,this.unchangedNames=n}}var en,Ze;function PO(t){switch(t){case ce.OK:return De(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function hS(t){if(t===void 0)return us("GRPC error has no .code"),ce.UNKNOWN;switch(t){case en.OK:return ce.OK;case en.CANCELLED:return ce.CANCELLED;case en.UNKNOWN:return ce.UNKNOWN;case en.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case en.INTERNAL:return ce.INTERNAL;case en.UNAVAILABLE:return ce.UNAVAILABLE;case en.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case en.NOT_FOUND:return ce.NOT_FOUND;case en.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case en.ABORTED:return ce.ABORTED;case en.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case en.DATA_LOSS:return ce.DATA_LOSS;default:return De(39323,{code:t})}}(Ze=en||(en={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function MO(){return new TextEncoder}const VO=new ui([4294967295,4294967295],0);function tT(t){const e=MO().encode(t),n=new Cx;return n.update(e),new Uint8Array(n.digest())}function nT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ui([n,a],0),new ui([i,l],0)]}class Vv{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(a<0)throw new ku(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ui.fromNumber(this.ge)}ye(e,n,a){let i=e.add(n.multiply(ui.fromNumber(a)));return i.compare(VO)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tT(e),[a,i]=nT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,i,l);if(!this.we(u))return!1}return!0}static create(e,n,a){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Vv(l,i,n);return a.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=tT(e),[a,i]=nT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,i,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ym{constructor(e,n,a,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const i=new Map;return i.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new ym(Pe.min(),i,new kt(He),ds(),Ke())}}class Ed{constructor(e,n,a,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Ed(a,n,Ke(),Ke(),Ke())}}class Tf{constructor(e,n,a,i){this.be=e,this.removedTargetIds=n,this.key=a,this.De=i}}class fS{constructor(e,n){this.targetId=e,this.Ce=n}}class mS{constructor(e,n,a=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=i}}class rT{constructor(){this.ve=0,this.Fe=aT(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),a=Ke();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:a=a.add(i);break;default:De(38017,{changeType:l})}})),new Ed(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=aT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LO{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Zh(),this.He=Zh(),this.Ye=new kt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,a=e.Ce.count,i=this.ot(n);if(i){const l=i.target;if(jy(l))if(a===0){const u=new Ae(l.path);this.et(n,u,jn.newNoDocument(u,Pe.min()))}else lt(a===1,20013,{expectedCount:a});else{const u=this._t(n);if(u!==a){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:l=0}=n;let u,m;try{u=pi(a).toUint8Array()}catch(p){if(p instanceof Ux)return Xl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vv(u,i,l)}catch(p){return Xl(p instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let i=0;return a.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&jy(m.target)){const p=new Ae(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,jn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let a=Ke();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const i=new ym(e,n,this.Ye,this.je,a);return this.je=ds(),this.Je=Zh(),this.He=Zh(),this.Ye=new kt(He),i}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zh(){return new kt(Ae.comparator)}function aT(){return new kt(Ae.comparator)}const UO={asc:"ASCENDING",desc:"DESCENDING"},zO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BO={and:"AND",or:"OR"};class qO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oy(t,e){return t.useProto3Json||dm(e)?e:{value:e}}function Gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FO(t,e){return Gf(t,e.toTimestamp())}function Ta(t){return lt(!!t,49232),Pe.fromTimestamp((function(n){const a=mi(n);return new Xe(a.seconds,a.nanos)})(t))}function Lv(t,e){return Py(t,e).canonicalString()}function Py(t,e){const n=(function(i){return new wt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function gS(t){const e=wt.fromString(t);return lt(bS(e),10190,{key:e.toString()}),e}function My(t,e){return Lv(t.databaseId,e.path)}function sy(t,e){const n=gS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(vS(n))}function yS(t,e){return Lv(t.databaseId,e)}function $O(t){const e=gS(t);return e.length===4?wt.emptyPath():vS(e)}function Vy(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vS(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sT(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function HO(t,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(lt(v===void 0||typeof v=="string",58123),xn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const v=g.code===void 0?ce.UNKNOWN:hS(g.code);return new ve(v,g.message||"")})(u);n=new mS(a,i,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=sy(t,a.document.name),l=Ta(a.document.updateTime),u=a.document.createTime?Ta(a.document.createTime):Pe.min(),m=new Kn({mapValue:{fields:a.document.fields}}),p=jn.newFoundDocument(i,l,u,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new Tf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=sy(t,a.document),l=a.readTime?Ta(a.readTime):Pe.min(),u=jn.newNoDocument(i,l),m=a.removedTargetIds||[];n=new Tf([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=sy(t,a.document),l=a.removedTargetIds||[];n=new Tf([],l,i,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:l}=a,u=new OO(i,l),m=a.targetId;n=new fS(m,u)}}return n}function GO(t,e){let n;if(e instanceof _d)n={update:sT(t,e.key,e.value)};else if(e instanceof Pv)n={delete:My(t,e.key)};else if(e instanceof Si)n={update:sT(t,e.key,e.data),updateMask:tP(e.fieldMask)};else{if(!(e instanceof DO))return De(16599,{Vt:e.type});n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,u){const m=u.transform;if(m instanceof nd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof rd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ad)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hf)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw De(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:FO(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(t,e.precondition)),n}function KO(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(i,l){let u=i.updateTime?Ta(i.updateTime):Ta(l);return u.isEqual(Pe.min())&&(u=Ta(l)),new NO(u,i.transformResults||[])})(n,e)))):[]}function YO(t,e){return{documents:[yS(t,e.path)]}}function QO(t,e){const n={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=yS(t,i);const l=(function(g){if(g.length!==0)return ES(Kr.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:Ol(w.field),direction:ZO(w.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Oy(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function XO(t){let e=$O(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let i=null;if(a>0){lt(a===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(E){const w=_S(E);return w instanceof Kr&&Qx(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((w=>(function(A){return new td(Pl(A.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let w;return w=typeof E=="object"?E.value:E,dm(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(E){const w=!!E.before,S=E.values||[];return new Ff(S,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const w=!E.before,S=E.values||[];return new Ff(S,w)})(n.endAt)),mO(e,i,u,l,m,"F",p,g)}function WO(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _S(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Pl(n.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=Pl(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Pl(n.unaryFilter.field);return rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Pl(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(Pl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Kr.create(n.compositeFilter.filters.map((a=>_S(a))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function ZO(t){return UO[t]}function JO(t){return zO[t]}function eP(t){return BO[t]}function Ol(t){return{fieldPath:t.canonicalString()}}function Pl(t){return wn.fromServerFormat(t.fieldPath)}function ES(t){return t instanceof rn?(function(n){if(n.op==="=="){if(Gb(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NAN"}};if(Hb(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gb(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NAN"}};if(Hb(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(n.field),op:JO(n.op),value:n.value}}})(t):t instanceof Kr?(function(n){const a=n.getFilters().map((i=>ES(i)));return a.length===1?a[0]:{compositeFilter:{op:eP(n.op),filters:a}}})(t):De(54877,{filter:t})}function tP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ii{constructor(e,n,a,i,l=Pe.min(),u=Pe.min(),m=xn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nP{constructor(e){this.yt=e}}function rP(t){const e=XO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}class aP{constructor(){this.Cn=new sP}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(fi.min())}updateCollectionGroup(e,n,a){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class sP{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n]||new dn(wt.comparator),l=!i.has(a);return this.index[n]=i.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),i=this.index[n];return i&&i.has(a)}getEntries(e){return(this.index[e]||new dn(wt.comparator)).toArray()}}const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(TS,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class ec{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ec(0)}static cr(){return new ec(-1)}}const oT="LruGarbageCollector",iP=1048576;function lT([t,e],[n,a]){const i=He(t,n);return i===0?He(e,a):i}class oP{constructor(e){this.Ir=e,this.buffer=new dn(lT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();lT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lP{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(oT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?_e(oT,"Ignoring IndexedDB error during garbage collection: ",n):await hc(n)}await this.Vr(3e5)}))}}class cP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(um.ce);const a=new oP(n);return this.mr.forEachTarget(e,(i=>a.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>a.Ar(i))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(iT)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,i,l,u,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,u=Date.now(),this.nthSequenceNumber(e,i)))).next((E=>(a=E,m=Date.now(),this.removeTargets(e,a,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),jl()<=$e.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:E}))))}}function uP(t,e){return new cP(t,e)}class dP{constructor(){this.changes=new ko((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?de.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fP{constructor(e,n,a,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(a=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(a!==null&&$u(a.mutation,i,lr.empty(),Xe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ke()){const i=go();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,a).next((l=>{let u=ju();return l.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const a=go();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ke())))}populateOverlays(e,n,a){const i=[];return a.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,a,i){let l=ds();const u=Fu(),m=(function(){return Fu()})();return n.forEach(((p,g)=>{const v=a.get(g.key);i.has(g.key)&&(v===void 0||v.mutation instanceof Si)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),$u(v.mutation,g,v.mutation.getFieldMask(),Xe.now())):u.set(g.key,lr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>m.set(g,new hP(v,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Fu();let i=new kt(((u,m)=>u-m)),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||lr.empty();v=m.applyToLocalView(g,v),a.set(p,v);const E=(i.get(m.batchId)||Ke()).add(p);i=i.insert(m.batchId,E)}))})).next((()=>{const u=[],m=i.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=aS();v.forEach((w=>{if(!l.has(w)){const S=uS(n.get(w),a.get(w));S!==null&&E.set(w,S),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return de.waitFor(u)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,i){return(function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,i):this.getDocumentsMatchingCollectionQuery(e,n,a,i)}getNextDocuments(e,n,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,i).next((l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,i-l.size):de.resolve(go());let m=Wu,p=l;return u.next((g=>de.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ke()))).next((v=>({batchId:m,changes:rS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((a=>{let i=ju();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,i){const l=n.collectionGroup;let u=ju();return this.indexManager.getCollectionParents(e,l).next((m=>de.forEach(m,(p=>{const g=(function(E,w){return new mc(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,i).next((v=>{v.forEach(((E,w)=>{u=u.insert(E,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,a,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,i)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,jn.newInvalidDocument(v)))}));let m=ju();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&$u(v.mutation,g,lr.empty(),Xe.now()),mm(n,g)&&(m=m.insert(p,g))})),m}))}}class mP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ta(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:rP(i.bundledQuery),readTime:Ta(i.readTime)}})(n)),de.resolve()}}class pP{constructor(){this.overlays=new kt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const a=go();return de.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&a.set(i,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((i,l)=>{this.St(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,a){const i=this.qr.get(a);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(a)),de.resolve()}getOverlaysForCollection(e,n,a){const i=go(),l=n.length+1,u=new Ae(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&i.set(p.getKey(),p)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,a,i){let l=new kt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=go(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=go(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=i)););return de.resolve(m)}St(e,n,a){const i=this.overlays.get(a.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(a.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new kO(n,a));let l=this.qr.get(n);l===void 0&&(l=Ke(),this.qr.set(n,l)),this.qr.set(n,l.add(a.key))}}class gP{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class Uv{constructor(){this.Qr=new dn(gn.$r),this.Ur=new dn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new gn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Ae(new wt([])),a=new gn(n,e),i=new gn(n,e+1),l=[];return this.Ur.forEachInRange([a,i],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new wt([])),a=new gn(n,e),i=new gn(n,e+1);let l=Ke();return this.Ur.forEachInRange([a,i],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new gn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}class yP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(gn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,i){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jO(l,n,a,i);this.mutationQueue.push(u);for(const m of i)this.Zr=this.Zr.add(new gn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,i=this.ei(a),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Nv:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new gn(n,0),i=new gn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,i],(u=>{const m=this.Xr(u.Yr);l.push(m)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new dn(He);return n.forEach((i=>{const l=new gn(i,0),u=new gn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{a=a.add(m.Yr)}))})),de.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,i=a.length+1;let l=a;Ae.isDocumentKey(l)||(l=l.child(""));const u=new gn(new Ae(l),0);let m=new dn(He);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===i&&(m=m.add(p.Yr)),!0)}),u),de.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const i=this.Xr(a);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return de.forEach(n.mutations,(i=>{const l=new gn(i.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new gn(n,0),i=this.Zr.firstAfterOrEqual(a);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vP{constructor(e){this.ri=e,this.docs=(function(){return new kt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,i=this.docs.get(a),l=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return de.resolve(a?a.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let a=ds();return n.forEach((i=>{const l=this.docs.get(i);a=a.insert(i,l?l.document.mutableCopy():jn.newInvalidDocument(i))})),de.resolve(a)}getDocumentsMatchingQuery(e,n,a,i){let l=ds();const u=n.path,m=new Ae(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Gk(Hk(v),a)<=0||(i.has(v.key)||mm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,a,i){De(9500)}ii(e,n){return de.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new _P(this)}getSize(e){return de.resolve(this.size)}}class _P extends dP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(a)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class EP{constructor(e){this.persistence=e,this.si=new ko((n=>Dv(n)),jv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Uv,this.targetCount=0,this.ai=ec.ur()}forEachTarget(e,n){return this.si.forEach(((a,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ec(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,a){let i=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)})),de.waitFor(l).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return de.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),de.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((u=>{l.push(i.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return de.resolve(a)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}class wS{constructor(e,n){this.ui={},this.overlays={},this.ci=new um(0),this.li=!1,this.li=!0,this.hi=new gP,this.referenceDelegate=e(this),this.Pi=new EP(this),this.indexManager=new aP,this.remoteDocumentCache=(function(i){return new vP(i)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new nP(n),this.Ii=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new yP(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){_e("MemoryPersistence","Starting transaction:",e);const i=new bP(this.ci.next());return this.referenceDelegate.Ei(),a(i).next((l=>this.referenceDelegate.di(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ai(e,n){return de.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class bP extends Yk{constructor(e){super(),this.currentSequenceNumber=e}}class zv{constructor(e){this.persistence=e,this.Ri=new Uv,this.Vi=null}static mi(e){return new zv(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),de.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.fi.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(a=>{const i=Ae.fromPath(a);return this.gi(e,i).next((l=>{l||n.removeEntry(i,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kf{constructor(e,n){this.persistence=e,this.pi=new ko((a=>Wk(a.path)),((a,i)=>a.isEqual(i))),this.garbageCollector=uP(this,n)}static mi(e,n){return new Kf(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((i=>a+i))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((a,i)=>this.br(e,a,i).next((l=>l?de.resolve():n(i)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((m=>{m||(a++,l.removeEntry(u,Pe.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),de.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_f(e.data.value)),n}br(e,n,a){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return de.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bv{constructor(e,n,a,i){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=i}static As(e,n){let a=Ke(),i=Ke();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Bv(e,n.fromCache,a,i)}}class TP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QR()?8:Qk(kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,i){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,i,a).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new TP;return this.Ss(e,n,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>l.result))}bs(e,n,a,i){return a.documentReadCount<this.fs?(jl()<=$e.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(jl()<=$e.DEBUG&&_e("QueryEngine","Query:",kl(n),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.gs*i?(jl()<=$e.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ba(n))):de.resolve())}ys(e,n){if(Xb(n))return de.resolve(null);let a=ba(n);return this.indexManager.getIndexType(e,a).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=$f(n,null,"F"),a=ba(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const u=Ke(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,u,p.readTime)?this.ys(e,$f(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,i){return Xb(n)||i.isEqual(Pe.min())?de.resolve(null):this.ps.getDocuments(e,a).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,a,i)?de.resolve(null):(jl()<=$e.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kl(n)),this.vs(e,u,n,$k(i,Wu)).next((m=>m)))}))}Ds(e,n){let a=new dn(tS(e));return n.forEach(((i,l)=>{mm(e,l)&&(a=a.add(l))})),a}Cs(e,n,a,i){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ss(e,n,a){return jl()<=$e.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(e,n,fi.min(),a)}vs(e,n,a,i){return this.ps.getDocumentsMatchingQuery(e,a,i).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const qv="LocalStore",xP=3e8;class SP{constructor(e,n,a,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new kt(He),this.xs=new ko((l=>Dv(l)),jv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AP(t,e,n,a){return new SP(t,e,n,a)}async function xS(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let i;return n.mutationQueue.getAllMutationBatches(a).next((l=>(i=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const u=[],m=[];let p=Ke();for(const g of i){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function CP(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const i=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,w=E.keys();let S=de.resolve();return w.forEach((A=>{S=S.next((()=>v.getEntry(p,A))).next((C=>{const j=g.docVersions.get(A);lt(j!==null,48541),C.version.compareTo(j)<0&&(E.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),v.addEntry(C)))}))})),S.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,i)))}))}function SS(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function NP(t,e){const n=Ve(t),a=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const m=[];e.targetChanges.forEach(((v,E)=>{const w=i.get(E);if(!w)return;m.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(xn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,a)),i=i.insert(E,S),(function(C,j,z){return C.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=xP?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,v)&&m.push(n.Pi.updateTargetData(l,S))}));let p=ds(),g=Ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(RP(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!a.isEqual(Pe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a)));m.push(v)}return de.waitFor(m).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=i,l)))}function RP(t,e,n){let a=Ke(),i=Ke();return n.forEach((l=>a=a.add(l))),e.getEntries(t,a).next((l=>{let u=ds();return n.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(m)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):_e(qv,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:i}}))}function IP(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Nv),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function DP(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let i;return n.Pi.getTargetData(a,e).next((l=>l?(i=l,de.resolve(i)):n.Pi.allocateTargetId(a).next((u=>(i=new ii(e,u,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,i).next((()=>i)))))))})).then((a=>{const i=n.Ms.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Ly(t,e,n){const a=Ve(t),i=a.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(u=>a.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!fc(u))throw u;_e(qv,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Ms=a.Ms.remove(e),a.xs.delete(i.target)}function cT(t,e,n){const a=Ve(t);let i=Pe.min(),l=Ke();return a.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const E=Ve(p),w=E.xs.get(v);return w!==void 0?de.resolve(E.Ms.get(w)):E.Pi.getTargetData(g,v)})(a,u,ba(e)).next((m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{l=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(u,e,n?i:Pe.min(),n?l:Ke()))).next((m=>(jP(a,gO(e),m),{documents:m,Qs:l})))))}function jP(t,e,n){let a=t.Os.get(e)||Pe.min();n.forEach(((i,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),t.Os.set(e,a)}class uT{constructor(){this.activeTargetIds=TO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kP{constructor(){this.Mo=new uT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uT,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OP{Oo(e){}shutdown(){}}const dT="ConnectivityMonitor";class hT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(dT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jh=null;function Uy(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}const iy="RestConnection",PP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${i}`,this.Wo=this.databaseId.database===Bf?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Go(e,n,a,i,l){const u=Uy(),m=this.zo(e,n.toUriEncodedString());_e(iy,`Sending RPC '${e}' ${u}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,l);const{host:g}=new URL(m),v=Ti(g);return this.Jo(e,m,p,a,v).then((E=>(_e(iy,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Xl(iy,`RPC '${e}' ${u} failed with error: `,E,"url: ",m,"request:",a),E}))}Ho(e,n,a,i,l,u){return this.Go(e,n,a,i,l)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,l)=>e[l]=i)),a&&a.headers.forEach(((i,l)=>e[l]=i))}zo(e,n){const a=PP[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class VP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Rn="WebChannelConnection";class LP extends MP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,i,l){const u=Uy();return new Promise(((m,p)=>{const g=new Nx;g.setWithCredentials(!0),g.listenOnce(Rx.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vf.NO_ERROR:const E=g.getResponseJson();_e(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),m(E);break;case vf.TIMEOUT:_e(Rn,`RPC '${e}' ${u} timed out`),p(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const w=g.getStatus();if(_e(Rn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const C=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(F)>=0?F:ce.UNKNOWN})(A.status);p(new ve(C,A.message))}else p(new ve(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(Rn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(i);_e(Rn,`RPC '${e}' ${u} sending request:`,i),g.send(n,"POST",v,a,15)}))}T_(e,n,a){const i=Uy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jx(),m=Dx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=l.join("");_e(Rn,`Creating RPC '${e}' stream ${i}: ${v}`,p);const E=u.createWebChannel(v,p);this.I_(E);let w=!1,S=!1;const A=new VP({Yo:j=>{S?_e(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(w||(_e(Rn,`Opening RPC '${e}' stream ${i} transport.`),E.open(),w=!0),_e(Rn,`RPC '${e}' stream ${i} sending:`,j),E.send(j))},Zo:()=>E.close()}),C=(j,z,F)=>{j.listen(z,(H=>{try{F(H)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return C(E,Du.EventType.OPEN,(()=>{S||(_e(Rn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),C(E,Du.EventType.CLOSE,(()=>{S||(S=!0,_e(Rn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(E))})),C(E,Du.EventType.ERROR,(j=>{S||(S=!0,Xl(Rn,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),A.a_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))})),C(E,Du.EventType.MESSAGE,(j=>{if(!S){const z=j.data[0];lt(!!z,16349);const F=z,H=F?.error||F[0]?.error;if(H){_e(Rn,`RPC '${e}' stream ${i} received error:`,H);const ee=H.status;let q=(function(N){const M=en[N];if(M!==void 0)return hS(M)})(ee),X=H.message;q===void 0&&(q=ce.INTERNAL,X="Unknown error status: "+ee+" with message "+H.message),S=!0,A.a_(new ve(q,X)),E.close()}else _e(Rn,`RPC '${e}' stream ${i} received:`,z),A.u_(z)}})),C(m,Ix.STAT_EVENT,(j=>{j.stat===Cy.PROXY?_e(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===Cy.NOPROXY&&_e(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function oy(){return typeof document<"u"?document:null}function vm(t){return new qO(t,!0)}class AS{constructor(e,n,a=1e3,i=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=i,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-a);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fT="PersistentStream";class CS{constructor(e,n,a,i,l,u,m,p){this.Mi=e,this.S_=a,this.b_=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,i])=>{this.D_===n&&this.G_(a,i)}),(a=>{e((()=>{const i=new ve(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(i)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{a((()=>this.z_(i)))})),this.stream.onMessage((i=>{a((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(fT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(fT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UP extends CS{constructor(e,n,a,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,i,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HO(this.serializer,e),a=(function(l){if(!("targetChange"in l))return Pe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Ta(u.readTime):Pe.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Vy(this.serializer),n.addTarget=(function(l,u){let m;const p=u.target;if(m=jy(p)?{documents:YO(l,p)}:{query:QO(l,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=pS(l,u.resumeToken);const g=Oy(l,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(Pe.min())>0){m.readTime=Gf(l,u.snapshotVersion.toTimestamp());const g=Oy(l,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=WO(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Vy(this.serializer),n.removeTarget=e,this.q_(n)}}class zP extends CS{constructor(e,n,a,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,i,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KO(e.writeResults,e.commitTime),a=Ta(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Vy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>GO(this.serializer,a)))};this.q_(n)}}class BP{}class qP extends BP{constructor(e,n,a,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Py(n,a),i,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ce.UNKNOWN,l.toString())}))}Ho(e,n,a,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Py(n,a),i,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ao="RemoteStore";class $P{constructor(e,n,a,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{a.enqueueAndForget((async()=>{Oo(this)&&(_e(Ao,"Restarting streams for network reachability change."),await(async function(p){const g=Ve(p);g.Ea.add(4),await bd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await _m(g)})(this))}))})),this.Ra=new FP(a,i)}}async function _m(t){if(Oo(t))for(const e of t.da)await e(!0)}async function bd(t){for(const e of t.da)await e(!1)}function NS(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gv(n)?Hv(n):pc(n).O_()&&$v(n,e))}function Fv(t,e){const n=Ve(t),a=pc(n);n.Ia.delete(e),a.O_()&&RS(n,e),n.Ia.size===0&&(a.O_()?a.L_():Oo(n)&&n.Ra.set("Unknown"))}function $v(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).Y_(e)}function RS(t,e){t.Va.Ue(e),pc(t).Z_(e)}function Hv(t){t.Va=new LO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.Ra.ua()}function Gv(t){return Oo(t)&&!pc(t).x_()&&t.Ia.size>0}function Oo(t){return Ve(t).Ea.size===0}function IS(t){t.Va=void 0}async function HP(t){t.Ra.set("Online")}async function GP(t){t.Ia.forEach(((e,n)=>{$v(t,e)}))}async function KP(t,e){IS(t),Gv(t)?(t.Ra.ha(e),Hv(t)):t.Ra.set("Unknown")}async function YP(t,e,n){if(t.Ra.set("Online"),e instanceof mS&&e.state===2&&e.cause)try{await(async function(i,l){const u=l.cause;for(const m of l.targetIds)i.Ia.has(m)&&(await i.remoteSyncer.rejectListen(m,u),i.Ia.delete(m),i.Va.removeTarget(m))})(t,e)}catch(a){_e(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yf(t,a)}else if(e instanceof Tf?t.Va.Ze(e):e instanceof fS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const a=await SS(t.localStore);n.compareTo(a)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),RS(l,p);const E=new ii(v.target,p,g,v.sequenceNumber);$v(l,E)})),l.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(a){_e(Ao,"Failed to raise snapshot:",a),await Yf(t,a)}}async function Yf(t,e,n){if(!fc(e))throw e;t.Ea.add(1),await bd(t),t.Ra.set("Offline"),n||(n=()=>SS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _m(t)}))}function DS(t,e){return e().catch((n=>Yf(t,n,e)))}async function Em(t){const e=Ve(t),n=yi(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nv;for(;QP(e);)try{const i=await IP(e.localStore,a);if(i===null){e.Ta.length===0&&n.L_();break}a=i.batchId,XP(e,i)}catch(i){await Yf(e,i)}jS(e)&&kS(e)}function QP(t){return Oo(t)&&t.Ta.length<10}function XP(t,e){t.Ta.push(e);const n=yi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jS(t){return Oo(t)&&!yi(t).x_()&&t.Ta.length>0}function kS(t){yi(t).start()}async function WP(t){yi(t).ra()}async function ZP(t){const e=yi(t);for(const n of t.Ta)e.ea(n.mutations)}async function JP(t,e,n){const a=t.Ta.shift(),i=Mv.from(a,e,n);await DS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Em(t)}async function e4(t,e){e&&yi(t).X_&&await(async function(a,i){if((function(u){return PO(u)&&u!==ce.ABORTED})(i.code)){const l=a.Ta.shift();yi(a).B_(),await DS(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Em(a)}})(t,e),jS(t)&&kS(t)}async function mT(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),_e(Ao,"RemoteStore received new credentials");const a=Oo(n);n.Ea.add(3),await bd(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _m(n)}async function t4(t,e){const n=Ve(t);e?(n.Ea.delete(2),await _m(n)):e||(n.Ea.add(2),await bd(n),n.Ra.set("Unknown"))}function pc(t){return t.ma||(t.ma=(function(n,a,i){const l=Ve(n);return l.sa(),new UP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Xo:HP.bind(null,t),t_:GP.bind(null,t),r_:KP.bind(null,t),H_:YP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Gv(t)?Hv(t):t.Ra.set("Unknown")):(await t.ma.stop(),IS(t))}))),t.ma}function yi(t){return t.fa||(t.fa=(function(n,a,i){const l=Ve(n);return l.sa(),new zP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WP.bind(null,t),r_:e4.bind(null,t),ta:ZP.bind(null,t),na:JP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Em(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Kv{constructor(e,n,a,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=i,this.removalCallback=l,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,i,l){const u=Date.now()+a,m=new Kv(e,n,u,i,l);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(t,e){if(us("AsyncQueue",`${e}: ${t}`),fc(t))return new ve(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ae.comparator(n.key,a.key):(n,a)=>Ae.comparator(n.key,a.key),this.keyedMap=ju(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=a.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Fl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class pT{constructor(){this.ga=new kt(Ae.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class tc{constructor(e,n,a,i,l,u,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,i,l){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new tc(e,n,Fl.emptySet(n),u,a,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==a[i].type||!n[i].doc.isEqual(a[i].doc))return!1;return!0}}class n4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class r4{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const i=Ve(n),l=i.queries;i.queries=gT(),l.forEach(((u,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function gT(){return new ko((t=>eS(t)),fm)}async function OS(t,e){const n=Ve(t);let a=3;const i=e.query;let l=n.queries.get(i);l?!l.ba()&&e.Da()&&(a=2):(l=new n4,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await n.onListen(i,!0);break;case 1:l.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const m=Yv(u,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(m)}n.queries.set(i,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Qv(n)}async function PS(t,e){const n=Ve(t),a=e.query;let i=3;const l=n.queries.get(a);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?i=e.Da()?0:1:!l.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function a4(t,e){const n=Ve(t);let a=!1;for(const i of e){const l=i.query,u=n.queries.get(l);if(u){for(const m of u.Sa)m.Fa(i)&&(a=!0);u.wa=i}}a&&Qv(n)}function s4(t,e,n){const a=Ve(t),i=a.queries.get(e);if(i)for(const l of i.Sa)l.onError(n);a.queries.delete(e)}function Qv(t){t.Ca.forEach((e=>{e.next()}))}var zy,yT;(yT=zy||(zy={})).Ma="default",yT.Cache="cache";class MS{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new tc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zy.Cache}}class VS{constructor(e){this.key=e}}class LS{constructor(e){this.key=e}}class i4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=tS(e),this.tu=new Fl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new pT,i=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=i,m=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,E)=>{const w=i.get(v),S=mm(this.query,E)?E:null,A=!!w&&this.mutatedKeys.has(w.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let j=!1;w&&S?w.data.isEqual(S.data)?A!==C&&(a.track({type:3,doc:S}),j=!0):this.su(w,S)||(a.track({type:2,doc:S}),j=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(m=!0)):!w&&S?(a.track({type:0,doc:S}),j=!0):w&&!S&&(a.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(S?(u=u.add(S),l=C?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{tu:u,iu:a,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(S,A){const C=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:j})}};return C(S)-C(A)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(a),i=i??!1;const m=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new tc(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new LS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new VS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xv="SyncEngine";class o4{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class l4{constructor(e){this.key=e,this.hu=!1}}class c4{constructor(e,n,a,i,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ko((m=>eS(m)),fm),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Ae.comparator),this.Au=new Map,this.Ru=new Uv,this.Vu={},this.mu=new Map,this.fu=ec.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u4(t,e,n=!0){const a=$S(t);let i;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await US(a,e,n,!0),i}async function d4(t,e){const n=$S(t);await US(n,e,!0,!1)}async function US(t,e,n,a){const i=await DP(t.localStore,ba(e)),l=i.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let m;return a&&(m=await h4(t,e,l,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&NS(t.remoteStore,i),m}async function h4(t,e,n,a,i){t.pu=(E,w,S)=>(async function(C,j,z,F){let H=j.view.ru(z);H.Cs&&(H=await cT(C.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,H))));const ee=F&&F.targetChanges.get(j.targetId),q=F&&F.targetMismatches.get(j.targetId)!=null,X=j.view.applyChanges(H,C.isPrimaryClient,ee,q);return _T(C,j.targetId,X.au),X.snapshot})(t,E,w,S);const l=await cT(t.localStore,e,!0),u=new i4(e,l.Qs),m=u.ru(l.documents),p=Ed.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",i),g=u.applyChanges(m,t.isPrimaryClient,p);_T(t,n,g.au);const v=new o4(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function f4(t,e,n){const a=Ve(t),i=a.Tu.get(e),l=a.Iu.get(i.targetId);if(l.length>1)return a.Iu.set(i.targetId,l.filter((u=>!fm(u,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await Ly(a.localStore,i.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(i.targetId),n&&Fv(a.remoteStore,i.targetId),By(a,i.targetId)})).catch(hc)):(By(a,i.targetId),await Ly(a.localStore,i.targetId,!0))}async function m4(t,e){const n=Ve(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Fv(n.remoteStore,a.targetId))}async function p4(t,e,n){const a=T4(t);try{const i=await(function(u,m){const p=Ve(u),g=Xe.now(),v=m.reduce(((S,A)=>S.add(A.key)),Ke());let E,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=ds(),C=Ke();return p.Ns.getEntries(S,v).next((j=>{A=j,A.forEach(((z,F)=>{F.isValidDocument()||(C=C.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,A))).next((j=>{E=j;const z=[];for(const F of m){const H=IO(F,E.get(F.key).overlayedDocument);H!=null&&z.push(new Si(F.key,H,Gx(H.value.mapValue),Rr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,z,m)})).next((j=>{w=j;const z=j.applyToLocalDocumentSet(E,C);return p.documentOverlayCache.saveOverlays(S,j.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:rS(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),(function(u,m,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new kt(He)),g=g.insert(m,p),u.Vu[u.currentUser.toKey()]=g})(a,i.batchId,n),await Td(a,i.changes),await Em(a.remoteStore)}catch(i){const l=Yv(i,"Failed to persist write");n.reject(l)}}async function zS(t,e){const n=Ve(t);try{const a=await NP(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const u=n.Au.get(l);u&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?lt(u.hu,14607):i.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await Td(n,a,e)}catch(a){await hc(a)}}function vT(t,e,n){const a=Ve(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const i=[];a.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&i.push(m.snapshot)})),(function(u,m){const p=Ve(u);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const w of E.Sa)w.va(m)&&(g=!0)})),g&&Qv(p)})(a.eventManager,e),i.length&&a.Pu.H_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function g4(t,e,n){const a=Ve(t);a.sharedClientState.updateQueryState(e,"rejected",n);const i=a.Au.get(e),l=i&&i.key;if(l){let u=new kt(Ae.comparator);u=u.insert(l,jn.newNoDocument(l,Pe.min()));const m=Ke().add(l),p=new ym(Pe.min(),new Map,new kt(He),u,m);await zS(a,p),a.du=a.du.remove(l),a.Au.delete(e),Wv(a)}else await Ly(a.localStore,e,!1).then((()=>By(a,e,n))).catch(hc)}async function y4(t,e){const n=Ve(t),a=e.batch.batchId;try{const i=await CP(n.localStore,e);qS(n,a,null),BS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Td(n,i)}catch(i){await hc(i)}}async function v4(t,e,n){const a=Ve(t);try{const i=await(function(u,m){const p=Ve(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(lt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(a.localStore,e);qS(a,e,n),BS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Td(a,i)}catch(i){await hc(i)}}function BS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qS(t,e,n){const a=Ve(t);let i=a.Vu[a.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),a.Vu[a.currentUser.toKey()]=i}}function By(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.Iu.get(e))t.Tu.delete(a),n&&t.Pu.yu(a,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((a=>{t.Ru.containsKey(a)||FS(t,a)}))}function FS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Wv(t))}function _T(t,e,n){for(const a of n)a instanceof VS?(t.Ru.addReference(a.key,e),_4(t,a)):a instanceof LS?(_e(Xv,"Document no longer in limbo: "+a.key),t.Ru.removeReference(a.key,e),t.Ru.containsKey(a.key)||FS(t,a.key)):De(19791,{wu:a})}function _4(t,e){const n=e.key,a=n.path.canonicalString();t.du.get(n)||t.Eu.has(a)||(_e(Xv,"New document in limbo: "+n),t.Eu.add(a),Wv(t))}function Wv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(wt.fromString(e)),a=t.fu.next();t.Au.set(a,new l4(n)),t.du=t.du.insert(n,a),NS(t.remoteStore,new ii(ba(kv(n.path)),a,"TargetPurposeLimboResolution",um.ce))}}async function Td(t,e,n){const a=Ve(t),i=[],l=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{u.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){i.push(g);const v=Bv.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),a.Pu.H_(i),await(async function(p,g){const v=Ve(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>de.forEach(g,(w=>de.forEach(w.Es,(S=>v.persistence.referenceDelegate.addReference(E,w.targetId,S))).next((()=>de.forEach(w.ds,(S=>v.persistence.referenceDelegate.removeReference(E,w.targetId,S)))))))))}catch(E){if(!fc(E))throw E;_e(qv,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const S=v.Ms.get(w),A=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(A);v.Ms=v.Ms.insert(w,C)}}})(a.localStore,l))}async function E4(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){_e(Xv,"User change. New user:",e.toKey());const a=await xS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new ve(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Td(n,a.Ls)}}function b4(t,e){const n=Ve(t),a=n.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let i=Ke();const l=n.Iu.get(e);if(!l)return i;for(const u of l){const m=n.Tu.get(u);i=i.unionWith(m.view.nu)}return i}}function $S(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Pu.H_=a4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function T4(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AP(this.persistence,new wP,e.initialUser,this.serializer)}Cu(e){return new wS(zv.mi,this.serializer)}Du(e){return new kP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class w4 extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Kf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lP(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new wS((a=>Kf.mi(a,n)),this.serializer)}}class qy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>vT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new r4})()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),a=(function(l){return new LP(l)})(e.databaseInfo);return(function(l,u,m,p){return new qP(l,u,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,i,l,u,m){return new $P(a,i,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>vT(this.syncEngine,n,0)),(function(){return hT.v()?new hT:new OP})())}createSyncEngine(e,n){return(function(i,l,u,m,p,g,v){const E=new c4(i,l,u,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ve(n);_e(Ao,"RemoteStore shutting down."),a.Ea.add(5),await bd(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qy.provider={build:()=>new qy};class HS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vi="FirestoreClient";class x4{constructor(e,n,a,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async u=>{_e(vi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(a,(u=>(_e(vi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Yv(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function ly(t,e){t.asyncQueue.verifyOperationInProgress(),_e(vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener((async i=>{a.isEqual(i)||(await xS(e.localStore,i),a=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S4(t);_e(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((a=>mT(e.remoteStore,a))),t.setAppCheckTokenChangeListener(((a,i)=>mT(e.remoteStore,i))),t._onlineComponents=e}async function S4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(vi,"Using user provided OfflineComponentProvider");try{await ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Xl("Error using user provided cache. Falling back to memory cache: "+n),await ly(t,new Qf)}}else _e(vi,"Using default OfflineComponentProvider"),await ly(t,new w4(void 0));return t._offlineComponents}async function GS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(vi,"Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(_e(vi,"Using default OnlineComponentProvider"),await ET(t,new qy))),t._onlineComponents}function A4(t){return GS(t).then((e=>e.syncEngine))}async function KS(t){const e=await GS(t),n=e.eventManager;return n.onListen=u4.bind(null,e.syncEngine),n.onUnlisten=f4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),n}function C4(t,e,n={}){const a=new ss;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new HS({next:w=>{v.Nu(),u.enqueueAndForget((()=>PS(l,E)));const S=w.docs.has(m);!S&&w.fromCache?g.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?g.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new MS(kv(m.path),v,{includeMetadataChanges:!0,qa:!0});return OS(l,E)})(await KS(t),t.asyncQueue,e,n,a))),a.promise}function N4(t,e,n={}){const a=new ss;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,g){const v=new HS({next:w=>{v.Nu(),u.enqueueAndForget((()=>PS(l,E))),w.fromCache&&p.source==="server"?g.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new MS(m,v,{includeMetadataChanges:!0,qa:!0});return OS(l,E)})(await KS(t),t.asyncQueue,e,n,a))),a.promise}function YS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const bT=new Map;const QS="firestore.googleapis.com",TT=!0;class wT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iP)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,i){return a.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,n,a,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kk;switch(a.type){case"firstParty":return new Vk(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=bT.get(n);a&&(_e("ComponentProvider","Removing Datastore"),bT.delete(n),a.terminate())})(this),Promise.resolve()}}function R4(t,e,n,a={}){t=Gr(t,bm);const i=Ti(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;i&&(fv(`https://${m}`),mv("Firestore",!0)),l.host!==QS&&l.host!==m&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:i,emulatorOptions:a};if(!bo(p,u)&&(t._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=Dn.MOCK_USER;else{g=Bw(a.mockUserToken,t._app?.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Dn(E)}t._authCredentials=new Ok(new Ox(g,v))}}class Ai{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class Qt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(vd(n,Qt._jsonSchema))return new Qt(e,a||null,new Ae(wt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:an("string",Qt._jsonSchemaVersion),referencePath:an("string")};class di extends Ai{constructor(e,n,a){super(e,n,kv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ae(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function rt(t,e,...n){if(t=Ut(t),Px("collection","path",e),t instanceof bm){const a=wt.fromString(e,...n);return Mb(a),new di(t,null,a)}{if(!(t instanceof Qt||t instanceof di))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(wt.fromString(e,...n));return Mb(a),new di(t.firestore,null,a)}}function Ye(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=Cv.newId()),Px("doc","path",e),t instanceof bm){const a=wt.fromString(e,...n);return Pb(a),new Qt(t,null,new Ae(a))}{if(!(t instanceof Qt||t instanceof di))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(wt.fromString(e,...n));return Pb(a),new Qt(t.firestore,t instanceof di?t.converter:null,new Ae(a))}}const xT="AsyncQueue";class ST{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const a=oy();a&&_e(xT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fc(e))throw e;_e(xT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",AT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Kv.createAndSchedule(this,e,n,a,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&De(47125,{Pc:AT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Po extends bm{constructor(e,n,a,i){super(e,n,a,i),this.type="firestore",this._queue=new ST,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ST(e),this._firestoreClient=void 0,await e}}}function I4(t,e){const n=typeof t=="object"?t:yv(),a=typeof t=="string"?t:Bf,i=sm(n,"firestore").getImmediate({identifier:a});if(!i._initialized){const l=Lw("firestore");l&&R4(i,...l)}return i}function Zv(t){if(t._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D4(t),t._firestoreClient}function D4(t){const e=t._freezeSettings(),n=(function(i,l,u,m){return new eO(i,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,YS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new x4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const l=i?._online.build();return{_offline:i?._offline.build(l),_online:l}})(t._componentsProvider))}class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(xn.fromBase64String(e))}catch(n){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vd(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:an("string",Nr._jsonSchemaVersion),bytes:an("string")};class Tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wm{constructor(e){this._methodName=e}}class wa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wa._jsonSchemaVersion}}static fromJSON(e){if(vd(e,wa._jsonSchema))return new wa(e.latitude,e.longitude)}}wa._jsonSchemaVersion="firestore/geoPoint/1.0",wa._jsonSchema={type:an("string",wa._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class xa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,i){if(a.length!==i.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vd(e,xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xa(e.vectorValues);throw new ve(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xa._jsonSchemaVersion="firestore/vectorValue/1.0",xa._jsonSchema={type:an("string",xa._jsonSchemaVersion),vectorValues:an("object")};const j4=/^__.*__$/;class k4{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new _d(e,this.data,n,this.fieldTransforms)}}class XS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class Jv{constructor(e,n,a,i,l,u){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=i,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WS(this.Ac)&&j4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O4{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||vm(e)}Cc(e,n,a,i=!1){return new Jv({Ac:e,methodName:n,Dc:a,path:wn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),n=vm(t._databaseId);return new O4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZS(t,e,n,a,i,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,i);t0("Data must be an object, but it was:",u,a);const m=JS(a,u);let p,g;if(l.merge)p=new lr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const w=Fy(e,E,n);if(!u.contains(w))throw new ve(ce.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tA(v,w)||v.push(w)}p=new lr(v),g=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=u.fieldTransforms;return new k4(new Kn(m),p,g)}class Sm extends wm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}class e0 extends wm{_toFieldTransform(e){return new AO(e.path,new nd)}isEqual(e){return e instanceof e0}}function P4(t,e,n,a){const i=t.Cc(1,e,n);t0("Data must be an object, but it was:",i,a);const l=[],u=Kn.empty();xi(a,((p,g)=>{const v=n0(e,p,n);g=Ut(g);const E=i.yc(v);if(g instanceof Sm)l.push(v);else{const w=wd(g,E);w!=null&&(l.push(v),u.set(v,w))}}));const m=new lr(l);return new XS(u,m,i.fieldTransforms)}function M4(t,e,n,a,i,l){const u=t.Cc(1,e,n),m=[Fy(e,a,n)],p=[i];if(l.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)m.push(Fy(e,l[w])),p.push(l[w+1]);const g=[],v=Kn.empty();for(let w=m.length-1;w>=0;--w)if(!tA(g,m[w])){const S=m[w];let A=p[w];A=Ut(A);const C=u.yc(S);if(A instanceof Sm)g.push(S);else{const j=wd(A,C);j!=null&&(g.push(S),v.set(S,j))}}const E=new lr(g);return new XS(v,E,u.fieldTransforms)}function V4(t,e,n,a=!1){return wd(n,t.Cc(a?4:3,e))}function wd(t,e){if(eA(t=Ut(t)))return t0("Unsupported field value:",e,t),JS(t,e);if(t instanceof wm)return(function(a,i){if(!WS(i.Ac))throw i.Sc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,i){const l=[];let u=0;for(const m of a){let p=wd(m,i.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(a,i){if((a=Ut(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wO(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Xe.fromDate(a);return{timestampValue:Gf(i.serializer,l)}}if(a instanceof Xe){const l=new Xe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Gf(i.serializer,l)}}if(a instanceof wa)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Nr)return{bytesValue:pS(i.serializer,a._byteString)};if(a instanceof Qt){const l=i.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Lv(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof xa)return(function(u,m){return{mapValue:{fields:{[$x]:{stringValue:Hx},[qf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ov(m.serializer,g)}))}}}}}})(a,i);throw i.Sc(`Unsupported field value: ${cm(a)}`)})(t,e)}function JS(t,e){const n={};return Lx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(t,((a,i)=>{const l=wd(i,e.mc(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function eA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof wa||t instanceof Nr||t instanceof Qt||t instanceof wm||t instanceof xa)}function t0(t,e,n){if(!eA(n)||!Mx(n)){const a=cm(n);throw a==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+a)}}function Fy(t,e,n){if((e=Ut(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return n0(t,e);throw Xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const L4=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(L4)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tm(...e.split("."))._internalPath}catch{throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xf(t,e,n,a,i){const l=a&&!a.isEmpty(),u=i!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${a}`),u&&(p+=` in document ${i}`),p+=")"),new ve(ce.INVALID_ARGUMENT,m+t+p)}function tA(t,e){return t.some((n=>n.isEqual(e)))}class nA{constructor(e,n,a,i,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U4 extends nA{data(){return super.data()}}function Am(t,e){return typeof e=="string"?n0(t,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}function z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}class a0 extends r0{}function sn(t,e,...n){let a=[];e instanceof r0&&a.push(e),a=a.concat(n),(function(l){const u=l.filter((p=>p instanceof s0)).length,m=l.filter((p=>p instanceof Cm)).length;if(u>1||u>0&&m>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const i of a)t=i._apply(t);return t}class Cm extends a0{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Cm(e,n,a)}_apply(e){const n=this._parse(e);return rA(e._query,n),new Ai(e.firestore,e.converter,ky(e._query,n))}_parse(e){const n=xm(e.firestore);return(function(l,u,m,p,g,v,E){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){NT(E,v);const A=[];for(const C of E)A.push(CT(p,l,C));w={arrayValue:{values:A}}}else w=CT(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||NT(E,v),w=V4(m,u,E,v==="in"||v==="not-in");return rn.create(g,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lt(t,e,n){const a=e,i=Am("where",t);return Cm._create(i,a,n)}class s0 extends r0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s0(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let u=i;const m=l.getFlattenedFilters();for(const p of m)rA(u,p),u=ky(u,p)})(e._query,n),new Ai(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i0 extends a0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i0(e,n)}_apply(e){const n=(function(i,l,u){if(i.startAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new td(l,u)})(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,(function(i,l){const u=i.explicitOrderBy.concat([l]);return new mc(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function ur(t,e="asc"){const n=e,a=Am("orderBy",t);return i0._create(a,n)}class o0 extends a0{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new o0(e,n,a)}_apply(e){return new Ai(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function B4(t){return o0._create("limit",t,"F")}function CT(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jx(e)&&n.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(wt.fromString(n));if(!Ae.isDocumentKey(a))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $b(t,new Ae(a))}if(n instanceof Qt)return $b(t,n._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function NT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(t,e){const n=(function(i,l){for(const u of i)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q4{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return xi(e,((i,l)=>{a[i]=this.convertValue(l,n)})),a}convertVectorValue(e){const n=e.fields?.[qf].arrayValue?.values?.map((a=>Yt(a.doubleValue)));return new xa(n)}convertGeoPoint(e){return new wa(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=hm(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=mi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=wt.fromString(e);lt(bS(a),9688,{name:e});const i=new Ju(a.get(1),a.get(3)),l=new Ae(a.popFirst(5));return i.isEqual(n)||us(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function aA(t,e,n){let a;return a=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,a}class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vo extends nA{constructor(e,n,a,i,l,u){super(e,n,a,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Am("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",vo._jsonSchema={type:an("string",vo._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class wf extends vo{data(e={}){return super.data(e)}}class $l{constructor(e,n,a,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new wf(this._firestore,this._userDataWriter,a.key,a,new Ou(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((m=>{const p=new wf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ou(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new wf(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ou(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:F4(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}function Hl(t){t=Gr(t,Qt);const e=Gr(t.firestore,Po);return C4(Zv(e),t._key).then((n=>$4(e,t,n)))}$l._jsonSchemaVersion="firestore/querySnapshot/1.0",$l._jsonSchema={type:an("string",$l._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class sA extends q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function Xt(t){t=Gr(t,Ai);const e=Gr(t.firestore,Po),n=Zv(e),a=new sA(e);return z4(t._query),N4(n,t._query).then((i=>new $l(e,a,t,i)))}function $y(t,e,n){t=Gr(t,Qt);const a=Gr(t.firestore,Po),i=aA(t.converter,e,n);return Nm(a,[ZS(xm(a),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rr.none())])}function Bn(t,e,n,...a){t=Gr(t,Qt);const i=Gr(t.firestore,Po),l=xm(i);let u;return u=typeof(e=Ut(e))=="string"||e instanceof Tm?M4(l,"updateDoc",t._key,e,n,a):P4(l,"updateDoc",t._key,e),Nm(i,[u.toMutation(t._key,Rr.exists(!0))])}function qn(t){return Nm(Gr(t.firestore,Po),[new Pv(t._key,Rr.none())])}function Yr(t,e){const n=Gr(t.firestore,Po),a=Ye(t),i=aA(t.converter,e);return Nm(n,[ZS(xm(t.firestore),"addDoc",a._key,i,t.converter!==null,{}).toMutation(a._key,Rr.exists(!1))]).then((()=>a))}function Nm(t,e){return(function(a,i){const l=new ss;return a.asyncQueue.enqueueAndForget((async()=>p4(await A4(a),i,l))),l.promise})(Zv(t),e)}function $4(t,e,n){const a=n.docs.get(e._key),i=new sA(t);return new vo(t,i,e._key,a,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}function Nt(){return new e0("serverTimestamp")}(function(e,n=!0){(function(i){dc=i})(jo),To(new hi("firestore",((a,{instanceIdentifier:i,options:l})=>{const u=a.getProvider("app").getImmediate(),m=new Po(new Pk(a.getProvider("auth-internal")),new Lk(u,a.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(g.options.projectId,v)})(u,i),u);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),va(Db,jb,e),va(Db,jb,"esm2020")})();const iA="firebasestorage.googleapis.com",oA="storageBucket",H4=120*1e3,G4=600*1e3;class Bt extends Na{constructor(e,n,a=0){super(cy(e),`Firebase Storage: ${n} (${cy(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zt||(zt={}));function cy(t){return"storage/"+t}function l0(){const t="An unknown error occurred, please check the error payload for server response.";return new Bt(zt.UNKNOWN,t)}function K4(t){return new Bt(zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Y4(t){return new Bt(zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(zt.UNAUTHENTICATED,t)}function X4(){return new Bt(zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W4(t){return new Bt(zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Z4(){return new Bt(zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J4(){return new Bt(zt.CANCELED,"User canceled the upload/download.")}function eM(t){return new Bt(zt.INVALID_URL,"Invalid URL '"+t+"'.")}function tM(t){return new Bt(zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nM(){return new Bt(zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oA+"' property when initializing the app?")}function rM(){return new Bt(zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aM(){return new Bt(zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sM(t){return new Bt(zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hy(t){return new Bt(zt.INVALID_ARGUMENT,t)}function lA(){return new Bt(zt.APP_DELETED,"The Firebase app was deleted.")}function iM(t){return new Bt(zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hu(t,e){return new Bt(zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xu(t){throw new Bt(zt.INTERNAL_ERROR,"Internal error: "+t)}class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(a.path==="")return a;throw tM(e)}static makeFromUrl(e,n){let a=null;const i="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function g(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${E}/${v}/b/${i}/o${w}`,"i"),A={bucket:1,path:3},C=n===iA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",z=new RegExp(`^https?://${C}/${i}/${j}`,"i"),H=[{regex:m,indices:p,postModify:l},{regex:S,indices:A,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let ee=0;ee<H.length;ee++){const q=H[ee],X=q.regex.exec(e);if(X){const D=X[q.indices.bucket];let N=X[q.indices.path];N||(N=""),a=new cr(D,N),q.postModify(a);break}}if(a==null)throw eM(e);return a}}class oM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function lM(t,e,n){let a=1,i=null,l=null,u=!1,m=0;function p(){return m===2}let g=!1;function v(...j){g||(g=!0,e.apply(null,j))}function E(j){i=setTimeout(()=>{i=null,t(S,p())},j)}function w(){l&&clearTimeout(l)}function S(j,...z){if(g){w();return}if(j){w(),v.call(null,j,...z);return}if(p()||u){w(),v.call(null,j,...z);return}a<64&&(a*=2);let H;m===1?(m=2,H=0):H=(a+Math.random())*1e3,E(H)}let A=!1;function C(j){A||(A=!0,w(),!g&&(i!==null?(j||(m=2),clearTimeout(i),E(0)):j||(m=1)))}return E(0),l=setTimeout(()=>{u=!0,C(!0)},n),C}function cM(t){t(!1)}function uM(t){return t!==void 0}function dM(t){return typeof t=="object"&&!Array.isArray(t)}function c0(t){return typeof t=="string"||t instanceof String}function RT(t){return u0()&&t instanceof Blob}function u0(){return typeof Blob<"u"}function IT(t,e,n,a){if(a<e)throw Hy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(a>n)throw Hy(`Invalid value for '${t}'. Expected ${n} or less.`)}function d0(t,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${t}`}function cA(t){const e=encodeURIComponent;let n="?";for(const a in t)if(t.hasOwnProperty(a)){const i=e(a)+"="+e(t[a]);n=n+i+"&"}return n=n.slice(0,-1),n}var _o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_o||(_o={}));function hM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||i||l}class fM{constructor(e,n,a,i,l,u,m,p,g,v,E,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=i,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,C)=>{this.resolve_=A,this.reject_=C,this.start_()})}start_(){const e=(a,i)=>{if(i){a(!1,new ef(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===_o.NO_ERROR,p=l.getStatus();if(!m||hM(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===_o.ABORT;a(!1,new ef(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new ef(g,l))})},n=(a,i)=>{const l=this.resolve_,u=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());uM(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=l0();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(i.canceled){const p=this.appDelete_?lA():J4();u(p)}else{const p=Z4();u(p)}};this.canceled_?n(!1,new ef(!1,null,!0)):this.backoffId_=lM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ef{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function mM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vM(t,e,n,a,i,l,u=!0,m=!1){const p=cA(t.urlParams),g=t.url+p,v=Object.assign({},t.headers);return gM(v,e),mM(v,n),pM(v,l),yM(v,a),new fM(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,m)}function _M(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EM(...t){const e=_M();if(e!==void 0){const n=new e;for(let a=0;a<t.length;a++)n.append(t[a]);return n.getBlob()}else{if(u0())return new Blob(t);throw new Bt(zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function TM(t){if(typeof atob>"u")throw sM("base-64");return atob(t)}const ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uy{constructor(e,n){this.data=e,this.contentType=n||null}}function wM(t,e){switch(t){case ma.RAW:return new uy(uA(e));case ma.BASE64:case ma.BASE64URL:return new uy(dA(t,e));case ma.DATA_URL:return new uy(SM(e),AM(e))}throw l0()}function uA(t){const e=[];for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,u=t.charCodeAt(++n);a=65536|(l&1023)<<10|u&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function xM(t){let e;try{e=decodeURIComponent(t)}catch{throw Hu(ma.DATA_URL,"Malformed data URL.")}return uA(e)}function dA(t,e){switch(t){case ma.BASE64:{const i=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(i||l)throw Hu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ma.BASE64URL:{const i=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(i||l)throw Hu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TM(e)}catch(i){throw i.message.includes("polyfill")?i:Hu(t,"Invalid character found")}const a=new Uint8Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a}class hA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hu(ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=CM(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function SM(t){const e=new hA(t);return e.base64?dA(ma.BASE64,e.rest):xM(e.rest)}function AM(t){return new hA(t).contentType}function CM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class ai{constructor(e,n){let a=0,i="";RT(e)?(this.data_=e,a=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(RT(this.data_)){const a=this.data_,i=bM(a,e,n);return i===null?null:new ai(i)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new ai(a,!0)}}static getBlob(...e){if(u0()){const n=e.map(a=>a instanceof ai?a.data_:a);return new ai(EM.apply(null,n))}else{const n=e.map(u=>c0(u)?wM(ma.RAW,u).data:u.data_);let a=0;n.forEach(u=>{a+=u.byteLength});const i=new Uint8Array(a);let l=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)i[l++]=u[m]}),new ai(i,!0)}}uploadData(){return this.data_}}function fA(t){let e;try{e=JSON.parse(t)}catch{return null}return dM(e)?e:null}function NM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RM(t,e){const n=e.split("/").filter(a=>a.length>0).join("/");return t.length===0?n:t+"/"+n}function mA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function IM(t,e){return e}class zn{constructor(e,n,a,i){this.server=e,this.local=n||e,this.writable=!!a,this.xform=i||IM}}let tf=null;function DM(t){return!c0(t)||t.length<2?t:mA(t)}function pA(){if(tf)return tf;const t=[];t.push(new zn("bucket")),t.push(new zn("generation")),t.push(new zn("metageneration")),t.push(new zn("name","fullPath",!0));function e(l,u){return DM(u)}const n=new zn("name");n.xform=e,t.push(n);function a(l,u){return u!==void 0?Number(u):u}const i=new zn("size");return i.xform=a,t.push(i),t.push(new zn("timeCreated")),t.push(new zn("updated")),t.push(new zn("md5Hash",null,!0)),t.push(new zn("cacheControl",null,!0)),t.push(new zn("contentDisposition",null,!0)),t.push(new zn("contentEncoding",null,!0)),t.push(new zn("contentLanguage",null,!0)),t.push(new zn("contentType",null,!0)),t.push(new zn("metadata","customMetadata",!0)),tf=t,tf}function jM(t,e){function n(){const a=t.bucket,i=t.fullPath,l=new cr(a,i);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function kM(t,e,n){const a={};a.type="file";const i=n.length;for(let l=0;l<i;l++){const u=n[l];a[u.local]=u.xform(a,e[u.server])}return jM(a,t),a}function gA(t,e,n){const a=fA(e);return a===null?null:kM(t,a,n)}function OM(t,e,n,a){const i=fA(e);if(i===null||!c0(i.downloadTokens))return null;const l=i.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,E=t.fullPath,w="/b/"+u(v)+"/o/"+u(E),S=d0(w,n,a),A=cA({alt:"media",token:g});return S+A})[0]}function PM(t,e){const n={},a=e.length;for(let i=0;i<a;i++){const l=e[i];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class yA{constructor(e,n,a,i){this.url=e,this.method=n,this.handler=a,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vA(t){if(!t)throw l0()}function MM(t,e){function n(a,i){const l=gA(t,i,e);return vA(l!==null),l}return n}function VM(t,e){function n(a,i){const l=gA(t,i,e);return vA(l!==null),OM(l,i,t.host,t._protocol)}return n}function _A(t){function e(n,a){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=X4():i=Q4():n.getStatus()===402?i=Y4(t.bucket):n.getStatus()===403?i=W4(t.path):i=a,i.status=n.getStatus(),i.serverResponse=a.serverResponse,i}return e}function LM(t){const e=_A(t);function n(a,i){let l=e(a,i);return a.getStatus()===404&&(l=K4(t.path)),l.serverResponse=i.serverResponse,l}return n}function UM(t,e,n){const a=e.fullServerUrl(),i=d0(a,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,m=new yA(i,l,VM(t,n),u);return m.errorHandler=LM(e),m}function zM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BM(t,e,n){const a=Object.assign({},n);return a.fullPath=t.path,a.size=e.size(),a.contentType||(a.contentType=zM(null,e)),a}function qM(t,e,n,a,i){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let H="";for(let ee=0;ee<2;ee++)H=H+Math.random().toString().slice(2);return H}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const g=BM(e,a,i),v=PM(g,n),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",S=ai.getBlob(E,a,w);if(S===null)throw rM();const A={name:g.fullPath},C=d0(l,t.host,t._protocol),j="POST",z=t.maxUploadRetryTime,F=new yA(C,j,MM(t,n),z);return F.urlParams=A,F.headers=u,F.body=S.uploadData(),F.errorHandler=_A(e),F}class FM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,i,l){if(this.sent_)throw xu("cannot .send() more than once");if(Ti(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $M extends FM{initXhr(){this.xhr_.responseType="text"}}function EA(){return new $M}class Co{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Co(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mA(this._location.path)}get storage(){return this._service}get parent(){const e=NM(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new Co(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iM(e)}}function HM(t,e,n){t._throwIfRoot("uploadBytes");const a=qM(t.storage,t._location,pA(),new ai(e,!0),n);return t.storage.makeRequestWithTokens(a,EA).then(i=>({metadata:i,ref:t}))}function GM(t){t._throwIfRoot("getDownloadURL");const e=UM(t.storage,t._location,pA());return t.storage.makeRequestWithTokens(e,EA).then(n=>{if(n===null)throw aM();return n})}function KM(t,e){const n=RM(t._location.path,e),a=new cr(t._location.bucket,n);return new Co(t.storage,a)}function YM(t){return/^[A-Za-z]+:\/\//.test(t)}function QM(t,e){return new Co(t,e)}function bA(t,e){if(t instanceof h0){const n=t;if(n._bucket==null)throw nM();const a=new Co(n,n._bucket);return e!=null?bA(a,e):a}else return e!==void 0?KM(t,e):t}function XM(t,e){if(e&&YM(e)){if(t instanceof h0)return QM(t,e);throw Hy("To use ref(service, url), the first argument must be a Storage instance.")}else return bA(t,e)}function DT(t,e){const n=e?.[oA];return n==null?null:cr.makeFromBucketSpec(n,t)}function WM(t,e,n,a={}){t.host=`${e}:${n}`;const i=Ti(e);i&&(fv(`https://${t.host}/b`),mv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:l}=a;l&&(t._overrideAuthToken=typeof l=="string"?l:Bw(l,t.app.options.projectId))}class h0{constructor(e,n,a,i,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=i,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=iA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H4,this._maxUploadRetryTime=G4,this._requests=new Set,i!=null?this._bucket=cr.makeFromBucketSpec(i,this._host):this._bucket=DT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=DT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Co(this,e)}_makeRequest(e,n,a,i,l=!0){if(this._deleted)return new oM(lA());{const u=vM(e,this._appId,a,i,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,i).getPromise()}}const jT="@firebase/storage",kT="0.14.0";const TA="storage";function ZM(t,e,n){return t=Ut(t),HM(t,e,n)}function JM(t){return t=Ut(t),GM(t)}function e3(t,e){return t=Ut(t),XM(t,e)}function t3(t=yv(),e){t=Ut(t);const a=sm(t,TA).getImmediate({identifier:e}),i=Lw("storage");return i&&n3(a,...i),a}function n3(t,e,n,a={}){WM(t,e,n,a)}function r3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new h0(n,a,i,e,jo)}function a3(){To(new hi(TA,r3,"PUBLIC").setMultipleInstances(!0)),va(jT,kT,""),va(jT,kT,"esm2020")}a3();const Gy={apiKey:"AIzaSyDMjPxIn42jeTVD0qksgZjoM9JR7nxLTxo",authDomain:"cleber-9a012.firebaseapp.com",projectId:"cleber-9a012",storageBucket:"cleber-9a012.firebasestorage.app",messagingSenderId:"174918177595",appId:"1:174918177595:web:341eabeb3c8d8144a75d1e"};if(!Gy.apiKey||!Gy.authDomain)throw new Error("Firebase configuration is missing. Please check your .env file.");const f0=$w(Gy),Su=Dk(f0),Ee=I4(f0),s3=t3(f0);function oi(t){if(typeof t=="string")return t;const e=t?.code||"",n=t?.message||"";if(n.toLowerCase().includes("user-not-found")||n.toLowerCase().includes("there is no user record"))return"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.";switch(e){case"auth/user-not-found":return"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato do email.";case"auth/invalid-credential":return n.toLowerCase().includes("user")||n.toLowerCase().includes("email")?"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.":"Email ou senha incorretos. Verifique suas credenciais.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return n&&(n.toLowerCase().includes("user-not-found")||n.toLowerCase().includes("no user record"))?"No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.":"Erro ao fazer login. Verifique suas credenciais e tente novamente."}}const Vl={async logOut(){try{await Ej(Su)}catch(t){const e=oi(t);throw new Error(e)}},async login(t){try{const n=(await gj(Su,t.email,t.password)).user,a=await Hl(Ye(Ee,"users",n.uid));if(!a.exists())throw new Error("No existe um usurio cadastrado com este email. Verifique o email ou cadastre-se.");const l={...a.data(),lastLogin:new Date};return await $y(Ye(Ee,"users",n.uid),l),l}catch(e){const n=oi(e);throw new Error(n)}},async register(t){try{if(!t.email||!t.password||!t.name)throw new Error("Todos os campos so obrigatrios");if(t.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await pj(Su,t.email,t.password)).user,a={uid:n.uid,email:t.email,name:t.name,createdAt:new Date,updatedAt:new Date,lastLogin:new Date,role:t.role||"user"};return await $y(Ye(Ee,"users",n.uid),a),a}catch(e){const n=oi(e);throw new Error(n)}},async resetPassword(t){try{await mj(Su,t)}catch(e){const n=oi(e);throw new Error(n)}},observeAuthState(t){try{return _j(Su,async e=>{if(e)try{const n=await Hl(Ye(Ee,"users",e.uid));if(n.exists()){const a=n.data();t(a)}else t(null)}catch(n){console.error("Erro ao buscar dados do usurio:",n),t(null)}else t(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}};let i3={data:""},o3=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||i3},l3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c3=/\/\*[^]*?\*\/|  +/g,OT=/\n+/g,si=(t,e)=>{let n="",a="",i="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":a+=l[1]=="f"?si(u,l):l+"{"+si(u,l[1]=="k"?"":e)+"}":typeof u=="object"?a+=si(u,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=si.p?si.p(l,u):l+":"+u+";")}return n+(e&&i?e+"{"+i+"}":i)+a},Xa={},wA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+wA(t[n]);return e}return t},u3=(t,e,n,a,i)=>{let l=wA(t),u=Xa[l]||(Xa[l]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(l));if(!Xa[u]){let p=l!==t?t:(g=>{let v,E,w=[{}];for(;v=l3.exec(g.replace(c3,""));)v[4]?w.shift():v[3]?(E=v[3].replace(OT," ").trim(),w.unshift(w[0][E]=w[0][E]||{})):w[0][v[1]]=v[2].replace(OT," ").trim();return w[0]})(t);Xa[u]=si(i?{["@keyframes "+u]:p}:p,n?"":"."+u)}let m=n&&Xa.g?Xa.g:null;return n&&(Xa.g=Xa[u]),((p,g,v,E)=>{E?g.data=g.data.replace(E,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(Xa[u],e,a,m),u},d3=(t,e,n)=>t.reduce((a,i,l)=>{let u=e[l];if(u&&u.call){let m=u(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":si(m,""):m===!1?"":m}return a+i+(u??"")},"");function Rm(t){let e=this||{},n=t.call?t(e.p):t;return u3(n.unshift?n.raw?d3(n,[].slice.call(arguments,1),e.p):n.reduce((a,i)=>Object.assign(a,i&&i.call?i(e.p):i),{}):n,o3(e.target),e.g,e.o,e.k)}let xA,Ky,Yy;Rm.bind({g:1});let hs=Rm.bind({k:1});function h3(t,e,n,a){si.p=e,xA=t,Ky=n,Yy=a}function Ci(t,e){let n=this||{};return function(){let a=arguments;function i(l,u){let m=Object.assign({},l),p=m.className||i.className;n.p=Object.assign({theme:Ky&&Ky()},m),n.o=/ *go\d+/.test(p),m.className=Rm.apply(n,a)+(p?" "+p:"");let g=t;return t[0]&&(g=m.as||t,delete m.as),Yy&&g[0]&&Yy(m),xA(g,m)}return i}}var f3=t=>typeof t=="function",Wf=(t,e)=>f3(t)?t(e):t,m3=(()=>{let t=0;return()=>(++t).toString()})(),SA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),p3=20,m0="default",AA=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:a}=e;return AA(t,{type:t.toasts.find(u=>u.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},xf=[],CA={toasts:[],pausedAt:void 0,settings:{toastLimit:p3}},pa={},NA=(t,e=m0)=>{pa[e]=AA(pa[e]||CA,t),xf.forEach(([n,a])=>{n===e&&a(pa[e])})},RA=t=>Object.keys(pa).forEach(e=>NA(t,e)),g3=t=>Object.keys(pa).find(e=>pa[e].toasts.some(n=>n.id===t)),Im=(t=m0)=>e=>{NA(e,t)},y3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},v3=(t={},e=m0)=>{let[n,a]=I.useState(pa[e]||CA),i=I.useRef(pa[e]);I.useEffect(()=>(i.current!==pa[e]&&a(pa[e]),xf.push([e,a]),()=>{let u=xf.findIndex(([m])=>m===e);u>-1&&xf.splice(u,1)}),[e]);let l=n.toasts.map(u=>{var m,p,g;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((m=t[u.type])==null?void 0:m.removeDelay)||t?.removeDelay,duration:u.duration||((p=t[u.type])==null?void 0:p.duration)||t?.duration||y3[u.type],style:{...t.style,...(g=t[u.type])==null?void 0:g.style,...u.style}}});return{...n,toasts:l}},_3=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||m3()}),xd=t=>(e,n)=>{let a=_3(e,t,n);return Im(a.toasterId||g3(a.id))({type:2,toast:a}),a.id},tn=(t,e)=>xd("blank")(t,e);tn.error=xd("error");tn.success=xd("success");tn.loading=xd("loading");tn.custom=xd("custom");tn.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Im(e)(n):RA(n)};tn.dismissAll=t=>tn.dismiss(void 0,t);tn.remove=(t,e)=>{let n={type:4,toastId:t};e?Im(e)(n):RA(n)};tn.removeAll=t=>tn.remove(void 0,t);tn.promise=(t,e,n)=>{let a=tn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let l=e.success?Wf(e.success,i):void 0;return l?tn.success(l,{id:a,...n,...n?.success}):tn.dismiss(a),i}).catch(i=>{let l=e.error?Wf(e.error,i):void 0;l?tn.error(l,{id:a,...n,...n?.error}):tn.dismiss(a)}),t};var E3=1e3,b3=(t,e="default")=>{let{toasts:n,pausedAt:a}=v3(t,e),i=I.useRef(new Map).current,l=I.useCallback((E,w=E3)=>{if(i.has(E))return;let S=setTimeout(()=>{i.delete(E),u({type:4,toastId:E})},w);i.set(E,S)},[]);I.useEffect(()=>{if(a)return;let E=Date.now(),w=n.map(S=>{if(S.duration===1/0)return;let A=(S.duration||0)+S.pauseDuration-(E-S.createdAt);if(A<0){S.visible&&tn.dismiss(S.id);return}return setTimeout(()=>tn.dismiss(S.id,e),A)});return()=>{w.forEach(S=>S&&clearTimeout(S))}},[n,a,e]);let u=I.useCallback(Im(e),[e]),m=I.useCallback(()=>{u({type:5,time:Date.now()})},[u]),p=I.useCallback((E,w)=>{u({type:1,toast:{id:E,height:w}})},[u]),g=I.useCallback(()=>{a&&u({type:6,time:Date.now()})},[a,u]),v=I.useCallback((E,w)=>{let{reverseOrder:S=!1,gutter:A=8,defaultPosition:C}=w||{},j=n.filter(H=>(H.position||C)===(E.position||C)&&H.height),z=j.findIndex(H=>H.id===E.id),F=j.filter((H,ee)=>ee<z&&H.visible).length;return j.filter(H=>H.visible).slice(...S?[F+1]:[0,F]).reduce((H,ee)=>H+(ee.height||0)+A,0)},[n]);return I.useEffect(()=>{n.forEach(E=>{if(E.dismissed)l(E.id,E.removeDelay);else{let w=i.get(E.id);w&&(clearTimeout(w),i.delete(E.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:v}}},T3=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,w3=hs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x3=hs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,S3=Ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${w3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${x3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,A3=hs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,C3=Ci("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${A3} 1s linear infinite;
`,N3=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,R3=hs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I3=Ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${R3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,D3=Ci("div")`
  position: absolute;
`,j3=Ci("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,k3=hs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O3=Ci("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${k3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,P3=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?I.createElement(O3,null,e):e:n==="blank"?null:I.createElement(j3,null,I.createElement(C3,{...a}),n!=="loading"&&I.createElement(D3,null,n==="error"?I.createElement(S3,{...a}):I.createElement(I3,{...a})))},M3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,V3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,L3="0%{opacity:0;} 100%{opacity:1;}",U3="0%{opacity:1;} 100%{opacity:0;}",z3=Ci("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,B3=Ci("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,q3=(t,e)=>{let n=t.includes("top")?1:-1,[a,i]=SA()?[L3,U3]:[M3(n),V3(n)];return{animation:e?`${hs(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F3=I.memo(({toast:t,position:e,style:n,children:a})=>{let i=t.height?q3(t.position||e||"top-center",t.visible):{opacity:0},l=I.createElement(P3,{toast:t}),u=I.createElement(B3,{...t.ariaProps},Wf(t.message,t));return I.createElement(z3,{className:t.className,style:{...i,...n,...t.style}},typeof a=="function"?a({icon:l,message:u}):I.createElement(I.Fragment,null,l,u))});h3(I.createElement);var $3=({id:t,className:e,style:n,onHeightUpdate:a,children:i})=>{let l=I.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;a(t,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return I.createElement("div",{ref:l,className:e,style:n},i)},H3=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:SA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...i}},G3=Rm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nf=16,K3=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:i,toasterId:l,containerStyle:u,containerClassName:m})=>{let{toasts:p,handlers:g}=b3(n,l);return I.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:nf,left:nf,right:nf,bottom:nf,pointerEvents:"none",...u},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(v=>{let E=v.position||e,w=g.calculateOffset(v,{reverseOrder:t,gutter:a,defaultPosition:e}),S=H3(E,w);return I.createElement($3,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?G3:"",style:S},v.type==="custom"?Wf(v.message,v):i?i(v):I.createElement(F3,{toast:v,position:E}))}))},Ge=tn;const Y3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),PT=t=>{const e=Q3(t);return e.charAt(0).toUpperCase()+e.slice(1)},IA=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),X3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var W3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z3=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...m},p)=>I.createElement("svg",{ref:p,...W3,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:IA("lucide",i),...!l&&!X3(m)&&{"aria-hidden":"true"},...m},[...u.map(([g,v])=>I.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Ce=(t,e)=>{const n=I.forwardRef(({className:a,...i},l)=>I.createElement(Z3,{ref:l,iconNode:e,className:IA(`lucide-${Y3(PT(t))}`,`lucide-${t}`,a),...i}));return n.displayName=PT(t),n};const J3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],MT=Ce("activity",J3);const e6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],t6=Ce("arrow-right",e6);const n6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rf=Ce("bell",n6);const r6=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Qy=Ce("building-2",r6);const a6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],DA=Ce("calendar",a6);const s6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jA=Ce("chart-column",s6);const i6=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],o6=Ce("chart-pie",i6);const l6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],un=Ce("check",l6);const c6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zf=Ce("chevron-down",c6);const u6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sd=Ce("circle-alert",u6);const d6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],af=Ce("circle-check-big",d6);const h6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],f6=Ce("circle-dot",h6);const m6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],p0=Ce("clipboard-list",m6);const p6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],No=Ce("clock",p6);const g6=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],y6=Ce("cog",g6);const v6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_6=Ce("credit-card",v6);const E6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Dm=Ce("dollar-sign",E6);const b6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kA=Ce("download",b6);const T6=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],w6=Ce("factory",T6);const x6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],S6=Ce("file-text",x6);const A6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],C6=Ce("funnel",A6);const N6=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],R6=Ce("git-branch",N6);const I6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],VT=Ce("layers",I6);const D6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LT=Ce("layout-dashboard",D6);const j6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dy=Ce("loader-circle",j6);const k6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OA=Ce("log-out",k6);const O6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],P6=Ce("mail",O6);const M6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PA=Ce("map-pin",M6);const V6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],L6=Ce("menu",V6);const U6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_i=Ce("package",U6);const z6=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],B6=Ce("palette",z6);const q6=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],F6=Ce("pause",q6);const $6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],H6=Ce("pen",$6);const G6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],K6=Ce("pencil",G6);const Y6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Q6=Ce("phone",Y6);const X6=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],W6=Ce("play",X6);const Z6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ni=Ce("plus",Z6);const J6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],e5=Ce("printer",J6);const t5=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],n5=Ce("ruler",t5);const r5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],a5=Ce("save",r5);const s5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ro=Ce("search",s5);const i5=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],o5=Ce("shirt",i5);const l5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],c5=Ce("sparkles",l5);const u5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],MA=Ce("square-pen",u5);const d5=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],h5=Ce("tag",d5);const f5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mo=Ce("trash-2",f5);const m5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],p5=Ce("trending-down",m5);const g5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Gl=Ce("trending-up",g5);const y5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VA=Ce("triangle-alert",y5);const v5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_5=Ce("upload",v5);const E5=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],b5=Ce("user-check",E5);const T5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],w5=Ce("user-plus",T5);const x5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],S5=Ce("user",x5);const A5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Io=Ce("users",A5);const C5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ir=Ce("x",C5),LA=I.createContext(void 0);function N5({children:t}){const[e,n]=I.useState(null),[a,i]=I.useState(!0),[l,u]=I.useState(null);I.useEffect(()=>{const w=Vl.observeAuthState(S=>{n(S),i(!1)});return()=>w()},[]);const E={user:e,loading:a,error:l,login:async w=>{try{i(!0),u(null);const S=await Vl.login(w);n(S),i(!1),Ge.success(`Bem-vindo, ${S.name||S.email}!`,{icon:d.jsx(b5,{size:20})})}catch(S){const A=oi(S);u(A),i(!1),n(null),Ge.error(A)}},register:async w=>{try{i(!0),u(null);const S=await Vl.register(w);n(S),i(!1),Ge.success("Conta criada com sucesso! Bem-vindo!",{icon:d.jsx(c5,{size:20})})}catch(S){const A=oi(S);u(A),i(!1),n(null),Ge.error(A)}},logout:async()=>{try{i(!0),u(null),await Vl.logOut(),n(null),i(!1),Ge.success("Logout realizado com sucesso!",{icon:d.jsx(OA,{size:20})})}catch(w){const S=oi(w);u(S),i(!1),Ge.error(S)}},clearError:()=>{u(null)}};return d.jsx(LA.Provider,{value:E,children:t})}const On=()=>{const t=I.useContext(LA);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},R5=({children:t})=>{const{user:e,loading:n}=On();return n?d.jsx("div",{children:"Loading..."}):e?d.jsx(d.Fragment,{children:t}):d.jsx(XN,{to:sr.login,replace:!0})},UT=t=>t,I5=()=>{let t=UT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=UT}}},D5=I5();function Do(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(a=>n.searchParams.append("args[]",a)),`Minified MUI error #${t}; visit ${n} for the full message.`}function nc(t){if(typeof t!="string")throw new Error(Do(7));return t.charAt(0).toUpperCase()+t.slice(1)}function UA(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UA(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function zA(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UA(t))&&(a&&(a+=" "),a+=e);return a}function j5(t,e,n=void 0){const a={};for(const i in t){const l=t[i];let u="",m=!0;for(let p=0;p<l.length;p+=1){const g=l[p];g&&(u+=(m===!0?"":" ")+e(g),m=!1,n&&n[g]&&(u+=" "+n[g]))}a[i]=u}return a}var hy={exports:{}},vt={};var zT;function k5(){if(zT)return vt;zT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function A(C){if(typeof C=="object"&&C!==null){var j=C.$$typeof;switch(j){case t:switch(C=C.type,C){case n:case i:case a:case p:case g:case w:return C;default:switch(C=C&&C.$$typeof,C){case u:case m:case E:case v:return C;case l:return C;default:return j}}case e:return j}}}return vt.ContextConsumer=l,vt.ContextProvider=u,vt.Element=t,vt.ForwardRef=m,vt.Fragment=n,vt.Lazy=E,vt.Memo=v,vt.Portal=e,vt.Profiler=i,vt.StrictMode=a,vt.Suspense=p,vt.SuspenseList=g,vt.isContextConsumer=function(C){return A(C)===l},vt.isContextProvider=function(C){return A(C)===u},vt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},vt.isForwardRef=function(C){return A(C)===m},vt.isFragment=function(C){return A(C)===n},vt.isLazy=function(C){return A(C)===E},vt.isMemo=function(C){return A(C)===v},vt.isPortal=function(C){return A(C)===e},vt.isProfiler=function(C){return A(C)===i},vt.isStrictMode=function(C){return A(C)===a},vt.isSuspense=function(C){return A(C)===p},vt.isSuspenseList=function(C){return A(C)===g},vt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===i||C===a||C===p||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===E||C.$$typeof===v||C.$$typeof===u||C.$$typeof===l||C.$$typeof===m||C.$$typeof===S||C.getModuleId!==void 0)},vt.typeOf=A,vt}var BT;function O5(){return BT||(BT=1,hy.exports=k5()),hy.exports}var BA=O5();function Za(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function qA(t){if(I.isValidElement(t)||BA.isValidElementType(t)||!Za(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=qA(t[n])}),e}function dr(t,e,n={clone:!0}){const a=n.clone?{...t}:t;return Za(t)&&Za(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])||BA.isValidElementType(e[i])?a[i]=e[i]:Za(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Za(t[i])?a[i]=dr(t[i],e[i],n):n.clone?a[i]=Za(e[i])?qA(e[i]):e[i]:a[i]=e[i]}),a}function Gu(t,e){return e?dr(t,e,{clone:!1}):t}function qT(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(a=>a.startsWith("@container")).sort((a,i)=>{const l=/min-width:\s*([0-9.]+)/;return+(a.match(l)?.[1]||0)-+(i.match(l)?.[1]||0)});return n.length?n.reduce((a,i)=>{const l=e[i];return delete a[i],a[i]=l,a},{...e}):e}function P5(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function M5(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,a,i]=n,l=Number.isNaN(+a)?a||0:+a;return t.containerQueries(i).up(l)}function V5(t){const e=(l,u)=>l.replace("@media",u?`@container ${u}`:"@container");function n(l,u){l.up=(...m)=>e(t.breakpoints.up(...m),u),l.down=(...m)=>e(t.breakpoints.down(...m),u),l.between=(...m)=>e(t.breakpoints.between(...m),u),l.only=(...m)=>e(t.breakpoints.only(...m),u),l.not=(...m)=>{const p=e(t.breakpoints.not(...m),u);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const a={},i=l=>(n(a,l),a);return n(i),{...t,containerQueries:i}}const jm={xs:0,sm:600,md:900,lg:1200,xl:1536},FT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${jm[t]}px)`},L5={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:jm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function fs(t,e,n){const a=t.theme||{};if(Array.isArray(e)){const l=a.breakpoints||FT;return e.reduce((u,m,p)=>(u[l.up(l.keys[p])]=n(e[p]),u),{})}if(typeof e=="object"){const l=a.breakpoints||FT;return Object.keys(e).reduce((u,m)=>{if(P5(l.keys,m)){const p=M5(a.containerQueries?a:L5,m);p&&(u[p]=n(e[m],m))}else if(Object.keys(l.values||jm).includes(m)){const p=l.up(m);u[p]=n(e[m],m)}else{const p=m;u[p]=e[p]}return u},{})}return n(e)}function U5(t={}){return t.keys?.reduce((n,a)=>{const i=t.up(a);return n[i]={},n},{})||{}}function $T(t,e){return t.reduce((n,a)=>{const i=n[a];return(!i||Object.keys(i).length===0)&&delete n[a],n},e)}function km(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const a=`vars.${e}`.split(".").reduce((i,l)=>i&&i[l]?i[l]:null,t);if(a!=null)return a}return e.split(".").reduce((a,i)=>a&&a[i]!=null?a[i]:null,t)}function Jf(t,e,n,a=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||a:i=km(t,n)||a,e&&(i=e(i,a,t)),i}function Wt(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:i}=t,l=u=>{if(u[e]==null)return null;const m=u[e],p=u.theme,g=km(p,a)||{};return fs(u,m,E=>{let w=Jf(g,i,E);return E===w&&typeof E=="string"&&(w=Jf(g,i,`${e}${E==="default"?"":nc(E)}`,E)),n===!1?w:{[n]:w}})};return l.propTypes={},l.filterProps=[e],l}function z5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const B5={m:"margin",p:"padding"},q5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},HT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F5=z5(t=>{if(t.length>2)if(HT[t])t=HT[t];else return[t];const[e,n]=t.split(""),a=B5[e],i=q5[n]||"";return Array.isArray(i)?i.map(l=>a+l):[a+i]}),g0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],y0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...g0,...y0];function Sd(t,e,n,a){const i=km(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?l=>typeof l=="string"?l:typeof i=="string"?i.startsWith("var(")&&l===0?0:i.startsWith("var(")&&l===1?i:`calc(${l} * ${i})`:i*l:Array.isArray(i)?l=>{if(typeof l=="string")return l;const u=Math.abs(l),m=i[u];return l>=0?m:typeof m=="number"?-m:typeof m=="string"&&m.startsWith("var(")?`calc(-1 * ${m})`:`-${m}`}:typeof i=="function"?i:()=>{}}function v0(t){return Sd(t,"spacing",8)}function Ad(t,e){return typeof e=="string"||e==null?e:t(e)}function $5(t,e){return n=>t.reduce((a,i)=>(a[i]=Ad(e,n),a),{})}function H5(t,e,n,a){if(!e.includes(n))return null;const i=F5(n),l=$5(i,a),u=t[n];return fs(t,u,l)}function FA(t,e){const n=v0(t.theme);return Object.keys(t).map(a=>H5(t,e,a,n)).reduce(Gu,{})}function Mt(t){return FA(t,g0)}Mt.propTypes={};Mt.filterProps=g0;function Vt(t){return FA(t,y0)}Vt.propTypes={};Vt.filterProps=y0;function Om(...t){const e=t.reduce((a,i)=>(i.filterProps.forEach(l=>{a[l]=i}),a),{}),n=a=>Object.keys(a).reduce((i,l)=>e[l]?Gu(i,e[l](a)):i,{});return n.propTypes={},n.filterProps=t.reduce((a,i)=>a.concat(i.filterProps),[]),n}function Cr(t){return typeof t!="number"?t:`${t}px solid`}function Dr(t,e){return Wt({prop:t,themeKey:"borders",transform:e})}const G5=Dr("border",Cr),K5=Dr("borderTop",Cr),Y5=Dr("borderRight",Cr),Q5=Dr("borderBottom",Cr),X5=Dr("borderLeft",Cr),W5=Dr("borderColor"),Z5=Dr("borderTopColor"),J5=Dr("borderRightColor"),eV=Dr("borderBottomColor"),tV=Dr("borderLeftColor"),nV=Dr("outline",Cr),rV=Dr("outlineColor"),Pm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Sd(t.theme,"shape.borderRadius",4),n=a=>({borderRadius:Ad(e,a)});return fs(t,t.borderRadius,n)}return null};Pm.propTypes={};Pm.filterProps=["borderRadius"];Om(G5,K5,Y5,Q5,X5,W5,Z5,J5,eV,tV,Pm,nV,rV);const Mm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Sd(t.theme,"spacing",8),n=a=>({gap:Ad(e,a)});return fs(t,t.gap,n)}return null};Mm.propTypes={};Mm.filterProps=["gap"];const Vm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Sd(t.theme,"spacing",8),n=a=>({columnGap:Ad(e,a)});return fs(t,t.columnGap,n)}return null};Vm.propTypes={};Vm.filterProps=["columnGap"];const Lm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Sd(t.theme,"spacing",8),n=a=>({rowGap:Ad(e,a)});return fs(t,t.rowGap,n)}return null};Lm.propTypes={};Lm.filterProps=["rowGap"];const aV=Wt({prop:"gridColumn"}),sV=Wt({prop:"gridRow"}),iV=Wt({prop:"gridAutoFlow"}),oV=Wt({prop:"gridAutoColumns"}),lV=Wt({prop:"gridAutoRows"}),cV=Wt({prop:"gridTemplateColumns"}),uV=Wt({prop:"gridTemplateRows"}),dV=Wt({prop:"gridTemplateAreas"}),hV=Wt({prop:"gridArea"});Om(Mm,Vm,Lm,aV,sV,iV,oV,lV,cV,uV,dV,hV);function Kl(t,e){return e==="grey"?e:t}const fV=Wt({prop:"color",themeKey:"palette",transform:Kl}),mV=Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Kl}),pV=Wt({prop:"backgroundColor",themeKey:"palette",transform:Kl});Om(fV,mV,pV);function or(t){return t<=1&&t!==0?`${t*100}%`:t}const gV=Wt({prop:"width",transform:or}),_0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const a=t.theme?.breakpoints?.values?.[n]||jm[n];return a?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${a}${t.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:or(n)}};return fs(t,t.maxWidth,e)}return null};_0.filterProps=["maxWidth"];const yV=Wt({prop:"minWidth",transform:or}),vV=Wt({prop:"height",transform:or}),_V=Wt({prop:"maxHeight",transform:or}),EV=Wt({prop:"minHeight",transform:or});Wt({prop:"size",cssProperty:"width",transform:or});Wt({prop:"size",cssProperty:"height",transform:or});const bV=Wt({prop:"boxSizing"});Om(gV,_0,yV,vV,_V,EV,bV);const Um={border:{themeKey:"borders",transform:Cr},borderTop:{themeKey:"borders",transform:Cr},borderRight:{themeKey:"borders",transform:Cr},borderBottom:{themeKey:"borders",transform:Cr},borderLeft:{themeKey:"borders",transform:Cr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Cr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Pm},color:{themeKey:"palette",transform:Kl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Kl},backgroundColor:{themeKey:"palette",transform:Kl},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Mt},mt:{style:Mt},mr:{style:Mt},mb:{style:Mt},ml:{style:Mt},mx:{style:Mt},my:{style:Mt},margin:{style:Mt},marginTop:{style:Mt},marginRight:{style:Mt},marginBottom:{style:Mt},marginLeft:{style:Mt},marginX:{style:Mt},marginY:{style:Mt},marginInline:{style:Mt},marginInlineStart:{style:Mt},marginInlineEnd:{style:Mt},marginBlock:{style:Mt},marginBlockStart:{style:Mt},marginBlockEnd:{style:Mt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Mm},rowGap:{style:Lm},columnGap:{style:Vm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:or},maxWidth:{style:_0},minWidth:{transform:or},height:{transform:or},maxHeight:{transform:or},minHeight:{transform:or},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function TV(...t){const e=t.reduce((a,i)=>a.concat(Object.keys(i)),[]),n=new Set(e);return t.every(a=>n.size===Object.keys(a).length)}function wV(t,e){return typeof t=="function"?t(e):t}function xV(){function t(n,a,i,l){const u={[n]:a,theme:i},m=l[n];if(!m)return{[n]:a};const{cssProperty:p=n,themeKey:g,transform:v,style:E}=m;if(a==null)return null;if(g==="typography"&&a==="inherit")return{[n]:a};const w=km(i,g)||{};return E?E(u):fs(u,a,A=>{let C=Jf(w,v,A);return A===C&&typeof A=="string"&&(C=Jf(w,v,`${n}${A==="default"?"":nc(A)}`,A)),p===!1?C:{[p]:C}})}function e(n){const{sx:a,theme:i={},nested:l}=n||{};if(!a)return null;const u=i.unstable_sxConfig??Um;function m(p){let g=p;if(typeof p=="function")g=p(i);else if(typeof p!="object")return p;if(!g)return null;const v=U5(i.breakpoints),E=Object.keys(v);let w=v;return Object.keys(g).forEach(S=>{const A=wV(g[S],i);if(A!=null)if(typeof A=="object")if(u[S])w=Gu(w,t(S,A,i,u));else{const C=fs({theme:i},A,j=>({[S]:j}));TV(C,A)?w[S]=e({sx:A,theme:i,nested:!0}):w=Gu(w,C)}else w=Gu(w,t(S,A,i,u))}),!l&&i.modularCssLayers?{"@layer sx":qT(i,$T(E,w))}:qT(i,$T(E,w))}return Array.isArray(a)?a.map(m):m(a)}return e}const rc=xV();rc.filterProps=["sx"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xy.apply(null,arguments)}function SV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CV=(function(){function t(n){var a=this;this._insertTag=function(i){var l;a.tags.length===0?a.insertionPoint?l=a.insertionPoint.nextSibling:a.prepend?l=a.container.firstChild:l=a.before:l=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(i,l),a.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(a){a.forEach(this._insertTag)},e.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=SV(i);try{l.insertRule(a,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(a));this.ctr++},e.flush=function(){this.tags.forEach(function(a){var i;return(i=a.parentNode)==null?void 0:i.removeChild(a)}),this.tags=[],this.ctr=0},t})(),In="-ms-",em="-moz-",st="-webkit-",$A="comm",E0="rule",b0="decl",NV="@import",HA="@keyframes",RV="@layer",IV=Math.abs,zm=String.fromCharCode,DV=Object.assign;function jV(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function GA(t){return t.trim()}function kV(t,e){return(t=e.exec(t))?t[0]:t}function it(t,e,n){return t.replace(e,n)}function Wy(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function id(t,e,n){return t.slice(e,n)}function ha(t){return t.length}function T0(t){return t.length}function sf(t,e){return e.push(t),t}function OV(t,e){return t.map(e).join("")}var Bm=1,ac=1,KA=0,Yn=0,nn=0,gc="";function qm(t,e,n,a,i,l,u){return{value:t,root:e,parent:n,type:a,props:i,children:l,line:Bm,column:ac,length:u,return:""}}function Au(t,e){return DV(qm("",null,null,"",null,null,0),t,{length:-t.length},e)}function PV(){return nn}function MV(){return nn=Yn>0?Tn(gc,--Yn):0,ac--,nn===10&&(ac=1,Bm--),nn}function hr(){return nn=Yn<KA?Tn(gc,Yn++):0,ac++,nn===10&&(ac=1,Bm++),nn}function Sa(){return Tn(gc,Yn)}function Sf(){return Yn}function Cd(t,e){return id(gc,t,e)}function od(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YA(t){return Bm=ac=1,KA=ha(gc=t),Yn=0,[]}function QA(t){return gc="",t}function Af(t){return GA(Cd(Yn-1,Zy(t===91?t+2:t===40?t+1:t)))}function VV(t){for(;(nn=Sa())&&nn<33;)hr();return od(t)>2||od(nn)>3?"":" "}function LV(t,e){for(;--e&&hr()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return Cd(t,Sf()+(e<6&&Sa()==32&&hr()==32))}function Zy(t){for(;hr();)switch(nn){case t:return Yn;case 34:case 39:t!==34&&t!==39&&Zy(nn);break;case 40:t===41&&Zy(t);break;case 92:hr();break}return Yn}function UV(t,e){for(;hr()&&t+nn!==57;)if(t+nn===84&&Sa()===47)break;return"/*"+Cd(e,Yn-1)+"*"+zm(t===47?t:hr())}function zV(t){for(;!od(Sa());)hr();return Cd(t,Yn)}function BV(t){return QA(Cf("",null,null,null,[""],t=YA(t),0,[0],t))}function Cf(t,e,n,a,i,l,u,m,p){for(var g=0,v=0,E=u,w=0,S=0,A=0,C=1,j=1,z=1,F=0,H="",ee=i,q=l,X=a,D=H;j;)switch(A=F,F=hr()){case 40:if(A!=108&&Tn(D,E-1)==58){Wy(D+=it(Af(F),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:D+=Af(F);break;case 9:case 10:case 13:case 32:D+=VV(A);break;case 92:D+=LV(Sf()-1,7);continue;case 47:switch(Sa()){case 42:case 47:sf(qV(UV(hr(),Sf()),e,n),p);break;default:D+="/"}break;case 123*C:m[g++]=ha(D)*z;case 125*C:case 59:case 0:switch(F){case 0:case 125:j=0;case 59+v:z==-1&&(D=it(D,/\f/g,"")),S>0&&ha(D)-E&&sf(S>32?KT(D+";",a,n,E-1):KT(it(D," ","")+";",a,n,E-2),p);break;case 59:D+=";";default:if(sf(X=GT(D,e,n,g,v,i,m,H,ee=[],q=[],E),l),F===123)if(v===0)Cf(D,e,X,X,ee,l,E,m,q);else switch(w===99&&Tn(D,3)===110?100:w){case 100:case 108:case 109:case 115:Cf(t,X,X,a&&sf(GT(t,X,X,0,0,i,m,H,i,ee=[],E),q),i,q,E,m,a?ee:q);break;default:Cf(D,X,X,X,[""],q,0,m,q)}}g=v=S=0,C=z=1,H=D="",E=u;break;case 58:E=1+ha(D),S=A;default:if(C<1){if(F==123)--C;else if(F==125&&C++==0&&MV()==125)continue}switch(D+=zm(F),F*C){case 38:z=v>0?1:(D+="\f",-1);break;case 44:m[g++]=(ha(D)-1)*z,z=1;break;case 64:Sa()===45&&(D+=Af(hr())),w=Sa(),v=E=ha(H=D+=zV(Sf())),F++;break;case 45:A===45&&ha(D)==2&&(C=0)}}return l}function GT(t,e,n,a,i,l,u,m,p,g,v){for(var E=i-1,w=i===0?l:[""],S=T0(w),A=0,C=0,j=0;A<a;++A)for(var z=0,F=id(t,E+1,E=IV(C=u[A])),H=t;z<S;++z)(H=GA(C>0?w[z]+" "+F:it(F,/&\f/g,w[z])))&&(p[j++]=H);return qm(t,e,n,i===0?E0:m,p,g,v)}function qV(t,e,n){return qm(t,e,n,$A,zm(PV()),id(t,2,-2),0)}function KT(t,e,n,a){return qm(t,e,n,b0,id(t,0,a),id(t,a+1,-1),a)}function Yl(t,e){for(var n="",a=T0(t),i=0;i<a;i++)n+=e(t[i],i,t,e)||"";return n}function FV(t,e,n,a){switch(t.type){case RV:if(t.children.length)break;case NV:case b0:return t.return=t.return||t.value;case $A:return"";case HA:return t.return=t.value+"{"+Yl(t.children,a)+"}";case E0:t.value=t.props.join(",")}return ha(n=Yl(t.children,a))?t.return=t.value+"{"+n+"}":""}function $V(t){var e=T0(t);return function(n,a,i,l){for(var u="",m=0;m<e;m++)u+=t[m](n,a,i,l)||"";return u}}function HV(t){return function(e){e.root||(e=e.return)&&t(e)}}function XA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var GV=function(e,n,a){for(var i=0,l=0;i=l,l=Sa(),i===38&&l===12&&(n[a]=1),!od(l);)hr();return Cd(e,Yn)},KV=function(e,n){var a=-1,i=44;do switch(od(i)){case 0:i===38&&Sa()===12&&(n[a]=1),e[a]+=GV(Yn-1,n,a);break;case 2:e[a]+=Af(i);break;case 4:if(i===44){e[++a]=Sa()===58?"&\f":"",n[a]=e[a].length;break}default:e[a]+=zm(i)}while(i=hr());return e},YV=function(e,n){return QA(KV(YA(e),n))},YT=new WeakMap,QV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,a=e.parent,i=e.column===a.column&&e.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!YT.get(a))&&!i){YT.set(e,!0);for(var l=[],u=YV(n,l),m=a.props,p=0,g=0;p<u.length;p++)for(var v=0;v<m.length;v++,g++)e.props[g]=l[p]?u[p].replace(/&\f/g,m[v]):m[v]+" "+u[p]}}},XV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function WA(t,e){switch(jV(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+em+t+In+t+t;case 6828:case 4268:return st+t+In+t+t;case 6165:return st+t+In+"flex-"+t+t;case 5187:return st+t+it(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+In+"flex-$1$2")+t;case 5443:return st+t+In+"flex-item-"+it(t,/flex-|-self/,"")+t;case 4675:return st+t+In+"flex-line-pack"+it(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+In+it(t,"shrink","negative")+t;case 5292:return st+t+In+it(t,"basis","preferred-size")+t;case 6060:return st+"box-"+it(t,"-grow","")+st+t+In+it(t,"grow","positive")+t;case 4554:return st+it(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return it(it(it(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return it(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return it(it(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+In+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return it(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ha(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return it(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+em+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wy(t,"stretch")?WA(it(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,ha(t)-3-(~Wy(t,"!important")&&10))){case 107:return it(t,":",":"+st)+t;case 101:return it(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(Tn(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+In+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return st+t+In+it(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+In+it(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+In+it(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+In+t+t}return t}var WV=function(e,n,a,i){if(e.length>-1&&!e.return)switch(e.type){case b0:e.return=WA(e.value,e.length);break;case HA:return Yl([Au(e,{value:it(e.value,"@","@"+st)})],i);case E0:if(e.length)return OV(e.props,function(l){switch(kV(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yl([Au(e,{props:[it(l,/:(read-\w+)/,":"+em+"$1")]})],i);case"::placeholder":return Yl([Au(e,{props:[it(l,/:(plac\w+)/,":"+st+"input-$1")]}),Au(e,{props:[it(l,/:(plac\w+)/,":"+em+"$1")]}),Au(e,{props:[it(l,/:(plac\w+)/,In+"input-$1")]})],i)}return""})}},ZV=[WV],JV=function(e){var n=e.key;if(n==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(C){var j=C.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||ZV,l={},u,m=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var j=C.getAttribute("data-emotion").split(" "),z=1;z<j.length;z++)l[j[z]]=!0;m.push(C)});var p,g=[QV,XV];{var v,E=[FV,HV(function(C){v.insert(C)})],w=$V(g.concat(i,E)),S=function(j){return Yl(BV(j),w)};p=function(j,z,F,H){v=F,S(j?j+"{"+z.styles+"}":z.styles),H&&(A.inserted[z.name]=!0)}}var A={key:n,sheet:new CV({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return A.sheet.hydrate(m),A},eL=!0;function tL(t,e,n){var a="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(a+=i+" ")}),a}var ZA=function(e,n,a){var i=e.key+"-"+n.name;(a===!1||eL===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},nL=function(e,n,a){ZA(e,n,a);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var l=n;do e.insert(n===l?"."+i:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function rL(t){for(var e=0,n,a=0,i=t.length;i>=4;++a,i-=4)n=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(a+2)&255)<<16;case 2:e^=(t.charCodeAt(a+1)&255)<<8;case 1:e^=t.charCodeAt(a)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sL=/[A-Z]|^ms/g,iL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JA=function(e){return e.charCodeAt(1)===45},QT=function(e){return e!=null&&typeof e!="boolean"},fy=XA(function(t){return JA(t)?t:t.replace(sL,"-$&").toLowerCase()}),XT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(iL,function(a,i,l){return fa={name:i,styles:l,next:fa},i})}return aL[e]!==1&&!JA(e)&&typeof n=="number"&&n!==0?n+"px":n};function ld(t,e,n){if(n==null)return"";var a=n;if(a.__emotion_styles!==void 0)return a;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return fa={name:i.name,styles:i.styles,next:fa},i.name;var l=n;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)fa={name:u.name,styles:u.styles,next:fa},u=u.next;var m=l.styles+";";return m}return oL(t,e,n)}case"function":{if(t!==void 0){var p=fa,g=n(t);return fa=p,ld(t,e,g)}break}}var v=n;if(e==null)return v;var E=e[v];return E!==void 0?E:v}function oL(t,e,n){var a="";if(Array.isArray(n))for(var i=0;i<n.length;i++)a+=ld(t,e,n[i])+";";else for(var l in n){var u=n[l];if(typeof u!="object"){var m=u;e!=null&&e[m]!==void 0?a+=l+"{"+e[m]+"}":QT(m)&&(a+=fy(l)+":"+XT(l,m)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var p=0;p<u.length;p++)QT(u[p])&&(a+=fy(l)+":"+XT(l,u[p])+";");else{var g=ld(t,e,u);switch(l){case"animation":case"animationName":{a+=fy(l)+":"+g+";";break}default:a+=l+"{"+g+"}"}}}return a}var WT=/label:\s*([^\s;{]+)\s*(;|$)/g,fa;function e2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,i="";fa=void 0;var l=t[0];if(l==null||l.raw===void 0)a=!1,i+=ld(n,e,l);else{var u=l;i+=u[0]}for(var m=1;m<t.length;m++)if(i+=ld(n,e,t[m]),a){var p=l;i+=p[m]}WT.lastIndex=0;for(var g="",v;(v=WT.exec(i))!==null;)g+="-"+v[1];var E=rL(i)+g;return{name:E,styles:i,next:fa}}var lL=function(e){return e()},cL=B1.useInsertionEffect?B1.useInsertionEffect:!1,uL=cL||lL,t2=I.createContext(typeof HTMLElement<"u"?JV({key:"css"}):null);t2.Provider;var dL=function(e){return I.forwardRef(function(n,a){var i=I.useContext(t2);return e(n,i,a)})},hL=I.createContext({}),fL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mL=XA(function(t){return fL.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),pL=mL,gL=function(e){return e!=="theme"},ZT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?pL:gL},JT=function(e,n,a){var i;if(n){var l=n.shouldForwardProp;i=e.__emotion_forwardProp&&l?function(u){return e.__emotion_forwardProp(u)&&l(u)}:l}return typeof i!="function"&&a&&(i=e.__emotion_forwardProp),i},yL=function(e){var n=e.cache,a=e.serialized,i=e.isStringTag;return ZA(n,a,i),uL(function(){return nL(n,a,i)}),null},vL=function t(e,n){var a=e.__emotion_real===e,i=a&&e.__emotion_base||e,l,u;n!==void 0&&(l=n.label,u=n.target);var m=JT(e,n,a),p=m||ZT(i),g=!p("as");return function(){var v=arguments,E=a&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&E.push("label:"+l+";"),v[0]==null||v[0].raw===void 0)E.push.apply(E,v);else{var w=v[0];E.push(w[0]);for(var S=v.length,A=1;A<S;A++)E.push(v[A],w[A])}var C=dL(function(j,z,F){var H=g&&j.as||i,ee="",q=[],X=j;if(j.theme==null){X={};for(var D in j)X[D]=j[D];X.theme=I.useContext(hL)}typeof j.className=="string"?ee=tL(z.registered,q,j.className):j.className!=null&&(ee=j.className+" ");var N=e2(E.concat(q),z.registered,X);ee+=z.key+"-"+N.name,u!==void 0&&(ee+=" "+u);var M=g&&m===void 0?ZT(H):p,L={};for(var O in j)g&&O==="as"||M(O)&&(L[O]=j[O]);return L.className=ee,F&&(L.ref=F),I.createElement(I.Fragment,null,I.createElement(yL,{cache:z,serialized:N,isStringTag:typeof H=="string"}),I.createElement(H,L))});return C.displayName=l!==void 0?l:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=E,C.__emotion_forwardProp=m,Object.defineProperty(C,"toString",{value:function(){return"."+u}}),C.withComponent=function(j,z){var F=t(j,Xy({},n,z,{shouldForwardProp:JT(C,z,!0)}));return F.apply(void 0,E)},C}},_L=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Jy=vL.bind(null);_L.forEach(function(t){Jy[t]=Jy(t)});function EL(t,e){return Jy(t,e)}function bL(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const ew=[];function Eo(t){return ew[0]=t,e2(ew)}const TL=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,a)=>n.val-a.val),e.reduce((n,a)=>({...n,[a.key]:a.val}),{})};function wL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5,...i}=t,l=TL(e),u=Object.keys(l);function m(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${n})`}function p(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-a/100}${n})`}function g(w,S){const A=u.indexOf(S);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${n}) and (max-width:${(A!==-1&&typeof e[u[A]]=="number"?e[u[A]]:S)-a/100}${n})`}function v(w){return u.indexOf(w)+1<u.length?g(w,u[u.indexOf(w)+1]):m(w)}function E(w){const S=u.indexOf(w);return S===0?m(u[1]):S===u.length-1?p(u[S]):g(w,u[u.indexOf(w)+1]).replace("@media","@media not all and")}return{keys:u,values:l,up:m,down:p,between:g,only:v,not:E,unit:n,...i}}const xL={borderRadius:4};function n2(t=8,e=v0({spacing:t})){if(t.mui)return t;const n=(...a)=>(a.length===0?[1]:a).map(l=>{const u=e(l);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function SL(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function r2(t={},...e){const{breakpoints:n={},palette:a={},spacing:i,shape:l={},...u}=t,m=wL(n),p=n2(i);let g=dr({breakpoints:m,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:p,shape:{...xL,...l}},u);return g=V5(g),g.applyStyles=SL,g=e.reduce((v,E)=>dr(v,E),g),g.unstable_sxConfig={...Um,...u?.unstable_sxConfig},g.unstable_sx=function(E){return rc({sx:E,theme:this})},g}const AL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function a2(t,e,n="Mui"){const a=AL[e];return a?`${n}-${a}`:`${D5.generate(t)}-${e}`}function CL(t,e,n="Mui"){const a={};return e.forEach(i=>{a[i]=a2(t,i,n)}),a}function s2(t){const{variants:e,...n}=t,a={variants:e,style:Eo(n),isProcessed:!0};return a.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Eo(i.style))}),a}const NL=r2();function my(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function yo(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function RL(t){return t?(e,n)=>n[t]:null}function IL(t,e,n){t.theme=kL(t.theme)?n:t.theme[e]||t.theme}function Nf(t,e,n){const a=typeof e=="function"?e(t):e;if(Array.isArray(a))return a.flatMap(i=>Nf(t,i,n));if(Array.isArray(a?.variants)){let i;if(a.isProcessed)i=n?yo(a.style,n):a.style;else{const{variants:l,...u}=a;i=n?yo(Eo(u),n):u}return i2(t,a.variants,[i],n)}return a?.isProcessed?n?yo(Eo(a.style),n):a.style:n?yo(Eo(a),n):a}function i2(t,e,n=[],a=void 0){let i;e:for(let l=0;l<e.length;l+=1){const u=e[l];if(typeof u.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!u.props(i))continue}else for(const m in u.props)if(t[m]!==u.props[m]&&t.ownerState?.[m]!==u.props[m])continue e;typeof u.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(a?yo(Eo(u.style(i)),a):u.style(i))):n.push(a?yo(Eo(u.style),a):u.style)}return n}function DL(t={}){const{themeId:e,defaultTheme:n=NL,rootShouldForwardProp:a=my,slotShouldForwardProp:i=my}=t;function l(m){IL(m,e,n)}return(m,p={})=>{bL(m,X=>X.filter(D=>D!==rc));const{name:g,slot:v,skipVariantsResolver:E,skipSx:w,overridesResolver:S=RL(PL(v)),...A}=p,C=g&&g.startsWith("Mui")||v?"components":"custom",j=E!==void 0?E:v&&v!=="Root"&&v!=="root"||!1,z=w||!1;let F=my;v==="Root"||v==="root"?F=a:v?F=i:OL(m)&&(F=void 0);const H=EL(m,{shouldForwardProp:F,label:jL(),...A}),ee=X=>{if(X.__emotion_real===X)return X;if(typeof X=="function")return function(N){return Nf(N,X,N.theme.modularCssLayers?C:void 0)};if(Za(X)){const D=s2(X);return function(M){return D.variants?Nf(M,D,M.theme.modularCssLayers?C:void 0):M.theme.modularCssLayers?yo(D.style,C):D.style}}return X},q=(...X)=>{const D=[],N=X.map(ee),M=[];if(D.push(l),g&&S&&M.push(function(k){const ae=k.theme.components?.[g]?.styleOverrides;if(!ae)return null;const G={};for(const $ in ae)G[$]=Nf(k,ae[$],k.theme.modularCssLayers?"theme":void 0);return S(k,G)}),g&&!j&&M.push(function(k){const ae=k.theme?.components?.[g]?.variants;return ae?i2(k,ae,[],k.theme.modularCssLayers?"theme":void 0):null}),z||M.push(rc),Array.isArray(N[0])){const b=N.shift(),k=new Array(D.length).fill(""),ie=new Array(M.length).fill("");let ae;ae=[...k,...b,...ie],ae.raw=[...k,...b.raw,...ie],D.unshift(ae)}const L=[...D,...N,...M],O=H(...L);return m.muiName&&(O.muiName=m.muiName),O};return H.withConfig&&(q.withConfig=H.withConfig),q}}function jL(t,e){return void 0}function kL(t){for(const e in t)return!1;return!0}function OL(t){return typeof t=="string"&&t.charCodeAt(0)>96}function PL(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function ev(t,e,n=!1){const a={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=i;if(l==="components"||l==="slots")a[l]={...t[l],...a[l]};else if(l==="componentsProps"||l==="slotProps"){const u=t[l],m=e[l];if(!m)a[l]=u||{};else if(!u)a[l]=m;else{a[l]={...m};for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const g=p;a[l][g]=ev(u[g],m[g],n)}}}else l==="className"&&n&&e.className?a.className=zA(t?.className,e?.className):l==="style"&&n&&e.style?a.style={...t?.style,...e?.style}:a[l]===void 0&&(a[l]=t[l])}return a}function ML(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function w0(t,e=0,n=1){return ML(t,e,n)}function VL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(a=>a+a)),n?`rgb${n.length===4?"a":""}(${n.map((a,i)=>i<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function Ei(t){if(t.type)return t;if(t.charAt(0)==="#")return Ei(VL(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Do(9,t));let a=t.substring(e+1,t.length-1),i;if(n==="color"){if(a=a.split(" "),i=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Do(10,i))}else a=a.split(",");return a=a.map(l=>parseFloat(l)),{type:n,values:a,colorSpace:i}}const LL=t=>{const e=Ei(t);return e.values.slice(0,3).map((n,a)=>e.type.includes("hsl")&&a!==0?`${n}%`:n).join(" ")},Pu=(t,e)=>{try{return LL(t)}catch{return t}};function Fm(t){const{type:e,colorSpace:n}=t;let{values:a}=t;return e.includes("rgb")?a=a.map((i,l)=>l<3?parseInt(i,10):i):e.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),e.includes("color")?a=`${n} ${a.join(" ")}`:a=`${a.join(", ")}`,`${e}(${a})`}function o2(t){t=Ei(t);const{values:e}=t,n=e[0],a=e[1]/100,i=e[2]/100,l=a*Math.min(i,1-i),u=(g,v=(g+n/30)%12)=>i-l*Math.max(Math.min(v-3,9-v,1),-1);let m="rgb";const p=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(m+="a",p.push(e[3])),Fm({type:m,values:p})}function tv(t){t=Ei(t);let e=t.type==="hsl"||t.type==="hsla"?Ei(o2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function UL(t,e){const n=tv(t),a=tv(e);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)}function l2(t,e){return t=Ei(t),e=w0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Fm(t)}function ho(t,e,n){try{return l2(t,e)}catch{return t}}function $m(t,e){if(t=Ei(t),e=w0(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Fm(t)}function ht(t,e,n){try{return $m(t,e)}catch{return t}}function Hm(t,e){if(t=Ei(t),e=w0(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Fm(t)}function ft(t,e,n){try{return Hm(t,e)}catch{return t}}function zL(t,e=.15){return tv(t)>.5?$m(t,e):Hm(t,e)}function of(t,e,n){try{return zL(t,e)}catch{return t}}const BL=I.createContext(void 0);function qL(t){const{theme:e,name:n,props:a}=t;if(!e||!e.components||!e.components[n])return a;const i=e.components[n];return i.defaultProps?ev(i.defaultProps,a,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?ev(i,a,e.components.mergeClassNameAndStyle):a}function FL({props:t,name:e}){const n=I.useContext(BL);return qL({props:t,name:e,theme:{components:n}})}const tw={theme:void 0};function $L(t){let e,n;return function(i){let l=e;return(l===void 0||i.theme!==n)&&(tw.theme=i.theme,l=s2(t(tw)),e=l,n=i.theme),l}}function HL(t=""){function e(...a){if(!a.length)return"";const i=a[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...a.slice(1))})`:`, ${i}`}return(a,...i)=>`var(--${t?`${t}-`:""}${a}${e(...i)})`}const nw=(t,e,n,a=[])=>{let i=t;e.forEach((l,u)=>{u===e.length-1?Array.isArray(i)?i[Number(l)]=n:i&&typeof i=="object"&&(i[l]=n):i&&typeof i=="object"&&(i[l]||(i[l]=a.includes(l)?[]:{}),i=i[l])})},GL=(t,e,n)=>{function a(i,l=[],u=[]){Object.entries(i).forEach(([m,p])=>{(!n||n&&!n([...l,m]))&&p!=null&&(typeof p=="object"&&Object.keys(p).length>0?a(p,[...l,m],Array.isArray(p)?[...u,m]:u):e([...l,m],p,u))})}a(t)},KL=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>t.includes(a))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function py(t,e){const{prefix:n,shouldSkipGeneratingVar:a}=e||{},i={},l={},u={};return GL(t,(m,p,g)=>{if((typeof p=="string"||typeof p=="number")&&(!a||!a(m,p))){const v=`--${n?`${n}-`:""}${m.join("-")}`,E=KL(m,p);Object.assign(i,{[v]:E}),nw(l,m,`var(${v})`,g),nw(u,m,`var(${v}, ${E})`,g)}},m=>m[0]==="vars"),{css:i,vars:l,varsWithDefaults:u}}function YL(t,e={}){const{getSelector:n=z,disableCssColorScheme:a,colorSchemeSelector:i,enableContrastVars:l}=e,{colorSchemes:u={},components:m,defaultColorScheme:p="light",...g}=t,{vars:v,css:E,varsWithDefaults:w}=py(g,e);let S=w;const A={},{[p]:C,...j}=u;if(Object.entries(j||{}).forEach(([ee,q])=>{const{vars:X,css:D,varsWithDefaults:N}=py(q,e);S=dr(S,N),A[ee]={css:D,vars:X}}),C){const{css:ee,vars:q,varsWithDefaults:X}=py(C,e);S=dr(S,X),A[p]={css:ee,vars:q}}function z(ee,q){let X=i;if(i==="class"&&(X=".%s"),i==="data"&&(X="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(X=`[${i}="%s"]`),ee){if(X==="media")return t.defaultColorScheme===ee?":root":{[`@media (prefers-color-scheme: ${u[ee]?.palette?.mode||ee})`]:{":root":q}};if(X)return t.defaultColorScheme===ee?`:root, ${X.replace("%s",String(ee))}`:X.replace("%s",String(ee))}return":root"}return{vars:S,generateThemeVars:()=>{let ee={...v};return Object.entries(A).forEach(([,{vars:q}])=>{ee=dr(ee,q)}),ee},generateStyleSheets:()=>{const ee=[],q=t.defaultColorScheme||"light";function X(M,L){Object.keys(L).length&&ee.push(typeof M=="string"?{[M]:{...L}}:M)}X(n(void 0,{...E}),E);const{[q]:D,...N}=A;if(D){const{css:M}=D,L=u[q]?.palette?.mode,O=!a&&L?{colorScheme:L,...M}:{...M};X(n(q,{...O}),O)}return Object.entries(N).forEach(([M,{css:L}])=>{const O=u[M]?.palette?.mode,b=!a&&O?{colorScheme:O,...L}:{...L};X(n(M,{...b}),b)}),l&&ee.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),ee}}}function QL(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const cd={black:"#000",white:"#fff"},XL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Al={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Cl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Cu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Nl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Il={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function c2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cd.white,default:cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const u2=c2();function d2(){return{text:{primary:cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const nv=d2();function rw(t,e,n,a){const i=a.light||a,l=a.dark||a*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Hm(t.main,i):e==="dark"&&(t.dark=$m(t.main,l)))}function aw(t,e,n,a,i){const l=i.light||i,u=i.dark||i*1.5;e[n]||(e.hasOwnProperty(a)?e[n]=e[a]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(l*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function WL(t="light"){return t==="dark"?{main:Nl[200],light:Nl[50],dark:Nl[400]}:{main:Nl[700],light:Nl[400],dark:Nl[800]}}function ZL(t="light"){return t==="dark"?{main:Al[200],light:Al[50],dark:Al[400]}:{main:Al[500],light:Al[300],dark:Al[700]}}function JL(t="light"){return t==="dark"?{main:Cl[500],light:Cl[300],dark:Cl[700]}:{main:Cl[700],light:Cl[400],dark:Cl[800]}}function e9(t="light"){return t==="dark"?{main:Rl[400],light:Rl[300],dark:Rl[700]}:{main:Rl[700],light:Rl[500],dark:Rl[900]}}function t9(t="light"){return t==="dark"?{main:Il[400],light:Il[300],dark:Il[700]}:{main:Il[800],light:Il[500],dark:Il[900]}}function n9(t="light"){return t==="dark"?{main:Cu[400],light:Cu[300],dark:Cu[700]}:{main:"#ed6c02",light:Cu[500],dark:Cu[900]}}function r9(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function x0(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2,colorSpace:i,...l}=t,u=t.primary||WL(e),m=t.secondary||ZL(e),p=t.error||JL(e),g=t.info||e9(e),v=t.success||t9(e),E=t.warning||n9(e);function w(j){return i?r9(j):UL(j,nv.text.primary)>=n?nv.text.primary:u2.text.primary}const S=({color:j,name:z,mainShade:F=500,lightShade:H=300,darkShade:ee=700})=>{if(j={...j},!j.main&&j[F]&&(j.main=j[F]),!j.hasOwnProperty("main"))throw new Error(Do(11,z?` (${z})`:"",F));if(typeof j.main!="string")throw new Error(Do(12,z?` (${z})`:"",JSON.stringify(j.main)));return i?(aw(i,j,"light",H,a),aw(i,j,"dark",ee,a)):(rw(j,"light",H,a),rw(j,"dark",ee,a)),j.contrastText||(j.contrastText=w(j.main)),j};let A;return e==="light"?A=c2():e==="dark"&&(A=d2()),dr({common:{...cd},mode:e,primary:S({color:u,name:"primary"}),secondary:S({color:m,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:p,name:"error"}),warning:S({color:E,name:"warning"}),info:S({color:g,name:"info"}),success:S({color:v,name:"success"}),grey:XL,contrastThreshold:n,getContrastText:w,augmentColor:S,tonalOffset:a,...A},l)}function a9(t){const e={};return Object.entries(t).forEach(a=>{const[i,l]=a;typeof l=="object"&&(e[i]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),e}function s9(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function i9(t){return Math.round(t*1e5)/1e5}const sw={textTransform:"uppercase"},iw='"Roboto", "Helvetica", "Arial", sans-serif';function o9(t,e){const{fontFamily:n=iw,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:m=700,htmlFontSize:p=16,allVariants:g,pxToRem:v,...E}=typeof e=="function"?e(t):e,w=a/14,S=v||(j=>`${j/p*w}rem`),A=(j,z,F,H,ee)=>({fontFamily:n,fontWeight:j,fontSize:S(z),lineHeight:F,...n===iw?{letterSpacing:`${i9(H/z)}em`}:{},...ee,...g}),C={h1:A(i,96,1.167,-1.5),h2:A(i,60,1.2,-.5),h3:A(l,48,1.167,0),h4:A(l,34,1.235,.25),h5:A(l,24,1.334,0),h6:A(u,20,1.6,.15),subtitle1:A(l,16,1.75,.15),subtitle2:A(u,14,1.57,.1),body1:A(l,16,1.5,.15),body2:A(l,14,1.43,.15),button:A(u,14,1.75,.4,sw),caption:A(l,12,1.66,.4),overline:A(l,12,2.66,1,sw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dr({htmlFontSize:p,pxToRem:S,fontFamily:n,fontSize:a,fontWeightLight:i,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:m,...C},E,{clone:!1})}const l9=.2,c9=.14,u9=.12;function Ct(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${l9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${c9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${u9})`].join(",")}const d9=["none",Ct(0,2,1,-1,0,1,1,0,0,1,3,0),Ct(0,3,1,-2,0,2,2,0,0,1,5,0),Ct(0,3,3,-2,0,3,4,0,0,1,8,0),Ct(0,2,4,-1,0,4,5,0,0,1,10,0),Ct(0,3,5,-1,0,5,8,0,0,1,14,0),Ct(0,3,5,-1,0,6,10,0,0,1,18,0),Ct(0,4,5,-2,0,7,10,1,0,2,16,1),Ct(0,5,5,-3,0,8,10,1,0,3,14,2),Ct(0,5,6,-3,0,9,12,1,0,3,16,2),Ct(0,6,6,-3,0,10,14,1,0,4,18,3),Ct(0,6,7,-4,0,11,15,1,0,4,20,3),Ct(0,7,8,-4,0,12,17,2,0,5,22,4),Ct(0,7,8,-4,0,13,19,2,0,5,24,4),Ct(0,7,9,-4,0,14,21,2,0,5,26,4),Ct(0,8,9,-5,0,15,22,2,0,6,28,5),Ct(0,8,10,-5,0,16,24,2,0,6,30,5),Ct(0,8,11,-5,0,17,26,2,0,6,32,5),Ct(0,9,11,-5,0,18,28,2,0,7,34,6),Ct(0,9,12,-6,0,19,29,2,0,7,36,6),Ct(0,10,13,-6,0,20,31,3,0,8,38,7),Ct(0,10,13,-6,0,21,33,3,0,8,40,7),Ct(0,10,14,-6,0,22,35,3,0,8,42,7),Ct(0,11,14,-7,0,23,36,3,0,9,44,8),Ct(0,11,15,-7,0,24,38,3,0,9,46,8)],h9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},f9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ow(t){return`${Math.round(t)}ms`}function m9(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function p9(t){const e={...h9,...t.easing},n={...f9,...t.duration};return{getAutoHeightDuration:m9,create:(i=["all"],l={})=>{const{duration:u=n.standard,easing:m=e.easeInOut,delay:p=0,...g}=l;return(Array.isArray(i)?i:[i]).map(v=>`${v} ${typeof u=="string"?u:ow(u)} ${m} ${typeof p=="string"?p:ow(p)}`).join(",")},...t,easing:e,duration:n}}const g9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function y9(t){return Za(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function h2(t={}){const e={...t};function n(a){const i=Object.entries(a);for(let l=0;l<i.length;l++){const[u,m]=i[l];!y9(m)||u.startsWith("unstable_")?delete a[u]:Za(m)&&(a[u]={...m},n(a[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function lw(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const v9=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let a=0;a<e.length;a+=1)n+=+e[a];return n};function _9(t){Object.assign(t,{alpha(e,n){const a=this||t;return a.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:a.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:l2(e,v9(n))},lighten(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #fff ${lw(n)})`:Hm(e,n)},darken(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #000 ${lw(n)})`:$m(e,n)}})}function rv(t={},...e){const{breakpoints:n,mixins:a={},spacing:i,palette:l={},transitions:u={},typography:m={},shape:p,colorSpace:g,...v}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Do(20));const E=x0({...l,colorSpace:g}),w=r2(t);let S=dr(w,{mixins:s9(w.breakpoints,a),palette:E,shadows:d9.slice(),typography:o9(E,m),transitions:p9(u),zIndex:{...g9}});return S=dr(S,v),S=e.reduce((A,C)=>dr(A,C),S),S.unstable_sxConfig={...Um,...v?.unstable_sxConfig},S.unstable_sx=function(C){return rc({sx:C,theme:this})},S.toRuntimeSource=h2,_9(S),S}function E9(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const b9=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=E9(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function f2(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function m2(t){return t==="dark"?b9:[]}function T9(t){const{palette:e={mode:"light"},opacity:n,overlays:a,colorSpace:i,...l}=t,u=x0({...e,colorSpace:i});return{palette:u,opacity:{...f2(u.mode),...n},overlays:a||m2(u.mode),...l}}function w9(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const x9=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],S9=t=>(e,n)=>{const a=t.rootSelector||":root",i=t.colorSchemeSelector;let l=i;if(i==="class"&&(l=".%s"),i==="data"&&(l="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(l=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return x9(t.cssVarPrefix).forEach(m=>{u[m]=n[m],delete n[m]}),l==="media"?{[a]:n,"@media (prefers-color-scheme: dark)":{[a]:u}}:l?{[l.replace("%s",e)]:u,[`${a}, ${l.replace("%s",e)}`]:n}:{[a]:{...n,...u}}}if(l&&l!=="media")return`${a}, ${l.replace("%s",String(e))}`}else if(e){if(l==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[a]:n}};if(l)return l.replace("%s",String(e))}return a};function A9(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function se(t,e,n){!t[e]&&n&&(t[e]=n)}function Mu(t){return typeof t!="string"||!t.startsWith("hsl")?t:o2(t)}function Wa(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Pu(Mu(t[e])))}function C9(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ca=t=>{try{return t()}catch{}},N9=(t="mui")=>HL(t);function gy(t,e,n,a,i){if(!n)return;n=n===!0?{}:n;const l=i==="dark"?"dark":"light";if(!a){e[i]=T9({...n,palette:{mode:l,...n?.palette},colorSpace:t});return}const{palette:u,...m}=rv({...a,palette:{mode:l,...n?.palette},colorSpace:t});return e[i]={...n,palette:u,opacity:{...f2(l),...n?.opacity},overlays:n?.overlays||m2(l)},m}function R9(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:a,disableCssColorScheme:i=!1,cssVarPrefix:l="mui",nativeColor:u=!1,shouldSkipGeneratingVar:m=w9,colorSchemeSelector:p=n.light&&n.dark?"media":void 0,rootSelector:g=":root",...v}=t,E=Object.keys(n)[0],w=a||(n.light&&E!=="light"?"light":E),S=N9(l),{[w]:A,light:C,dark:j,...z}=n,F={...z};let H=A;if((w==="dark"&&!("dark"in n)||w==="light"&&!("light"in n))&&(H=!0),!H)throw new Error(Do(21,w));let ee;u&&(ee="oklch");const q=gy(ee,F,H,v,w);C&&!F.light&&gy(ee,F,C,void 0,"light"),j&&!F.dark&&gy(ee,F,j,void 0,"dark");let X={defaultColorScheme:w,...q,cssVarPrefix:l,colorSchemeSelector:p,rootSelector:g,getCssVar:S,colorSchemes:F,font:{...a9(q.typography),...q.font},spacing:C9(v.spacing)};Object.keys(X.colorSchemes).forEach(O=>{const b=X.colorSchemes[O].palette,k=ae=>{const G=ae.split("-"),$=G[1],re=G[2];return S(ae,b[$][re])};b.mode==="light"&&(se(b.common,"background","#fff"),se(b.common,"onBackground","#000")),b.mode==="dark"&&(se(b.common,"background","#000"),se(b.common,"onBackground","#fff"));function ie(ae,G,$){if(ee){let re;return ae===ho&&(re=`transparent ${((1-$)*100).toFixed(0)}%`),ae===ht&&(re=`#000 ${($*100).toFixed(0)}%`),ae===ft&&(re=`#fff ${($*100).toFixed(0)}%`),`color-mix(in ${ee}, ${G}, ${re})`}return ae(G,$)}if(A9(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){se(b.Alert,"errorColor",ie(ht,b.error.light,.6)),se(b.Alert,"infoColor",ie(ht,b.info.light,.6)),se(b.Alert,"successColor",ie(ht,b.success.light,.6)),se(b.Alert,"warningColor",ie(ht,b.warning.light,.6)),se(b.Alert,"errorFilledBg",k("palette-error-main")),se(b.Alert,"infoFilledBg",k("palette-info-main")),se(b.Alert,"successFilledBg",k("palette-success-main")),se(b.Alert,"warningFilledBg",k("palette-warning-main")),se(b.Alert,"errorFilledColor",ca(()=>b.getContrastText(b.error.main))),se(b.Alert,"infoFilledColor",ca(()=>b.getContrastText(b.info.main))),se(b.Alert,"successFilledColor",ca(()=>b.getContrastText(b.success.main))),se(b.Alert,"warningFilledColor",ca(()=>b.getContrastText(b.warning.main))),se(b.Alert,"errorStandardBg",ie(ft,b.error.light,.9)),se(b.Alert,"infoStandardBg",ie(ft,b.info.light,.9)),se(b.Alert,"successStandardBg",ie(ft,b.success.light,.9)),se(b.Alert,"warningStandardBg",ie(ft,b.warning.light,.9)),se(b.Alert,"errorIconColor",k("palette-error-main")),se(b.Alert,"infoIconColor",k("palette-info-main")),se(b.Alert,"successIconColor",k("palette-success-main")),se(b.Alert,"warningIconColor",k("palette-warning-main")),se(b.AppBar,"defaultBg",k("palette-grey-100")),se(b.Avatar,"defaultBg",k("palette-grey-400")),se(b.Button,"inheritContainedBg",k("palette-grey-300")),se(b.Button,"inheritContainedHoverBg",k("palette-grey-A100")),se(b.Chip,"defaultBorder",k("palette-grey-400")),se(b.Chip,"defaultAvatarColor",k("palette-grey-700")),se(b.Chip,"defaultIconColor",k("palette-grey-700")),se(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(b.LinearProgress,"primaryBg",ie(ft,b.primary.main,.62)),se(b.LinearProgress,"secondaryBg",ie(ft,b.secondary.main,.62)),se(b.LinearProgress,"errorBg",ie(ft,b.error.main,.62)),se(b.LinearProgress,"infoBg",ie(ft,b.info.main,.62)),se(b.LinearProgress,"successBg",ie(ft,b.success.main,.62)),se(b.LinearProgress,"warningBg",ie(ft,b.warning.main,.62)),se(b.Skeleton,"bg",ee?ie(ho,b.text.primary,.11):`rgba(${k("palette-text-primaryChannel")} / 0.11)`),se(b.Slider,"primaryTrack",ie(ft,b.primary.main,.62)),se(b.Slider,"secondaryTrack",ie(ft,b.secondary.main,.62)),se(b.Slider,"errorTrack",ie(ft,b.error.main,.62)),se(b.Slider,"infoTrack",ie(ft,b.info.main,.62)),se(b.Slider,"successTrack",ie(ft,b.success.main,.62)),se(b.Slider,"warningTrack",ie(ft,b.warning.main,.62));const ae=ee?ie(ht,b.background.default,.6825):of(b.background.default,.8);se(b.SnackbarContent,"bg",ae),se(b.SnackbarContent,"color",ca(()=>ee?nv.text.primary:b.getContrastText(ae))),se(b.SpeedDialAction,"fabHoverBg",of(b.background.paper,.15)),se(b.StepConnector,"border",k("palette-grey-400")),se(b.StepContent,"border",k("palette-grey-400")),se(b.Switch,"defaultColor",k("palette-common-white")),se(b.Switch,"defaultDisabledColor",k("palette-grey-100")),se(b.Switch,"primaryDisabledColor",ie(ft,b.primary.main,.62)),se(b.Switch,"secondaryDisabledColor",ie(ft,b.secondary.main,.62)),se(b.Switch,"errorDisabledColor",ie(ft,b.error.main,.62)),se(b.Switch,"infoDisabledColor",ie(ft,b.info.main,.62)),se(b.Switch,"successDisabledColor",ie(ft,b.success.main,.62)),se(b.Switch,"warningDisabledColor",ie(ft,b.warning.main,.62)),se(b.TableCell,"border",ie(ft,ie(ho,b.divider,1),.88)),se(b.Tooltip,"bg",ie(ho,b.grey[700],.92))}if(b.mode==="dark"){se(b.Alert,"errorColor",ie(ft,b.error.light,.6)),se(b.Alert,"infoColor",ie(ft,b.info.light,.6)),se(b.Alert,"successColor",ie(ft,b.success.light,.6)),se(b.Alert,"warningColor",ie(ft,b.warning.light,.6)),se(b.Alert,"errorFilledBg",k("palette-error-dark")),se(b.Alert,"infoFilledBg",k("palette-info-dark")),se(b.Alert,"successFilledBg",k("palette-success-dark")),se(b.Alert,"warningFilledBg",k("palette-warning-dark")),se(b.Alert,"errorFilledColor",ca(()=>b.getContrastText(b.error.dark))),se(b.Alert,"infoFilledColor",ca(()=>b.getContrastText(b.info.dark))),se(b.Alert,"successFilledColor",ca(()=>b.getContrastText(b.success.dark))),se(b.Alert,"warningFilledColor",ca(()=>b.getContrastText(b.warning.dark))),se(b.Alert,"errorStandardBg",ie(ht,b.error.light,.9)),se(b.Alert,"infoStandardBg",ie(ht,b.info.light,.9)),se(b.Alert,"successStandardBg",ie(ht,b.success.light,.9)),se(b.Alert,"warningStandardBg",ie(ht,b.warning.light,.9)),se(b.Alert,"errorIconColor",k("palette-error-main")),se(b.Alert,"infoIconColor",k("palette-info-main")),se(b.Alert,"successIconColor",k("palette-success-main")),se(b.Alert,"warningIconColor",k("palette-warning-main")),se(b.AppBar,"defaultBg",k("palette-grey-900")),se(b.AppBar,"darkBg",k("palette-background-paper")),se(b.AppBar,"darkColor",k("palette-text-primary")),se(b.Avatar,"defaultBg",k("palette-grey-600")),se(b.Button,"inheritContainedBg",k("palette-grey-800")),se(b.Button,"inheritContainedHoverBg",k("palette-grey-700")),se(b.Chip,"defaultBorder",k("palette-grey-700")),se(b.Chip,"defaultAvatarColor",k("palette-grey-300")),se(b.Chip,"defaultIconColor",k("palette-grey-300")),se(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(b.LinearProgress,"primaryBg",ie(ht,b.primary.main,.5)),se(b.LinearProgress,"secondaryBg",ie(ht,b.secondary.main,.5)),se(b.LinearProgress,"errorBg",ie(ht,b.error.main,.5)),se(b.LinearProgress,"infoBg",ie(ht,b.info.main,.5)),se(b.LinearProgress,"successBg",ie(ht,b.success.main,.5)),se(b.LinearProgress,"warningBg",ie(ht,b.warning.main,.5)),se(b.Skeleton,"bg",ee?ie(ho,b.text.primary,.13):`rgba(${k("palette-text-primaryChannel")} / 0.13)`),se(b.Slider,"primaryTrack",ie(ht,b.primary.main,.5)),se(b.Slider,"secondaryTrack",ie(ht,b.secondary.main,.5)),se(b.Slider,"errorTrack",ie(ht,b.error.main,.5)),se(b.Slider,"infoTrack",ie(ht,b.info.main,.5)),se(b.Slider,"successTrack",ie(ht,b.success.main,.5)),se(b.Slider,"warningTrack",ie(ht,b.warning.main,.5));const ae=ee?ie(ft,b.background.default,.985):of(b.background.default,.98);se(b.SnackbarContent,"bg",ae),se(b.SnackbarContent,"color",ca(()=>ee?u2.text.primary:b.getContrastText(ae))),se(b.SpeedDialAction,"fabHoverBg",of(b.background.paper,.15)),se(b.StepConnector,"border",k("palette-grey-600")),se(b.StepContent,"border",k("palette-grey-600")),se(b.Switch,"defaultColor",k("palette-grey-300")),se(b.Switch,"defaultDisabledColor",k("palette-grey-600")),se(b.Switch,"primaryDisabledColor",ie(ht,b.primary.main,.55)),se(b.Switch,"secondaryDisabledColor",ie(ht,b.secondary.main,.55)),se(b.Switch,"errorDisabledColor",ie(ht,b.error.main,.55)),se(b.Switch,"infoDisabledColor",ie(ht,b.info.main,.55)),se(b.Switch,"successDisabledColor",ie(ht,b.success.main,.55)),se(b.Switch,"warningDisabledColor",ie(ht,b.warning.main,.55)),se(b.TableCell,"border",ie(ht,ie(ho,b.divider,1),.68)),se(b.Tooltip,"bg",ie(ho,b.grey[700],.92))}Wa(b.background,"default"),Wa(b.background,"paper"),Wa(b.common,"background"),Wa(b.common,"onBackground"),Wa(b,"divider"),Object.keys(b).forEach(ae=>{const G=b[ae];ae!=="tonalOffset"&&G&&typeof G=="object"&&(G.main&&se(b[ae],"mainChannel",Pu(Mu(G.main))),G.light&&se(b[ae],"lightChannel",Pu(Mu(G.light))),G.dark&&se(b[ae],"darkChannel",Pu(Mu(G.dark))),G.contrastText&&se(b[ae],"contrastTextChannel",Pu(Mu(G.contrastText))),ae==="text"&&(Wa(b[ae],"primary"),Wa(b[ae],"secondary")),ae==="action"&&(G.active&&Wa(b[ae],"active"),G.selected&&Wa(b[ae],"selected")))})}),X=e.reduce((O,b)=>dr(O,b),X);const D={prefix:l,disableCssColorScheme:i,shouldSkipGeneratingVar:m,getSelector:S9(X),enableContrastVars:u},{vars:N,generateThemeVars:M,generateStyleSheets:L}=YL(X,D);return X.vars=N,Object.entries(X.colorSchemes[X.defaultColorScheme]).forEach(([O,b])=>{X[O]=b}),X.generateThemeVars=M,X.generateStyleSheets=L,X.generateSpacing=function(){return n2(v.spacing,v0(this))},X.getColorSchemeSelector=QL(p),X.spacing=X.generateSpacing(),X.shouldSkipGeneratingVar=m,X.unstable_sxConfig={...Um,...v?.unstable_sxConfig},X.unstable_sx=function(b){return rc({sx:b,theme:this})},X.toRuntimeSource=h2,X}function cw(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:x0({...n===!0?{}:n.palette,mode:e})})}function I9(t={},...e){const{palette:n,cssVariables:a=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:l=n?.mode,...u}=t,m=l||"light",p=i?.[m],g={...i,...n?{[m]:{...typeof p!="boolean"&&p,palette:n}}:void 0};if(a===!1){if(!("colorSchemes"in t))return rv(t,...e);let v=n;"palette"in t||g[m]&&(g[m]!==!0?v=g[m].palette:m==="dark"&&(v={mode:"dark"}));const E=rv({...t,palette:v},...e);return E.defaultColorScheme=m,E.colorSchemes=g,E.palette.mode==="light"&&(E.colorSchemes.light={...g.light!==!0&&g.light,palette:E.palette},cw(E,"dark",g.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...g.dark!==!0&&g.dark,palette:E.palette},cw(E,"light",g.light)),E}return!n&&!("light"in g)&&m==="light"&&(g.light=!0),R9({...u,colorSchemes:g,defaultColorScheme:m,...typeof a!="boolean"&&a},...e)}const D9=I9(),j9="$$material";function k9(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const O9=t=>k9(t)&&t!=="classes",P9=DL({themeId:j9,defaultTheme:D9,rootShouldForwardProp:O9}),M9=$L;function V9(t){return FL(t)}function L9(t){return a2("MuiSvgIcon",t)}CL("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const U9=t=>{const{color:e,fontSize:n,classes:a}=t,i={root:["root",e!=="inherit"&&`color${nc(e)}`,`fontSize${nc(n)}`]};return j5(i,L9,a)},z9=P9("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${nc(n.color)}`],e[`fontSize${nc(n.fontSize)}`]]}})(M9(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),av=I.forwardRef(function(e,n){const a=V9({props:e,name:"MuiSvgIcon"}),{children:i,className:l,color:u="inherit",component:m="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:v=!1,titleAccess:E,viewBox:w="0 0 24 24",...S}=a,A=I.isValidElement(i)&&i.type==="svg",C={...a,color:u,component:m,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:w,hasSvgAsChild:A},j={};v||(j.viewBox=w);const z=U9(C);return d.jsxs(z9,{as:m,className:zA(z.root,l),focusable:"false",color:g,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:n,...j,...S,...A&&i.props,ownerState:C,children:[A?i.props.children:i,E?d.jsx("title",{children:E}):null]})});av.muiName="SvgIcon";function B9(t,e){function n(a,i){return d.jsx(av,{"data-testid":void 0,ref:i,...a,children:t})}return n.muiName=av.muiName,I.memo(I.forwardRef(n))}const q9=B9(d.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),sc=({variant:t="primary",size:e="md",isLoading:n=!1,children:a,className:i="",disabled:l,...u})=>{const p=`btn--${t}`,g=`btn--${e}`,v=`btn ${p} ${g} ${i}`.trim();return d.jsxs("button",{className:v,disabled:l||n,...u,children:[n&&d.jsxs("svg",{className:"btn__spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",opacity:"0.25"}),d.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",opacity:"0.75"})]}),a]})},uw=()=>{const[t,e]=I.useState({email:"",password:""}),[n,a]=I.useState(!1),{login:i,error:l,loading:u,clearError:m}=On(),p=cc(),g=E=>{const{name:w,value:S}=E.target;e(A=>({...A,[w]:S})),l&&m()},v=async E=>{if(E.preventDefault(),!t.email||!t.password){alert("Por favor, preencha todos os campos");return}try{await i(t),p(sr.dashboard)}catch(w){console.error("Erro ao fazer login:",w)}};return d.jsx("div",{className:"login-container",children:d.jsx("div",{className:"login-form-container",children:d.jsxs("div",{className:"login-form-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("h2",{className:"login-title",children:"Entrar"}),d.jsx("p",{className:"login-subtitle",children:"Preencha os campos abaixo para entrar em sua conta"})]}),d.jsxs("form",{className:"login-form",onSubmit:v,children:[l&&d.jsxs("div",{className:"login-error",role:"alert",children:[d.jsx(q9,{className:"login-error-icon"}),d.jsx("span",{children:l})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{className:"login-label",htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:g,placeholder:"Digite seu email",className:"login-input"})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{className:"login-label",htmlFor:"password",children:"Senha"}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t.password,onChange:g,placeholder:"Digite sua senha",className:"login-input"})]}),d.jsxs("div",{className:"login-options",children:[d.jsxs("div",{className:"login-checkbox-container",children:[d.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:n,onChange:E=>a(E.target.checked),className:"login-checkbox"}),d.jsx("label",{className:"login-checkbox-label",htmlFor:"rememberMe",children:"Lembrar-me"})]}),d.jsx(Ql,{to:sr.forgotPassword,className:"login-link",children:"Esqueceu sua senha?"})," "]}),d.jsx("div",{className:"login-buttons",children:d.jsx(sc,{type:"submit",size:"lg",isLoading:u,disabled:!t.email||!t.password,className:"login-button",children:u?"Entrando...":"Entrar"})}),d.jsx("div",{className:"login-footer",children:d.jsxs("span",{className:"login-footer-text",children:["No tem uma conta?"," ",d.jsx(Ql,{to:sr.register,className:"login-footer-link",children:"Cadastrar"})]})})]})]})})})},p2=t=>{if(!t)return"";const n=t.replace(/\D/g,"").substring(0,11);return n.length<=10?n.replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):n.replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")},F9=t=>{if(!t)return 0;const e=t.replace(/\D/g,"");return Number(e)/100},$9=()=>{const[t,e]=I.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",role:"user"}),[n,a]=I.useState(!1),{register:i,error:l,loading:u,clearError:m}=On(),p=cc(),g=w=>{const{name:S,value:A}=w.target,C=S==="phone"?p2(A):A;e(j=>({...j,[S]:C})),l&&m()},v=()=>!t.name||!t.email||!t.password||!t.confirmPassword?"Todos os campos so obrigatrios":t.password.length<6?"A senha deve ter pelo menos 6 caracteres":t.password!==t.confirmPassword?"As senhas no coincidem":n?null:"Voc deve aceitar os termos de uso",E=async w=>{w.preventDefault();const S=v();if(S){alert(S);return}try{await i(t),p(sr.dashboard)}catch(A){console.error("Erro ao registrar usurio:",A)}};return d.jsx("div",{className:"register-container",children:d.jsx("div",{className:"register-form-container",children:d.jsxs("div",{className:"register-form-card",children:[d.jsxs("div",{className:"register-header",children:[d.jsx("h2",{className:"register-title",children:"Criar Conta"}),d.jsx("p",{className:"register-subtitle",children:"Preencha os campos abaixo para criar sua conta"})]}),d.jsxs("form",{className:"register-form",onSubmit:E,children:[l&&d.jsx("div",{className:"register-error",children:l}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{className:"register-label",htmlFor:"name",children:"Nome"}),d.jsx("input",{required:!0,autoComplete:"name",className:"register-input",type:"text",id:"name",name:"name",value:t.name,onChange:g,placeholder:"Digite seu nome"})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{className:"register-label",htmlFor:"email",children:"Email"}),d.jsx("input",{required:!0,autoComplete:"email",className:"register-input",type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Digite seu email"})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{htmlFor:"phone",className:"register-label",children:"Telefone (Opcional)"}),d.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:t.phone,onChange:g,className:"register-input",placeholder:"(11) 99999-9999",maxLength:15})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{htmlFor:"password",className:"register-label",children:"Senha"}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:g,className:"register-input",placeholder:"Digite sua senha (mn. 6 caracteres)"})]}),d.jsxs("div",{className:"register-field",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"register-label",children:"Confirmar senha"}),d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:g,className:"register-input",placeholder:"Confirme sua senha"})]}),d.jsxs("div",{className:"register-checkbox-container",children:[d.jsx("input",{id:"accept-terms",name:"accept-terms",type:"checkbox",checked:n,onChange:w=>a(w.target.checked),className:"register-checkbox"}),d.jsxs("label",{htmlFor:"accept-terms",className:"register-checkbox-label",children:["Concordo com os"," ",d.jsx("a",{href:"#",className:"register-terms-link",children:"Termos de Uso"})," ","e"," ",d.jsx("a",{href:"#",className:"register-terms-link",children:"Poltica de Privacidade"})]})]}),d.jsx("div",{className:"register-buttons",children:d.jsx(sc,{type:"submit",variant:"primary",size:"lg",isLoading:u,disabled:!t.name||!t.email||!t.password||!t.confirmPassword||!n,className:"register-button",children:u?"Cadastrando...":"Cadastrar"})}),d.jsx("div",{className:"register-footer",children:d.jsxs("p",{className:"register-footer-text",children:["J tem uma conta?"," ",d.jsx(Ql,{to:sr.login,className:"register-footer-link",children:"Entrar"})]})})]})]})})})},dw="company_info",Rf={async getCompanyInfo(){try{const t=Ye(Ee,"company",dw),e=await Hl(t);return e.exists()?{id:e.id,...e.data()}:null}catch(t){throw console.error("Erro ao buscar informaes da empresa:",t),t}},async saveCompanyInfo(t){try{const e=Ye(Ee,"company",dw);await $y(e,{...t,updatedAt:Nt()},{merge:!0})}catch(e){throw console.error("Erro ao salvar informaes da empresa:",e),e}},async uploadLogo(t){try{const e=e3(s3,`company/logo_${Date.now()}_${t.name}`);return await ZM(e,t),await JM(e)}catch(e){throw console.error("Erro ao fazer upload da logo:",e),e}}},ua="notifications",ar={async createNotification(t){try{const e=new Date;return{id:(await Yr(rt(Ee,ua),{...t,read:!1,createdAt:Xe.fromDate(e)})).id,...t,read:!1,createdAt:e}}catch(e){throw console.error("Erro ao criar notificao:",e),new Error("Erro ao criar notificao")}},async getNotificationsByUser(t){try{const e=sn(rt(Ee,ua),Lt("userId","==",t),ur("createdAt","desc"),B4(50)),n=await Xt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,userId:l.userId,type:l.type,title:l.title,message:l.message,read:l.read,link:l.link,metadata:l.metadata,createdAt:l.createdAt.toDate()})}),a}catch(e){throw console.error("Erro ao buscar notificaes:",e),new Error("Erro ao buscar notificaes")}},async getUnreadNotifications(t){try{const e=sn(rt(Ee,ua),Lt("userId","==",t),Lt("read","==",!1),ur("createdAt","desc")),n=await Xt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,userId:l.userId,type:l.type,title:l.title,message:l.message,read:l.read,link:l.link,metadata:l.metadata,createdAt:l.createdAt.toDate()})}),a}catch(e){throw console.error("Erro ao buscar notificaes no lidas:",e),new Error("Erro ao buscar notificaes no lidas")}},async markAsRead(t){try{const e=Ye(Ee,ua,t);await Bn(e,{read:!0})}catch(e){throw console.error("Erro ao marcar notificao como lida:",e),new Error("Erro ao marcar notificao como lida")}},async markAllAsRead(t){try{const e=sn(rt(Ee,ua),Lt("userId","==",t),Lt("read","==",!1)),n=await Xt(e),a=[];n.forEach(i=>{a.push(Bn(Ye(Ee,ua,i.id),{read:!0}))}),await Promise.all(a)}catch(e){throw console.error("Erro ao marcar todas como lidas:",e),new Error("Erro ao marcar todas como lidas")}},async deleteNotification(t){try{await qn(Ye(Ee,ua,t))}catch(e){throw console.error("Erro ao deletar notificao:",e),new Error("Erro ao deletar notificao")}},async deleteOldNotifications(t){try{const e=sn(rt(Ee,ua),Lt("userId","==",t),ur("createdAt","desc")),n=await Xt(e),a=[],i=new Date;i.setDate(i.getDate()-30);let l=0;n.forEach(u=>{const m=u.data(),p=m.createdAt.toDate(),g=m.read;if(p<i){a.push(qn(Ye(Ee,ua,u.id)));return}g&&(l++,l>100&&a.push(qn(Ye(Ee,ua,u.id))))}),a.length>0&&(await Promise.all(a),console.log(` ${a.length} notificaes antigas deletadas para usurio ${t}`))}catch(e){console.error("Erro ao deletar notificaes antigas:",e)}}},H9=t=>{const[e,n]=I.useState([]),[a,i]=I.useState(0),[l,u]=I.useState(!0),m=I.useCallback(async()=>{if(t)try{u(!0);const[E,w]=await Promise.all([ar.getNotificationsByUser(t),ar.getUnreadNotifications(t)]);n(E),i(w.length)}catch(E){console.error("Erro ao carregar notificaes:",E)}finally{u(!1)}},[t]);return I.useEffect(()=>{m(),t&&ar.deleteOldNotifications(t);const E=setInterval(()=>{t&&m()},3e4);return()=>clearInterval(E)},[t,m]),{notifications:e,unreadCount:a,loading:l,markAsRead:async E=>{try{await ar.markAsRead(E),await m()}catch(w){console.error("Erro ao marcar notificao como lida:",w)}},markAllAsRead:async()=>{if(t)try{await ar.markAllAsRead(t),await m()}catch(E){console.error("Erro ao marcar todas as notificaes como lidas:",E)}},deleteNotification:async E=>{try{await ar.deleteNotification(E),await m()}catch(w){console.error("Erro ao deletar notificao:",w)}},refresh:m}},G9=({onNavigate:t})=>{const{user:e}=On(),{notifications:n,unreadCount:a,loading:i,markAsRead:l,markAllAsRead:u,deleteNotification:m}=H9(e?.uid||""),[p,g]=I.useState(!1),v=I.useRef(null);I.useEffect(()=>{const j=z=>{v.current&&!v.current.contains(z.target)&&g(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const E=j=>{switch(j){case"ordem_prazo":return d.jsx(No,{size:20,className:"notification-icon warning"});case"pagamento_vencendo":return d.jsx(Dm,{size:20,className:"notification-icon danger"});case"etapa_parada":return d.jsx(sd,{size:20,className:"notification-icon alert"});case"ordem_concluida":return d.jsx(_i,{size:20,className:"notification-icon success"});default:return d.jsx(rf,{size:20,className:"notification-icon info"})}},w=async j=>{j.read||await l(j.id),j.link&&t&&(t(j.link),g(!1))},S=async()=>{await u()},A=async(j,z)=>{j.stopPropagation(),await m(z)},C=j=>{const F=new Date().getTime()-j.getTime(),H=Math.floor(F/6e4),ee=Math.floor(H/60),q=Math.floor(ee/24);return H<1?"Agora":H<60?`${H}min atrs`:ee<24?`${ee}h atrs`:q===1?"Ontem":q<7?`${q} dias atrs`:j.toLocaleDateString("pt-BR")};return d.jsxs("div",{className:"notification-center",ref:v,children:[d.jsxs("button",{className:"notification-bell",onClick:()=>g(!p),"aria-label":"Notificaes",children:[d.jsx(rf,{size:20}),a>0&&d.jsx("span",{className:"notification-badge",children:a})]}),p&&d.jsxs("div",{className:"notification-dropdown",children:[d.jsxs("div",{className:"notification-header",children:[d.jsxs("div",{className:"notification-header-title",children:[d.jsx(rf,{size:20}),d.jsx("h3",{children:"Notificaes"}),a>0&&d.jsx("span",{className:"unread-count-badge",children:a})]}),d.jsxs("div",{className:"notification-header-actions",children:[a>0&&d.jsx("button",{className:"mark-all-read-btn",onClick:S,title:"Marcar todas como lidas",children:d.jsx(un,{size:20})}),d.jsx("button",{className:"close-dropdown-btn",onClick:()=>g(!1),title:"Fechar",children:d.jsx(Ir,{size:20})})]})]}),d.jsx("div",{className:"notification-content",children:i?d.jsx("div",{className:"notification-loading",children:d.jsx("p",{children:"Carregando..."})}):n.length===0?d.jsxs("div",{className:"notification-empty",children:[d.jsx(rf,{size:48}),d.jsx("p",{children:"Nenhuma notificao"})]}):d.jsx("div",{className:"notification-list",children:n.map(j=>d.jsxs("div",{className:`notification-item ${j.read?"":"unread"}`,onClick:()=>w(j),children:[d.jsx("div",{className:"notification-item-icon",children:E(j.type)}),d.jsxs("div",{className:"notification-item-content",children:[d.jsx("h4",{className:"notification-item-title",children:j.title}),d.jsx("p",{className:"notification-item-message",children:j.message}),d.jsx("span",{className:"notification-item-time",children:C(j.createdAt)})]}),d.jsx("button",{className:"notification-item-delete",onClick:z=>A(z,j.id),title:"Remover",children:d.jsx(Mo,{size:14})})]},j.id))})})]})]})},K9=({children:t,activeTab:e="dashboard",onTabChange:n})=>{const[a,i]=Lu.useState(!1),[l,u]=Lu.useState(null),m=cc();Lu.useEffect(()=>{g();const A=()=>{g()};return window.addEventListener("companyInfoUpdated",A),()=>{window.removeEventListener("companyInfoUpdated",A)}},[]);const p=async()=>{try{await Vl.logOut(),m("/login")}catch(A){console.error("Erro ao deslogar:",A)}},g=async()=>{try{const A=await Rf.getCompanyInfo();u(A)}catch(A){console.error("Erro ao carregar informaes da empresa:",A)}},v=()=>{i(!a)},E=[{icon:LT,label:"Dashboard",key:"dashboard"},{icon:w5,label:"Cadastros",key:"cadastros"},{icon:w6,label:"Faces",key:"faccoes"},{icon:R6,label:"Etapas",key:"etapas"},{icon:_i,label:"Produto",key:"produto"},{icon:p0,label:"Ordem de Produes",key:"ordemProducoes"},{icon:y6,label:"Gesto de Produes",key:"gestaoProducoes"},{icon:Dm,label:"Financeiro",key:"financeiro"},{icon:jA,label:"Relatrios",key:"relatorios"}],w=A=>{n&&n(A)},S=A=>{n&&n(A)};return d.jsxs("div",{className:"layout-container",children:[d.jsxs("aside",{className:`sidebar ${a?"sidebar-open":""}`,children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsxs("div",{className:"sidebar-logo",children:[l?.logoUrl?d.jsx("img",{src:l.logoUrl,alt:l.nome||"Logo",className:"company-logo-img"}):d.jsx(LT,{className:"logo-icon"}),d.jsxs("div",{className:"company-info",children:[d.jsx("span",{className:"logo-text",children:l?.nome||"Nome da empresa"}),l?.endereco&&d.jsx("span",{className:"company-address",children:l.endereco})]})]}),d.jsx("button",{className:"sidebar-close-btn",onClick:v,children:d.jsx(Ir,{size:20})})]}),d.jsx("nav",{className:"sidebar-nav",children:d.jsx("ul",{className:"nav-list",children:E.map((A,C)=>d.jsx("li",{className:"nav-item",children:d.jsxs("button",{onClick:()=>w(A.key),className:`nav-link ${e===A.key?"nav-link-active":""}`,children:[d.jsx(A.icon,{size:20,className:"nav-icon"}),d.jsx("span",{className:"nav-label",children:A.label})]})},C))})}),d.jsx("div",{className:"sidebar-footer",children:d.jsxs("button",{className:"logout-btn",onClick:p,children:[d.jsx(OA,{size:20}),d.jsx("span",{children:"Sair"})]})})]}),d.jsxs("div",{className:"main-content",children:[d.jsxs("header",{className:"header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("button",{className:"menu-toggle",onClick:v,children:d.jsx(L6,{size:24})}),d.jsx("h1",{className:"header-title",children:"Sistema de Gesto de Produo Txtil"})]}),d.jsx("div",{className:"header-right",children:d.jsx(G9,{onNavigate:S})})]}),d.jsx("main",{className:"page-content",children:t})]}),a&&d.jsx("div",{className:"sidebar-overlay",onClick:v})]})},lf="ordensProducao",ts={async getOrders(t){const e=sn(rt(Ee,lf),Lt("userId","==",t),ur("createdAt","desc"));return(await Xt(e)).docs.map(a=>{const i=a.data();return{id:a.id,codigo:i.codigo,produtoId:i.produtoId,produtoDescricao:i.produtoDescricao,produtoRef:i.produtoRef,prioridade:i.prioridade,status:i.status,dataInicio:i.dataInicio,dataPrevista:i.dataPrevista,responsavelId:i.responsavelId||void 0,responsavelNome:i.responsavelNome||void 0,createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId,grade:i.grade??[]}})},async createOrder(t,e,n,a){const i=e.grade.map(l=>({...l,total:Object.values(l.quantidades).reduce((u,m)=>u+m,0)}));await Yr(rt(Ee,lf),{produtoId:e.produtoId,produtoDescricao:n.descricao,produtoRef:n.refCodigo,prioridade:e.prioridade,dataInicio:e.dataInicio,dataPrevista:e.dataPrevista,responsavelId:e.responsavelId||null,responsavelNome:a||null,grade:i,userId:t,status:"em_producao",codigo:`OP${Date.now()}`,createdAt:Nt(),updatedAt:Nt()})},async updateOrder(t,e,n,a){const i=e.grade.map(l=>({...l,total:Object.values(l.quantidades).reduce((u,m)=>u+m,0)}));await Bn(Ye(Ee,lf,t),{produtoId:e.produtoId,produtoDescricao:n.descricao,produtoRef:n.refCodigo,prioridade:e.prioridade,dataInicio:e.dataInicio,dataPrevista:e.dataPrevista,responsavelId:e.responsavelId||null,responsavelNome:a||null,grade:i,updatedAt:Nt()})},async deleteOrder(t){await qn(Ye(Ee,lf,t))}},cf={async getCategorias(t){try{const e=sn(rt(Ee,"categorias"),Lt("userId","==",t),ur("nome","asc"));return(await Xt(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar categorias:",e),e}},async createCategoria(t,e){try{return(await Yr(rt(Ee,"categorias"),{...e,userId:t,ativo:!0,createdAt:Nt()})).id}catch(n){throw console.error("Erro ao criar categoria:",n),n}},async updateCategoria(t,e){try{await Bn(Ye(Ee,"categorias",t),{...e,updatedAt:Nt()})}catch(n){throw console.error("Erro ao atualizar categoria:",n),n}},async deleteCategoria(t){try{await qn(Ye(Ee,"categorias",t))}catch(e){throw console.error("Erro ao deletar categoria:",e),e}}},Vu={async getCores(t){try{const e=sn(rt(Ee,"cores"),Lt("userId","==",t),ur("nome","asc"));return(await Xt(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar cores:",e),e}},async createCor(t,e){try{return(await Yr(rt(Ee,"cores"),{...e,userId:t,ativo:!0,createdAt:Nt()})).id}catch(n){throw console.error("Erro ao criar cor:",n),n}},async updateCor(t,e){try{await Bn(Ye(Ee,"cores",t),{...e,updatedAt:Nt()})}catch(n){throw console.error("Erro ao atualizar cor:",n),n}},async deleteCor(t){try{await qn(Ye(Ee,"cores",t))}catch(e){throw console.error("Erro ao deletar cor:",e),e}}},Ll={async getTamanhos(t){try{const e=sn(rt(Ee,"tamanhos"),Lt("userId","==",t),ur("ordem","asc"));return(await Xt(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate()}))}catch(e){throw console.error("Erro ao buscar tamanhos:",e),e}},async createTamanho(t,e){try{return(await Yr(rt(Ee,"tamanhos"),{...e,userId:t,ativo:!0,createdAt:Nt()})).id}catch(n){throw console.error("Erro ao criar tamanho:",n),n}},async updateTamanho(t,e){try{await Bn(Ye(Ee,"tamanhos",t),{...e,updatedAt:Nt()})}catch(n){throw console.error("Erro ao atualizar tamanho:",n),n}},async deleteTamanho(t){try{await qn(Ye(Ee,"tamanhos",t))}catch(e){throw console.error("Erro ao deletar tamanho:",e),e}}},ga={async getProdutos(t){try{const e=sn(rt(Ee,"produtos"),Lt("userId","==",t));return(await Xt(e)).docs.map(i=>{const l=i.data();return{id:i.id,refCodigo:l.refCodigo||"",descricao:l.descricao||"",categoria:{id:"",nome:"",ativo:!0,createdAt:new Date},cores:[],tamanhos:[],etapasProducao:[],categoriaId:l.categoriaId||"",coresIds:l.coresIds||[],tamanhosIds:l.tamanhosIds||[],etapasProducaoIds:l.etapasProducaoIds||[],ativo:l.ativo!==!1,userId:l.userId,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((i,l)=>{const u=parseInt(i.refCodigo)||0,m=parseInt(l.refCodigo)||0;return u-m})}catch(e){throw console.error("Erro ao buscar produtos:",e),e}},async createProduto(t,e){try{if(!e.etapasProducao||e.etapasProducao.length===0)throw new Error("O produto deve ter pelo menos uma etapa de produo definida");return(await Yr(rt(Ee,"produtos"),{refCodigo:e.refCodigo,descricao:e.descricao,categoriaId:e.categoriaId,coresIds:e.coresIds,tamanhosIds:e.tamanhosIds,etapasProducaoIds:e.etapasProducao||[],userId:t,ativo:!0,createdAt:Nt(),updatedAt:Nt()})).id}catch(n){throw console.error("Erro ao criar produto:",n),n}},async updateProduto(t,e){try{if(!e.etapasProducao||e.etapasProducao.length===0)throw new Error("O produto deve ter pelo menos uma etapa de produo definida");await Bn(Ye(Ee,"produtos",t),{refCodigo:e.refCodigo,descricao:e.descricao,categoriaId:e.categoriaId,coresIds:e.coresIds,tamanhosIds:e.tamanhosIds,etapasProducaoIds:e.etapasProducao||[],updatedAt:Nt()})}catch(n){throw console.error("Erro ao atualizar produto:",n),n}},async deleteProduto(t){try{await qn(Ye(Ee,"produtos",t))}catch(e){throw console.error("Erro ao deletar produto:",e),e}}},uf="faccoes",ya={async createFaccao(t){try{return(await Yr(rt(Ee,uf),{...t,createdAt:Nt(),updatedAt:Nt()})).id}catch(e){throw new Error(`Erro ao criar faco: ${e instanceof Error?e.message:"Erro desconhecido"}`)}},async getFaccoes(){try{const t=sn(rt(Ee,uf),ur("nome","asc"));return(await Xt(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw new Error(`Erro ao buscar faces: ${t instanceof Error?t.message:"Erro desconhecido"}`)}},async updateFaccao(t,e){try{const n=Ye(Ee,uf,t);await Bn(n,{...e,updatedAt:Nt()})}catch(n){throw new Error(`Erro ao atualizar faco: ${n instanceof Error?n.message:"Erro desconhecido"}`)}},async deleteFaccao(t){try{await qn(Ye(Ee,uf,t))}catch(e){throw new Error(`Erro ao deletar faco: ${e instanceof Error?e.message:"Erro desconhecido"}`)}}},Y9=Object.freeze(Object.defineProperty({__proto__:null,faccaoService:ya},Symbol.toStringTag,{value:"Module"})),Ul=t=>{const e={};return Object.keys(t).forEach(n=>{const a=t[n];a!==void 0&&(e[n]=a)}),e},df=t=>t.toISOString().split("T")[0],tm=(t,e)=>{const n=new Date(t),a=new Date(e);n.setHours(0,0,0,0),a.setHours(0,0,0,0);const i=n.getTime()-a.getTime(),l=i/(1e3*60*60*24);return i>=0?Math.ceil(l):Math.floor(l)},fo="producaoProgresso",rr={async getProgressByOrderId(t){const e=sn(rt(Ee,fo),Lt("ordemProducaoId","==",t)),n=await Xt(e);if(n.empty)return null;const a=n.docs[0],i=a.data();return{id:a.id,ordemProducaoId:i.ordemProducaoId,etapas:i.etapas??[],createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId}},async getAllProgress(t){const e=sn(rt(Ee,fo),Lt("userId","==",t),ur("updatedAt","desc"));return(await Xt(e)).docs.map(a=>{const i=a.data();return{id:a.id,ordemProducaoId:i.ordemProducaoId,etapas:i.etapas??[],createdAt:i.createdAt?.toDate()??new Date,updatedAt:i.updatedAt?.toDate()??new Date,userId:i.userId}})},async initializeProgress(t,e,n){if(await this.getProgressByOrderId(e))return;const l=n.sort((u,m)=>u.order-m.order).map((u,m)=>{const p={etapaId:u.id,etapaNome:u.name,ordem:u.order,finalizadas:0,defeituosas:0,status:m===0?"em_andamento":"pausada"};return m===0&&(p.dataInicio=df(new Date)),p}).map(u=>Ul(u));await Yr(rt(Ee,fo),{ordemProducaoId:e,etapas:l,userId:t,createdAt:Nt(),updatedAt:Nt()})},async updateStageProgress(t,e){const n=Ye(Ee,fo,t),a=await Hl(n);if(!a.exists())throw new Error("Progresso no encontrado");const l=a.data().etapas??[],u=l.findIndex(v=>v.etapaId===e.etapaId);if(u===-1)throw new Error("Etapa no encontrada no progresso");const m=l[u],p={};e.finalizadas!==void 0&&(p.finalizadas=e.finalizadas),e.defeituosas!==void 0&&(p.defeituosas=e.defeituosas),e.responsavelId!==void 0&&(p.responsavelId=e.responsavelId),e.status!==void 0&&(p.status=e.status),e.dataFim!==void 0&&(p.dataFim=e.dataFim),l[u]={etapaId:m.etapaId,etapaNome:m.etapaNome,ordem:m.ordem,finalizadas:p.finalizadas??m.finalizadas??0,defeituosas:p.defeituosas??m.defeituosas??0,status:p.status??m.status,...p},m.responsavelId&&(l[u].responsavelId=m.responsavelId),m.responsavelNome&&(l[u].responsavelNome=m.responsavelNome),m.dataInicio&&(l[u].dataInicio=m.dataInicio),m.observacoes&&m.observacoes.length>0&&(l[u].observacoes=m.observacoes);const g=l.map(v=>Ul(v));await Bn(n,{etapas:g,updatedAt:Nt()})},async finalizeStage(t,e,n,a=0){await this.updateStageProgress(t,{etapaId:e,finalizadas:n,defeituosas:a,status:"finalizada",dataFim:df(new Date)})},async pauseStage(t,e){await this.updateStageProgress(t,{etapaId:e,status:"pausada"})},async resumeStage(t,e){await this.updateStageProgress(t,{etapaId:e,status:"em_andamento"})},async finalizeStageWithDetails(t,e,n,a,i){try{const l=Ye(Ee,fo,t),u=await Hl(l);if(!u.exists())throw new Error("Progresso no encontrado");const v=(u.data().etapas||[]).map(E=>{if(E.etapaId===e){const S={etapaId:E.etapaId,etapaNome:E.etapaNome,ordem:E.ordem,finalizadas:n,defeituosas:a,status:"finalizada",dataFim:df(new Date)};return E.responsavelId&&(S.responsavelId=E.responsavelId),E.responsavelNome&&(S.responsavelNome=E.responsavelNome),E.dataInicio&&(S.dataInicio=E.dataInicio),i?S.observacoes=[i]:E.observacoes&&E.observacoes.length>0&&(S.observacoes=E.observacoes),S}const w={etapaId:E.etapaId,etapaNome:E.etapaNome,ordem:E.ordem,finalizadas:E.finalizadas||0,defeituosas:E.defeituosas||0,status:E.status};return E.responsavelId&&(w.responsavelId=E.responsavelId),E.responsavelNome&&(w.responsavelNome=E.responsavelNome),E.dataInicio&&(w.dataInicio=E.dataInicio),E.dataFim&&(w.dataFim=E.dataFim),E.observacoes&&E.observacoes.length>0&&(w.observacoes=E.observacoes),w}).map(E=>Ul(E));await Bn(l,{etapas:v,updatedAt:Nt()})}catch(l){throw console.error("Erro ao finalizar etapa:",l),l}},async startNextStage(t,e,n,a){try{const i=Ye(Ee,fo,t),l=await Hl(i);if(!l.exists())throw new Error("Progresso no encontrado");const g=(l.data().etapas||[]).map(v=>{if(v.etapaId===e)return{etapaId:v.etapaId,etapaNome:v.etapaNome,ordem:v.ordem,status:"em_andamento",responsavelId:n,responsavelNome:a,dataInicio:df(new Date),finalizadas:0,defeituosas:0};const E={etapaId:v.etapaId,etapaNome:v.etapaNome,ordem:v.ordem,finalizadas:v.finalizadas||0,defeituosas:v.defeituosas||0,status:v.status};return v.responsavelId&&(E.responsavelId=v.responsavelId),v.responsavelNome&&(E.responsavelNome=v.responsavelNome),v.dataInicio&&(E.dataInicio=v.dataInicio),v.dataFim&&(E.dataFim=v.dataFim),v.observacoes&&v.observacoes.length>0&&(E.observacoes=v.observacoes),E}).map(v=>Ul(v));await Bn(i,{etapas:g,updatedAt:Nt()})}catch(i){throw console.error("Erro ao iniciar prxima etapa:",i),i}},async deleteProgress(t){try{await qn(Ye(Ee,fo,t))}catch(e){throw console.error("Erro ao deletar progresso:",e),e}}},mo="lancamentosFinanceiros",is={async createLancamento(t,e){try{const n=Ul({...t,dataVencimento:Xe.fromDate(t.dataVencimento),status:"pendente",userId:e,createdAt:Nt(),updatedAt:Nt()});return(await Yr(rt(Ee,mo),n)).id}catch(n){throw console.error("Erro ao criar lanamento financeiro:",n),n}},async getLancamentosByUser(t){try{const e=sn(rt(Ee,mo),Lt("userId","==",t),ur("dataVencimento","desc"));return(await Xt(e)).docs.map(a=>{const i=a.data();return{id:a.id,...i,dataVencimento:i.dataVencimento?.toDate()||new Date,dataPagamento:i.dataPagamento?.toDate(),createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Erro ao buscar lanamentos:",e),e}},async getLancamentosPendentes(t){try{const e=sn(rt(Ee,mo),Lt("userId","==",t),Lt("status","in",["pendente","atrasado"]),ur("dataVencimento","asc")),a=(await Xt(e)).docs.map(l=>{const u=l.data();return{id:l.id,...u,dataVencimento:u.dataVencimento?.toDate()||new Date,dataPagamento:u.dataPagamento?.toDate(),createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date}}),i=new Date;i.setHours(0,0,0,0);for(const l of a){const u=new Date(l.dataVencimento);u.setHours(0,0,0,0),l.status==="pendente"&&u<i&&(await this.updateLancamento(l.id,{status:"atrasado"}),l.status="atrasado")}return a}catch(e){throw console.error("Erro ao buscar lanamentos pendentes:",e),e}},async getLancamentosPagos(t){try{const e=sn(rt(Ee,mo),Lt("userId","==",t),Lt("status","==","pago"),ur("dataPagamento","desc"));return(await Xt(e)).docs.map(a=>{const i=a.data();return{id:a.id,...i,dataVencimento:i.dataVencimento?.toDate()||new Date,dataPagamento:i.dataPagamento?.toDate(),createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}})}catch(e){throw console.error("Erro ao buscar lanamentos pagos:",e),e}},async updateLancamento(t,e){try{const n=Ye(Ee,mo,t),a=Ul({...e,dataPagamento:e.dataPagamento?Xe.fromDate(e.dataPagamento):void 0,updatedAt:Nt()});await Bn(n,a)}catch(n){throw console.error("Erro ao atualizar lanamento:",n),n}},async marcarComoPago(t){try{await this.updateLancamento(t,{status:"pago",dataPagamento:new Date})}catch(e){throw console.error("Erro ao marcar lanamento como pago:",e),e}},async deleteLancamento(t){try{await qn(Ye(Ee,mo,t))}catch(e){throw console.error("Erro ao deletar lanamento:",e),e}},async deleteLancamentosByOrdem(t){try{const e=sn(rt(Ee,mo),Lt("ordemProducaoId","==",t)),a=(await Xt(e)).docs.map(i=>qn(i.ref));await Promise.all(a)}catch(e){throw console.error("Erro ao deletar lanamentos da ordem:",e),e}}},Q9=async(t,e)=>{try{const n=new Date;n.setHours(0,0,0,0);const a=new Date(n);a.setDate(a.getDate()+5);const l=(await ar.getNotificationsByUser(e)).filter(u=>u.type==="ordem_prazo");for(const u of t)if(u.status==="em_producao"){const m=new Date(u.dataPrevista);if(m.setHours(0,0,0,0),m>=n&&m<=a&&!l.some(g=>g.metadata?.ordemCodigo===u.codigo)){const g=tm(m,n);await ar.createNotification({userId:e,type:"ordem_prazo",title:" Ordem Prxima do Prazo",message:`${u.codigo} - ${u.produtoDescricao} vence em ${g} dia(s)`,link:"gestaoProducoes",metadata:{ordemId:u.id,ordemCodigo:u.codigo,dias:g}})}}}catch(n){console.error("Erro ao verificar prazos das ordens:",n)}},X9=async(t,e)=>{try{const n=new Date;n.setHours(0,0,0,0);const a=new Date(n);a.setDate(a.getDate()+7);const l=(await ar.getNotificationsByUser(e)).filter(u=>u.type==="pagamento_vencendo");for(const u of t)if(u.status==="pendente"||u.status==="atrasado"){const m=new Date(u.dataVencimento);if(m.setHours(0,0,0,0),m>=n&&m<=a&&!l.some(g=>g.metadata?.lancamentoId===u.id)){const g=tm(m,n);await ar.createNotification({userId:e,type:"pagamento_vencendo",title:" Pagamento Vencendo",message:`${u.faccaoNome} - ${u.valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} vence em ${g} dia(s)`,link:"financeiro",metadata:{lancamentoId:u.id,valor:u.valor,dias:g}})}if(m<n&&u.status==="atrasado"&&!l.some(g=>g.metadata?.lancamentoId===u.id&&g.title.includes("Vencido"))){const g=tm(n,m);await ar.createNotification({userId:e,type:"pagamento_vencendo",title:" Pagamento Vencido",message:`${u.faccaoNome} - ${u.valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} est ${g} dia(s) atrasado`,link:"financeiro",metadata:{lancamentoId:u.id,valor:u.valor,dias:g}})}}}catch(n){console.error("Erro ao verificar pagamentos:",n)}},W9=async(t,e,n)=>{try{const a=new Date,l=(await ar.getNotificationsByUser(n)).filter(u=>u.type==="etapa_parada"&&!u.read);for(const u of t){const m=e.find(p=>p.id===u.ordemProducaoId);if(!(!m||m.status!=="em_producao")){for(const p of u.etapas)if(p.status==="pausada"&&p.dataInicio){const g=new Date(p.dataInicio),v=tm(g,a);v>3&&(l.some(w=>w.metadata?.ordemCodigo===m.codigo&&w.message.includes(p.etapaNome))||await ar.createNotification({userId:n,type:"etapa_parada",title:" Etapa Parada",message:`${m.codigo} - Etapa "${p.etapaNome}" est parada h ${v} dia(s)`,link:"gestaoProducoes",metadata:{ordemId:m.id,ordemCodigo:m.codigo,dias:v}}))}}}}catch(a){console.error("Erro ao verificar etapas paradas:",a)}},Z9=async(t,e)=>{try{await Promise.all([Q9(e.orders,t),X9(e.lancamentos,t),W9(e.progressos,e.orders,t)])}catch(n){console.error("Erro ao executar verificaes de notificao:",n)}};class J9{intervalId=null;isRunning=!1;userId=null;start(e,n=5){if(this.isRunning){console.log("Monitoramento de notificaes j est em execuo");return}this.userId=e,this.isRunning=!0,console.log(` Iniciando monitoramento de notificaes (intervalo: ${n}min)`),this.runChecks();const a=n*60*1e3;this.intervalId=setInterval(()=>{this.runChecks()},a)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isRunning=!1,this.userId=null,console.log(" Monitoramento de notificaes parado")}async runChecks(){if(!this.userId){console.error("UserId no definido para monitoramento");return}try{console.log(" Executando verificaes de notificao...");const[e,n]=await Promise.all([ts.getOrders(this.userId),rr.getAllProgress(this.userId)]),[a,i]=await Promise.all([is.getLancamentosPendentes(this.userId),is.getLancamentosPagos(this.userId)]),l=[...a,...i];await Z9(this.userId,{orders:e,lancamentos:l,progressos:n}),console.log(" Verificaes de notificao concludas")}catch(e){console.error(" Erro ao executar verificaes de notificao:",e)}}async forceCheck(){await this.runChecks()}isActive(){return this.isRunning}}const hw=new J9,Nu={async createTask(t,e){try{const n=new Date;return{id:(await Yr(rt(Ee,"tasks"),{...e,completed:!1,userId:t,createdAt:Xe.fromDate(n),updatedAt:Xe.fromDate(n)})).id,...e,completed:!1,userId:t,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erro ao criar tarefa:",n),new Error("Erro ao criar tarefa")}},async getTasksByUser(t){try{const e=sn(rt(Ee,"tasks"),Lt("userId","==",t)),n=await Xt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,description:l.description,time:l.time,priority:l.priority,completed:l.completed,userId:l.userId,createdAt:l.createdAt.toDate(),updatedAt:l.updatedAt.toDate()})}),a.sort((i,l)=>i.time.localeCompare(l.time))}catch(e){throw console.error("Erro ao buscar tarefas:",e),new Error("Erro ao buscar tarefas")}},async updateTask(t,e){try{const n=Ye(Ee,"tasks",t);await Bn(n,{...e,updatedAt:Xe.fromDate(new Date)})}catch(n){throw console.error("Erro ao atualizar tarefa:",n),new Error("Erro ao atualizar tarefa")}},async deleteTask(t){try{await qn(Ye(Ee,"tasks",t))}catch(e){throw console.error("Erro ao deletar tarefa:",e),new Error("Erro ao deletar tarefa")}},async toggleTaskCompletion(t,e){try{const n=Ye(Ee,"tasks",t);await Bn(n,{completed:e,updatedAt:Xe.fromDate(new Date)})}catch(n){throw console.error("Erro ao alterar status da tarefa:",n),new Error("Erro ao alterar status da tarefa")}},async deleteOldTasks(t){try{const e=new Date;e.setHours(0,0,0,0);const n=sn(rt(Ee,"tasks"),Lt("userId","==",t)),a=await Xt(n),i=[];a.forEach(l=>{const m=l.data().createdAt.toDate();m.setHours(0,0,0,0),m.getTime()<e.getTime()&&i.push(qn(Ye(Ee,"tasks",l.id)))}),await Promise.all(i)}catch(e){throw console.error("Erro ao deletar tarefas antigas:",e),new Error("Erro ao deletar tarefas antigas")}}},eU=({isOpen:t,onClose:e,onSubmit:n,isLoading:a=!1})=>{const[i,l]=I.useState({description:"",time:"",priority:"media"}),u=g=>{const{name:v,value:E}=g.target;l(w=>({...w,[v]:E}))},m=async g=>{if(g.preventDefault(),!i.description.trim()||!i.time){alert("Por favor, preencha todos os campos obrigatrios");return}try{await n(i),l({description:"",time:"",priority:"media"}),e()}catch(v){console.error("Erro ao criar tarefa:",v)}},p=()=>{l({description:"",time:"",priority:"media"}),e()};return t?d.jsx("div",{className:"task-modal-overlay",onClick:p,children:d.jsxs("div",{className:"task-modal",onClick:g=>g.stopPropagation(),children:[d.jsxs("div",{className:"task-modal-header",children:[d.jsxs("div",{className:"task-modal-title-section",children:[d.jsx("h2",{className:"task-modal-title",children:"Nova Tarefa"}),d.jsx("p",{className:"task-modal-subtitle",children:"Adicione uma nova tarefa  sua agenda"})]}),d.jsx("button",{className:"task-modal-close",onClick:p,children:d.jsx(Ir,{size:20})})]}),d.jsxs("form",{className:"task-modal-form",onSubmit:m,children:[d.jsxs("div",{className:"task-modal-field",children:[d.jsx("label",{className:"task-modal-label",htmlFor:"description",children:"Descrio da Tarefa"}),d.jsx("input",{id:"description",name:"description",type:"text",value:i.description,onChange:u,placeholder:"Digite a descrio da tarefa",className:"task-modal-input",required:!0})]}),d.jsxs("div",{className:"task-modal-field",children:[d.jsx("label",{className:"task-modal-label",htmlFor:"time",children:"Horrio"}),d.jsxs("div",{className:"task-modal-time-container",children:[d.jsx("input",{id:"time",name:"time",type:"time",value:i.time,onChange:u,className:"task-modal-input task-modal-time-input",required:!0}),d.jsx(No,{className:"task-modal-time-icon",size:16})]})]}),d.jsxs("div",{className:"task-modal-field",children:[d.jsx("label",{className:"task-modal-label",htmlFor:"priority",children:"Prioridade"}),d.jsxs("select",{id:"priority",name:"priority",value:i.priority,onChange:u,className:"task-modal-select",children:[d.jsx("option",{value:"baixa",children:"Baixa"}),d.jsx("option",{value:"media",children:"Mdia"}),d.jsx("option",{value:"alta",children:"Alta"})]})]}),d.jsxs("div",{className:"task-modal-actions",children:[d.jsx(sc,{type:"button",variant:"outline",onClick:p,disabled:a,children:"Cancelar"}),d.jsx(sc,{type:"submit",variant:"primary",isLoading:a,disabled:!i.description.trim()||!i.time,children:"Adicionar"})]})]})]})}):null},tU=()=>{const{user:t}=On(),[e,n]=I.useState([]),[a,i]=I.useState(!1),[l,u]=I.useState(!1),[m,p]=I.useState(!0),g=I.useCallback(async()=>{if(t)try{p(!0);const C=await Nu.getTasksByUser(t.uid),j=new Date;j.setHours(0,0,0,0);const z=new Date;z.setDate(z.getDate()+1);const F=C.filter(H=>{const ee=new Date(H.createdAt);return ee.setHours(0,0,0,0),ee.getTime()===j.getTime()});n(F),await Nu.deleteOldTasks(t.uid)}catch(C){console.error("Erro ao carregar tarefas:",C)}finally{p(!1)}},[t]);I.useEffect(()=>{g()},[g]);const v=async C=>{if(t)try{u(!0),await Nu.createTask(t.uid,C),await g()}catch(j){throw console.error("Erro ao criar tarefa:",j),j}finally{u(!1)}},E=async(C,j)=>{try{await Nu.toggleTaskCompletion(C,j),await g()}catch(z){console.error("Erro ao alterar status da tarefa:",z)}},w=async C=>{if(confirm("Tem certeza que deseja excluir esta tarefa?"))try{await Nu.deleteTask(C),await g()}catch(j){console.error("Erro ao excluir tarefa:",j)}},S=C=>{switch(C){case"alta":return"task-priority-high";case"media":return"task-priority-medium";case"baixa":return"task-priority-low";default:return"task-priority-medium"}},A=C=>{switch(C){case"alta":return"Alta";case"media":return"Mdia";case"baixa":return"Baixa";default:return"Mdia"}};return d.jsxs("div",{className:"agenda-card",children:[d.jsxs("div",{className:"agenda-header",children:[d.jsxs("div",{className:"agenda-title-section",children:[d.jsxs("div",{className:"agenda-title",children:[d.jsx(No,{className:"agenda-icon",size:20}),d.jsx("h3",{children:"Agenda do Dia"})]}),d.jsx("p",{className:"agenda-subtitle",children:"Suas tarefas e compromissos de hoje"})]}),d.jsx("button",{className:"agenda-add-button",onClick:()=>i(!0),children:d.jsx(Ni,{className:"agenda-add-icon",size:20})})]}),d.jsx("div",{className:"agenda-content",children:m?d.jsx("div",{className:"agenda-loading",children:d.jsx("p",{children:"Carregando tarefas..."})}):e.length===0?d.jsxs("div",{className:"agenda-empty",children:[d.jsx("p",{children:"Nenhuma tarefa cadastrada"}),d.jsx("p",{className:"agenda-empty-subtitle",children:"Clique no boto + para adicionar uma nova tarefa"})]}):d.jsx("div",{className:"agenda-tasks",children:e.map(C=>d.jsx("div",{className:`agenda-task ${C.completed?"task-completed":""}`,children:d.jsxs("div",{className:"task-content",children:[d.jsxs("div",{className:"task-main",children:[d.jsx("h4",{className:"task-description",children:C.description}),d.jsxs("div",{className:"task-meta",children:[d.jsx("span",{className:`task-priority ${S(C.priority)}`,children:A(C.priority)}),d.jsx("span",{className:"task-time",children:C.time})]})]}),d.jsxs("div",{className:"task-actions",children:[d.jsx("button",{className:`task-action task-complete ${C.completed?"task-completed-icon":""}`,onClick:()=>E(C.id,!C.completed),title:C.completed?"Marcar como pendente":"Marcar como concluda",children:d.jsx(un,{size:14})}),d.jsx("button",{className:"task-action task-edit",title:"Editar tarefa",children:d.jsx(MA,{size:14})}),d.jsx("button",{className:"task-action task-delete",onClick:()=>w(C.id),title:"Excluir tarefa",children:d.jsx(Mo,{size:14})})]})]})},C.id))})}),d.jsx(eU,{isOpen:a,onClose:()=>i(!1),onSubmit:v,isLoading:l})]})},fw=()=>{const{user:t}=On(),[e,n]=I.useState([]),[a,i]=I.useState([]),[l,u]=I.useState([]),[m,p]=I.useState([]),[g,v]=I.useState([]),[E,w]=I.useState(!0);I.useEffect(()=>((async()=>{if(t)try{w(!0);const[z,F,H,ee,q]=await Promise.all([ts.getOrders(t.uid),ga.getProdutos(t.uid),ya.getFaccoes(),rr.getAllProgress(t.uid),is.getLancamentosPendentes(t.uid)]);n(z),i(F),u(H),p(ee),v(q),hw.isActive()||hw.start(t.uid,5)}catch(z){console.error("Erro ao carregar dados:",z)}finally{w(!1)}})(),()=>{}),[t]);const S=j=>{const z=m.find(X=>X.ordemProducaoId===j);if(!z)return{etapa:"Planejamento",status:"No iniciada"};const F=z.etapas.find(X=>X.status==="em_andamento");if(F)return{etapa:F.etapaNome,status:"Em andamento"};const H=z.etapas.find(X=>X.status==="pausada");if(H)return{etapa:H.etapaNome,status:"Pausada"};if(z.etapas.every(X=>X.status==="finalizada")&&z.etapas.length>0)return{etapa:z.etapas[z.etapas.length-1].etapaNome,status:"Finalizada"};const q=[...z.etapas].reverse().find(X=>X.status==="finalizada");return q?{etapa:q.etapaNome,status:"Aguardando prxima"}:{etapa:"Planejamento",status:"No iniciada"}},A=[...e].sort((j,z)=>z.createdAt.getTime()-j.createdAt.getTime()).slice(0,4),C=g.filter(j=>j.status==="pendente"||j.status==="atrasado").reduce((j,z)=>j+z.valor,0);return E?d.jsx("div",{className:"tab-content",children:d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Dashboard"}),d.jsx("p",{className:"tab-subtitle",children:"Carregando dados..."})]})}):d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Dashboard"}),d.jsx("p",{className:"tab-subtitle",children:"Viso geral do sistema de gesto de produo txtil"})]}),d.jsxs("div",{className:"dashboard-grid",children:[d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Ordens Ativas"}),d.jsx("span",{className:"card-value",children:e.length}),d.jsx("p",{className:"card-subtitle",children:"Em produo"})]}),d.jsx("div",{className:"card-icon purple",children:d.jsx(S6,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend positive",children:[d.jsx(Gl,{size:12}),"+12%"]})})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Produtos Cadastrados"}),d.jsx("span",{className:"card-value",children:a.length}),d.jsx("p",{className:"card-subtitle",children:"Total de referncias"})]}),d.jsx("div",{className:"card-icon blue",children:d.jsx(_i,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend positive",children:[d.jsx(Gl,{size:12}),"+8%"]})})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Faces Ativas"}),d.jsx("span",{className:"card-value",children:l.length}),d.jsx("p",{className:"card-subtitle",children:"Tercerizados"})]}),d.jsx("div",{className:"card-icon green",children:d.jsx(Io,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend positive",children:[d.jsx(Gl,{size:12}),"+2"]})})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"card-info",children:[d.jsx("h3",{className:"card-title",children:"Pendncias Financeiras"}),d.jsx("span",{className:"card-value",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C)}),d.jsx("p",{className:"card-subtitle",children:"A pagar"})]}),d.jsx("div",{className:"card-icon yellow",children:d.jsx(Dm,{size:16})})]}),d.jsx("div",{className:"card-footer",children:d.jsxs("span",{className:"card-trend negative",children:[d.jsx(p5,{size:12}),g.length," lanamentos"]})})]}),d.jsx(tU,{})]}),d.jsxs("div",{className:"recent-orders-section",children:[d.jsx("div",{className:"recent-orders-header",children:d.jsxs("div",{className:"recent-orders-title-wrapper",children:[d.jsx(p0,{size:24,className:"recent-orders-icon"}),d.jsxs("div",{children:[d.jsx("h2",{className:"recent-orders-title",children:"Ordens de Produo Recentes"}),d.jsx("p",{className:"recent-orders-subtitle",children:"Acompanhe o status das suas ordens em tempo real"})]})]})}),d.jsx("div",{className:"recent-orders-list",children:A.length===0?d.jsx("div",{className:"no-orders",children:d.jsx("p",{children:"Nenhuma ordem de produo cadastrada ainda."})}):A.map(j=>{const{etapa:z,status:F}=S(j.id);return d.jsxs("div",{className:"order-item",children:[d.jsxs("div",{className:"order-item-header",children:[d.jsxs("div",{className:"order-item-left",children:[d.jsx("span",{className:"order-code",children:j.codigo}),d.jsx("h3",{className:"order-product",children:j.produtoDescricao}),d.jsx("span",{className:`order-priority-badge ${j.prioridade}`,children:j.prioridade})]}),d.jsx("button",{className:"order-details-btn",onClick:()=>{const H=document.querySelectorAll(".tab-button"),ee=Array.from(H).find(q=>q.textContent?.includes("Gesto de Produes"));ee&&ee.click()},children:"Ver Detalhes"})]}),d.jsxs("div",{className:"order-item-footer",children:[d.jsxs("span",{className:"order-stage",children:["Etapa: ",z]}),d.jsx("span",{className:"order-status-dot",children:""}),d.jsx("span",{className:"order-status",children:F})]})]},j.id)})})]})]})},ns={async getStepsCount(){try{return(await Xt(rt(Ee,"productionSteps"))).size}catch(t){throw console.error("Erro ao buscar etapas:",t),new Error("Erro ao buscar etapas")}},async getAllSteps(){try{const t=sn(rt(Ee,"productionSteps"),ur("order","asc")),e=await Xt(t),n=[];return e.forEach(a=>{const i=a.data();n.push({id:a.id,name:i.name,description:i.description,order:i.order,userId:i.userId,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()})}),n}catch(t){throw console.error("Erro ao buscar etapas:",t),new Error("Erro ao buscar etapas")}},async createStep(t,e){try{const n=new Date;return{id:(await Yr(rt(Ee,"productionSteps"),{...e,userId:t,createdAt:Xe.fromDate(n),updatedAt:Xe.fromDate(n)})).id,...e,userId:t,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erro ao criar etapa:",n),new Error("Erro ao criar etapa")}},async getStepsByUser(t){try{const e=sn(rt(Ee,"productionSteps"),Lt("userId","==",t)),n=await Xt(e),a=[];return n.forEach(i=>{const l=i.data();a.push({id:i.id,name:l.name,description:l.description,order:l.order,userId:l.userId,createdAt:l.createdAt.toDate(),updatedAt:l.updatedAt.toDate()})}),a.sort((i,l)=>i.order-l.order)}catch(e){throw console.error("Erro ao buscar etapas:",e),new Error("Erro ao buscar etapas")}},async updateStep(t,e){try{const n=Ye(Ee,"productionSteps",t);await Bn(n,{...e,updatedAt:Xe.fromDate(new Date)})}catch(n){throw console.error("Erro ao atualizar etapa:",n),new Error("Erro ao atualizar etapa")}},async deleteStep(t){try{await qn(Ye(Ee,"productionSteps",t))}catch(e){throw console.error("Erro ao deletar etapa:",e),new Error("Erro ao deletar etapa")}}},nU=()=>{const[t,e]=I.useState(!1),[n,a]=I.useState(!0),[i,l]=I.useState(!1),[u,m]=I.useState(null),[p,g]=I.useState({nome:"",endereco:"",logoUrl:""});I.useEffect(()=>{v()},[]);const v=async()=>{try{a(!0);const A=await Rf.getCompanyInfo();A&&g(A)}catch(A){console.error("Erro ao carregar informaes:",A),m({type:"error",text:"Erro ao carregar informaes da empresa"})}finally{a(!1)}},E=A=>{const{name:C,value:j}=A.target;g(z=>({...z,[C]:j}))},w=async A=>{const C=A.target.files?.[0];if(C){if(!C.type.startsWith("image/")){m({type:"error",text:"Por favor, selecione uma imagem vlida"});return}if(C.size>5*1024*1024){m({type:"error",text:"A imagem deve ter no mximo 5MB"});return}try{l(!0);const j=await Rf.uploadLogo(C);g(z=>({...z,logoUrl:j})),m({type:"success",text:"Logo enviada com sucesso!"})}catch(j){console.error("Erro ao fazer upload:",j),m({type:"error",text:"Erro ao fazer upload da logo"})}finally{l(!1)}}},S=async A=>{if(A.preventDefault(),!p.nome.trim()){m({type:"error",text:"O nome da empresa  obrigatrio"});return}try{e(!0),m(null),await Rf.saveCompanyInfo({nome:p.nome,endereco:p.endereco,logoUrl:p.logoUrl}),m({type:"success",text:"Informaes salvas com sucesso!"}),window.dispatchEvent(new CustomEvent("companyInfoUpdated"))}catch(C){console.error("Erro ao salvar:",C),m({type:"error",text:"Erro ao salvar informaes"})}finally{e(!1)}};return n?d.jsxs("div",{className:"company-form-loading",children:[d.jsx(dy,{className:"loading-spinner",size:32}),d.jsx("p",{children:"Carregando informaes..."})]}):d.jsxs("div",{className:"company-form-container",children:[d.jsxs("div",{className:"company-form-header",children:[d.jsx(Qy,{size:32}),d.jsxs("div",{children:[d.jsx("h2",{children:"Informaes da Empresa"}),d.jsx("p",{children:"Configure o nome, logo e endereo da sua empresa"})]})]}),d.jsxs("form",{onSubmit:S,className:"company-form",children:[d.jsxs("div",{className:"form-group logo-section",children:[d.jsx("label",{className:"form-label",children:"Logomarca"}),d.jsxs("div",{className:"logo-upload-area",children:[p.logoUrl&&d.jsx("div",{className:"logo-preview",children:d.jsx("img",{src:p.logoUrl,alt:"Logo da empresa"})}),d.jsxs("label",{className:"logo-upload-btn",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:w,disabled:i}),i?d.jsxs(d.Fragment,{children:[d.jsx(dy,{className:"upload-icon spinning",size:20}),d.jsx("span",{children:"Enviando..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(_5,{className:"upload-icon",size:20}),d.jsx("span",{children:p.logoUrl?"Alterar Logo":"Enviar Logo"})]})]}),d.jsx("p",{className:"logo-upload-hint",children:"Formatos aceitos: JPG, PNG, GIF (mx. 5MB)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"nome",className:"form-label",children:[d.jsx(Qy,{size:18}),"Nome da Empresa *"]}),d.jsx("input",{type:"text",id:"nome",name:"nome",value:p.nome,onChange:E,placeholder:"Digite o nome da empresa",className:"form-input",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"endereco",className:"form-label",children:[d.jsx(PA,{size:18}),"Endereo Completo"]}),d.jsx("textarea",{id:"endereco",name:"endereco",value:p.endereco,onChange:E,placeholder:"Rua, Nmero, Bairro, Cidade - Estado, CEP",className:"form-textarea",rows:3})]}),u&&d.jsx("div",{className:`form-message ${u.type}`,children:u.text}),d.jsx("button",{type:"submit",className:"form-submit-btn",disabled:t||i,children:t?d.jsxs(d.Fragment,{children:[d.jsx(dy,{className:"btn-icon spinning",size:20}),"Salvando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(a5,{className:"btn-icon",size:20}),"Salvar Informaes"]})})]})]})},rU=({onTabChange:t})=>{const[e,n]=Lu.useState(!1),{user:a}=On(),[i,l]=I.useState(0),[u,m]=I.useState(0),[p,g]=I.useState(0),[v,E]=I.useState(!0);return I.useEffect(()=>{(async()=>{if(a)try{const[S,A,C]=await Promise.all([ga.getProdutos(a.uid),ya.getFaccoes(),ns.getStepsCount()]);l(S.length),m(A.length),g(C)}catch(S){console.error("Erro ao buscar dados:",S)}finally{E(!1)}})()},[a]),d.jsxs("div",{className:"cadastros-container",children:[d.jsxs("div",{className:"cadastros-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Informaes da Empresa"}),d.jsx("p",{className:"section-description",children:"Configure o nome, logomarca e endereo da sua empresa"})]}),e?d.jsxs("div",{style:{marginBottom:"2rem"},children:[d.jsx("button",{onClick:()=>n(!1),style:{marginBottom:"1rem",padding:"0.5rem 1rem",background:"#e5e7eb",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:" Voltar"}),d.jsx(nU,{})]}):d.jsx("div",{className:"cards-container",children:d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(Qy,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Dados da Empresa"}),d.jsx("p",{className:"card-description",children:"Configure nome, logo e endereo"})]}),d.jsx("button",{onClick:()=>n(!0),className:"card-button",children:"Configurar"})]})})]}),!e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"cadastros-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Cadastros"}),d.jsx("p",{className:"section-description",children:"Gerencie todas informaes bsicas do sistema"})]}),d.jsxs("div",{className:"cards-container",children:[d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(Io,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Faces / Terceirizados"}),d.jsx("p",{className:"card-description",children:"Gerencie seus parceiros de produo"}),d.jsxs("span",{className:"card-count",children:[v?"...":`${u} cadastrado${u===1?"":"s"}`," "]})]}),d.jsx("button",{onClick:()=>{t("faccoes")},className:"card-button",children:"Acessar"})]}),d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(VT,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Etapas de Produo"}),d.jsx("p",{className:"card-description",children:"Configure as etapas do processo produtivo"}),d.jsx("span",{className:"card-count",children:v?"...":`${p} etapa${p===1?"":"s"}`})]}),d.jsx("button",{onClick:()=>{t("etapas")},className:"card-button",children:"Acessar"})]}),d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"card-icon",children:d.jsx(_i,{size:24,color:"#1e3a8a"})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{className:"card-title",children:"Produtos"}),d.jsx("p",{className:"card-description",children:"Catlogo de produtos e especificaes"}),d.jsx("span",{className:"card-count",children:v?"...":`${i} produto${i===1?"":"s"}`})]}),d.jsx("button",{onClick:()=>{t("produto")},className:"card-button",children:"Acessar"})]})]})]}),d.jsxs("div",{className:"acoes-rapidas-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Aes Rpidas"}),d.jsx("p",{className:"section-description",children:"Cadastre rapidamente novos itens no sistema"})]}),d.jsxs("div",{className:"botoes-container",children:[d.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("faccoes")},children:[d.jsx(Io,{size:20}),d.jsx("span",{children:" + Nova Faco"})]}),d.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("etapas")},children:[d.jsx(VT,{size:20}),d.jsx("span",{children:" + Nova Etapa"})]}),d.jsxs("button",{className:"acao-rapida-btn",onClick:()=>{t("produto")},children:[d.jsx(_i,{size:20}),d.jsx("span",{children:" + Novo Produto"})]})]})]})]})]})},aU=({isOpen:t,onClose:e,onSave:n,faccaoToEdit:a})=>{const{user:i}=On(),[l,u]=I.useState({nome:"",servicoPrestado:"",enderecoCompleto:"",telefone:"",email:"",ativo:!0}),[m,p]=I.useState(!1),[g,v]=I.useState(null),[E,w]=I.useState([]);I.useEffect(()=>{const A=async()=>{try{const C=await ns.getStepsByUser(i.uid);w(C)}catch(C){console.error("Erro ao buscar etapas:",C)}t&&A()};A()},[t,i]),I.useEffect(()=>{u(a?{nome:a.nome,servicoPrestado:a.servicoPrestado,enderecoCompleto:a.enderecoCompleto,telefone:a.telefone,email:a.email,ativo:a.ativo}:{nome:"",servicoPrestado:"",enderecoCompleto:"",telefone:"",email:"",ativo:!0}),v(null)},[a,t]);const S=async A=>{if(A.preventDefault(),v(null),!l.nome.trim()){v("Nome  obrigatrio");return}try{p(!0),await n(l),e()}catch(C){console.error("Erro ao salvar faco:",C),v("Erro ao salvar faco. Tente novamente.")}finally{p(!1)}};return t?d.jsx("div",{className:"faccao-modal-overlay",onClick:e,children:d.jsxs("div",{className:"faccao-modal",onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"faccao-modal-header",children:[d.jsxs("div",{className:"faccao-modal-title-section",children:[d.jsx("h2",{className:"faccao-modal-title",children:a?"Editar Faco":"Cadastrar Nova Faco"}),d.jsx("p",{className:"faccao-modal-subtitle",children:a?"Atualize as informaes do parceiro de produo":"Adicione um novo parceiro de produo ao sistema"})]}),d.jsx("button",{className:"faccao-modal-close",onClick:e,type:"button",children:d.jsx(Ir,{size:24})})]}),d.jsxs("form",{onSubmit:S,className:"faccao-modal-form",children:[d.jsxs("div",{className:"faccao-modal-row",children:[d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"nome",className:"faccao-modal-label",children:"Nome *"}),d.jsx("input",{type:"text",id:"nome",className:"faccao-modal-input",placeholder:"Nome da faco",value:l.nome,onChange:A=>u({...l,nome:A.target.value}),required:!0})]}),d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"servico",className:"faccao-modal-label",children:"Servio Prestado *"}),d.jsx("select",{id:"servico",className:"faccao-modal-select",value:l.servicoPrestado,onChange:A=>u({...l,servicoPrestado:A.target.value}),required:!0,children:E.length===0?d.jsx("option",{value:"",children:"Nenhuma etapa encontrada"}):E.map(A=>d.jsx("option",{value:A.name,children:A.name},A.id))})]})]}),d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"endereco",className:"faccao-modal-label",children:"Endereo Completo *"}),d.jsx("textarea",{id:"endereco",className:"faccao-modal-textarea",placeholder:"Rua, nmero, bairro, cidade, estado, CEP",value:l.enderecoCompleto,onChange:A=>u({...l,enderecoCompleto:A.target.value}),rows:3,required:!0})]}),d.jsxs("div",{className:"faccao-modal-row",children:[d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"telefone",className:"faccao-modal-label",children:"Telefone"}),d.jsx("input",{type:"tel",id:"telefone",className:"faccao-modal-input",placeholder:"(11) 99999-9999",value:l.telefone,onChange:A=>u({...l,telefone:p2(A.target.value)}),maxLength:15})]}),d.jsxs("div",{className:"faccao-modal-field",children:[d.jsx("label",{htmlFor:"email",className:"faccao-modal-label",children:"E-mail"}),d.jsx("input",{type:"email",id:"email",className:"faccao-modal-input",placeholder:"contato@faccao.com",value:l.email,onChange:A=>u({...l,email:A.target.value})})]})]}),g&&d.jsx("div",{className:"faccao-modal-error",children:g}),d.jsxs("div",{className:"faccao-modal-actions",children:[d.jsx("button",{type:"button",className:"faccao-btn-cancel",onClick:e,disabled:m,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"faccao-btn-save",disabled:m,children:m?"Salvando...":"Salvar Faco"})]})]})]})}):null},Nd=({isOpen:t,onClose:e,onConfirm:n,title:a,message:i,itemName:l,confirmText:u,cancelText:m,loading:p})=>{if(!t)return null;const g=async()=>{await n()};return d.jsx("div",{className:"delete-modal-overlay",onClick:e,children:d.jsxs("div",{className:"delete-modal",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"delete-modal-header",children:[d.jsx("div",{className:"delete-modal-icon-wrapper",children:d.jsx(VA,{size:24,className:"delete-modal-icon"})}),d.jsx("button",{className:"delete-modal-close",onClick:e,type:"button",disabled:p,children:d.jsx(Ir,{size:24})})]}),d.jsxs("div",{className:"delete-modal-content",children:[d.jsx("h2",{className:"delete-modal-title",children:a||"Confirmar Excluso"}),d.jsxs("p",{className:"delete-modal-message",children:[i,l&&d.jsxs("span",{className:"delete-modal-item-name",children:['"',l,'"']}),"?"]}),d.jsx("p",{className:"delete-modal-warning",children:"Esta ao no pode ser desfeita."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{type:"button",className:"delete-btn-cancel",onClick:e,disabled:p,children:m||"Cancelar"}),d.jsx("button",{className:"delete-btn-confirm",onClick:g,disabled:p,type:"button",children:p?"Excluindo...":u})]})]})})},sU=()=>{const[t,e]=I.useState([]),[n,a]=I.useState([]),[i,l]=I.useState(!0),[u,m]=I.useState(""),[p,g]=I.useState(!1),[v,E]=I.useState(null),[w,S]=I.useState(!1),[A,C]=I.useState(null),[j,z]=I.useState(!1),F=N=>{C(N),S(!0)},H=async()=>{if(A)try{z(!0),await ya.deleteFaccao(A),await ee(),S(!1),C(null),Ge.success("Faco excluda com sucesso!",{icon:d.jsx(un,{size:20})})}catch(N){console.error("Erro ao deletar faco:",N),Ge.error("Erro ao deletar faco. Tente novamente.")}finally{z(!1)}};I.useEffect(()=>{ee()},[]),I.useEffect(()=>{if(u.trim()==="")a(t);else{const N=t.filter(M=>M.nome.toLowerCase().includes(u.toLowerCase())||M.servicoPrestado.toLowerCase().includes(u.toLowerCase()));a(N)}},[u,t]);const ee=async()=>{try{l(!0);const N=await ya.getFaccoes();e(N),a(N)}catch(N){console.error("Erro ao carregar faces:",N)}finally{l(!1)}},q=async N=>{try{v?.id?(await ya.updateFaccao(v.id,N),Ge.success("Faco atualizada com sucesso!",{icon:d.jsx(un,{size:20})})):(await ya.createFaccao(N),Ge.success("Faco criada com sucesso!",{icon:d.jsx(un,{size:20})})),await ee(),g(!1),E(null)}catch(M){console.error("Erro ao salvar faco:",M);const L=M instanceof Error?M.message:"Erro ao salvar faco. Tente novamente.";throw Ge.error(L),M}},X=N=>{E(N),g(!0)},D=()=>{E(null),g(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"header-container",children:[d.jsx("h2",{className:"header-title-faccoes",children:"Faces / Terceirizados"}),d.jsx("p",{className:"header-subtitle-faccoes",children:"Gerencie seus parceiros de produo"})]}),d.jsxs("div",{className:"faccoes-container",children:[d.jsxs("div",{className:"faccoes-header",children:[d.jsxs("div",{className:"faccoes-title-section",children:[d.jsx("h1",{className:"faccoes-title",children:"Faces / Terceirizados"}),d.jsx("p",{className:"faccoes-subtitle",children:"Gerencie seus parceiros de produo"})]}),d.jsxs("button",{className:"faccoes-add-button",onClick:D,children:[d.jsx("span",{className:"faccoes-add-icon",children:"+"}),d.jsx("span",{className:"faccoes-add-text",children:"Nova Faco"})]})]}),d.jsx("div",{className:"faccoes-search-container",children:d.jsxs("div",{className:"faccoes-search-box",children:[d.jsx(Ro,{size:20,className:"faccoes-search-icon"}),d.jsx("input",{type:"text",className:"faccoes-search-input",placeholder:"Buscar por nome ou servio...",value:u,onChange:N=>m(N.target.value)})]})}),d.jsx("div",{className:"faccoes-content",children:i?d.jsx("div",{className:"faccoes-loading",children:d.jsx("p",{children:"Carregando faces..."})}):n.length===0?d.jsxs("div",{className:"faccoes-empty",children:[d.jsx(Io,{size:48}),d.jsx("p",{children:u?"Nenhuma faco encontrada com esse termo":"Nenhuma faco cadastrada"}),!u&&d.jsx("p",{className:"faccoes-empty-subtitle",children:'Clique em "Nova Faco" para adicionar um parceiro'})]}):d.jsx("div",{className:"faccoes-grid",children:n.map(N=>d.jsxs("div",{className:"faccao-card",children:[d.jsxs("div",{className:"faccao-card-header",children:[d.jsx("div",{className:"faccao-avatar",children:d.jsx(Io,{size:24})}),d.jsxs("div",{className:"faccao-header-info",children:[d.jsx("h3",{className:"faccao-name",children:N.nome}),N.ativo&&d.jsx("span",{className:"faccao-status",children:"Ativo"})]}),d.jsxs("div",{className:"faccao-actions",children:[d.jsx("button",{className:"faccao-action-btn faccao-edit-btn",onClick:()=>X(N),title:"Editar",children:d.jsx(H6,{size:16})}),d.jsx("button",{className:"faccao-action-btn faccao-delete-btn",onClick:()=>N.id&&F(N.id),title:"Excluir",children:d.jsx(Mo,{size:16})})]})]}),d.jsxs("div",{className:"faccao-card-body",children:[d.jsxs("div",{className:"faccao-info-row",children:[d.jsx(PA,{size:16,className:"faccao-icon"}),d.jsx("span",{className:"faccao-info-text",children:N.enderecoCompleto})]}),d.jsxs("div",{className:"faccao-servicos",children:[d.jsx("span",{className:"faccao-servicos-label",children:"Servio:"}),d.jsx("span",{className:"faccao-servico-tag",children:N.servicoPrestado})]}),d.jsxs("div",{className:"faccao-contact",children:[N.telefone&&d.jsxs("div",{className:"faccao-contact-item",children:[d.jsx(Q6,{size:14,className:"faccao-contact-icon"}),d.jsxs("span",{children:["Telefone: ",N.telefone]})]}),N.email&&d.jsxs("div",{className:"faccao-contact-item",children:[d.jsx(P6,{size:14,className:"faccao-contact-icon"}),d.jsxs("span",{children:["E-mail: ",N.email]})]})]})]})]},N.id))})}),d.jsx(aU,{isOpen:p,onClose:()=>{g(!1),E(null)},onSave:q,faccaoToEdit:v}),d.jsx(Nd,{isOpen:w,onClose:()=>{S(!1),C(null)},onConfirm:H,itemName:t.find(N=>N.id===A)?.nome||"",loading:j,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta faco?",confirmText:"Excluir",cancelText:"Cancelar"})]})]})},iU=({isOpen:t,onClose:e,onSubmit:n,stepToEdit:a,isLoading:i=!1})=>{const[l,u]=I.useState({name:"",description:"",order:0});I.useEffect(()=>{u(a?{name:a.name,description:a.description,order:a.order}:{name:"",description:"",order:0})},[a,t]);const m=v=>{const{name:E,value:w}=v.target;u(S=>({...S,[E]:E==="order"?parseInt(w)||0:w}))},p=async v=>{if(v.preventDefault(),!l.name.trim()||!l.description.trim()){alert("Por favor, preencha todos os campos obrigatrios");return}try{await n(l),u({name:"",description:"",order:0}),e()}catch(E){console.error("Erro ao salvar etapa:",E)}},g=()=>{u({name:"",description:"",order:0}),e()};return t?d.jsx("div",{className:"step-modal-overlay",onClick:g,children:d.jsxs("div",{className:"step-modal",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"step-modal-header",children:[d.jsxs("div",{className:"step-modal-title-section",children:[d.jsx("h2",{className:"step-modal-title",children:a?"Editar Etapa":"Nova Etapa"}),d.jsx("p",{className:"step-modal-subtitle",children:a?"Atualize as informaes da etapa":"Configure uma etapa do processo produtivo"})]}),d.jsx("button",{className:"step-modal-close",onClick:g,children:d.jsx(Ir,{size:20})})]}),d.jsxs("form",{className:"step-modal-form",onSubmit:p,children:[d.jsxs("div",{className:"step-modal-field",children:[d.jsx("label",{className:"step-modal-label",htmlFor:"name",children:"Nome da Etapa"}),d.jsx("input",{id:"name",name:"name",type:"text",value:l.name,onChange:m,placeholder:"Ex: Corte, Costura, Silk...",className:"step-modal-input",required:!0})]}),d.jsxs("div",{className:"step-modal-field",children:[d.jsx("label",{className:"step-modal-label",htmlFor:"description",children:"Descrio"}),d.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:m,placeholder:"Descreva o que  feito nesta etapa",className:"step-modal-textarea",rows:4,required:!0})]}),d.jsxs("div",{className:"step-modal-field",children:[d.jsx("label",{className:"step-modal-label",htmlFor:"order",children:"Ordem de Execuo"}),d.jsx("input",{id:"order",name:"order",type:"number",min:"0",value:l.order,onChange:m,className:"step-modal-input",required:!0})]}),d.jsxs("div",{className:"step-modal-actions",children:[d.jsx(sc,{type:"button",variant:"outline",onClick:g,disabled:i,children:"Cancelar"}),d.jsx(sc,{type:"submit",variant:"primary",isLoading:i,disabled:!l.name.trim()||!l.description.trim(),children:a?"Salvar Alteraes":"Cadastrar"})]})]})]})}):null},oU=()=>{const{user:t}=On(),[e,n]=I.useState([]),[a,i]=I.useState(!1),[l,u]=I.useState(null),[m,p]=I.useState(!1),[g,v]=I.useState(!0),[E,w]=I.useState(!1),[S,A]=I.useState(null),[C,j]=I.useState(!1),z=I.useCallback(async()=>{if(t)try{v(!0);const D=await ns.getStepsByUser(t.uid);n(D)}catch(D){console.error("Erro ao carregar etapas:",D)}finally{v(!1)}},[t]);I.useEffect(()=>{z()},[z]);const F=async D=>{if(t)try{p(!0),l?(await ns.updateStep(l.id,D),Ge.success("Etapa atualizada com sucesso!",{icon:d.jsx(un,{size:20})})):(await ns.createStep(t.uid,D),Ge.success("Etapa criada com sucesso!",{icon:d.jsx(un,{size:20})})),await z(),u(null)}catch(N){console.error("Erro ao salvar etapa:",N);const M=N instanceof Error?N.message:"Erro ao salvar etapa. Tente novamente.";throw Ge.error(M),N}finally{p(!1)}},H=D=>{u(D),i(!0)},ee=()=>{i(!1),u(null)},q=D=>{A(D),w(!0)},X=async()=>{if(S)try{j(!0),await ns.deleteStep(S),await z(),w(!1),A(null),Ge.success("Etapa excluda com sucesso!",{icon:d.jsx(un,{size:20})})}catch(D){console.error("Erro ao deletar etapa:",D),Ge.error("Erro ao deletar etapa. Tente novamente.")}finally{j(!1)}};return d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Etapas de Produo"}),d.jsx("p",{className:"tab-subtitle",children:"Configure as etapas do processo produtivo"})]}),d.jsx("div",{className:"tab-body",children:d.jsxs("div",{className:"etapas-container",children:[d.jsxs("div",{className:"etapas-header",children:[d.jsxs("div",{className:"etapas-title-section",children:[d.jsx("h3",{className:"etapas-title",children:"Etapas de Produo"}),d.jsx("p",{className:"etapas-subtitle",children:"Configure as etapas do processo produtivo"})]}),d.jsxs("button",{className:"etapas-add-button",onClick:()=>{u(null),i(!0)},children:[d.jsx(Ni,{className:"etapas-add-icon",size:16}),d.jsx("span",{className:"etapas-add-text",children:"Nova Etapa"})]})]}),d.jsx("div",{className:"etapas-content",children:g?d.jsx("div",{className:"etapas-loading",children:d.jsx("p",{children:"Carregando etapas..."})}):e.length===0?d.jsxs("div",{className:"etapas-empty",children:[d.jsx("p",{children:"Nenhuma etapa cadastrada"}),d.jsx("p",{className:"etapas-empty-subtitle",children:'Clique no boto "Nova Etapa" para adicionar uma etapa'})]}):d.jsx("div",{className:"etapas-table-container",children:d.jsxs("table",{className:"etapas-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ordem"}),d.jsx("th",{children:"Nome"}),d.jsx("th",{children:"Descrio"}),d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:e.map(D=>d.jsxs("tr",{children:[d.jsx("td",{className:"etapas-order",children:D.order}),d.jsx("td",{className:"etapas-name",children:D.name}),d.jsx("td",{className:"etapas-description",children:D.description}),d.jsxs("td",{className:"etapas-actions",children:[d.jsx("button",{className:"etapas-action etapas-edit",onClick:()=>H(D),title:"Editar etapa",children:d.jsx(MA,{size:14})}),d.jsx("button",{className:"etapas-action etapas-delete",onClick:()=>q(D.id),title:"Excluir etapa",children:d.jsx(Mo,{size:14})})]})]},D.id))})]})})})]})}),d.jsx(iU,{isOpen:a,onClose:ee,onSubmit:F,stepToEdit:l,isLoading:m}),d.jsx(Nd,{isOpen:E,onClose:()=>{w(!1),A(null)},onConfirm:X,itemName:e.find(D=>D.id===S)?.name||"",loading:C,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta etapa?",confirmText:"Excluir",cancelText:"Cancelar"})]})},lU=({categorias:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=I.useState(!1),[u,m]=I.useState(null),[p,g]=I.useState({nome:"",descricao:""}),v=S=>{S.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",descricao:""}),l(!1),m(null))},E=S=>{g({nome:S.nome,descricao:S.descricao||""}),m(S.id),l(!0)},w=()=>{g({nome:"",descricao:""}),l(!1),m(null)};return d.jsxs("div",{className:"categoria-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Categorias de Produtos"}),d.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[d.jsx(Ni,{size:16}),"Adicionar Categoria"]})]}),i&&d.jsxs("form",{onSubmit:v,className:"form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nome",children:"Nome da Categoria"}),d.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:S=>g({...p,nome:S.target.value}),placeholder:"Ex: Blusa, Regata, Cala...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"descricao",children:"Descrio (Opcional)"}),d.jsx("textarea",{id:"descricao",value:p.descricao,onChange:S=>g({...p,descricao:S.target.value}),placeholder:"Descrio da categoria...",rows:3})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:w,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"categorias-list",children:t.map(S=>d.jsxs("div",{className:"categoria-item",children:[d.jsxs("div",{className:"categoria-info",children:[d.jsx("h4",{children:S.nome}),S.descricao&&d.jsx("p",{className:"descricao",children:S.descricao})]}),d.jsxs("div",{className:"categoria-actions",children:[d.jsx("button",{onClick:()=>E(S),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>a(S.id),className:"delete-button",children:d.jsx(Ir,{size:16})})]})]},S.id))})]})},cU=({cores:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=I.useState(!1),[u,m]=I.useState(null),[p,g]=I.useState({nome:"",codigo:"#000000"}),v=S=>{S.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",codigo:"#000000"}),l(!1),m(null))},E=S=>{g({nome:S.nome,codigo:S.codigo}),m(S.id),l(!0)},w=()=>{g({nome:"",codigo:"#000000"}),l(!1),m(null)};return d.jsxs("div",{className:"cor-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Cores de Produtos"}),d.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[d.jsx(Ni,{size:16}),"Adicionar Cor"]})]}),i&&d.jsxs("form",{onSubmit:v,className:"form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nome",children:"Nome da Cor"}),d.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:S=>g({...p,nome:S.target.value}),placeholder:"Ex: Preto, Marinho, Branco...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"codigo",children:"Cdigo da Cor"}),d.jsxs("div",{className:"color-input-group",children:[d.jsx("input",{type:"color",id:"codigo",value:p.codigo,onChange:S=>g({...p,codigo:S.target.value}),className:"color-picker"}),d.jsx("input",{type:"text",value:p.codigo,onChange:S=>g({...p,codigo:S.target.value}),placeholder:"#000000",className:"color-code"})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:w,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"cores-list",children:t.map(S=>d.jsxs("div",{className:"cor-item",children:[d.jsxs("div",{className:"cor-info",children:[d.jsx("div",{className:"cor-preview",style:{backgroundColor:S.codigo}}),d.jsxs("div",{className:"cor-details",children:[d.jsx("h4",{children:S.nome}),d.jsx("p",{className:"codigo",children:S.codigo})]})]}),d.jsxs("div",{className:"cor-actions",children:[d.jsx("button",{onClick:()=>E(S),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>a(S.id),className:"delete-button",children:d.jsx(Ir,{size:16})})]})]},S.id))})]})},uU=({tamanhos:t,onAdd:e,onEdit:n,onDelete:a})=>{const[i,l]=I.useState(!1),[u,m]=I.useState(null),[p,g]=I.useState({nome:"",ordem:1}),v=A=>{A.preventDefault(),p.nome.trim()&&(u?n(u,p):e(p),g({nome:"",ordem:1}),l(!1),m(null))},E=A=>{g({nome:A.nome,ordem:A.ordem}),m(A.id),l(!0)},w=()=>{g({nome:"",ordem:1}),l(!1),m(null)},S=[...t].sort((A,C)=>A.ordem-C.ordem);return d.jsxs("div",{className:"tamanho-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Tamanhos de Produtos"}),d.jsxs("button",{type:"button",onClick:()=>l(!0),className:"add-button",children:[d.jsx(Ni,{size:16}),"Adicionar Tamanho"]})]}),i&&d.jsxs("form",{onSubmit:v,className:"form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nome",children:"Nome do Tamanho"}),d.jsx("input",{type:"text",id:"nome",value:p.nome,onChange:A=>g({...p,nome:A.target.value}),placeholder:"Ex: P, M, G, GG, XG...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"ordem",children:"Ordem de Exibio"}),d.jsx("input",{type:"number",id:"ordem",value:p.ordem,onChange:A=>g({...p,ordem:parseInt(A.target.value)||1}),min:"1",placeholder:"1"}),d.jsx("small",{children:"Menor nmero aparece primeiro"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:u?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:w,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"tamanhos-list",children:S.map(A=>d.jsxs("div",{className:"tamanho-item",children:[d.jsxs("div",{className:"tamanho-info",children:[d.jsx("div",{className:"tamanho-ordem",children:A.ordem}),d.jsx("h4",{children:A.nome})]}),d.jsxs("div",{className:"tamanho-actions",children:[d.jsx("button",{onClick:()=>E(A),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>a(A.id),className:"delete-button",children:d.jsx(Ir,{size:16})})]})]},A.id))})]})},dU=({produtos:t,categorias:e,cores:n,tamanhos:a,onAdd:i,onEdit:l,onDelete:u})=>{const[m,p]=I.useState(!1),[g,v]=I.useState(null),[E,w]=I.useState(!1),[S,A]=I.useState([]),[C,j]=I.useState({refCodigo:"",descricao:"",categoriaId:"",coresIds:[],tamanhosIds:[],etapasProducao:[]}),{user:z}=On();I.useEffect(()=>{(async()=>{if(z)try{const b=await ns.getStepsByUser(z.uid);A(b)}catch(b){console.error("Erro ao carregar etapas:",b)}})()},[z]);const F=O=>{O.preventDefault(),!(!C.refCodigo.trim()||!C.descricao.trim()||!C.categoriaId)&&(g?l(g,C):i(C),H())},H=()=>{j({refCodigo:"",descricao:"",categoriaId:"",coresIds:[],tamanhosIds:[],etapasProducao:[]}),p(!1),v(null),w(!1)},ee=O=>{j({refCodigo:O.refCodigo,descricao:O.descricao,categoriaId:O.categoria.id,coresIds:O.cores.map(b=>b.id),tamanhosIds:O.tamanhos.map(b=>b.id),etapasProducao:O.etapasProducao?.map(b=>({etapaId:b.etapa.id,custo:b.custo,ordem:b.ordem}))||[]}),v(O.id),p(!0)},q=O=>{j({...C,categoriaId:O})},X=O=>{const b=C.coresIds.includes(O)?C.coresIds.filter(k=>k!==O):[...C.coresIds,O];j({...C,coresIds:b})},D=O=>{const b=C.tamanhosIds.includes(O)?C.tamanhosIds.filter(k=>k!==O):[...C.tamanhosIds,O];j({...C,tamanhosIds:b})},N=O=>{const b=C.etapasProducao||[];if(b.some(ie=>ie.etapaId===O))j({...C,etapasProducao:b.filter(ie=>ie.etapaId!==O)});else{const ie=S.find(ae=>ae.id===O);ie&&j({...C,etapasProducao:[...b,{etapaId:ie.id,custo:0,ordem:ie.order}]})}},M=(O,b)=>{const k=C.etapasProducao||[];j({...C,etapasProducao:k.map(ie=>ie.etapaId===O?{...ie,custo:Math.max(0,b)}:ie)})},L=e.find(O=>O.id===C.categoriaId);return d.jsxs("div",{className:"produto-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Produtos"}),d.jsxs("button",{type:"button",onClick:()=>p(!0),className:"add-button",children:[d.jsx(Ni,{size:16}),"Adicionar Produto"]})]}),m&&d.jsxs("form",{onSubmit:F,className:"form",children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"refCodigo",children:"REF/CD"}),d.jsx("input",{type:"text",id:"refCodigo",value:C.refCodigo,onChange:O=>j({...C,refCodigo:O.target.value}),placeholder:"Ex: BLU-001, REG-002...",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"descricao",children:"Descrio"}),d.jsx("input",{type:"text",id:"descricao",value:C.descricao,onChange:O=>j({...C,descricao:O.target.value}),placeholder:"Descrio do produto...",required:!0})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Categoria"}),d.jsxs("div",{className:"dropdown",children:[d.jsxs("button",{type:"button",className:"dropdown-button",onClick:()=>w(!E),children:[L?L.nome:"Selecione uma categoria",d.jsx(Zf,{size:16})]}),E&&d.jsx("div",{className:"dropdown-menu",children:e.map(O=>d.jsx("button",{type:"button",onClick:()=>{q(O.id),w(!1)},className:"dropdown-item",children:O.nome},O.id))})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Cores"}),d.jsx("div",{className:"checkbox-grid",children:n.map(O=>d.jsxs("label",{className:"checkbox-item",children:[d.jsx("input",{type:"checkbox",checked:C.coresIds.includes(O.id),onChange:()=>X(O.id)}),d.jsx("div",{className:"color-preview",style:{backgroundColor:O.codigo}}),d.jsx("span",{children:O.nome})]},O.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tamanhos"}),d.jsx("div",{className:"checkbox-grid",children:a.sort((O,b)=>O.ordem-b.ordem).map(O=>d.jsxs("label",{className:"checkbox-item",children:[d.jsx("input",{type:"checkbox",checked:C.tamanhosIds.includes(O.id),onChange:()=>D(O.id)}),d.jsx("span",{children:O.nome})]},O.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Etapas de Produo e Custos"}),d.jsx("div",{className:"etapas-container-simple",children:S.length>0?d.jsx("div",{className:"etapas-grid",children:S.map(O=>{const b=C.etapasProducao?.find(ie=>ie.etapaId===O.id),k=!!b;return d.jsxs("div",{className:`etapa-card ${k?"active":""}`,children:[d.jsx("div",{className:"etapa-card-header",children:d.jsxs("label",{className:"etapa-card-checkbox",children:[d.jsx("input",{type:"checkbox",checked:k,onChange:()=>N(O.id)}),d.jsxs("div",{className:"etapa-card-info",children:[d.jsx("span",{className:"etapa-card-nome",children:O.name}),O.description&&d.jsx("span",{className:"etapa-card-desc",children:O.description})]})]})}),k&&d.jsxs("div",{className:"etapa-card-custo",children:[d.jsx("label",{children:"Custo"}),d.jsxs("div",{className:"currency-input",children:[d.jsx("span",{className:"currency-symbol",children:"R$"}),d.jsx("input",{type:"text",value:b?.custo?b.custo.toFixed(2).replace(".",","):"0,00",onChange:ie=>{const ae=ie.target.value.replace(/\D/g,"").padStart(3,"0"),G=F9(ae);M(O.id,G)},placeholder:"0,00",maxLength:15})]})]})]},O.id)})}):d.jsxs("div",{className:"etapas-empty",children:[d.jsx("p",{children:"Nenhuma etapa cadastrada ainda."}),d.jsx("span",{children:'Cadastre etapas na aba "Etapas" primeiro.'})]})})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"save-button",children:g?"Atualizar":"Salvar"}),d.jsx("button",{type:"button",onClick:H,className:"cancel-button",children:"Cancelar"})]})]}),d.jsx("div",{className:"produtos-list",children:t.map(O=>d.jsxs("div",{className:"produto-item",children:[d.jsxs("div",{className:"produto-info",children:[d.jsxs("div",{className:"produto-header",children:[d.jsx("h4",{children:O.refCodigo}),d.jsx("span",{className:"categoria",children:O.categoria.nome})]}),d.jsx("p",{className:"descricao",children:O.descricao}),d.jsxs("div",{className:"produto-details",children:[d.jsxs("div",{className:"cores",children:[d.jsx("strong",{children:"Cores:"})," ",O.cores.map(b=>b.nome).join(", ")]}),d.jsxs("div",{className:"tamanhos",children:[d.jsx("strong",{children:"Tamanhos:"})," ",O.tamanhos.map(b=>b.nome).join(", ")]})]})]}),d.jsxs("div",{className:"produto-actions",children:[d.jsx("button",{onClick:()=>ee(O),className:"edit-button",children:"Editar"}),d.jsx("button",{onClick:()=>u(O.id),className:"delete-button",children:d.jsx(Ir,{size:16})})]})]},O.id))})]})},hU=()=>{const{user:t}=On(),[e,n]=I.useState("produtos"),[a,i]=I.useState(!0),[l,u]=I.useState([]),[m,p]=I.useState([]),[g,v]=I.useState([]),[E,w]=I.useState([]),[S,A]=I.useState(!1),[C,j]=I.useState(null),[z,F]=I.useState(null),[H,ee]=I.useState(!1),q=(V,Z)=>{j(V),F(Z),A(!0)},X=async()=>{if(!(!C||!z))try{switch(ee(!0),z){case"produto":await ga.deleteProduto(C),Ge.success("Produto excludo com sucesso!",{icon:d.jsx(un,{size:20})});break;case"categoria":await cf.deleteCategoria(C),Ge.success("Categoria excluda com sucesso!",{icon:d.jsx(un,{size:20})});break;case"cor":await Vu.deleteCor(C),Ge.success("Cor excluda com sucesso!",{icon:d.jsx(un,{size:20})});break;case"tamanho":await Ll.deleteTamanho(C),Ge.success("Tamanho excludo com sucesso!",{icon:d.jsx(un,{size:20})});break}await M(),A(!1),j(null),F(null)}catch(V){console.error(`Erro ao deletar ${z}:`,V);const Z=V instanceof Error?V.message:`Erro ao excluir ${z}. Tente novamente.`;Ge.error(Z)}finally{ee(!1)}},D=()=>{if(!(!C||!z))switch(z){case"produto":return E.find(V=>V.id===C)?.descricao||void 0;case"categoria":return l.find(V=>V.id===C)?.nome||void 0;case"cor":return m.find(V=>V.id===C)?.nome||void 0;case"tamanho":return g.find(V=>V.id===C)?.nome||void 0}},N=()=>{switch(z){case"produto":return"Tem certeza que deseja excluir este produto?";case"categoria":return"Tem certeza que deseja excluir esta categoria?";case"cor":return"Tem certeza que deseja excluir esta cor?";case"tamanho":return"Tem certeza que deseja excluir este tamanho?";default:return"Tem certeza que deseja excluir este item?"}},M=I.useCallback(async()=>{if(t)try{i(!0);const[V,Z,me,pe,be]=await Promise.all([cf.getCategorias(t.uid),Vu.getCores(t.uid),Ll.getTamanhos(t.uid),ns.getStepsByUser(t.uid),ga.getProdutos(t.uid)]);u(V),p(Z),v(me);const Oe=be.map(xe=>{const he=V.find(Le=>Le.id===xe.categoriaId),fe=Z.filter(Le=>xe.coresIds?.includes(Le.id)),we=me.filter(Le=>xe.tamanhosIds?.includes(Le.id)),Je=(xe.etapasProducaoIds||[]).map(Le=>{const St=pe.find(ke=>ke.id===Le.etapaId);return St?{etapa:{id:St.id,nome:St.name,descricao:St.description||void 0,custo:Le.custo,ativo:!0,createdAt:St.createdAt},custo:Le.custo,ordem:Le.ordem}:null}).filter(Le=>Le!==null);return{...xe,categoria:he||xe.categoria,cores:fe.length>0?fe:xe.cores||[],tamanhos:we.length>0?we:xe.tamanhos||[],etapasProducao:Je}});w(Oe)}catch(V){console.error("Erro ao carregar dados:",V)}finally{i(!1)}},[t]);I.useEffect(()=>{t&&M()},[t,M]);const L=async V=>{if(t)try{await cf.createCategoria(t.uid,V),await M()}catch(Z){console.error("Erro ao adicionar categoria:",Z),alert("Erro ao adicionar categoria")}},O=async(V,Z)=>{try{await cf.updateCategoria(V,Z),await M()}catch(me){console.error("Erro ao editar categoria:",me),alert("Erro ao editar categoria")}},b=async V=>{if(t)try{await Vu.createCor(t.uid,V),await M()}catch(Z){console.error("Erro ao adicionar cor:",Z),alert("Erro ao adicionar cor")}},k=async(V,Z)=>{try{await Vu.updateCor(V,Z),await M()}catch(me){console.error("Erro ao editar cor:",me),alert("Erro ao editar cor")}},ie=async V=>{if(t)try{await Ll.createTamanho(t.uid,V),await M()}catch(Z){console.error("Erro ao adicionar tamanho:",Z),alert("Erro ao adicionar tamanho")}},ae=async(V,Z)=>{try{await Ll.updateTamanho(V,Z),await M()}catch(me){console.error("Erro ao editar tamanho:",me),alert("Erro ao editar tamanho")}},G=async V=>{if(t)try{await ga.createProduto(t.uid,V),await M(),Ge.success("Produto criado com sucesso!",{icon:d.jsx(un,{size:20})})}catch(Z){console.error("Erro ao adicionar produto:",Z);const me=Z instanceof Error?Z.message:"Erro ao criar produto. Tente novamente.";Ge.error(me)}},$=async(V,Z)=>{try{await ga.updateProduto(V,Z),await M()}catch(me){console.error("Erro ao editar produto:",me),alert("Erro ao editar produto")}},re=[{key:"produtos",label:"Produtos",icon:_i},{key:"categorias",label:"Categorias",icon:h5},{key:"cores",label:"Cores",icon:B6},{key:"tamanhos",label:"Tamanhos",icon:n5}],ye=()=>{switch(e){case"produtos":return d.jsx(dU,{produtos:E,categorias:l,cores:m,tamanhos:g,onAdd:G,onEdit:$,onDelete:V=>q(V,"produto")});case"categorias":return d.jsx(lU,{categorias:l,onAdd:L,onEdit:O,onDelete:V=>q(V,"categoria")});case"cores":return d.jsx(cU,{cores:m,onAdd:b,onEdit:k,onDelete:V=>q(V,"cor")});case"tamanhos":return d.jsx(uU,{tamanhos:g,onAdd:ie,onEdit:ae,onDelete:V=>q(V,"tamanho")});default:return null}};return d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsx("h2",{className:"tab-title",children:"Produtos"}),d.jsx("p",{className:"tab-subtitle",children:"Gerencie produtos, categorias, cores e tamanhos"})]}),a?d.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:d.jsx("p",{children:"Carregando dados..."})}):d.jsxs("div",{className:"product-tabs",children:[d.jsx("div",{className:"product-tab-nav",children:re.map(V=>d.jsxs("button",{onClick:()=>n(V.key),className:`product-tab-button ${e===V.key?"active":""}`,children:[d.jsx(V.icon,{size:16}),V.label]},V.key))}),d.jsx("div",{className:"product-tab-content",children:ye()})]}),d.jsx(Nd,{isOpen:S,onClose:()=>{A(!1),j(null),F(null)},onConfirm:X,itemName:D()||"",message:N(),loading:H,title:"Confirmar Excluso",confirmText:"Excluir",cancelText:"Cancelar"})]})},fU="modulepreload",mU=function(t){return"/"+t},mw={},pU=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let g=function(v){return Promise.all(v.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");i=g(n.map(v=>{if(v=mU(v),v in mw)return;mw[v]=!0;const E=v.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":fU,E||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),E)return new Promise((A,C)=>{S.addEventListener("load",A),S.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return i.then(m=>{for(const p of m||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},gU=[{label:"Alta",value:"alta"},{label:"Mdia",value:"media"},{label:"Baixa",value:"baixa"}],yU=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:a,orderToEdit:i})=>{const{user:l}=On(),[u,m]=I.useState([]),[p,g]=I.useState([]),[v,E]=I.useState([]),[w,S]=I.useState(""),[A,C]=I.useState({produtoId:"",prioridade:"",dataInicio:"",dataPrevista:"",responsavelId:""}),[j,z]=I.useState([]),[F,H]=I.useState(""),[ee,q]=I.useState(!1),X=I.useRef(null);I.useEffect(()=>{!l||!t||(async()=>{const[$,re,ye,V]=await Promise.all([ga.getProdutos(l.uid),Vu.getCores(l.uid),Ll.getTamanhos(l.uid),ya.getFaccoes()]);g(re),E(V.filter(me=>me.ativo)),S(re[0]?.id||"");const Z=$.map(me=>{const pe=ye.filter(be=>me.tamanhosIds?.includes(be.id||""));return{...me,tamanhos:pe.length>0?pe:[]}});m(Z)})()},[l,t]),I.useEffect(()=>{t||(C({produtoId:"",prioridade:"",dataInicio:"",dataPrevista:"",responsavelId:""}),z([]),H(""),q(!1))},[t]),I.useEffect(()=>{if(t&&i){C({produtoId:i.produtoId,prioridade:i.prioridade,dataInicio:i.dataInicio,dataPrevista:i.dataPrevista,responsavelId:i.responsavelId||""});const $=u.find(ye=>ye.id===i.produtoId);$&&H($.refCodigo);const re=i.grade.map(ye=>{if(ye.quantidades)return{corId:ye.corId,quantidades:ye.quantidades};{const V=u.find(Z=>Z.id===i.produtoId);if(V&&V.tamanhos){const Z={},me=[...V.tamanhos].sort((be,Oe)=>be.ordem-Oe.ordem),pe=["pp","p","m","g","gg"];return me.forEach((be,Oe)=>{if(Oe<pe.length){const xe=pe[Oe],he=ye;Z[be.id]=he[xe]||0}}),{corId:ye.corId,quantidades:Z}}return{corId:ye.corId,quantidades:{}}}});z(re)}},[t,i,u]);const D=I.useMemo(()=>u.find($=>$.id===A.produtoId),[u,A.produtoId]),N=I.useMemo(()=>!D||!D.tamanhosIds?[]:[...D.tamanhos].sort(($,re)=>$.ordem-re.ordem),[D]),M=I.useMemo(()=>{if(!F.trim())return u;const $=F.toLowerCase();return u.filter(re=>re.refCodigo.toLowerCase().includes($)||re.descricao.toLowerCase().includes($))},[u,F]),L=I.useMemo(()=>`1.5 fr repeat(${N.length}, 0.8fr) 1fr 0.4fr`,[N]);I.useEffect(()=>{const $=re=>{X.current&&!X.current.contains(re.target)&&q(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]),I.useEffect(()=>{H(D?D.refCodigo:"")},[D]);const O=()=>{if(!w||j.some(re=>re.corId===w))return;const $={};N.forEach(re=>{$[re.id]=0}),z(re=>[...re,{corId:w,quantidades:$}])},b=$=>{z(re=>re.filter(ye=>ye.corId!==$))},k=($,re,ye)=>{z(V=>V.map(Z=>Z.corId===$?{...Z,quantidades:{...Z.quantidades,[re]:Number.isNaN(ye)?0:Math.max(0,Math.floor(ye))}}:Z))},ie=$=>Object.values($.quantidades).reduce((re,ye)=>re+ye,0),ae=j.reduce(($,re)=>$+ie(re),0),G=async $=>{if($.preventDefault(),!D||!A.prioridade||!A.dataInicio||!A.dataPrevista||j.length===0)return;const re={produtoId:D.id,prioridade:A.prioridade,dataInicio:A.dataInicio,dataPrevista:A.dataPrevista,responsavelId:A.responsavelId||void 0,grade:j.map(ye=>{const V=p.find(Z=>Z.id===ye.corId);return{corId:ye.corId,corNome:V?.nome??"Cor removida",quantidades:ye.quantidades}})};await n(re)};return t?d.jsx("div",{className:"order-modal-overlay",children:d.jsxs("div",{className:"order-modal",children:[d.jsxs("header",{className:"order-modal__header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:i?"Editar Ordem de Produo":"Nova Ordem de Produo"}),d.jsx("p",{children:i?"Edite os dados da ordem de produo.":"Crie uma nova ordem com todas as especificaes."})]}),d.jsx("button",{className:"order-modal__close",onClick:e,children:d.jsx(Ir,{size:18})})]}),d.jsxs("form",{className:"order-modal__form",onSubmit:G,children:[d.jsxs("div",{className:"order-modal__grid",children:[d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Produto*"}),d.jsxs("div",{ref:X,className:"order-modal__product-search",children:[d.jsxs("div",{className:"order-modal__product-input-wrapper",children:[d.jsx(Ro,{size:18,className:"order-modal__search-icon"}),d.jsx("input",{type:"text",value:F,onChange:$=>{H($.target.value),q(!0),$.target.value||C(re=>({...re,produtoId:""}))},onFocus:()=>q(!0),placeholder:"Pesquisar por REF..."})]}),ee&&F.trim()&&!D&&d.jsx("div",{className:"order-modal__product-dropdown",children:M.length>0?M.map($=>d.jsxs("button",{type:"button",className:"order-modal__product-option",onClick:()=>{C(re=>({...re,produtoId:$.id})),H($.refCodigo),q(!1)},children:[d.jsx("div",{className:"order-modal__product-option-ref",children:$.refCodigo}),d.jsx("div",{className:"order-modal__product-option-desc",children:$.descricao})]},$.id)):d.jsx("div",{className:"order-modal__product-empty",children:"Nenhum produto encontrado"})}),D&&d.jsxs("div",{className:"order-modal__product-selected",children:[d.jsx("span",{className:"order-modal__product-selected-label",children:"Descrio:"}),d.jsx("span",{className:"order-modal__product-selected-value",children:D.descricao})]})]})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Prioridade*"}),d.jsxs("select",{value:A.prioridade,onChange:$=>C(re=>({...re,prioridade:$.target.value})),required:!0,children:[d.jsx("option",{value:"",children:"Selecione uma prioridade"}),gU.map($=>d.jsx("option",{value:$.value,children:$.label},$.value))]})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Responsvel (Faco)"}),d.jsxs("select",{value:A.responsavelId,onChange:$=>C(re=>({...re,responsavelId:$.target.value})),children:[d.jsx("option",{value:"",children:"Nenhum responsvel"}),v.map($=>d.jsx("option",{value:$.id,children:$.nome},$.id))]})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Data de Incio"}),d.jsx("input",{type:"date",value:A.dataInicio,onChange:$=>C(re=>({...re,dataInicio:$.target.value}))})]}),d.jsxs("label",{className:"order-modal__field",children:[d.jsx("span",{children:"Data Prevista"}),d.jsx("input",{type:"date",value:A.dataPrevista,onChange:$=>C(re=>({...re,dataPrevista:$.target.value}))})]})]}),d.jsxs("section",{className:"order-modal__grade",children:[d.jsxs("div",{className:"order-modal__grade-header",children:[d.jsx("h3",{children:"Grade de Produo"}),d.jsxs("div",{className:"order-modal__grade-actions",children:[d.jsx("select",{value:w,onChange:$=>S($.target.value),children:p.map($=>d.jsx("option",{value:$.id,children:$.nome},$.id))}),d.jsx("button",{type:"button",className:"order-modal__grade-add",onClick:O,disabled:!w,children:d.jsx(Ni,{size:18})})]})]}),d.jsxs("div",{className:"order-modal__grade-table",children:[d.jsxs("div",{className:"order-modal__grade-header-row",style:{gridTemplateColumns:L},children:[d.jsx("span",{children:"Cor"}),N.map($=>d.jsx("span",{children:$.nome},$.id)),d.jsx("span",{children:"Total"}),d.jsx("span",{})]}),j.map($=>{const re=p.find(ye=>ye.id===$.corId);return d.jsxs("div",{className:"order-modal__grade-row",style:{gridTemplateColumns:L},children:[d.jsx("span",{children:re?.nome??"Cor removida"}),N.map(ye=>d.jsx("input",{type:"number",min:0,value:$.quantidades[ye.id]||0,onChange:V=>k($.corId,ye.id,Number(V.target.value))},ye.id)),d.jsx("span",{className:"order-modal__grade-total",children:ie($)}),d.jsx("button",{type:"button",className:"order-modal__grade-remove",onClick:()=>b($.corId),children:d.jsx(Mo,{size:18})})]},$.corId)}),j.length===0&&d.jsx("div",{className:"order-modal__grade-empty",children:"Nenhuma cor adicionado ainda"})]}),d.jsxs("footer",{className:"order-modal__grade-footer",children:[d.jsx("span",{children:"Total de peas:"}),d.jsx("strong",{children:ae})]})]}),d.jsxs("footer",{className:"order-modal__footer",children:[d.jsx("button",{type:"button",disabled:a,className:"order-modal__btn outline",onClick:e,children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:a,className:"order-modal__btn primary",children:a?i?"Atualizando...":"Criando...":i?"Atualizar Ordem":"Criar Ordem"})]})]})]})}):null},pw={alta:{label:"Alta",className:"badge priority-high"},media:{label:"Mdia",className:"badge priority-medium"},baixa:{label:"Baixa",className:"badge priority-low"}},gw={planejada:{label:"Planejada",className:"badge status-gray"},em_producao:{label:"Em Produo",className:"badge status-warning"},concluida:{label:"Concluda",className:"badge status-success"}},vU=()=>{const{user:t}=On(),[e,n]=I.useState([]),[a,i]=I.useState([]),[l,u]=I.useState([]),[m,p]=I.useState(""),[g,v]=I.useState(!1),[E,w]=I.useState(!1),[S,A]=I.useState(null),[C,j]=I.useState(!0),[z,F]=I.useState(!1),[H,ee]=I.useState(null),[q,X]=I.useState(!1),D=ae=>{ee(ae),F(!0)},N=async()=>{if(H)try{try{const ae=await rr.getProgressByOrderId(H);ae&&await rr.deleteProgress(ae.id)}catch(ae){console.error("Erro ao deletar progresso:",ae)}try{await is.deleteLancamentosByOrdem(H)}catch(ae){console.error("Erro ao deletar lanamentos financeiros:",ae)}await ts.deleteOrder(H),await M(),F(!1),ee(null),Ge.success("Ordem de produo excluda com sucesso!",{icon:d.jsx(un,{size:20})})}catch(ae){console.error("Erro ao deletar ordem de produo:",ae),Ge.error("Erro ao deletar ordem de produo. Tente novamente.")}finally{X(!1)}},M=I.useCallback(async()=>{if(t)try{j(!0);const[ae,G,$]=await Promise.all([ts.getOrders(t.uid),ga.getProdutos(t.uid),Ll.getTamanhos(t.uid)]),re=G.map(ye=>{const V=$.filter(Z=>ye.tamanhosIds?.includes(Z.id));return{...ye,tamanhos:V.length>0?V:ye.tamanhos||[]}});n(ae),i(re),u($)}catch(ae){console.error("Erro ao carregar dados:",ae)}finally{j(!1)}},[t]);I.useEffect(()=>{M()},[M]);const L=I.useMemo(()=>{const ae=m.trim().toLowerCase();return ae?e.filter(G=>{const $=a.find(re=>re.id===G.produtoId);return G.codigo.toLowerCase().includes(ae)||$?.descricao.toLowerCase().includes(ae)||$?.refCodigo.toLowerCase().includes(ae)}):e},[e,a,m]),O=ae=>ae.grade.reduce((G,$)=>G+$.total,0),b=async ae=>{if(!t)return;const G=a.find($=>$.id===ae.produtoId);if(!G){Ge.error("Produto no encontrado");return}try{w(!0);let $;if(ae.responsavelId){const{faccaoService:re}=await pU(async()=>{const{faccaoService:Z}=await Promise.resolve().then(()=>Y9);return{faccaoService:Z}},[]);$=(await re.getFaccoes()).find(Z=>Z.id===ae.responsavelId)?.nome}S?(await ts.updateOrder(S.id,ae,{descricao:G.descricao,refCodigo:G.refCodigo},$),Ge.success("Ordem de produo atualizada com sucesso!",{icon:d.jsx(un,{size:20})})):(await ts.createOrder(t.uid,ae,{descricao:G.descricao,refCodigo:G.refCodigo},$),Ge.success("Ordem de produo criada com sucesso!",{icon:d.jsx(un,{size:20})})),await M(),v(!1),A(null)}catch($){console.error("Erro ao criar ordem de produo:",$);const re=$ instanceof Error?$.message:"Erro ao criar ordem de produo. Tente novamente.";Ge.error(re)}finally{w(!1)}},k=ae=>{A(ae),v(!0)},ie=()=>{A(null),v(!0)};return C?d.jsx("div",{className:"ordens-container",children:d.jsx("header",{className:"ordens-header",children:d.jsxs("div",{children:[d.jsx("h2",{children:"Ordens de Produo"}),d.jsx("p",{children:"Carregando dados..."})]})})}):d.jsxs("div",{className:"ordens-container",children:[d.jsxs("header",{className:"ordens-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Ordens de Produo"}),d.jsx("p",{children:"Programe e gerencie suas ordens de produo"})]}),d.jsxs("button",{className:"ordens-new-btn",onClick:ie,children:[d.jsx(Ni,{size:20}),"Nova Ordem"]})]}),d.jsxs("div",{className:"ordens-search",children:[d.jsx(Ro,{size:18}),d.jsx("input",{type:"text",placeholder:"Buscar por nmero da OP, produto ou referncia...",value:m,onChange:ae=>p(ae.target.value)})]}),d.jsxs("section",{className:"ordens-list",children:[L.map(ae=>{const G=a.find(re=>re.id===ae.produtoId);let $=G?.tamanhos?[...G.tamanhos].sort((re,ye)=>re.ordem-ye.ordem):[];if($.length===0&&ae.grade.length>0){const re=ae.grade[0];if(re.quantidades){const ye=Object.keys(re.quantidades);$=l.filter(V=>ye.includes(V.id)).sort((V,Z)=>V.ordem-Z.ordem)}}return d.jsxs("article",{className:"ordem-card",children:[d.jsxs("div",{className:"ordem-card__header",children:[d.jsxs("div",{className:"ordem-card__header-left",children:[d.jsx("div",{className:"ordem-card__icon",children:d.jsx(p0,{size:24})}),d.jsxs("div",{className:"ordem-card__info-main",children:[d.jsx("div",{className:"ordem-card__code",children:ae.codigo}),d.jsx("h3",{className:"ordem-card__title",children:G?.descricao??"Produto removido"}),d.jsxs("div",{className:"ordem-card__meta",children:[d.jsxs("div",{className:"ordem-card__meta-item",children:[d.jsx("span",{children:"REF:"}),d.jsx("strong",{children:G?.refCodigo??"--"})]}),d.jsx("span",{className:"badge badge-neutral",children:G?.categoria?.nome??"Categoria"})]})]})]}),d.jsxs("div",{className:"ordem-card__header-right",children:[d.jsxs("div",{className:"ordem-card__status",children:[d.jsx("span",{className:pw[ae.prioridade].className,children:pw[ae.prioridade].label}),d.jsx("span",{className:gw[ae.status].className,children:gw[ae.status].label})]}),d.jsxs("div",{className:"ordem-card__actions",children:[d.jsx("button",{className:"icon-button",children:d.jsx(e5,{size:16})}),d.jsx("button",{className:"icon-button",onClick:()=>k(ae),children:d.jsx(K6,{size:16})}),d.jsx("button",{className:"icon-button icon-button-danger",onClick:()=>D(ae.id),title:"Excluir ordem",children:d.jsx(Mo,{size:16})})]})]})]}),d.jsxs("div",{className:"ordem-card__body",children:[d.jsxs("div",{className:"ordem-card__dates",children:[d.jsxs("div",{className:"ordem-card__date-item",children:[d.jsx("div",{className:"ordem-card__date-icon",children:d.jsx(No,{size:18})}),d.jsxs("div",{className:"ordem-card__date-content",children:[d.jsx("span",{className:"ordem-card__date-label",children:"Incio"}),d.jsx("span",{className:"ordem-card__date-value",children:ae.dataInicio||"--"})]})]}),d.jsxs("div",{className:"ordem-card__date-item",children:[d.jsx("div",{className:"ordem-card__date-icon",children:d.jsx(DA,{size:18})}),d.jsxs("div",{className:"ordem-card__date-content",children:[d.jsx("span",{className:"ordem-card__date-label",children:"Previso"}),d.jsx("span",{className:"ordem-card__date-value",children:ae.dataPrevista||"--"})]})]}),d.jsxs("div",{className:"ordem-card__date-item",children:[d.jsx("div",{className:"ordem-card__date-icon",children:d.jsx(f6,{size:18})}),d.jsxs("div",{className:"ordem-card__date-content",children:[d.jsx("span",{className:"ordem-card__date-label",children:"Total"}),d.jsxs("span",{className:"ordem-card__date-value",children:[O(ae)," peas"]})]})]})]}),d.jsxs("div",{className:"ordem-card__grade-section",children:[d.jsx("h4",{className:"ordem-card__grade-title",children:"Grade de Produo"}),d.jsxs("div",{className:"ordem-card__table",style:{"--tamanhos-count":$.length},children:[d.jsxs("div",{className:"ordem-card__table-header",children:[d.jsx("span",{children:"Cor"}),$.map(re=>d.jsx("span",{children:re.nome},re.id)),d.jsx("span",{children:"Total"})]}),ae.grade.map(re=>{const ye=re.quantidades||{};return d.jsxs("div",{className:"ordem-card__table-row",children:[d.jsx("span",{children:re.corNome}),$.map(V=>d.jsx("span",{children:ye[V.id]||0},V.id)),d.jsx("span",{children:re.total})]},re.corId)})]})]})]})]},ae.id)}),L.length===0&&d.jsxs("div",{className:"ordens-empty",children:[d.jsx(Ro,{size:24}),'Nenhuma ordem encontrada. Clique em "Nova Ordem" para comear.']})]}),d.jsx(yU,{isOpen:g,onClose:()=>{v(!1),A(null)},onSubmit:b,isSubmitting:E,orderToEdit:S??void 0}),d.jsx(Nd,{isOpen:z,onClose:()=>{F(!1),ee(null)},onConfirm:N,itemName:e.find(ae=>ae.id===H)?.codigo||"",loading:q,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta ordem de produo?",confirmText:"Excluir",cancelText:"Cancelar"})]})},_U=({isOpen:t,onClose:e,order:n,currentStage:a,availableStages:i,faccoes:l,totalPecas:u,onSubmit:m,isSubmitting:p})=>{const[g,v]=I.useState({finalizadas:u,defeituosas:0,proximaEtapaId:"",responsavelProximaEtapaId:"",observacoes:""}),E=async A=>{if(A.preventDefault(),g.finalizadas+g.defeituosas>u){tn.error("O nmero de peas finalizadas e defeituosas no pode ser maior que o total de peas");return}if(!S){if(!g.proximaEtapaId){alert("Selecione a prxima etapa");return}if(!g.responsavelProximaEtapaId){alert("Selecione o responsvel pela prxima etapa");return}}await m(g)},w=()=>{p||(v({finalizadas:u,defeituosas:0,proximaEtapaId:"",responsavelProximaEtapaId:"",observacoes:""}),e())},S=i.length===0;return t?d.jsx("div",{className:"finalize-modal-overlay",children:d.jsxs("div",{className:"finalize-modal",children:[d.jsxs("header",{className:"finalize-modal-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Finalizar Etapa"}),d.jsxs("p",{children:[n.codigo," - ",a.etapaNome]})]}),d.jsx("button",{className:"finalize-modal-close",onClick:w,disabled:p,children:d.jsx(Ir,{size:18})})]}),d.jsxs("form",{className:"finalize-modal-form",onSubmit:E,children:[d.jsxs("div",{className:"finalize-form-section",children:[d.jsx("h3",{className:"finalize-section-title",children:"Quantidades"}),d.jsxs("div",{className:"finalize-form-row",children:[d.jsxs("div",{className:"finalize-form-field",children:[d.jsxs("label",{children:["Peas Finalizadas*",d.jsxs("span",{className:"field-hint",children:["Total: ",u]})]}),d.jsx("input",{type:"number",min:0,max:u,value:g.finalizadas,onChange:A=>v({...g,finalizadas:parseInt(A.target.value)||0}),required:!0,disabled:p})]}),d.jsxs("div",{className:"finalize-form-field",children:[d.jsxs("label",{children:["Peas Defeituosas*",d.jsx("span",{className:"field-hint",children:"Opcional"})]}),d.jsx("input",{type:"number",min:0,value:g.defeituosas,onChange:A=>v({...g,defeituosas:parseInt(A.target.value)||0}),disabled:p})]})]}),g.finalizadas+g.defeituosas>u&&d.jsxs("div",{className:"finalize-alert",children:[d.jsx(sd,{size:20}),d.jsxs("span",{children:["A soma no pode ser maior que ",u," peas"]})]})]}),d.jsxs("div",{className:"finalize-form-section",children:[d.jsx("h3",{className:"finalize-section-title",children:"Prxima Etapa"}),S?d.jsxs("div",{className:"finalize-alert",children:[d.jsx(sd,{size:20}),d.jsx("span",{children:"Esta  a ltima etapa da produo. Ao finalizar, a ordem ser concluda."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"finalize-form-field",children:[d.jsx("label",{children:"Etapa*"}),d.jsxs("div",{className:"finalize-select-wrapper",children:[d.jsxs("select",{value:g.proximaEtapaId,onChange:A=>v({...g,proximaEtapaId:A.target.value}),required:!S,disabled:p||S,children:[d.jsx("option",{value:"",children:"Selecione a etapa"}),i.map(A=>d.jsx("option",{value:A.id,children:A.name},A.id))]}),d.jsx(Zf,{size:18,className:"select-icon"})]})]}),d.jsxs("div",{className:"finalize-form-field",children:[d.jsx("label",{children:"Responsvel*"}),d.jsxs("div",{className:"finalize-select-wrapper",children:[d.jsxs("select",{value:g.responsavelProximaEtapaId,onChange:A=>v({...g,responsavelProximaEtapaId:A.target.value}),required:!S,disabled:p||S,children:[d.jsx("option",{value:"",children:"Selecione o responsvel"}),l.map(A=>d.jsx("option",{value:A.id,children:A.nome},A.id))]}),d.jsx(Zf,{size:18,className:"select-icon"})]})]})]})]}),d.jsxs("div",{className:"finalize-form-section",children:[d.jsx("h3",{className:"finalize-section-title",children:"Observaes"}),d.jsxs("div",{className:"finalize-form-field",children:[d.jsxs("label",{children:["Problemas ou observaes",d.jsx("span",{className:"field-hint",children:"Opcional"})]}),d.jsx("textarea",{rows:4,value:g.observacoes,onChange:A=>v({...g,observacoes:A.target.value}),disabled:p,placeholder:"Descreva problemas encontrados, atrasos, ou outras observaes relevantes..."})]})]}),d.jsxs("footer",{className:"finalize-modal-footer",children:[d.jsx("button",{type:"button",className:"finalize-btn finalize-btn-cancel",onClick:w,disabled:p,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"finalize-btn finalize-btn-submit",disabled:p,children:p?"Finalizando...":"Finalizar Etapa"})]})]})]})}):null},EU=()=>{const{user:t}=On(),[e,n]=I.useState([]),[a,i]=I.useState([]),[l,u]=I.useState([]),[m,p]=I.useState(new Map),[g,v]=I.useState(""),[E,w]=I.useState("all"),[S,A]=I.useState(!0),[C,j]=I.useState([]),[z,F]=I.useState(!1),[H,ee]=I.useState(null),[q,X]=I.useState(!1),[D,N]=I.useState(!1),[M,L]=I.useState(null),[O,b]=I.useState(!1),k=I.useCallback(async()=>{if(t)try{A(!0);const[he,fe,we,Je]=await Promise.all([ts.getOrders(t.uid),ns.getStepsByUser(t.uid),ya.getFaccoes(),ga.getProdutos(t.uid)]);n(he),i(fe),j(we);const Le=Je.map(ke=>{const et=(ke.etapasProducaoIds||[]).map(_t=>{const Qe=fe.find(ot=>ot.id===_t.etapaId);return Qe?{etapa:{id:Qe.id,nome:Qe.name,descricao:Qe.description||void 0,custo:_t.custo,ativo:!0,createdAt:Qe.createdAt},custo:_t.custo,ordem:_t.ordem}:null}).filter(_t=>_t!==null);return{...ke,etapasProducao:et}});u(Le);const St=new Map;for(const ke of he){let et=await rr.getProgressByOrderId(ke.id);if(!et){const _t=Le.find(Qe=>Qe.id===ke.produtoId);if(_t&&_t.etapasProducao&&_t.etapasProducao.length>0){const Qe=_t.etapasProducao.map(ot=>{const jr=fe.find(tt=>tt.id===ot.etapa.id);return jr?{...jr,order:ot.ordem}:null}).filter(ot=>ot!==null).sort((ot,jr)=>ot.order-jr.order);Qe.length>0&&(await rr.initializeProgress(t.uid,ke.id,Qe),et=await rr.getProgressByOrderId(ke.id))}}et&&St.set(ke.id,et)}p(St)}catch(he){console.error("Erro ao carregar dados:",he)}finally{A(!1)}},[t]);I.useEffect(()=>{k()},[k]);const ie=I.useMemo(()=>{let he=e;if(g.trim()){const fe=g.trim().toLowerCase();he=he.filter(we=>we.codigo.toLowerCase().includes(fe)||we.produtoDescricao.toLowerCase().includes(fe)||we.produtoRef.toLowerCase().includes(fe)||we.responsavelNome?.toLowerCase().includes(fe))}return E!=="all"&&(he=he.filter(fe=>{const we=m.get(fe.id);return we?we.etapas.some(Je=>Je.etapaId===E&&Je.status==="em_andamento"):!1})),he},[e,g,E,m]),ae=he=>he.grade.reduce((fe,we)=>fe+we.total,0),G=he=>{const fe=m.get(he);return fe?fe.etapas.find(we=>we.status==="em_andamento"):null},$=he=>{const fe=m.get(he);if(!fe)return null;const we=G(he);return we?fe.etapas.find(Je=>Je.ordem>we.ordem&&Je.status!=="finalizada"):fe.etapas.find(Je=>Je.status!=="finalizada")},re=he=>{const fe=m.get(he);return fe?fe.etapas.find(we=>we.status==="pausada"):null},ye=he=>{const fe=m.get(he);if(!fe)return!1;const we=fe.etapas.some(Le=>Le.status==="em_andamento");return fe.etapas.some(Le=>Le.status==="pausada")&&!we},V=he=>{const fe=m.get(he);if(!fe)return{percent:0,finalizadas:0,defeituosas:0,restantes:0};const we=e.find(tt=>tt.id===he);if(!we)return{percent:0,finalizadas:0,defeituosas:0,restantes:0};const Le=l.find(tt=>tt.id===we.produtoId)?.etapasProducao?.length||fe.etapas.length,St=fe.etapas.filter(tt=>tt.status==="finalizada").length,ke=Le>0?Math.round(St/Le*100):0,et=ae(we),_t=fe.etapas.find(tt=>tt.status==="em_andamento");if(!_t){if(fe.etapas.every(It=>It.status==="finalizada")){const mr=fe.etapas[fe.etapas.length-1]?.finalizadas||0,Vo=fe.etapas.reduce((yc,Ra)=>yc+(Ra.defeituosas||0),0),Ri=et-mr-Vo;return{percent:ke,finalizadas:mr,defeituosas:Vo,restantes:Ri}}return{percent:ke,finalizadas:0,defeituosas:0,restantes:et}}const Qe=_t.finalizadas||0,ot=fe.etapas.reduce((tt,It)=>tt+(It.defeituosas||0),0),jr=et-Qe-ot;return{percent:ke,finalizadas:Qe,defeituosas:ot,restantes:jr}},Z=he=>{ee(he),F(!0)},me=async he=>{if(!t||!H)return;const fe=m.get(H);if(!fe)return;const we=G(H);if(!we)return;const Je=e.find(Le=>Le.id===H);if(Je)try{X(!0),await rr.finalizeStageWithDetails(fe.id,we.etapaId,he.finalizadas,he.defeituosas,he.observacoes);const Le=l.find(Qe=>Qe.id===Je.produtoId),St=Le?.etapasProducao?.find(Qe=>Qe.etapa.id===we.etapaId),ke=C.find(Qe=>Qe.id===we.responsavelId);if(St&&ke&&ke.id){const Qe=new Date;Qe.setDate(Qe.getDate()+30),await is.createLancamento({ordemProducaoId:Je.id,ordemCodigo:Je.codigo,produtoId:Je.produtoId,produtoDescricao:Le?.descricao||"Produto",etapaId:we.etapaId,etapaNome:we.etapaNome,faccaoId:ke.id,faccaoNome:ke.nome,valor:St.custo,dataVencimento:Qe,observacoes:he.observacoes||void 0},t.uid)}const et=a.find(Qe=>Qe.id===he.proximaEtapaId),_t=C.find(Qe=>Qe.id===he.responsavelProximaEtapaId);et&&_t&&await rr.startNextStage(fe.id,he.proximaEtapaId,he.responsavelProximaEtapaId,_t.nome),await k(),F(!1),ee(null),Ge.success("Etapa finalizada e lanamento financeiro criado!",{icon:d.jsx(un,{size:20})})}catch(Le){console.error("Erro ao finalizar etapa:",Le),Ge.error("Erro ao finalizar etapa")}finally{X(!1)}},pe=async he=>{if(!t)return;const fe=m.get(he);if(!fe)return;const we=G(he);if(we)try{await rr.pauseStage(fe.id,we.etapaId),await k()}catch(Je){console.error("Erro ao pausar etapa:",Je),alert("Erro ao pausar etapa")}},be=async he=>{if(!t)return;const fe=m.get(he);if(!fe)return;const we=re(he);if(we)try{await rr.resumeStage(fe.id,we.etapaId),await k()}catch(Je){console.error("Erro ao retomar etapa:",Je),alert("Erro ao retomar etapa")}},Oe=he=>{L(he),N(!0)},xe=async()=>{if(!(!e.find(fe=>fe.id===M)||!M))try{b(!0);const fe=m.get(M);if(fe)try{await rr.deleteProgress(fe.id)}catch(we){console.error("Erro ao deletar progresso:",we)}try{await is.deleteLancamentosByOrdem(M)}catch(we){console.error("Erro ao deletar lanamentos financeiros:",we)}await ts.deleteOrder(M),await k(),Ge.success("Ordem de produo excluda com sucesso!",{icon:d.jsx(un,{size:20})})}catch(fe){console.error("Erro ao excluir ordem:",fe),Ge.error("Erro ao excluir ordem de produo. Tente novamente.")}};return S?d.jsx("div",{className:"gestao-producoes-container",children:d.jsx("header",{className:"gestao-producoes-header",children:d.jsxs("div",{children:[d.jsx("h2",{className:"gestao-producoes-title",children:"Gesto de Produo"}),d.jsx("p",{className:"gestao-producoes-subtitle",children:"Carregando dados..."})]})})}):d.jsxs("div",{className:"gestao-producoes-container",children:[d.jsx("header",{className:"gestao-producoes-header",children:d.jsxs("div",{children:[d.jsx("h2",{className:"gestao-producoes-title",children:"Gesto de Produo"}),d.jsx("p",{className:"gestao-producoes-subtitle",children:"Controle o andamento das ordens de produo em tempo real"})]})}),d.jsxs("div",{className:"gestao-producoes-filters",children:[d.jsxs("div",{className:"gestao-producoes-search",children:[d.jsx(Ro,{size:18}),d.jsx("input",{type:"text",placeholder:"Buscar por OP, produto ou referncia...",value:g,onChange:he=>v(he.target.value)})]}),d.jsxs("div",{className:"gestao-producoes-stage-filter",children:[d.jsxs("select",{value:E,onChange:he=>w(he.target.value),children:[d.jsx("option",{value:"all",children:"Todas as Etapas"}),a.map(he=>d.jsx("option",{value:he.id,children:he.name},he.id))]}),d.jsx(Zf,{size:18,className:"select-icon"})]})]}),d.jsxs("section",{className:"gestao-producoes-list",children:[ie.map(he=>{const fe=G(he.id),we=re(he.id),Je=$(he.id),Le=V(he.id),St=ae(he),ke=ye(he.id),et=fe||we;return d.jsxs("article",{className:"gestao-producao-card",children:[d.jsxs("div",{className:"gestao-card-header",children:[d.jsxs("div",{className:"gestao-card-header-left",children:[d.jsx("div",{className:"gestao-card-icon",children:d.jsx(o5,{size:24})}),d.jsxs("div",{className:"gestao-card-info",children:[d.jsx("div",{className:"gestao-card-op",children:he.codigo}),d.jsx("h3",{className:"gestao-card-title",children:he.produtoDescricao}),d.jsxs("div",{className:"gestao-card-meta",children:[d.jsxs("span",{children:["REF: ",he.produtoRef]}),d.jsxs("span",{className:"gestao-card-pieces",children:[St," peas"]})]})]})]}),d.jsxs("div",{className:"gestao-card-header-right",children:[d.jsx("span",{className:`gestao-badge gestao-badge-status ${ke?"gestao-badge-paused":""}`,children:ke?"Pausada":"Em Andamento"}),et&&d.jsx("span",{className:"gestao-badge gestao-badge-stage",children:et.etapaNome})]})]}),et&&d.jsxs("div",{className:"gestao-card-progress",children:[d.jsxs("div",{className:"progress-header",children:[d.jsx("span",{className:"progress-title",children:"Progresso Geral"}),d.jsxs("span",{className:"progress-percent",children:[Le.percent,"%"]})]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:`${Le.percent}%`}})}),d.jsxs("div",{className:"progress-stats",children:[d.jsxs("span",{className:"progress-stat",children:[Le.finalizadas," peas finalizadas"]}),d.jsxs("span",{className:"progress-stat",children:[Le.defeituosas," defeituosas"]}),d.jsxs("span",{className:"progress-stat",children:[Le.restantes," restantes"]})]})]}),d.jsxs("div",{className:"gestao-card-details",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx(S5,{size:16,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("span",{className:"detail-label",children:"Responsvel"}),d.jsx("span",{className:"detail-value",children:et?.responsavelNome||he.responsavelNome||"No atribudo"})]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx(No,{size:16,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("span",{className:"detail-label",children:"Iniciado em"}),d.jsx("span",{className:"detail-value",children:he.dataInicio||"--"})]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx(t6,{size:16,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("span",{className:"detail-label",children:"Prxima Etapa"}),d.jsx("span",{className:"detail-value",children:Je?.etapaNome||"Concluda"})]})]})]}),d.jsxs("div",{className:"gestao-card-actions",children:[ke?d.jsxs("button",{className:"gestao-action-btn gestao-action-resume",onClick:()=>be(he.id),children:[d.jsx(W6,{size:16,className:"gestao-action-icon"}),"Retomar Produo"]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"gestao-action-btn gestao-action-finish",onClick:()=>Z(he.id),disabled:!fe||fe.status!=="em_andamento",children:[d.jsx(un,{size:16,className:"gestao-action-icon"}),"Finalizar Etapa"]}),d.jsxs("button",{className:"gestao-action-btn gestao-action-pause",onClick:()=>pe(he.id),disabled:!fe||fe.status!=="em_andamento",children:[d.jsx(F6,{size:16,className:"gestao-action-icon"}),"Pausar"]})]}),d.jsxs("button",{className:"gestao-action-btn gestao-action-report",children:[d.jsx(VA,{size:16,className:"gestao-action-icon"}),"Reportar Problema"]}),d.jsxs("button",{className:"gestao-action-btn gestao-action-delete",onClick:()=>Oe(he.id),title:"Excluir ordem",children:[d.jsx(Mo,{size:16,className:"gestao-action-icon"}),"Excluir"]})]})]},he.id)}),ie.length===0&&d.jsxs("div",{className:"gestao-producoes-empty",children:[d.jsx(Ro,{size:24}),d.jsx("p",{children:"Nenhuma ordem de produo encontrada."})]})]}),z&&H&&(()=>{const he=e.find(ke=>ke.id===H),fe=G(H),we=m.get(H);if(!he||!fe||!we)return null;const St=(l.find(ke=>ke.id===he.produtoId)?.etapasProducao||[]).filter(ke=>{const et=we.etapas.find(_t=>_t.etapaId===ke.etapa.id);return et?et.ordem>fe.ordem:!1}).map(ke=>{const et=a.find(_t=>_t.id===ke.etapa.id);return et?{...et,name:ke.etapa.nome,description:ke.etapa.descricao||""}:null}).filter(ke=>ke!==null).sort((ke,et)=>{const _t=we.etapas.find(ot=>ot.etapaId===ke.id)?.ordem||0,Qe=we.etapas.find(ot=>ot.etapaId===et.id)?.ordem||0;return _t-Qe});return d.jsx(_U,{isOpen:z,onClose:()=>{F(!1),ee(null)},order:he,currentStage:fe,availableStages:St,faccoes:C.filter(ke=>ke.ativo),totalPecas:ae(he),onSubmit:me,isSubmitting:q})})(),d.jsx(Nd,{isOpen:D,onClose:()=>{N(!1),L(null)},onConfirm:xe,itemName:e.find(he=>he.id===M)?.codigo||"",loading:O,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta ordem de produo?",confirmText:"Excluir",cancelText:"Cancelar"})]})},bU=()=>{const{user:t}=On(),[e,n]=I.useState("pendencias"),[a,i]=I.useState(""),[l,u]=I.useState("todos"),[m,p]=I.useState([]),[g,v]=I.useState([]),[E,w]=I.useState(!0),S=I.useCallback(async()=>{if(t)try{w(!0);const[q,X]=await Promise.all([is.getLancamentosPendentes(t.uid),is.getLancamentosPagos(t.uid)]);p(q),v(X)}catch(q){console.error("Erro ao carregar lanamentos:",q),Ge.error("Erro ao carregar dados financeiros")}finally{w(!1)}},[t]);I.useEffect(()=>{S()},[S]);const A=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),C=q=>new Intl.DateTimeFormat("pt-BR").format(new Date(q)),j=q=>{const X=new Date;X.setHours(0,0,0,0);const D=new Date(q);D.setHours(0,0,0,0);const N=X.getTime()-D.getTime();return Math.floor(N/(1e3*60*60*24))},z={totalPendente:m.filter(q=>q.status==="pendente").reduce((q,X)=>q+X.valor,0),totalAtrasado:m.filter(q=>q.status==="atrasado").reduce((q,X)=>q+X.valor,0),totalPagoMes:g.filter(q=>{const X=new Date(q.dataPagamento),D=new Date().getMonth(),N=new Date().getFullYear();return X.getMonth()===D&&X.getFullYear()===N}).reduce((q,X)=>q+X.valor,0),lancamentosPendentes:m.filter(q=>q.status==="pendente").length,lancamentosAtrasados:m.filter(q=>q.status==="atrasado").length,pagamentosMes:g.filter(q=>{const X=new Date(q.dataPagamento),D=new Date().getMonth(),N=new Date().getFullYear();return X.getMonth()===D&&X.getFullYear()===N}).length},F=m.filter(q=>{const X=q.ordemCodigo.toLowerCase().includes(a.toLowerCase())||q.faccaoNome.toLowerCase().includes(a.toLowerCase())||q.produtoDescricao.toLowerCase().includes(a.toLowerCase()),D=l==="todos"||q.status===l;return X&&D}),H=g.filter(q=>q.ordemCodigo.toLowerCase().includes(a.toLowerCase())||q.faccaoNome.toLowerCase().includes(a.toLowerCase())||q.produtoDescricao.toLowerCase().includes(a.toLowerCase())),ee=async q=>{if(window.confirm("Confirmar pagamento deste lanamento?"))try{await is.marcarComoPago(q),await S(),Ge.success("Pagamento registrado com sucesso!",{icon:d.jsx(af,{size:20})})}catch(X){console.error("Erro ao registrar pagamento:",X),Ge.error("Erro ao registrar pagamento")}};return E?d.jsx("div",{className:"financeiro-container",children:d.jsx("div",{className:"financeiro-loading",children:"Carregando..."})}):d.jsxs("div",{className:"financeiro-container",children:[d.jsxs("div",{className:"financeiro-header",children:[d.jsxs("div",{className:"financeiro-header-title",children:[d.jsx("h2",{className:"financeiro-title",children:"Financeiro"}),d.jsx("p",{className:"financeiro-subtitle",children:"Controle de pagamentos e pendncias financeiras"})]}),d.jsxs("button",{className:"financeiro-export-btn",children:[d.jsx(kA,{size:18}),d.jsx("span",{children:"Exportar Relatrio"})]})]}),d.jsxs("div",{className:"financeiro-summary-grid",children:[d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Pendente"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-orange",children:d.jsx(No,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-orange",children:A(z.totalPendente)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosPendentes," lanamentos"]})]}),d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Atrasado"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-red",children:d.jsx(sd,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-red",children:A(z.totalAtrasado)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosAtrasados," em atraso"]})]}),d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Pago (Ms)"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-green",children:d.jsx(af,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-green",children:A(z.totalPagoMes)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.pagamentosMes," pagamentos"]})]}),d.jsxs("div",{className:"financeiro-card",children:[d.jsxs("div",{className:"financeiro-card-header",children:[d.jsx("span",{className:"financeiro-card-title",children:"Total Geral"}),d.jsx("div",{className:"financeiro-card-icon financeiro-icon-blue",children:d.jsx(Gl,{size:20})})]}),d.jsx("div",{className:"financeiro-card-value financeiro-value-gray",children:A(z.totalPendente+z.totalAtrasado)}),d.jsxs("div",{className:"financeiro-card-sub",children:[z.lancamentosPendentes+z.lancamentosAtrasados," ","pendentes"]})]})]}),d.jsxs("div",{className:"financeiro-search-section",children:[d.jsxs("div",{className:"financeiro-search-bar",children:[d.jsx(Ro,{size:18,className:"financeiro-search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar por OP, faco ou produto...",value:a,onChange:q=>i(q.target.value),className:"financeiro-search-input"})]}),e==="pendencias"&&d.jsx("div",{className:"financeiro-status-filter",children:d.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"financeiro-status-select",children:[d.jsx("option",{value:"todos",children:"Todos os Status"}),d.jsx("option",{value:"pendente",children:"Pendente"}),d.jsx("option",{value:"atrasado",children:"Atrasado"})]})})]}),d.jsxs("div",{className:"financeiro-nav-tabs",children:[d.jsx("button",{className:`financeiro-nav-tab ${e==="pendencias"?"active":""}`,onClick:()=>n("pendencias"),children:"Pendncias"}),d.jsx("button",{className:`financeiro-nav-tab ${e==="pagamentos"?"active":""}`,onClick:()=>n("pagamentos"),children:"Pagamentos Realizados"})]}),d.jsxs("div",{className:"financeiro-content-card",children:[d.jsx("div",{className:"financeiro-content-header",children:d.jsxs("div",{className:"financeiro-content-title-section",children:[d.jsx(Dm,{className:"financeiro-dollar-icon",size:24}),d.jsxs("div",{children:[d.jsx("h3",{className:"financeiro-content-title",children:e==="pendencias"?"Pendncias Financeiras":"Pagamentos Realizados"}),d.jsx("p",{className:"financeiro-content-subtitle",children:e==="pendencias"?"Acompanhe os pagamentos pendentes por etapa de produo":"Histrico de pagamentos realizados"})]})]})}),d.jsx("div",{className:"financeiro-table-container",children:e==="pendencias"?d.jsxs("table",{className:"financeiro-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ordem"}),d.jsx("th",{children:"Faco"}),d.jsx("th",{children:"Etapa"}),d.jsx("th",{children:"Produto"}),d.jsx("th",{children:"Valor"}),d.jsx("th",{children:"Vencimento"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Aes"})]})}),d.jsx("tbody",{children:F.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"financeiro-empty-state",children:"Nenhuma pendncia encontrada"})}):F.map(q=>d.jsxs("tr",{children:[d.jsx("td",{children:q.ordemCodigo}),d.jsx("td",{children:q.faccaoNome}),d.jsx("td",{children:d.jsx("span",{className:"financeiro-badge financeiro-badge-default",children:q.etapaNome})}),d.jsx("td",{children:q.produtoDescricao}),d.jsx("td",{className:"financeiro-cell-value",children:A(q.valor)}),d.jsx("td",{children:C(q.dataVencimento)}),d.jsx("td",{children:d.jsx("span",{className:`financeiro-badge ${q.status==="atrasado"?"financeiro-badge-danger":"financeiro-badge-default"}`,children:q.status==="atrasado"?d.jsxs(d.Fragment,{children:[d.jsx(sd,{size:14}),"Atrasado (",j(q.dataVencimento),"d)"]}):d.jsxs(d.Fragment,{children:[d.jsx(No,{size:14}),"Pendente"]})})}),d.jsx("td",{children:d.jsxs("button",{className:"financeiro-action-btn",onClick:()=>ee(q.id),children:[d.jsx(_6,{size:14}),"Pagar"]})})]},q.id))})]}):d.jsx(d.Fragment,{children:H.length===0?d.jsxs("div",{className:"financeiro-empty-state-large",children:[d.jsx(af,{size:48,className:"financeiro-empty-icon"}),d.jsx("p",{children:"Nenhum pagamento realizado ainda"}),d.jsx("p",{className:"financeiro-empty-subtitle",children:"Os pagamentos realizados aparecero aqui"})]}):d.jsxs("table",{className:"financeiro-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Ordem"}),d.jsx("th",{children:"Faco"}),d.jsx("th",{children:"Etapa"}),d.jsx("th",{children:"Produto"}),d.jsx("th",{children:"Valor"}),d.jsx("th",{children:"Vencimento"}),d.jsx("th",{children:"Data Pagamento"}),d.jsx("th",{children:"Status"})]})}),d.jsx("tbody",{children:H.map(q=>d.jsxs("tr",{children:[d.jsx("td",{children:q.ordemCodigo}),d.jsx("td",{children:q.faccaoNome}),d.jsx("td",{children:d.jsx("span",{className:"financeiro-badge financeiro-badge-default",children:q.etapaNome})}),d.jsx("td",{children:q.produtoDescricao}),d.jsx("td",{className:"financeiro-cell-value",children:A(q.valor)}),d.jsx("td",{children:C(q.dataVencimento)}),d.jsx("td",{children:q.dataPagamento?C(q.dataPagamento):"-"}),d.jsx("td",{children:d.jsxs("span",{className:"financeiro-badge financeiro-badge-success",children:[d.jsx(af,{size:14}),"Pago"]})})]},q.id))})]})})})]})]})},TU=()=>{const{user:t}=On(),[e,n]=I.useState("producao"),[a,i]=I.useState("mes"),[l,u]=I.useState(!0),[m,p]=I.useState([]),[g,v]=I.useState([]),[E,w]=I.useState([]),[S,A]=I.useState({totalOrdens:0,ordensConcluidas:0,ordensEmAndamento:0,taxaConclusao:0,tempoMedioPorEtapa:0}),[C,j]=I.useState([]),z=I.useCallback((D,N)=>{const M=ee(a),L=D.filter($=>new Date($.createdAt)>=M),O=L.filter($=>$.status==="concluida").length,b=L.filter($=>$.status==="em_producao").length,k=L.length>0?O/L.length*100:0;let ie=0,ae=0;N.forEach($=>{$.etapas.forEach(re=>{if(re.dataInicio&&re.dataFim){const ye=new Date(re.dataInicio),V=new Date(re.dataFim),Z=Math.ceil((V.getTime()-ye.getTime())/(1e3*60*60*24));ie+=Z,ae++}})});const G=ae>0?ie/ae:0;A({totalOrdens:L.length,ordensConcluidas:O,ordensEmAndamento:b,taxaConclusao:k,tempoMedioPorEtapa:G})},[a]),F=I.useCallback((D,N)=>{const M=new Map;D.forEach(O=>{O.etapas.forEach(b=>{if(b.responsavelId&&b.status==="finalizada"){const k=M.get(b.responsavelId)||{finalizadas:0,diasTotal:0,defeitos:0};if(k.finalizadas++,k.defeitos+=b.defeituosas||0,b.dataInicio&&b.dataFim){const ie=new Date(b.dataInicio),ae=new Date(b.dataFim),G=Math.ceil((ae.getTime()-ie.getTime())/(1e3*60*60*24));k.diasTotal+=G}M.set(b.responsavelId,k)}})});const L=[];M.forEach((O,b)=>{const k=N.find(ie=>ie.id===b);k&&L.push({faccaoNome:k.nome,ordensFinalizadas:O.finalizadas,tempoMedio:O.finalizadas>0?O.diasTotal/O.finalizadas:0,taxaDefeitos:O.finalizadas>0?O.defeitos/O.finalizadas*100:0})}),j(L.sort((O,b)=>b.ordensFinalizadas-O.ordensFinalizadas))},[]),H=I.useCallback(async()=>{if(t)try{u(!0);const[D,N,M,L]=await Promise.all([ts.getOrders(t.uid),ga.getProdutos(t.uid),ya.getFaccoes(),rr.getAllProgress(t.uid)]);p(D),v(N),w(M),z(D,L),F(L,M)}catch(D){console.error("Erro ao carregar dados:",D)}finally{u(!1)}},[t,z,F]);I.useEffect(()=>{H()},[H,a]);const ee=D=>{const N=new Date;switch(D){case"semana":return new Date(N.getTime()-10080*60*1e3);case"mes":return new Date(N.getTime()-720*60*60*1e3);case"trimestre":return new Date(N.getTime()-2160*60*60*1e3);case"ano":return new Date(N.getTime()-365*24*60*60*1e3);default:return new Date(N.getTime()-720*60*60*1e3)}},q=()=>{alert("Funcionalidade de exportao em desenvolvimento")},X=()=>{const D=new Map;return m.forEach(N=>{const M=D.get(N.produtoDescricao)||0;D.set(N.produtoDescricao,M+1)}),Array.from(D.entries()).map(([N,M])=>({nome:N,quantidade:M})).sort((N,M)=>M.quantidade-N.quantidade).slice(0,5)};return l?d.jsxs("div",{className:"relatorios-loading",children:[d.jsx(MT,{size:48,className:"loading-icon"}),d.jsx("p",{children:"Carregando relatrios..."})]}):d.jsxs("div",{className:"tab-content",children:[d.jsxs("div",{className:"tab-header",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"tab-title",children:"Relatrios"}),d.jsx("p",{className:"tab-subtitle",children:"Anlises e mtricas detalhadas do seu sistema"})]}),d.jsx("div",{className:"relatorios-actions",children:d.jsxs("button",{className:"btn-export",onClick:q,children:[d.jsx(kA,{size:18}),"Exportar Relatrio"]})})]}),d.jsx("div",{className:"relatorios-filters",children:d.jsxs("div",{className:"filter-group",children:[d.jsx(C6,{size:18}),d.jsx("span",{children:"Perodo:"}),d.jsxs("select",{value:a,onChange:D=>i(D.target.value),className:"filter-select",children:[d.jsx("option",{value:"semana",children:"ltima Semana"}),d.jsx("option",{value:"mes",children:"ltimo Ms"}),d.jsx("option",{value:"trimestre",children:"ltimo Trimestre"}),d.jsx("option",{value:"ano",children:"ltimo Ano"})]})]})}),d.jsxs("div",{className:"relatorios-tabs",children:[d.jsxs("button",{className:`relatorio-tab ${e==="producao"?"active":""}`,onClick:()=>n("producao"),children:[d.jsx(jA,{size:20}),"Produo"]}),d.jsxs("button",{className:`relatorio-tab ${e==="performance"?"active":""}`,onClick:()=>n("performance"),children:[d.jsx(Gl,{size:20}),"Performance"]})]}),d.jsxs("div",{className:"relatorios-content",children:[e==="producao"&&d.jsxs("div",{className:"relatorio-section",children:[d.jsx("h3",{className:"section-title",children:"Relatrio de Produo"}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon blue",children:d.jsx(_i,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Total de Ordens"}),d.jsx("span",{className:"metric-value",children:S.totalOrdens})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon green",children:d.jsx(Gl,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Concludas"}),d.jsx("span",{className:"metric-value",children:S.ordensConcluidas})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon orange",children:d.jsx(MT,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Em Andamento"}),d.jsx("span",{className:"metric-value",children:S.ordensEmAndamento})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon purple",children:d.jsx(o6,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Taxa de Concluso"}),d.jsxs("span",{className:"metric-value",children:[S.taxaConclusao.toFixed(1),"%"]})]})]})]}),d.jsxs("div",{className:"chart-container",children:[d.jsx("h4",{className:"chart-title",children:"Distribuio de Status"}),d.jsxs("div",{className:"bar-chart",children:[d.jsxs("div",{className:"bar-item",children:[d.jsx("div",{className:"bar-label",children:"Concludas"}),d.jsx("div",{className:"bar-track",children:d.jsx("div",{className:"bar-fill green",style:{width:`${S.totalOrdens>0?S.ordensConcluidas/S.totalOrdens*100:0}%`},children:d.jsx("span",{className:"bar-value",children:S.ordensConcluidas})})})]}),d.jsxs("div",{className:"bar-item",children:[d.jsx("div",{className:"bar-label",children:"Em Andamento"}),d.jsx("div",{className:"bar-track",children:d.jsx("div",{className:"bar-fill orange",style:{width:`${S.totalOrdens>0?S.ordensEmAndamento/S.totalOrdens*100:0}%`},children:d.jsx("span",{className:"bar-value",children:S.ordensEmAndamento})})})]}),d.jsxs("div",{className:"bar-item",children:[d.jsx("div",{className:"bar-label",children:"Planejadas"}),d.jsx("div",{className:"bar-track",children:d.jsx("div",{className:"bar-fill gray",style:{width:`${S.totalOrdens>0?(S.totalOrdens-S.ordensConcluidas-S.ordensEmAndamento)/S.totalOrdens*100:0}%`},children:d.jsx("span",{className:"bar-value",children:S.totalOrdens-S.ordensConcluidas-S.ordensEmAndamento})})})]})]})]}),d.jsxs("div",{className:"chart-container",children:[d.jsx("h4",{className:"chart-title",children:"Top 5 Produtos Mais Produzidos"}),d.jsx("div",{className:"produtos-ranking",children:X().map((D,N)=>d.jsxs("div",{className:"ranking-item",children:[d.jsx("span",{className:"ranking-position",children:N+1}),d.jsx("span",{className:"ranking-nome",children:D.nome}),d.jsx("span",{className:"ranking-badge",children:D.quantidade})]},N))})]}),d.jsxs("div",{className:"info-card",children:[d.jsx(DA,{size:20}),d.jsxs("div",{children:[d.jsx("strong",{children:"Tempo Mdio por Etapa"}),d.jsxs("p",{children:[S.tempoMedioPorEtapa.toFixed(1)," dias"]})]})]})]}),e==="performance"&&d.jsxs("div",{className:"relatorio-section",children:[d.jsx("h3",{className:"section-title",children:"Relatrio de Performance"}),d.jsxs("div",{className:"chart-container",children:[d.jsx("h4",{className:"chart-title",children:"Faces Mais Produtivas"}),d.jsx("div",{className:"faccoes-ranking",children:C.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx(Io,{size:48}),d.jsx("p",{children:"Nenhum dado de performance disponvel ainda"})]}):C.map((D,N)=>d.jsxs("div",{className:"faccao-performance-card",children:[d.jsxs("div",{className:"faccao-header",children:[d.jsxs("span",{className:"faccao-position",children:[N+1,""]}),d.jsx("h5",{className:"faccao-nome",children:D.faccaoNome})]}),d.jsxs("div",{className:"faccao-stats",children:[d.jsxs("div",{className:"faccao-stat",children:[d.jsx("span",{className:"stat-label",children:"Ordens Finalizadas"}),d.jsx("span",{className:"stat-value",children:D.ordensFinalizadas})]}),d.jsxs("div",{className:"faccao-stat",children:[d.jsx("span",{className:"stat-label",children:"Tempo Mdio"}),d.jsxs("span",{className:"stat-value",children:[D.tempoMedio.toFixed(1)," dias"]})]}),d.jsxs("div",{className:"faccao-stat",children:[d.jsx("span",{className:"stat-label",children:"Taxa de Defeitos"}),d.jsxs("span",{className:`stat-value ${D.taxaDefeitos>5?"high":"low"}`,children:[D.taxaDefeitos.toFixed(1),"%"]})]})]})]},N))})]}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon blue",children:d.jsx(Io,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Faces Ativas"}),d.jsx("span",{className:"metric-value",children:E.length})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon green",children:d.jsx(_i,{size:24})}),d.jsxs("div",{className:"metric-info",children:[d.jsx("span",{className:"metric-label",children:"Produtos Cadastrados"}),d.jsx("span",{className:"metric-value",children:g.length})]})]})]})]})]})]})},wU=()=>{const[t,e]=I.useState("dashboard"),n=i=>{e(i)},a=()=>{switch(t){case"dashboard":return d.jsx(fw,{});case"cadastros":return d.jsx(rU,{onTabChange:n});case"faccoes":return d.jsx(sU,{});case"etapas":return d.jsx(oU,{});case"produto":return d.jsx(hU,{});case"ordemProducoes":return d.jsx(vU,{});case"gestaoProducoes":return d.jsx(EU,{});case"financeiro":return d.jsx(bU,{});case"relatorios":return d.jsx(TU,{});default:return d.jsx(fw,{})}};return d.jsx(K9,{activeTab:t,onTabChange:n,children:d.jsx("div",{className:"dashboard-container",children:a()})})},xU=()=>{const t=cc(),[e,n]=I.useState(null),[a,i]=I.useState(!1),[l,u]=I.useState({email:""}),m=g=>{u(v=>({...v,[g.target.name]:g.target.value}))},p=async g=>{if(g.preventDefault(),!l.email){n("Por favor, preencha o email");return}try{i(!0),n(null),await Vl.resetPassword(l.email),alert("Email de recuperao enviado com sucesso")}catch(v){const E=oi(v);n(E)}finally{i(!1)}};return d.jsx("div",{className:"forgot-password-container",children:d.jsx("div",{className:"forgot-password-form-container",children:d.jsxs("div",{className:"forgot-password-form-card",children:[d.jsxs("div",{className:"forgot-password-header",children:[d.jsx("h2",{className:"forgot-password-title",children:"Recuperar Senha"}),d.jsx("p",{className:"forgot-password-subtitle",children:"Ola! Digite seu email para receber um link de recuperao de senha"})]}),d.jsxs("form",{className:"forgot-password-form",onSubmit:p,children:[e&&d.jsx("div",{className:"forgot-password-error",children:e}),d.jsxs("div",{className:"forgot-password-field",children:[d.jsx("label",{className:"forgot-password-label",htmlFor:"email",children:"Email"}),d.jsx("input",{className:"forgot-password-input",id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:m,placeholder:"Digite seu email"})]}),d.jsxs("div",{className:"forgot-password-buttons",children:[d.jsx("button",{className:"form-actions-button",type:"button",onClick:()=>t(sr.login),children:"Cancelar"}),d.jsx("button",{className:"form-actions-button",type:"submit",disabled:a,children:a?"Enviando...":"Enviar"})]})]}),d.jsx("div",{className:"forgot-password-footer",children:d.jsxs("span",{className:"forgot-password-footer-text",children:["Voltar para"," ",d.jsx(Ql,{className:"forgot-password-footer-link",to:sr.login,children:"Login"})]})})]})})})},SU=()=>d.jsx(TR,{children:d.jsxs(ZN,{children:[d.jsx(Dl,{path:sr.home,element:d.jsx(uw,{})}),d.jsx(Dl,{path:sr.login,element:d.jsx(uw,{})}),d.jsx(Dl,{path:sr.register,element:d.jsx($9,{})}),d.jsx(Dl,{path:sr.forgotPassword,element:d.jsx(xU,{})}),d.jsx(Dl,{path:sr.dashboard,element:d.jsx(R5,{children:d.jsx(wU,{})})})]})});function AU(){return d.jsxs(N5,{children:[d.jsx(SU,{}),d.jsx(K3,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:3500,style:{background:"rgba(255, 255, 255, 0.98)",color:"#1a202c",borderRadius:"16px",padding:"16px 24px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",backdropFilter:"blur(16px)",border:"1px solid rgba(0, 0, 0, 0.05)",fontSize:"15px",fontWeight:"500",maxWidth:"420px",display:"flex",alignItems:"center",gap:"12px"},success:{duration:3e3,style:{background:"linear-gradient(135deg, rgba(16, 185, 129, 0.95) 0%, rgba(5, 150, 105, 0.95) 100%)",color:"#fff",boxShadow:"0 20px 25px -5px rgba(16, 185, 129, 0.3), 0 10px 10px -5px rgba(16, 185, 129, 0.2)"},iconTheme:{primary:"#fff",secondary:"#10b981"}},error:{duration:4e3,style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.95) 0%, rgba(220, 38, 38, 0.95) 100%)",color:"#fff",boxShadow:"0 20px 25px -5px rgba(239, 68, 68, 0.3), 0 10px 10px -5px rgba(239, 68, 68, 0.2)"},iconTheme:{primary:"#fff",secondary:"#ef4444"}},loading:{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.95) 0%, rgba(37, 99, 235, 0.95) 100%)",color:"#fff",boxShadow:"0 20px 25px -5px rgba(59, 130, 246, 0.3), 0 10px 10px -5px rgba(59, 130, 246, 0.2)"},iconTheme:{primary:"#fff",secondary:"#3b82f6"}}}})]})}eN.createRoot(document.getElementById("root")).render(d.jsx(I.StrictMode,{children:d.jsx(AU,{})}));
